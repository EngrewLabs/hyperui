const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-Dx9pGlIQ.js","assets/webworkerAll-CfQVuwlC.js","assets/colorToUniform-Bv_NiYeI.js","assets/CanvasPool-BLfsfpIP.js","assets/WebGPURenderer-B9ujS4G1.js","assets/SharedSystems-RJSnXrdK.js","assets/WebGLRenderer-Bz3yU-cm.js"])))=>i.map(i=>d[i]);
function Bxe(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ko=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function cM(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var aA={exports:{}},qv={},lA={exports:{}},Ar={};var dq;function zxe(){if(dq)return Ar;dq=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function f(W){return W===null||typeof W!="object"?null:(W=h&&W[h]||W["@@iterator"],typeof W=="function"?W:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function w(W,j,Y){this.props=W,this.context=j,this.refs=v,this.updater=Y||p}w.prototype.isReactComponent={},w.prototype.setState=function(W,j){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,j,"setState")},w.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function b(){}b.prototype=w.prototype;function E(W,j,Y){this.props=W,this.context=j,this.refs=v,this.updater=Y||p}var _=E.prototype=new b;_.constructor=E,m(_,w.prototype),_.isPureReactComponent=!0;var A=Array.isArray,C=Object.prototype.hasOwnProperty,k={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function F(W,j,Y){var Q,z={},Z=null,ee=null;if(j!=null)for(Q in j.ref!==void 0&&(ee=j.ref),j.key!==void 0&&(Z=""+j.key),j)C.call(j,Q)&&!P.hasOwnProperty(Q)&&(z[Q]=j[Q]);var te=arguments.length-2;if(te===1)z.children=Y;else if(1<te){for(var se=Array(te),ce=0;ce<te;ce++)se[ce]=arguments[ce+2];z.children=se}if(W&&W.defaultProps)for(Q in te=W.defaultProps,te)z[Q]===void 0&&(z[Q]=te[Q]);return{$$typeof:t,type:W,key:Z,ref:ee,props:z,_owner:k.current}}function N(W,j){return{$$typeof:t,type:W.type,key:j,ref:W.ref,props:W.props,_owner:W._owner}}function $(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function U(W){var j={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Y){return j[Y]})}var O=/\/+/g;function D(W,j){return typeof W=="object"&&W!==null&&W.key!=null?U(""+W.key):j.toString(36)}function T(W,j,Y,Q,z){var Z=typeof W;(Z==="undefined"||Z==="boolean")&&(W=null);var ee=!1;if(W===null)ee=!0;else switch(Z){case"string":case"number":ee=!0;break;case"object":switch(W.$$typeof){case t:case e:ee=!0}}if(ee)return ee=W,z=z(ee),W=Q===""?"."+D(ee,0):Q,A(z)?(Y="",W!=null&&(Y=W.replace(O,"$&/")+"/"),T(z,j,Y,"",function(ce){return ce})):z!=null&&($(z)&&(z=N(z,Y+(!z.key||ee&&ee.key===z.key?"":(""+z.key).replace(O,"$&/")+"/")+W)),j.push(z)),1;if(ee=0,Q=Q===""?".":Q+":",A(W))for(var te=0;te<W.length;te++){Z=W[te];var se=Q+D(Z,te);ee+=T(Z,j,Y,se,z)}else if(se=f(W),typeof se=="function")for(W=se.call(W),te=0;!(Z=W.next()).done;)Z=Z.value,se=Q+D(Z,te++),ee+=T(Z,j,Y,se,z);else if(Z==="object")throw j=String(W),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return ee}function I(W,j,Y){if(W==null)return W;var Q=[],z=0;return T(W,Q,"","",function(Z){return j.call(Y,Z,z++)}),Q}function R(W){if(W._status===-1){var j=W._result;j=j(),j.then(function(Y){(W._status===0||W._status===-1)&&(W._status=1,W._result=Y)},function(Y){(W._status===0||W._status===-1)&&(W._status=2,W._result=Y)}),W._status===-1&&(W._status=0,W._result=j)}if(W._status===1)return W._result.default;throw W._result}var L={current:null},B={transition:null},q={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:B,ReactCurrentOwner:k};function G(){throw Error("act(...) is not supported in production builds of React.")}return Ar.Children={map:I,forEach:function(W,j,Y){I(W,function(){j.apply(this,arguments)},Y)},count:function(W){var j=0;return I(W,function(){j++}),j},toArray:function(W){return I(W,function(j){return j})||[]},only:function(W){if(!$(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Ar.Component=w,Ar.Fragment=r,Ar.Profiler=i,Ar.PureComponent=E,Ar.StrictMode=n,Ar.Suspense=l,Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,Ar.act=G,Ar.cloneElement=function(W,j,Y){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Q=m({},W.props),z=W.key,Z=W.ref,ee=W._owner;if(j!=null){if(j.ref!==void 0&&(Z=j.ref,ee=k.current),j.key!==void 0&&(z=""+j.key),W.type&&W.type.defaultProps)var te=W.type.defaultProps;for(se in j)C.call(j,se)&&!P.hasOwnProperty(se)&&(Q[se]=j[se]===void 0&&te!==void 0?te[se]:j[se])}var se=arguments.length-2;if(se===1)Q.children=Y;else if(1<se){te=Array(se);for(var ce=0;ce<se;ce++)te[ce]=arguments[ce+2];Q.children=te}return{$$typeof:t,type:W.type,key:z,ref:Z,props:Q,_owner:ee}},Ar.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:s,_context:W},W.Consumer=W},Ar.createElement=F,Ar.createFactory=function(W){var j=F.bind(null,W);return j.type=W,j},Ar.createRef=function(){return{current:null}},Ar.forwardRef=function(W){return{$$typeof:a,render:W}},Ar.isValidElement=$,Ar.lazy=function(W){return{$$typeof:u,_payload:{_status:-1,_result:W},_init:R}},Ar.memo=function(W,j){return{$$typeof:c,type:W,compare:j===void 0?null:j}},Ar.startTransition=function(W){var j=B.transition;B.transition={};try{W()}finally{B.transition=j}},Ar.unstable_act=G,Ar.useCallback=function(W,j){return L.current.useCallback(W,j)},Ar.useContext=function(W){return L.current.useContext(W)},Ar.useDebugValue=function(){},Ar.useDeferredValue=function(W){return L.current.useDeferredValue(W)},Ar.useEffect=function(W,j){return L.current.useEffect(W,j)},Ar.useId=function(){return L.current.useId()},Ar.useImperativeHandle=function(W,j,Y){return L.current.useImperativeHandle(W,j,Y)},Ar.useInsertionEffect=function(W,j){return L.current.useInsertionEffect(W,j)},Ar.useLayoutEffect=function(W,j){return L.current.useLayoutEffect(W,j)},Ar.useMemo=function(W,j){return L.current.useMemo(W,j)},Ar.useReducer=function(W,j,Y){return L.current.useReducer(W,j,Y)},Ar.useRef=function(W){return L.current.useRef(W)},Ar.useState=function(W){return L.current.useState(W)},Ar.useSyncExternalStore=function(W,j,Y){return L.current.useSyncExternalStore(W,j,Y)},Ar.useTransition=function(){return L.current.useTransition()},Ar.version="18.3.1",Ar}var hq;function b1(){return hq||(hq=1,lA.exports=zxe()),lA.exports}var fq;function qxe(){if(fq)return qv;fq=1;var t=b1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var u,h={},f=null,p=null;c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(p=l.ref);for(u in l)n.call(l,u)&&!s.hasOwnProperty(u)&&(h[u]=l[u]);if(a&&a.defaultProps)for(u in l=a.defaultProps,l)h[u]===void 0&&(h[u]=l[u]);return{$$typeof:e,type:a,key:f,ref:p,props:h,_owner:i.current}}return qv.Fragment=r,qv.jsx=o,qv.jsxs=o,qv}var pq;function Wxe(){return pq||(pq=1,aA.exports=qxe()),aA.exports}var d=Wxe(),x=b1();const ht=Mi(x),G$=Bxe({__proto__:null,default:ht},[x]);var q5={},cA={exports:{}},Ko={},uA={exports:{}},dA={};var gq;function Hxe(){return gq||(gq=1,(function(t){function e(B,q){var G=B.length;B.push(q);e:for(;0<G;){var W=G-1>>>1,j=B[W];if(0<i(j,q))B[W]=q,B[G]=j,G=W;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var q=B[0],G=B.pop();if(G!==q){B[0]=G;e:for(var W=0,j=B.length,Y=j>>>1;W<Y;){var Q=2*(W+1)-1,z=B[Q],Z=Q+1,ee=B[Z];if(0>i(z,G))Z<j&&0>i(ee,z)?(B[W]=ee,B[Z]=G,W=Z):(B[W]=z,B[Q]=G,W=Q);else if(Z<j&&0>i(ee,G))B[W]=ee,B[Z]=G,W=Z;else break e}}return q}function i(B,q){var G=B.sortIndex-q.sortIndex;return G!==0?G:B.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,m=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(B){for(var q=r(c);q!==null;){if(q.callback===null)n(c);else if(q.startTime<=B)n(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=r(c)}}function A(B){if(v=!1,_(B),!m)if(r(l)!==null)m=!0,R(C);else{var q=r(c);q!==null&&L(A,q.startTime-B)}}function C(B,q){m=!1,v&&(v=!1,b(F),F=-1),p=!0;var G=f;try{for(_(q),h=r(l);h!==null&&(!(h.expirationTime>q)||B&&!U());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var j=W(h.expirationTime<=q);q=t.unstable_now(),typeof j=="function"?h.callback=j:h===r(l)&&n(l),_(q)}else n(l);h=r(l)}if(h!==null)var Y=!0;else{var Q=r(c);Q!==null&&L(A,Q.startTime-q),Y=!1}return Y}finally{h=null,f=G,p=!1}}var k=!1,P=null,F=-1,N=5,$=-1;function U(){return!(t.unstable_now()-$<N)}function O(){if(P!==null){var B=t.unstable_now();$=B;var q=!0;try{q=P(!0,B)}finally{q?D():(k=!1,P=null)}}else k=!1}var D;if(typeof E=="function")D=function(){E(O)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,I=T.port2;T.port1.onmessage=O,D=function(){I.postMessage(null)}}else D=function(){w(O,0)};function R(B){P=B,k||(k=!0,D())}function L(B,q){F=w(function(){B(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(C))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var G=f;f=q;try{return B()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var G=f;f=B;try{return q()}finally{f=G}},t.unstable_scheduleCallback=function(B,q,G){var W=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?W+G:W):G=W,B){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=G+j,B={id:u++,callback:q,priorityLevel:B,startTime:G,expirationTime:j,sortIndex:-1},G>W?(B.sortIndex=G,e(c,B),r(l)===null&&B===r(c)&&(v?(b(F),F=-1):v=!0,L(A,G-W))):(B.sortIndex=j,e(l,B),m||p||(m=!0,R(C))),B},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(B){var q=f;return function(){var G=f;f=q;try{return B.apply(this,arguments)}finally{f=G}}}})(dA)),dA}var mq;function Vxe(){return mq||(mq=1,uA.exports=Hxe()),uA.exports}var yq;function Gxe(){if(yq)return Ko;yq=1;var t=b1(),e=Vxe();function r(g){for(var y="https://reactjs.org/docs/error-decoder.html?invariant="+g,S=1;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(g,y){o(g,y),o(g+"Capture",y)}function o(g,y){for(i[g]=y,g=0;g<y.length;g++)n.add(y[g])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},h={};function f(g){return l.call(h,g)?!0:l.call(u,g)?!1:c.test(g)?h[g]=!0:(u[g]=!0,!1)}function p(g,y,S,M){if(S!==null&&S.type===0)return!1;switch(typeof y){case"function":case"symbol":return!0;case"boolean":return M?!1:S!==null?!S.acceptsBooleans:(g=g.toLowerCase().slice(0,5),g!=="data-"&&g!=="aria-");default:return!1}}function m(g,y,S,M){if(y===null||typeof y>"u"||p(g,y,S,M))return!0;if(M)return!1;if(S!==null)switch(S.type){case 3:return!y;case 4:return y===!1;case 5:return isNaN(y);case 6:return isNaN(y)||1>y}return!1}function v(g,y,S,M,K,J,re){this.acceptsBooleans=y===2||y===3||y===4,this.attributeName=M,this.attributeNamespace=K,this.mustUseProperty=S,this.propertyName=g,this.type=y,this.sanitizeURL=J,this.removeEmptyString=re}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(g){w[g]=new v(g,0,!1,g,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(g){var y=g[0];w[y]=new v(y,1,!1,g[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(g){w[g]=new v(g,2,!1,g.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(g){w[g]=new v(g,2,!1,g,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(g){w[g]=new v(g,3,!1,g.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(g){w[g]=new v(g,3,!0,g,null,!1,!1)}),["capture","download"].forEach(function(g){w[g]=new v(g,4,!1,g,null,!1,!1)}),["cols","rows","size","span"].forEach(function(g){w[g]=new v(g,6,!1,g,null,!1,!1)}),["rowSpan","start"].forEach(function(g){w[g]=new v(g,5,!1,g.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function E(g){return g[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(g){var y=g.replace(b,E);w[y]=new v(y,1,!1,g,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(g){var y=g.replace(b,E);w[y]=new v(y,1,!1,g,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(g){var y=g.replace(b,E);w[y]=new v(y,1,!1,g,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(g){w[g]=new v(g,1,!1,g.toLowerCase(),null,!1,!1)}),w.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(g){w[g]=new v(g,1,!1,g.toLowerCase(),null,!0,!0)});function _(g,y,S,M){var K=w.hasOwnProperty(y)?w[y]:null;(K!==null?K.type!==0:M||!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(m(y,S,K,M)&&(S=null),M||K===null?f(y)&&(S===null?g.removeAttribute(y):g.setAttribute(y,""+S)):K.mustUseProperty?g[K.propertyName]=S===null?K.type===3?!1:"":S:(y=K.attributeName,M=K.attributeNamespace,S===null?g.removeAttribute(y):(K=K.type,S=K===3||K===4&&S===!0?"":""+S,M?g.setAttributeNS(M,y,S):g.setAttribute(y,S))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),k=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),U=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),L=Symbol.for("react.offscreen"),B=Symbol.iterator;function q(g){return g===null||typeof g!="object"?null:(g=B&&g[B]||g["@@iterator"],typeof g=="function"?g:null)}var G=Object.assign,W;function j(g){if(W===void 0)try{throw Error()}catch(S){var y=S.stack.trim().match(/\n( *(at )?)/);W=y&&y[1]||""}return`
`+W+g}var Y=!1;function Q(g,y){if(!g||Y)return"";Y=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(y)if(y=function(){throw Error()},Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(Be){var M=Be}Reflect.construct(g,[],y)}else{try{y.call()}catch(Be){M=Be}g.call(y.prototype)}else{try{throw Error()}catch(Be){M=Be}g()}}catch(Be){if(Be&&M&&typeof Be.stack=="string"){for(var K=Be.stack.split(`
`),J=M.stack.split(`
`),re=K.length-1,pe=J.length-1;1<=re&&0<=pe&&K[re]!==J[pe];)pe--;for(;1<=re&&0<=pe;re--,pe--)if(K[re]!==J[pe]){if(re!==1||pe!==1)do if(re--,pe--,0>pe||K[re]!==J[pe]){var Ce=`
`+K[re].replace(" at new "," at ");return g.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",g.displayName)),Ce}while(1<=re&&0<=pe);break}}}finally{Y=!1,Error.prepareStackTrace=S}return(g=g?g.displayName||g.name:"")?j(g):""}function z(g){switch(g.tag){case 5:return j(g.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return g=Q(g.type,!1),g;case 11:return g=Q(g.type.render,!1),g;case 1:return g=Q(g.type,!0),g;default:return""}}function Z(g){if(g==null)return null;if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case P:return"Fragment";case k:return"Portal";case N:return"Profiler";case F:return"StrictMode";case D:return"Suspense";case T:return"SuspenseList"}if(typeof g=="object")switch(g.$$typeof){case U:return(g.displayName||"Context")+".Consumer";case $:return(g._context.displayName||"Context")+".Provider";case O:var y=g.render;return g=g.displayName,g||(g=y.displayName||y.name||"",g=g!==""?"ForwardRef("+g+")":"ForwardRef"),g;case I:return y=g.displayName||null,y!==null?y:Z(g.type)||"Memo";case R:y=g._payload,g=g._init;try{return Z(g(y))}catch{}}return null}function ee(g){var y=g.type;switch(g.tag){case 24:return"Cache";case 9:return(y.displayName||"Context")+".Consumer";case 10:return(y._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return g=y.render,g=g.displayName||g.name||"",y.displayName||(g!==""?"ForwardRef("+g+")":"ForwardRef");case 7:return"Fragment";case 5:return y;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(y);case 8:return y===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y}return null}function te(g){switch(typeof g){case"boolean":case"number":case"string":case"undefined":return g;case"object":return g;default:return""}}function se(g){var y=g.type;return(g=g.nodeName)&&g.toLowerCase()==="input"&&(y==="checkbox"||y==="radio")}function ce(g){var y=se(g)?"checked":"value",S=Object.getOwnPropertyDescriptor(g.constructor.prototype,y),M=""+g[y];if(!g.hasOwnProperty(y)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var K=S.get,J=S.set;return Object.defineProperty(g,y,{configurable:!0,get:function(){return K.call(this)},set:function(re){M=""+re,J.call(this,re)}}),Object.defineProperty(g,y,{enumerable:S.enumerable}),{getValue:function(){return M},setValue:function(re){M=""+re},stopTracking:function(){g._valueTracker=null,delete g[y]}}}}function ge(g){g._valueTracker||(g._valueTracker=ce(g))}function ae(g){if(!g)return!1;var y=g._valueTracker;if(!y)return!0;var S=y.getValue(),M="";return g&&(M=se(g)?g.checked?"true":"false":g.value),g=M,g!==S?(y.setValue(g),!0):!1}function _e(g){if(g=g||(typeof document<"u"?document:void 0),typeof g>"u")return null;try{return g.activeElement||g.body}catch{return g.body}}function Ee(g,y){var S=y.checked;return G({},y,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:S??g._wrapperState.initialChecked})}function Ie(g,y){var S=y.defaultValue==null?"":y.defaultValue,M=y.checked!=null?y.checked:y.defaultChecked;S=te(y.value!=null?y.value:S),g._wrapperState={initialChecked:M,initialValue:S,controlled:y.type==="checkbox"||y.type==="radio"?y.checked!=null:y.value!=null}}function qe(g,y){y=y.checked,y!=null&&_(g,"checked",y,!1)}function me(g,y){qe(g,y);var S=te(y.value),M=y.type;if(S!=null)M==="number"?(S===0&&g.value===""||g.value!=S)&&(g.value=""+S):g.value!==""+S&&(g.value=""+S);else if(M==="submit"||M==="reset"){g.removeAttribute("value");return}y.hasOwnProperty("value")?rt(g,y.type,S):y.hasOwnProperty("defaultValue")&&rt(g,y.type,te(y.defaultValue)),y.checked==null&&y.defaultChecked!=null&&(g.defaultChecked=!!y.defaultChecked)}function ze(g,y,S){if(y.hasOwnProperty("value")||y.hasOwnProperty("defaultValue")){var M=y.type;if(!(M!=="submit"&&M!=="reset"||y.value!==void 0&&y.value!==null))return;y=""+g._wrapperState.initialValue,S||y===g.value||(g.value=y),g.defaultValue=y}S=g.name,S!==""&&(g.name=""),g.defaultChecked=!!g._wrapperState.initialChecked,S!==""&&(g.name=S)}function rt(g,y,S){(y!=="number"||_e(g.ownerDocument)!==g)&&(S==null?g.defaultValue=""+g._wrapperState.initialValue:g.defaultValue!==""+S&&(g.defaultValue=""+S))}var Ae=Array.isArray;function Fe(g,y,S,M){if(g=g.options,y){y={};for(var K=0;K<S.length;K++)y["$"+S[K]]=!0;for(S=0;S<g.length;S++)K=y.hasOwnProperty("$"+g[S].value),g[S].selected!==K&&(g[S].selected=K),K&&M&&(g[S].defaultSelected=!0)}else{for(S=""+te(S),y=null,K=0;K<g.length;K++){if(g[K].value===S){g[K].selected=!0,M&&(g[K].defaultSelected=!0);return}y!==null||g[K].disabled||(y=g[K])}y!==null&&(y.selected=!0)}}function nt(g,y){if(y.dangerouslySetInnerHTML!=null)throw Error(r(91));return G({},y,{value:void 0,defaultValue:void 0,children:""+g._wrapperState.initialValue})}function _t(g,y){var S=y.value;if(S==null){if(S=y.children,y=y.defaultValue,S!=null){if(y!=null)throw Error(r(92));if(Ae(S)){if(1<S.length)throw Error(r(93));S=S[0]}y=S}y==null&&(y=""),S=y}g._wrapperState={initialValue:te(S)}}function Ye(g,y){var S=te(y.value),M=te(y.defaultValue);S!=null&&(S=""+S,S!==g.value&&(g.value=S),y.defaultValue==null&&g.defaultValue!==S&&(g.defaultValue=S)),M!=null&&(g.defaultValue=""+M)}function wt(g){var y=g.textContent;y===g._wrapperState.initialValue&&y!==""&&y!==null&&(g.value=y)}function xt(g){switch(g){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Le(g,y){return g==null||g==="http://www.w3.org/1999/xhtml"?xt(y):g==="http://www.w3.org/2000/svg"&&y==="foreignObject"?"http://www.w3.org/1999/xhtml":g}var Ke,Qe=(function(g){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(y,S,M,K){MSApp.execUnsafeLocalFunction(function(){return g(y,S,M,K)})}:g})(function(g,y){if(g.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in g)g.innerHTML=y;else{for(Ke=Ke||document.createElement("div"),Ke.innerHTML="<svg>"+y.valueOf().toString()+"</svg>",y=Ke.firstChild;g.firstChild;)g.removeChild(g.firstChild);for(;y.firstChild;)g.appendChild(y.firstChild)}});function it(g,y){if(y){var S=g.firstChild;if(S&&S===g.lastChild&&S.nodeType===3){S.nodeValue=y;return}}g.textContent=y}var st={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];Object.keys(st).forEach(function(g){pt.forEach(function(y){y=y+g.charAt(0).toUpperCase()+g.substring(1),st[y]=st[g]})});function Ze(g,y,S){return y==null||typeof y=="boolean"||y===""?"":S||typeof y!="number"||y===0||st.hasOwnProperty(g)&&st[g]?(""+y).trim():y+"px"}function Mt(g,y){g=g.style;for(var S in y)if(y.hasOwnProperty(S)){var M=S.indexOf("--")===0,K=Ze(S,y[S],M);S==="float"&&(S="cssFloat"),M?g.setProperty(S,K):g[S]=K}}var yt=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ue(g,y){if(y){if(yt[g]&&(y.children!=null||y.dangerouslySetInnerHTML!=null))throw Error(r(137,g));if(y.dangerouslySetInnerHTML!=null){if(y.children!=null)throw Error(r(60));if(typeof y.dangerouslySetInnerHTML!="object"||!("__html"in y.dangerouslySetInnerHTML))throw Error(r(61))}if(y.style!=null&&typeof y.style!="object")throw Error(r(62))}}function we(g,y){if(g.indexOf("-")===-1)return typeof y.is=="string";switch(g){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Re=null;function Ne(g){return g=g.target||g.srcElement||window,g.correspondingUseElement&&(g=g.correspondingUseElement),g.nodeType===3?g.parentNode:g}var Ve=null,Se=null,Me=null;function Je(g){if(g=Tv(g)){if(typeof Ve!="function")throw Error(r(280));var y=g.stateNode;y&&(y=i5(y),Ve(g.stateNode,g.type,y))}}function Ue(g){Se?Me?Me.push(g):Me=[g]:Se=g}function vt(){if(Se){var g=Se,y=Me;if(Me=Se=null,Je(g),y)for(g=0;g<y.length;g++)Je(y[g])}}function tr(g,y){return g(y)}function $t(){}var X=!1;function ne(g,y,S){if(X)return g(y,S);X=!0;try{return tr(g,y,S)}finally{X=!1,(Se!==null||Me!==null)&&($t(),vt())}}function oe(g,y){var S=g.stateNode;if(S===null)return null;var M=i5(S);if(M===null)return null;S=M[y];e:switch(y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(g=g.type,M=!(g==="button"||g==="input"||g==="select"||g==="textarea")),g=!M;break e;default:g=!1}if(g)return null;if(S&&typeof S!="function")throw Error(r(231,y,typeof S));return S}var le=!1;if(a)try{var ve={};Object.defineProperty(ve,"passive",{get:function(){le=!0}}),window.addEventListener("test",ve,ve),window.removeEventListener("test",ve,ve)}catch{le=!1}function be(g,y,S,M,K,J,re,pe,Ce){var Be=Array.prototype.slice.call(arguments,3);try{y.apply(S,Be)}catch(lt){this.onError(lt)}}var Pe=!1,Xe=null,gt=!1,Pt=null,er={onError:function(g){Pe=!0,Xe=g}};function Nt(g,y,S,M,K,J,re,pe,Ce){Pe=!1,Xe=null,be.apply(er,arguments)}function Et(g,y,S,M,K,J,re,pe,Ce){if(Nt.apply(this,arguments),Pe){if(Pe){var Be=Xe;Pe=!1,Xe=null}else throw Error(r(198));gt||(gt=!0,Pt=Be)}}function Ct(g){var y=g,S=g;if(g.alternate)for(;y.return;)y=y.return;else{g=y;do y=g,(y.flags&4098)!==0&&(S=y.return),g=y.return;while(g)}return y.tag===3?S:null}function Vt(g){if(g.tag===13){var y=g.memoizedState;if(y===null&&(g=g.alternate,g!==null&&(y=g.memoizedState)),y!==null)return y.dehydrated}return null}function Lt(g){if(Ct(g)!==g)throw Error(r(188))}function _r(g){var y=g.alternate;if(!y){if(y=Ct(g),y===null)throw Error(r(188));return y!==g?null:g}for(var S=g,M=y;;){var K=S.return;if(K===null)break;var J=K.alternate;if(J===null){if(M=K.return,M!==null){S=M;continue}break}if(K.child===J.child){for(J=K.child;J;){if(J===S)return Lt(K),g;if(J===M)return Lt(K),y;J=J.sibling}throw Error(r(188))}if(S.return!==M.return)S=K,M=J;else{for(var re=!1,pe=K.child;pe;){if(pe===S){re=!0,S=K,M=J;break}if(pe===M){re=!0,M=K,S=J;break}pe=pe.sibling}if(!re){for(pe=J.child;pe;){if(pe===S){re=!0,S=J,M=K;break}if(pe===M){re=!0,M=J,S=K;break}pe=pe.sibling}if(!re)throw Error(r(189))}}if(S.alternate!==M)throw Error(r(190))}if(S.tag!==3)throw Error(r(188));return S.stateNode.current===S?g:y}function gr(g){return g=_r(g),g!==null?Nr(g):null}function Nr(g){if(g.tag===5||g.tag===6)return g;for(g=g.child;g!==null;){var y=Nr(g);if(y!==null)return y;g=g.sibling}return null}var vr=e.unstable_scheduleCallback,qr=e.unstable_cancelCallback,ci=e.unstable_shouldYield,cl=e.unstable_requestPaint,nn=e.unstable_now,Cr=e.unstable_getCurrentPriorityLevel,Kr=e.unstable_ImmediatePriority,hr=e.unstable_UserBlockingPriority,sn=e.unstable_NormalPriority,vs=e.unstable_LowPriority,zo=e.unstable_IdlePriority,ws=null,es=null;function bd(g){if(es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(ws,g,void 0,(g.current.flags&128)===128)}catch{}}var bs=Math.clz32?Math.clz32:$k,Cp=Math.log,Pk=Math.LN2;function $k(g){return g>>>=0,g===0?32:31-(Cp(g)/Pk|0)|0}var Dg=64,Fg=4194304;function Ep(g){switch(g&-g){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return g&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return g}}function Lg(g,y){var S=g.pendingLanes;if(S===0)return 0;var M=0,K=g.suspendedLanes,J=g.pingedLanes,re=S&268435455;if(re!==0){var pe=re&~K;pe!==0?M=Ep(pe):(J&=re,J!==0&&(M=Ep(J)))}else re=S&~K,re!==0?M=Ep(re):J!==0&&(M=Ep(J));if(M===0)return 0;if(y!==0&&y!==M&&(y&K)===0&&(K=M&-M,J=y&-y,K>=J||K===16&&(J&4194240)!==0))return y;if((M&4)!==0&&(M|=S&16),y=g.entangledLanes,y!==0)for(g=g.entanglements,y&=M;0<y;)S=31-bs(y),K=1<<S,M|=g[S],y&=~K;return M}function Nk(g,y){switch(g){case 1:case 2:case 4:return y+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rk(g,y){for(var S=g.suspendedLanes,M=g.pingedLanes,K=g.expirationTimes,J=g.pendingLanes;0<J;){var re=31-bs(J),pe=1<<re,Ce=K[re];Ce===-1?((pe&S)===0||(pe&M)!==0)&&(K[re]=Nk(pe,y)):Ce<=y&&(g.expiredLanes|=pe),J&=~pe}}function uv(g){return g=g.pendingLanes&-1073741825,g!==0?g:g&1073741824?1073741824:0}function F3(){var g=Dg;return Dg<<=1,(Dg&4194240)===0&&(Dg=64),g}function dv(g){for(var y=[],S=0;31>S;S++)y.push(g);return y}function kp(g,y,S){g.pendingLanes|=y,y!==536870912&&(g.suspendedLanes=0,g.pingedLanes=0),g=g.eventTimes,y=31-bs(y),g[y]=S}function Ok(g,y){var S=g.pendingLanes&~y;g.pendingLanes=y,g.suspendedLanes=0,g.pingedLanes=0,g.expiredLanes&=y,g.mutableReadLanes&=y,g.entangledLanes&=y,y=g.entanglements;var M=g.eventTimes;for(g=g.expirationTimes;0<S;){var K=31-bs(S),J=1<<K;y[K]=0,M[K]=-1,g[K]=-1,S&=~J}}function hv(g,y){var S=g.entangledLanes|=y;for(g=g.entanglements;S;){var M=31-bs(S),K=1<<M;K&y|g[M]&y&&(g[M]|=y),S&=~K}}var tn=0;function L3(g){return g&=-g,1<g?4<g?(g&268435455)!==0?16:536870912:4:1}var U3,fv,B3,z3,q3,pv=!1,Ug=[],yu=null,vu=null,wu=null,Sp=new Map,Ap=new Map,bu=[],jk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function W3(g,y){switch(g){case"focusin":case"focusout":yu=null;break;case"dragenter":case"dragleave":vu=null;break;case"mouseover":case"mouseout":wu=null;break;case"pointerover":case"pointerout":Sp.delete(y.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ap.delete(y.pointerId)}}function Tp(g,y,S,M,K,J){return g===null||g.nativeEvent!==J?(g={blockedOn:y,domEventName:S,eventSystemFlags:M,nativeEvent:J,targetContainers:[K]},y!==null&&(y=Tv(y),y!==null&&fv(y)),g):(g.eventSystemFlags|=M,y=g.targetContainers,K!==null&&y.indexOf(K)===-1&&y.push(K),g)}function H3(g,y,S,M,K){switch(y){case"focusin":return yu=Tp(yu,g,y,S,M,K),!0;case"dragenter":return vu=Tp(vu,g,y,S,M,K),!0;case"mouseover":return wu=Tp(wu,g,y,S,M,K),!0;case"pointerover":var J=K.pointerId;return Sp.set(J,Tp(Sp.get(J)||null,g,y,S,M,K)),!0;case"gotpointercapture":return J=K.pointerId,Ap.set(J,Tp(Ap.get(J)||null,g,y,S,M,K)),!0}return!1}function V3(g){var y=Ip(g.target);if(y!==null){var S=Ct(y);if(S!==null){if(y=S.tag,y===13){if(y=Vt(S),y!==null){g.blockedOn=y,q3(g.priority,function(){B3(S)});return}}else if(y===3&&S.stateNode.current.memoizedState.isDehydrated){g.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}g.blockedOn=null}function Te(g){if(g.blockedOn!==null)return!1;for(var y=g.targetContainers;0<y.length;){var S=qg(g.domEventName,g.eventSystemFlags,y[0],g.nativeEvent);if(S===null){S=g.nativeEvent;var M=new S.constructor(S.type,S);Re=M,S.target.dispatchEvent(M),Re=null}else return y=Tv(S),y!==null&&fv(y),g.blockedOn=S,!1;y.shift()}return!0}function he(g,y,S){Te(g)&&S.delete(y)}function xe(){pv=!1,yu!==null&&Te(yu)&&(yu=null),vu!==null&&Te(vu)&&(vu=null),wu!==null&&Te(wu)&&(wu=null),Sp.forEach(he),Ap.forEach(he)}function We(g,y){g.blockedOn===y&&(g.blockedOn=null,pv||(pv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xe)))}function ot(g){function y(K){return We(K,g)}if(0<Ug.length){We(Ug[0],g);for(var S=1;S<Ug.length;S++){var M=Ug[S];M.blockedOn===g&&(M.blockedOn=null)}}for(yu!==null&&We(yu,g),vu!==null&&We(vu,g),wu!==null&&We(wu,g),Sp.forEach(y),Ap.forEach(y),S=0;S<bu.length;S++)M=bu[S],M.blockedOn===g&&(M.blockedOn=null);for(;0<bu.length&&(S=bu[0],S.blockedOn===null);)V3(S),S.blockedOn===null&&bu.shift()}var fr=A.ReactCurrentBatchConfig,$n=!0;function Vs(g,y,S,M){var K=tn,J=fr.transition;fr.transition=null;try{tn=1,gv(g,y,S,M)}finally{tn=K,fr.transition=J}}function Bg(g,y,S,M){var K=tn,J=fr.transition;fr.transition=null;try{tn=4,gv(g,y,S,M)}finally{tn=K,fr.transition=J}}function gv(g,y,S,M){if($n){var K=qg(g,y,S,M);if(K===null)Xk(g,y,M,zg,S),W3(g,M);else if(H3(K,g,y,S,M))M.stopPropagation();else if(W3(g,M),y&4&&-1<jk.indexOf(g)){for(;K!==null;){var J=Tv(K);if(J!==null&&U3(J),J=qg(g,y,S,M),J===null&&Xk(g,y,M,zg,S),J===K)break;K=J}K!==null&&M.stopPropagation()}else Xk(g,y,M,null,S)}}var zg=null;function qg(g,y,S,M){if(zg=null,g=Ne(M),g=Ip(g),g!==null)if(y=Ct(g),y===null)g=null;else if(S=y.tag,S===13){if(g=Vt(y),g!==null)return g;g=null}else if(S===3){if(y.stateNode.current.memoizedState.isDehydrated)return y.tag===3?y.stateNode.containerInfo:null;g=null}else y!==g&&(g=null);return zg=g,null}function mv(g){switch(g){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cr()){case Kr:return 1;case hr:return 4;case sn:case vs:return 16;case zo:return 536870912;default:return 16}default:return 16}}var gc=null,Wg=null,G3=null;function QU(){if(G3)return G3;var g,y=Wg,S=y.length,M,K="value"in gc?gc.value:gc.textContent,J=K.length;for(g=0;g<S&&y[g]===K[g];g++);var re=S-g;for(M=1;M<=re&&y[S-M]===K[J-M];M++);return G3=K.slice(g,1<M?1-M:void 0)}function K3(g){var y=g.keyCode;return"charCode"in g?(g=g.charCode,g===0&&y===13&&(g=13)):g=y,g===10&&(g=13),32<=g||g===13?g:0}function Y3(){return!0}function ZU(){return!1}function ka(g){function y(S,M,K,J,re){this._reactName=S,this._targetInst=K,this.type=M,this.nativeEvent=J,this.target=re,this.currentTarget=null;for(var pe in g)g.hasOwnProperty(pe)&&(S=g[pe],this[pe]=S?S(J):J[pe]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?Y3:ZU,this.isPropagationStopped=ZU,this}return G(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=Y3)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=Y3)},persist:function(){},isPersistent:Y3}),y}var Hg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(g){return g.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mk=ka(Hg),yv=G({},Hg,{view:0,detail:0}),p2e=ka(yv),Dk,Fk,vv,J3=G({},yv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uk,button:0,buttons:0,relatedTarget:function(g){return g.relatedTarget===void 0?g.fromElement===g.srcElement?g.toElement:g.fromElement:g.relatedTarget},movementX:function(g){return"movementX"in g?g.movementX:(g!==vv&&(vv&&g.type==="mousemove"?(Dk=g.screenX-vv.screenX,Fk=g.screenY-vv.screenY):Fk=Dk=0,vv=g),Dk)},movementY:function(g){return"movementY"in g?g.movementY:Fk}}),eB=ka(J3),g2e=G({},J3,{dataTransfer:0}),m2e=ka(g2e),y2e=G({},yv,{relatedTarget:0}),Lk=ka(y2e),v2e=G({},Hg,{animationName:0,elapsedTime:0,pseudoElement:0}),w2e=ka(v2e),b2e=G({},Hg,{clipboardData:function(g){return"clipboardData"in g?g.clipboardData:window.clipboardData}}),x2e=ka(b2e),_2e=G({},Hg,{data:0}),tB=ka(_2e),C2e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E2e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k2e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S2e(g){var y=this.nativeEvent;return y.getModifierState?y.getModifierState(g):(g=k2e[g])?!!y[g]:!1}function Uk(){return S2e}var A2e=G({},yv,{key:function(g){if(g.key){var y=C2e[g.key]||g.key;if(y!=="Unidentified")return y}return g.type==="keypress"?(g=K3(g),g===13?"Enter":String.fromCharCode(g)):g.type==="keydown"||g.type==="keyup"?E2e[g.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uk,charCode:function(g){return g.type==="keypress"?K3(g):0},keyCode:function(g){return g.type==="keydown"||g.type==="keyup"?g.keyCode:0},which:function(g){return g.type==="keypress"?K3(g):g.type==="keydown"||g.type==="keyup"?g.keyCode:0}}),T2e=ka(A2e),I2e=G({},J3,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rB=ka(I2e),P2e=G({},yv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uk}),$2e=ka(P2e),N2e=G({},Hg,{propertyName:0,elapsedTime:0,pseudoElement:0}),R2e=ka(N2e),O2e=G({},J3,{deltaX:function(g){return"deltaX"in g?g.deltaX:"wheelDeltaX"in g?-g.wheelDeltaX:0},deltaY:function(g){return"deltaY"in g?g.deltaY:"wheelDeltaY"in g?-g.wheelDeltaY:"wheelDelta"in g?-g.wheelDelta:0},deltaZ:0,deltaMode:0}),j2e=ka(O2e),M2e=[9,13,27,32],Bk=a&&"CompositionEvent"in window,wv=null;a&&"documentMode"in document&&(wv=document.documentMode);var D2e=a&&"TextEvent"in window&&!wv,nB=a&&(!Bk||wv&&8<wv&&11>=wv),iB=" ",sB=!1;function oB(g,y){switch(g){case"keyup":return M2e.indexOf(y.keyCode)!==-1;case"keydown":return y.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aB(g){return g=g.detail,typeof g=="object"&&"data"in g?g.data:null}var Vg=!1;function F2e(g,y){switch(g){case"compositionend":return aB(y);case"keypress":return y.which!==32?null:(sB=!0,iB);case"textInput":return g=y.data,g===iB&&sB?null:g;default:return null}}function L2e(g,y){if(Vg)return g==="compositionend"||!Bk&&oB(g,y)?(g=QU(),G3=Wg=gc=null,Vg=!1,g):null;switch(g){case"paste":return null;case"keypress":if(!(y.ctrlKey||y.altKey||y.metaKey)||y.ctrlKey&&y.altKey){if(y.char&&1<y.char.length)return y.char;if(y.which)return String.fromCharCode(y.which)}return null;case"compositionend":return nB&&y.locale!=="ko"?null:y.data;default:return null}}var U2e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lB(g){var y=g&&g.nodeName&&g.nodeName.toLowerCase();return y==="input"?!!U2e[g.type]:y==="textarea"}function cB(g,y,S,M){Ue(M),y=t5(y,"onChange"),0<y.length&&(S=new Mk("onChange","change",null,S,M),g.push({event:S,listeners:y}))}var bv=null,xv=null;function B2e(g){AB(g,0)}function X3(g){var y=Xg(g);if(ae(y))return g}function z2e(g,y){if(g==="change")return y}var uB=!1;if(a){var zk;if(a){var qk="oninput"in document;if(!qk){var dB=document.createElement("div");dB.setAttribute("oninput","return;"),qk=typeof dB.oninput=="function"}zk=qk}else zk=!1;uB=zk&&(!document.documentMode||9<document.documentMode)}function hB(){bv&&(bv.detachEvent("onpropertychange",fB),xv=bv=null)}function fB(g){if(g.propertyName==="value"&&X3(xv)){var y=[];cB(y,xv,g,Ne(g)),ne(B2e,y)}}function q2e(g,y,S){g==="focusin"?(hB(),bv=y,xv=S,bv.attachEvent("onpropertychange",fB)):g==="focusout"&&hB()}function W2e(g){if(g==="selectionchange"||g==="keyup"||g==="keydown")return X3(xv)}function H2e(g,y){if(g==="click")return X3(y)}function V2e(g,y){if(g==="input"||g==="change")return X3(y)}function G2e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var mc=typeof Object.is=="function"?Object.is:G2e;function _v(g,y){if(mc(g,y))return!0;if(typeof g!="object"||g===null||typeof y!="object"||y===null)return!1;var S=Object.keys(g),M=Object.keys(y);if(S.length!==M.length)return!1;for(M=0;M<S.length;M++){var K=S[M];if(!l.call(y,K)||!mc(g[K],y[K]))return!1}return!0}function pB(g){for(;g&&g.firstChild;)g=g.firstChild;return g}function gB(g,y){var S=pB(g);g=0;for(var M;S;){if(S.nodeType===3){if(M=g+S.textContent.length,g<=y&&M>=y)return{node:S,offset:y-g};g=M}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=pB(S)}}function mB(g,y){return g&&y?g===y?!0:g&&g.nodeType===3?!1:y&&y.nodeType===3?mB(g,y.parentNode):"contains"in g?g.contains(y):g.compareDocumentPosition?!!(g.compareDocumentPosition(y)&16):!1:!1}function yB(){for(var g=window,y=_e();y instanceof g.HTMLIFrameElement;){try{var S=typeof y.contentWindow.location.href=="string"}catch{S=!1}if(S)g=y.contentWindow;else break;y=_e(g.document)}return y}function Wk(g){var y=g&&g.nodeName&&g.nodeName.toLowerCase();return y&&(y==="input"&&(g.type==="text"||g.type==="search"||g.type==="tel"||g.type==="url"||g.type==="password")||y==="textarea"||g.contentEditable==="true")}function K2e(g){var y=yB(),S=g.focusedElem,M=g.selectionRange;if(y!==S&&S&&S.ownerDocument&&mB(S.ownerDocument.documentElement,S)){if(M!==null&&Wk(S)){if(y=M.start,g=M.end,g===void 0&&(g=y),"selectionStart"in S)S.selectionStart=y,S.selectionEnd=Math.min(g,S.value.length);else if(g=(y=S.ownerDocument||document)&&y.defaultView||window,g.getSelection){g=g.getSelection();var K=S.textContent.length,J=Math.min(M.start,K);M=M.end===void 0?J:Math.min(M.end,K),!g.extend&&J>M&&(K=M,M=J,J=K),K=gB(S,J);var re=gB(S,M);K&&re&&(g.rangeCount!==1||g.anchorNode!==K.node||g.anchorOffset!==K.offset||g.focusNode!==re.node||g.focusOffset!==re.offset)&&(y=y.createRange(),y.setStart(K.node,K.offset),g.removeAllRanges(),J>M?(g.addRange(y),g.extend(re.node,re.offset)):(y.setEnd(re.node,re.offset),g.addRange(y)))}}for(y=[],g=S;g=g.parentNode;)g.nodeType===1&&y.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<y.length;S++)g=y[S],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var Y2e=a&&"documentMode"in document&&11>=document.documentMode,Gg=null,Hk=null,Cv=null,Vk=!1;function vB(g,y,S){var M=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;Vk||Gg==null||Gg!==_e(M)||(M=Gg,"selectionStart"in M&&Wk(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),Cv&&_v(Cv,M)||(Cv=M,M=t5(Hk,"onSelect"),0<M.length&&(y=new Mk("onSelect","select",null,y,S),g.push({event:y,listeners:M}),y.target=Gg)))}function Q3(g,y){var S={};return S[g.toLowerCase()]=y.toLowerCase(),S["Webkit"+g]="webkit"+y,S["Moz"+g]="moz"+y,S}var Kg={animationend:Q3("Animation","AnimationEnd"),animationiteration:Q3("Animation","AnimationIteration"),animationstart:Q3("Animation","AnimationStart"),transitionend:Q3("Transition","TransitionEnd")},Gk={},wB={};a&&(wB=document.createElement("div").style,"AnimationEvent"in window||(delete Kg.animationend.animation,delete Kg.animationiteration.animation,delete Kg.animationstart.animation),"TransitionEvent"in window||delete Kg.transitionend.transition);function Z3(g){if(Gk[g])return Gk[g];if(!Kg[g])return g;var y=Kg[g],S;for(S in y)if(y.hasOwnProperty(S)&&S in wB)return Gk[g]=y[S];return g}var bB=Z3("animationend"),xB=Z3("animationiteration"),_B=Z3("animationstart"),CB=Z3("transitionend"),EB=new Map,kB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bh(g,y){EB.set(g,y),s(y,[g])}for(var Kk=0;Kk<kB.length;Kk++){var Yk=kB[Kk],J2e=Yk.toLowerCase(),X2e=Yk[0].toUpperCase()+Yk.slice(1);Bh(J2e,"on"+X2e)}Bh(bB,"onAnimationEnd"),Bh(xB,"onAnimationIteration"),Bh(_B,"onAnimationStart"),Bh("dblclick","onDoubleClick"),Bh("focusin","onFocus"),Bh("focusout","onBlur"),Bh(CB,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ev="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q2e=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ev));function SB(g,y,S){var M=g.type||"unknown-event";g.currentTarget=S,Et(M,y,void 0,g),g.currentTarget=null}function AB(g,y){y=(y&4)!==0;for(var S=0;S<g.length;S++){var M=g[S],K=M.event;M=M.listeners;e:{var J=void 0;if(y)for(var re=M.length-1;0<=re;re--){var pe=M[re],Ce=pe.instance,Be=pe.currentTarget;if(pe=pe.listener,Ce!==J&&K.isPropagationStopped())break e;SB(K,pe,Be),J=Ce}else for(re=0;re<M.length;re++){if(pe=M[re],Ce=pe.instance,Be=pe.currentTarget,pe=pe.listener,Ce!==J&&K.isPropagationStopped())break e;SB(K,pe,Be),J=Ce}}}if(gt)throw g=Pt,gt=!1,Pt=null,g}function Nn(g,y){var S=y[nS];S===void 0&&(S=y[nS]=new Set);var M=g+"__bubble";S.has(M)||(TB(y,g,2,!1),S.add(M))}function Jk(g,y,S){var M=0;y&&(M|=4),TB(S,g,M,y)}var e5="_reactListening"+Math.random().toString(36).slice(2);function kv(g){if(!g[e5]){g[e5]=!0,n.forEach(function(S){S!=="selectionchange"&&(Q2e.has(S)||Jk(S,!1,g),Jk(S,!0,g))});var y=g.nodeType===9?g:g.ownerDocument;y===null||y[e5]||(y[e5]=!0,Jk("selectionchange",!1,y))}}function TB(g,y,S,M){switch(mv(y)){case 1:var K=Vs;break;case 4:K=Bg;break;default:K=gv}S=K.bind(null,y,S,g),K=void 0,!le||y!=="touchstart"&&y!=="touchmove"&&y!=="wheel"||(K=!0),M?K!==void 0?g.addEventListener(y,S,{capture:!0,passive:K}):g.addEventListener(y,S,!0):K!==void 0?g.addEventListener(y,S,{passive:K}):g.addEventListener(y,S,!1)}function Xk(g,y,S,M,K){var J=M;if((y&1)===0&&(y&2)===0&&M!==null)e:for(;;){if(M===null)return;var re=M.tag;if(re===3||re===4){var pe=M.stateNode.containerInfo;if(pe===K||pe.nodeType===8&&pe.parentNode===K)break;if(re===4)for(re=M.return;re!==null;){var Ce=re.tag;if((Ce===3||Ce===4)&&(Ce=re.stateNode.containerInfo,Ce===K||Ce.nodeType===8&&Ce.parentNode===K))return;re=re.return}for(;pe!==null;){if(re=Ip(pe),re===null)return;if(Ce=re.tag,Ce===5||Ce===6){M=J=re;continue e}pe=pe.parentNode}}M=M.return}ne(function(){var Be=J,lt=Ne(S),dt=[];e:{var at=EB.get(g);if(at!==void 0){var Dt=Mk,Gt=g;switch(g){case"keypress":if(K3(S)===0)break e;case"keydown":case"keyup":Dt=T2e;break;case"focusin":Gt="focus",Dt=Lk;break;case"focusout":Gt="blur",Dt=Lk;break;case"beforeblur":case"afterblur":Dt=Lk;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Dt=eB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Dt=m2e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Dt=$2e;break;case bB:case xB:case _B:Dt=w2e;break;case CB:Dt=R2e;break;case"scroll":Dt=p2e;break;case"wheel":Dt=j2e;break;case"copy":case"cut":case"paste":Dt=x2e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Dt=rB}var Yt=(y&4)!==0,ui=!Yt&&g==="scroll",$e=Yt?at!==null?at+"Capture":null:at;Yt=[];for(var ke=Be,Oe;ke!==null;){Oe=ke;var mt=Oe.stateNode;if(Oe.tag===5&&mt!==null&&(Oe=mt,$e!==null&&(mt=oe(ke,$e),mt!=null&&Yt.push(Sv(ke,mt,Oe)))),ui)break;ke=ke.return}0<Yt.length&&(at=new Dt(at,Gt,null,S,lt),dt.push({event:at,listeners:Yt}))}}if((y&7)===0){e:{if(at=g==="mouseover"||g==="pointerover",Dt=g==="mouseout"||g==="pointerout",at&&S!==Re&&(Gt=S.relatedTarget||S.fromElement)&&(Ip(Gt)||Gt[xd]))break e;if((Dt||at)&&(at=lt.window===lt?lt:(at=lt.ownerDocument)?at.defaultView||at.parentWindow:window,Dt?(Gt=S.relatedTarget||S.toElement,Dt=Be,Gt=Gt?Ip(Gt):null,Gt!==null&&(ui=Ct(Gt),Gt!==ui||Gt.tag!==5&&Gt.tag!==6)&&(Gt=null)):(Dt=null,Gt=Be),Dt!==Gt)){if(Yt=eB,mt="onMouseLeave",$e="onMouseEnter",ke="mouse",(g==="pointerout"||g==="pointerover")&&(Yt=rB,mt="onPointerLeave",$e="onPointerEnter",ke="pointer"),ui=Dt==null?at:Xg(Dt),Oe=Gt==null?at:Xg(Gt),at=new Yt(mt,ke+"leave",Dt,S,lt),at.target=ui,at.relatedTarget=Oe,mt=null,Ip(lt)===Be&&(Yt=new Yt($e,ke+"enter",Gt,S,lt),Yt.target=Oe,Yt.relatedTarget=ui,mt=Yt),ui=mt,Dt&&Gt)t:{for(Yt=Dt,$e=Gt,ke=0,Oe=Yt;Oe;Oe=Yg(Oe))ke++;for(Oe=0,mt=$e;mt;mt=Yg(mt))Oe++;for(;0<ke-Oe;)Yt=Yg(Yt),ke--;for(;0<Oe-ke;)$e=Yg($e),Oe--;for(;ke--;){if(Yt===$e||$e!==null&&Yt===$e.alternate)break t;Yt=Yg(Yt),$e=Yg($e)}Yt=null}else Yt=null;Dt!==null&&IB(dt,at,Dt,Yt,!1),Gt!==null&&ui!==null&&IB(dt,ui,Gt,Yt,!0)}}e:{if(at=Be?Xg(Be):window,Dt=at.nodeName&&at.nodeName.toLowerCase(),Dt==="select"||Dt==="input"&&at.type==="file")var Xt=z2e;else if(lB(at))if(uB)Xt=V2e;else{Xt=W2e;var nr=q2e}else(Dt=at.nodeName)&&Dt.toLowerCase()==="input"&&(at.type==="checkbox"||at.type==="radio")&&(Xt=H2e);if(Xt&&(Xt=Xt(g,Be))){cB(dt,Xt,S,lt);break e}nr&&nr(g,at,Be),g==="focusout"&&(nr=at._wrapperState)&&nr.controlled&&at.type==="number"&&rt(at,"number",at.value)}switch(nr=Be?Xg(Be):window,g){case"focusin":(lB(nr)||nr.contentEditable==="true")&&(Gg=nr,Hk=Be,Cv=null);break;case"focusout":Cv=Hk=Gg=null;break;case"mousedown":Vk=!0;break;case"contextmenu":case"mouseup":case"dragend":Vk=!1,vB(dt,S,lt);break;case"selectionchange":if(Y2e)break;case"keydown":case"keyup":vB(dt,S,lt)}var ir;if(Bk)e:{switch(g){case"compositionstart":var ur="onCompositionStart";break e;case"compositionend":ur="onCompositionEnd";break e;case"compositionupdate":ur="onCompositionUpdate";break e}ur=void 0}else Vg?oB(g,S)&&(ur="onCompositionEnd"):g==="keydown"&&S.keyCode===229&&(ur="onCompositionStart");ur&&(nB&&S.locale!=="ko"&&(Vg||ur!=="onCompositionStart"?ur==="onCompositionEnd"&&Vg&&(ir=QU()):(gc=lt,Wg="value"in gc?gc.value:gc.textContent,Vg=!0)),nr=t5(Be,ur),0<nr.length&&(ur=new tB(ur,g,null,S,lt),dt.push({event:ur,listeners:nr}),ir?ur.data=ir:(ir=aB(S),ir!==null&&(ur.data=ir)))),(ir=D2e?F2e(g,S):L2e(g,S))&&(Be=t5(Be,"onBeforeInput"),0<Be.length&&(lt=new tB("onBeforeInput","beforeinput",null,S,lt),dt.push({event:lt,listeners:Be}),lt.data=ir))}AB(dt,y)})}function Sv(g,y,S){return{instance:g,listener:y,currentTarget:S}}function t5(g,y){for(var S=y+"Capture",M=[];g!==null;){var K=g,J=K.stateNode;K.tag===5&&J!==null&&(K=J,J=oe(g,S),J!=null&&M.unshift(Sv(g,J,K)),J=oe(g,y),J!=null&&M.push(Sv(g,J,K))),g=g.return}return M}function Yg(g){if(g===null)return null;do g=g.return;while(g&&g.tag!==5);return g||null}function IB(g,y,S,M,K){for(var J=y._reactName,re=[];S!==null&&S!==M;){var pe=S,Ce=pe.alternate,Be=pe.stateNode;if(Ce!==null&&Ce===M)break;pe.tag===5&&Be!==null&&(pe=Be,K?(Ce=oe(S,J),Ce!=null&&re.unshift(Sv(S,Ce,pe))):K||(Ce=oe(S,J),Ce!=null&&re.push(Sv(S,Ce,pe)))),S=S.return}re.length!==0&&g.push({event:y,listeners:re})}var Z2e=/\r\n?/g,exe=/\u0000|\uFFFD/g;function PB(g){return(typeof g=="string"?g:""+g).replace(Z2e,`
`).replace(exe,"")}function r5(g,y,S){if(y=PB(y),PB(g)!==y&&S)throw Error(r(425))}function n5(){}var Qk=null,Zk=null;function eS(g,y){return g==="textarea"||g==="noscript"||typeof y.children=="string"||typeof y.children=="number"||typeof y.dangerouslySetInnerHTML=="object"&&y.dangerouslySetInnerHTML!==null&&y.dangerouslySetInnerHTML.__html!=null}var tS=typeof setTimeout=="function"?setTimeout:void 0,txe=typeof clearTimeout=="function"?clearTimeout:void 0,$B=typeof Promise=="function"?Promise:void 0,rxe=typeof queueMicrotask=="function"?queueMicrotask:typeof $B<"u"?function(g){return $B.resolve(null).then(g).catch(nxe)}:tS;function nxe(g){setTimeout(function(){throw g})}function rS(g,y){var S=y,M=0;do{var K=S.nextSibling;if(g.removeChild(S),K&&K.nodeType===8)if(S=K.data,S==="/$"){if(M===0){g.removeChild(K),ot(y);return}M--}else S!=="$"&&S!=="$?"&&S!=="$!"||M++;S=K}while(S);ot(y)}function zh(g){for(;g!=null;g=g.nextSibling){var y=g.nodeType;if(y===1||y===3)break;if(y===8){if(y=g.data,y==="$"||y==="$!"||y==="$?")break;if(y==="/$")return null}}return g}function NB(g){g=g.previousSibling;for(var y=0;g;){if(g.nodeType===8){var S=g.data;if(S==="$"||S==="$!"||S==="$?"){if(y===0)return g;y--}else S==="/$"&&y++}g=g.previousSibling}return null}var Jg=Math.random().toString(36).slice(2),xu="__reactFiber$"+Jg,Av="__reactProps$"+Jg,xd="__reactContainer$"+Jg,nS="__reactEvents$"+Jg,ixe="__reactListeners$"+Jg,sxe="__reactHandles$"+Jg;function Ip(g){var y=g[xu];if(y)return y;for(var S=g.parentNode;S;){if(y=S[xd]||S[xu]){if(S=y.alternate,y.child!==null||S!==null&&S.child!==null)for(g=NB(g);g!==null;){if(S=g[xu])return S;g=NB(g)}return y}g=S,S=g.parentNode}return null}function Tv(g){return g=g[xu]||g[xd],!g||g.tag!==5&&g.tag!==6&&g.tag!==13&&g.tag!==3?null:g}function Xg(g){if(g.tag===5||g.tag===6)return g.stateNode;throw Error(r(33))}function i5(g){return g[Av]||null}var iS=[],Qg=-1;function qh(g){return{current:g}}function Rn(g){0>Qg||(g.current=iS[Qg],iS[Qg]=null,Qg--)}function An(g,y){Qg++,iS[Qg]=g.current,g.current=y}var Wh={},Gs=qh(Wh),qo=qh(!1),Pp=Wh;function Zg(g,y){var S=g.type.contextTypes;if(!S)return Wh;var M=g.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===y)return M.__reactInternalMemoizedMaskedChildContext;var K={},J;for(J in S)K[J]=y[J];return M&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=y,g.__reactInternalMemoizedMaskedChildContext=K),K}function Wo(g){return g=g.childContextTypes,g!=null}function s5(){Rn(qo),Rn(Gs)}function RB(g,y,S){if(Gs.current!==Wh)throw Error(r(168));An(Gs,y),An(qo,S)}function OB(g,y,S){var M=g.stateNode;if(y=y.childContextTypes,typeof M.getChildContext!="function")return S;M=M.getChildContext();for(var K in M)if(!(K in y))throw Error(r(108,ee(g)||"Unknown",K));return G({},S,M)}function o5(g){return g=(g=g.stateNode)&&g.__reactInternalMemoizedMergedChildContext||Wh,Pp=Gs.current,An(Gs,g),An(qo,qo.current),!0}function jB(g,y,S){var M=g.stateNode;if(!M)throw Error(r(169));S?(g=OB(g,y,Pp),M.__reactInternalMemoizedMergedChildContext=g,Rn(qo),Rn(Gs),An(Gs,g)):Rn(qo),An(qo,S)}var _d=null,a5=!1,sS=!1;function MB(g){_d===null?_d=[g]:_d.push(g)}function oxe(g){a5=!0,MB(g)}function Hh(){if(!sS&&_d!==null){sS=!0;var g=0,y=tn;try{var S=_d;for(tn=1;g<S.length;g++){var M=S[g];do M=M(!0);while(M!==null)}_d=null,a5=!1}catch(K){throw _d!==null&&(_d=_d.slice(g+1)),vr(Kr,Hh),K}finally{tn=y,sS=!1}}return null}var em=[],tm=0,l5=null,c5=0,ul=[],dl=0,$p=null,Cd=1,Ed="";function Np(g,y){em[tm++]=c5,em[tm++]=l5,l5=g,c5=y}function DB(g,y,S){ul[dl++]=Cd,ul[dl++]=Ed,ul[dl++]=$p,$p=g;var M=Cd;g=Ed;var K=32-bs(M)-1;M&=~(1<<K),S+=1;var J=32-bs(y)+K;if(30<J){var re=K-K%5;J=(M&(1<<re)-1).toString(32),M>>=re,K-=re,Cd=1<<32-bs(y)+K|S<<K|M,Ed=J+g}else Cd=1<<J|S<<K|M,Ed=g}function oS(g){g.return!==null&&(Np(g,1),DB(g,1,0))}function aS(g){for(;g===l5;)l5=em[--tm],em[tm]=null,c5=em[--tm],em[tm]=null;for(;g===$p;)$p=ul[--dl],ul[dl]=null,Ed=ul[--dl],ul[dl]=null,Cd=ul[--dl],ul[dl]=null}var Sa=null,Aa=null,qn=!1,yc=null;function FB(g,y){var S=gl(5,null,null,0);S.elementType="DELETED",S.stateNode=y,S.return=g,y=g.deletions,y===null?(g.deletions=[S],g.flags|=16):y.push(S)}function LB(g,y){switch(g.tag){case 5:var S=g.type;return y=y.nodeType!==1||S.toLowerCase()!==y.nodeName.toLowerCase()?null:y,y!==null?(g.stateNode=y,Sa=g,Aa=zh(y.firstChild),!0):!1;case 6:return y=g.pendingProps===""||y.nodeType!==3?null:y,y!==null?(g.stateNode=y,Sa=g,Aa=null,!0):!1;case 13:return y=y.nodeType!==8?null:y,y!==null?(S=$p!==null?{id:Cd,overflow:Ed}:null,g.memoizedState={dehydrated:y,treeContext:S,retryLane:1073741824},S=gl(18,null,null,0),S.stateNode=y,S.return=g,g.child=S,Sa=g,Aa=null,!0):!1;default:return!1}}function lS(g){return(g.mode&1)!==0&&(g.flags&128)===0}function cS(g){if(qn){var y=Aa;if(y){var S=y;if(!LB(g,y)){if(lS(g))throw Error(r(418));y=zh(S.nextSibling);var M=Sa;y&&LB(g,y)?FB(M,S):(g.flags=g.flags&-4097|2,qn=!1,Sa=g)}}else{if(lS(g))throw Error(r(418));g.flags=g.flags&-4097|2,qn=!1,Sa=g}}}function UB(g){for(g=g.return;g!==null&&g.tag!==5&&g.tag!==3&&g.tag!==13;)g=g.return;Sa=g}function u5(g){if(g!==Sa)return!1;if(!qn)return UB(g),qn=!0,!1;var y;if((y=g.tag!==3)&&!(y=g.tag!==5)&&(y=g.type,y=y!=="head"&&y!=="body"&&!eS(g.type,g.memoizedProps)),y&&(y=Aa)){if(lS(g))throw BB(),Error(r(418));for(;y;)FB(g,y),y=zh(y.nextSibling)}if(UB(g),g.tag===13){if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));e:{for(g=g.nextSibling,y=0;g;){if(g.nodeType===8){var S=g.data;if(S==="/$"){if(y===0){Aa=zh(g.nextSibling);break e}y--}else S!=="$"&&S!=="$!"&&S!=="$?"||y++}g=g.nextSibling}Aa=null}}else Aa=Sa?zh(g.stateNode.nextSibling):null;return!0}function BB(){for(var g=Aa;g;)g=zh(g.nextSibling)}function rm(){Aa=Sa=null,qn=!1}function uS(g){yc===null?yc=[g]:yc.push(g)}var axe=A.ReactCurrentBatchConfig;function Iv(g,y,S){if(g=S.ref,g!==null&&typeof g!="function"&&typeof g!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(r(309));var M=S.stateNode}if(!M)throw Error(r(147,g));var K=M,J=""+g;return y!==null&&y.ref!==null&&typeof y.ref=="function"&&y.ref._stringRef===J?y.ref:(y=function(re){var pe=K.refs;re===null?delete pe[J]:pe[J]=re},y._stringRef=J,y)}if(typeof g!="string")throw Error(r(284));if(!S._owner)throw Error(r(290,g))}return g}function d5(g,y){throw g=Object.prototype.toString.call(y),Error(r(31,g==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":g))}function zB(g){var y=g._init;return y(g._payload)}function qB(g){function y($e,ke){if(g){var Oe=$e.deletions;Oe===null?($e.deletions=[ke],$e.flags|=16):Oe.push(ke)}}function S($e,ke){if(!g)return null;for(;ke!==null;)y($e,ke),ke=ke.sibling;return null}function M($e,ke){for($e=new Map;ke!==null;)ke.key!==null?$e.set(ke.key,ke):$e.set(ke.index,ke),ke=ke.sibling;return $e}function K($e,ke){return $e=Zh($e,ke),$e.index=0,$e.sibling=null,$e}function J($e,ke,Oe){return $e.index=Oe,g?(Oe=$e.alternate,Oe!==null?(Oe=Oe.index,Oe<ke?($e.flags|=2,ke):Oe):($e.flags|=2,ke)):($e.flags|=1048576,ke)}function re($e){return g&&$e.alternate===null&&($e.flags|=2),$e}function pe($e,ke,Oe,mt){return ke===null||ke.tag!==6?(ke=tA(Oe,$e.mode,mt),ke.return=$e,ke):(ke=K(ke,Oe),ke.return=$e,ke)}function Ce($e,ke,Oe,mt){var Xt=Oe.type;return Xt===P?lt($e,ke,Oe.props.children,mt,Oe.key):ke!==null&&(ke.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===R&&zB(Xt)===ke.type)?(mt=K(ke,Oe.props),mt.ref=Iv($e,ke,Oe),mt.return=$e,mt):(mt=j5(Oe.type,Oe.key,Oe.props,null,$e.mode,mt),mt.ref=Iv($e,ke,Oe),mt.return=$e,mt)}function Be($e,ke,Oe,mt){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==Oe.containerInfo||ke.stateNode.implementation!==Oe.implementation?(ke=rA(Oe,$e.mode,mt),ke.return=$e,ke):(ke=K(ke,Oe.children||[]),ke.return=$e,ke)}function lt($e,ke,Oe,mt,Xt){return ke===null||ke.tag!==7?(ke=Up(Oe,$e.mode,mt,Xt),ke.return=$e,ke):(ke=K(ke,Oe),ke.return=$e,ke)}function dt($e,ke,Oe){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ke=tA(""+ke,$e.mode,Oe),ke.return=$e,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case C:return Oe=j5(ke.type,ke.key,ke.props,null,$e.mode,Oe),Oe.ref=Iv($e,null,ke),Oe.return=$e,Oe;case k:return ke=rA(ke,$e.mode,Oe),ke.return=$e,ke;case R:var mt=ke._init;return dt($e,mt(ke._payload),Oe)}if(Ae(ke)||q(ke))return ke=Up(ke,$e.mode,Oe,null),ke.return=$e,ke;d5($e,ke)}return null}function at($e,ke,Oe,mt){var Xt=ke!==null?ke.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Xt!==null?null:pe($e,ke,""+Oe,mt);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case C:return Oe.key===Xt?Ce($e,ke,Oe,mt):null;case k:return Oe.key===Xt?Be($e,ke,Oe,mt):null;case R:return Xt=Oe._init,at($e,ke,Xt(Oe._payload),mt)}if(Ae(Oe)||q(Oe))return Xt!==null?null:lt($e,ke,Oe,mt,null);d5($e,Oe)}return null}function Dt($e,ke,Oe,mt,Xt){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return $e=$e.get(Oe)||null,pe(ke,$e,""+mt,Xt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case C:return $e=$e.get(mt.key===null?Oe:mt.key)||null,Ce(ke,$e,mt,Xt);case k:return $e=$e.get(mt.key===null?Oe:mt.key)||null,Be(ke,$e,mt,Xt);case R:var nr=mt._init;return Dt($e,ke,Oe,nr(mt._payload),Xt)}if(Ae(mt)||q(mt))return $e=$e.get(Oe)||null,lt(ke,$e,mt,Xt,null);d5(ke,mt)}return null}function Gt($e,ke,Oe,mt){for(var Xt=null,nr=null,ir=ke,ur=ke=0,ns=null;ir!==null&&ur<Oe.length;ur++){ir.index>ur?(ns=ir,ir=null):ns=ir.sibling;var Yr=at($e,ir,Oe[ur],mt);if(Yr===null){ir===null&&(ir=ns);break}g&&ir&&Yr.alternate===null&&y($e,ir),ke=J(Yr,ke,ur),nr===null?Xt=Yr:nr.sibling=Yr,nr=Yr,ir=ns}if(ur===Oe.length)return S($e,ir),qn&&Np($e,ur),Xt;if(ir===null){for(;ur<Oe.length;ur++)ir=dt($e,Oe[ur],mt),ir!==null&&(ke=J(ir,ke,ur),nr===null?Xt=ir:nr.sibling=ir,nr=ir);return qn&&Np($e,ur),Xt}for(ir=M($e,ir);ur<Oe.length;ur++)ns=Dt(ir,$e,ur,Oe[ur],mt),ns!==null&&(g&&ns.alternate!==null&&ir.delete(ns.key===null?ur:ns.key),ke=J(ns,ke,ur),nr===null?Xt=ns:nr.sibling=ns,nr=ns);return g&&ir.forEach(function(ef){return y($e,ef)}),qn&&Np($e,ur),Xt}function Yt($e,ke,Oe,mt){var Xt=q(Oe);if(typeof Xt!="function")throw Error(r(150));if(Oe=Xt.call(Oe),Oe==null)throw Error(r(151));for(var nr=Xt=null,ir=ke,ur=ke=0,ns=null,Yr=Oe.next();ir!==null&&!Yr.done;ur++,Yr=Oe.next()){ir.index>ur?(ns=ir,ir=null):ns=ir.sibling;var ef=at($e,ir,Yr.value,mt);if(ef===null){ir===null&&(ir=ns);break}g&&ir&&ef.alternate===null&&y($e,ir),ke=J(ef,ke,ur),nr===null?Xt=ef:nr.sibling=ef,nr=ef,ir=ns}if(Yr.done)return S($e,ir),qn&&Np($e,ur),Xt;if(ir===null){for(;!Yr.done;ur++,Yr=Oe.next())Yr=dt($e,Yr.value,mt),Yr!==null&&(ke=J(Yr,ke,ur),nr===null?Xt=Yr:nr.sibling=Yr,nr=Yr);return qn&&Np($e,ur),Xt}for(ir=M($e,ir);!Yr.done;ur++,Yr=Oe.next())Yr=Dt(ir,$e,ur,Yr.value,mt),Yr!==null&&(g&&Yr.alternate!==null&&ir.delete(Yr.key===null?ur:Yr.key),ke=J(Yr,ke,ur),nr===null?Xt=Yr:nr.sibling=Yr,nr=Yr);return g&&ir.forEach(function(Uxe){return y($e,Uxe)}),qn&&Np($e,ur),Xt}function ui($e,ke,Oe,mt){if(typeof Oe=="object"&&Oe!==null&&Oe.type===P&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case C:e:{for(var Xt=Oe.key,nr=ke;nr!==null;){if(nr.key===Xt){if(Xt=Oe.type,Xt===P){if(nr.tag===7){S($e,nr.sibling),ke=K(nr,Oe.props.children),ke.return=$e,$e=ke;break e}}else if(nr.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===R&&zB(Xt)===nr.type){S($e,nr.sibling),ke=K(nr,Oe.props),ke.ref=Iv($e,nr,Oe),ke.return=$e,$e=ke;break e}S($e,nr);break}else y($e,nr);nr=nr.sibling}Oe.type===P?(ke=Up(Oe.props.children,$e.mode,mt,Oe.key),ke.return=$e,$e=ke):(mt=j5(Oe.type,Oe.key,Oe.props,null,$e.mode,mt),mt.ref=Iv($e,ke,Oe),mt.return=$e,$e=mt)}return re($e);case k:e:{for(nr=Oe.key;ke!==null;){if(ke.key===nr)if(ke.tag===4&&ke.stateNode.containerInfo===Oe.containerInfo&&ke.stateNode.implementation===Oe.implementation){S($e,ke.sibling),ke=K(ke,Oe.children||[]),ke.return=$e,$e=ke;break e}else{S($e,ke);break}else y($e,ke);ke=ke.sibling}ke=rA(Oe,$e.mode,mt),ke.return=$e,$e=ke}return re($e);case R:return nr=Oe._init,ui($e,ke,nr(Oe._payload),mt)}if(Ae(Oe))return Gt($e,ke,Oe,mt);if(q(Oe))return Yt($e,ke,Oe,mt);d5($e,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"?(Oe=""+Oe,ke!==null&&ke.tag===6?(S($e,ke.sibling),ke=K(ke,Oe),ke.return=$e,$e=ke):(S($e,ke),ke=tA(Oe,$e.mode,mt),ke.return=$e,$e=ke),re($e)):S($e,ke)}return ui}var nm=qB(!0),WB=qB(!1),h5=qh(null),f5=null,im=null,dS=null;function hS(){dS=im=f5=null}function fS(g){var y=h5.current;Rn(h5),g._currentValue=y}function pS(g,y,S){for(;g!==null;){var M=g.alternate;if((g.childLanes&y)!==y?(g.childLanes|=y,M!==null&&(M.childLanes|=y)):M!==null&&(M.childLanes&y)!==y&&(M.childLanes|=y),g===S)break;g=g.return}}function sm(g,y){f5=g,dS=im=null,g=g.dependencies,g!==null&&g.firstContext!==null&&((g.lanes&y)!==0&&(Ho=!0),g.firstContext=null)}function hl(g){var y=g._currentValue;if(dS!==g)if(g={context:g,memoizedValue:y,next:null},im===null){if(f5===null)throw Error(r(308));im=g,f5.dependencies={lanes:0,firstContext:g}}else im=im.next=g;return y}var Rp=null;function gS(g){Rp===null?Rp=[g]:Rp.push(g)}function HB(g,y,S,M){var K=y.interleaved;return K===null?(S.next=S,gS(y)):(S.next=K.next,K.next=S),y.interleaved=S,kd(g,M)}function kd(g,y){g.lanes|=y;var S=g.alternate;for(S!==null&&(S.lanes|=y),S=g,g=g.return;g!==null;)g.childLanes|=y,S=g.alternate,S!==null&&(S.childLanes|=y),S=g,g=g.return;return S.tag===3?S.stateNode:null}var Vh=!1;function mS(g){g.updateQueue={baseState:g.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VB(g,y){g=g.updateQueue,y.updateQueue===g&&(y.updateQueue={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,effects:g.effects})}function Sd(g,y){return{eventTime:g,lane:y,tag:0,payload:null,callback:null,next:null}}function Gh(g,y,S){var M=g.updateQueue;if(M===null)return null;if(M=M.shared,(Wr&2)!==0){var K=M.pending;return K===null?y.next=y:(y.next=K.next,K.next=y),M.pending=y,kd(g,S)}return K=M.interleaved,K===null?(y.next=y,gS(M)):(y.next=K.next,K.next=y),M.interleaved=y,kd(g,S)}function p5(g,y,S){if(y=y.updateQueue,y!==null&&(y=y.shared,(S&4194240)!==0)){var M=y.lanes;M&=g.pendingLanes,S|=M,y.lanes=S,hv(g,S)}}function GB(g,y){var S=g.updateQueue,M=g.alternate;if(M!==null&&(M=M.updateQueue,S===M)){var K=null,J=null;if(S=S.firstBaseUpdate,S!==null){do{var re={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};J===null?K=J=re:J=J.next=re,S=S.next}while(S!==null);J===null?K=J=y:J=J.next=y}else K=J=y;S={baseState:M.baseState,firstBaseUpdate:K,lastBaseUpdate:J,shared:M.shared,effects:M.effects},g.updateQueue=S;return}g=S.lastBaseUpdate,g===null?S.firstBaseUpdate=y:g.next=y,S.lastBaseUpdate=y}function g5(g,y,S,M){var K=g.updateQueue;Vh=!1;var J=K.firstBaseUpdate,re=K.lastBaseUpdate,pe=K.shared.pending;if(pe!==null){K.shared.pending=null;var Ce=pe,Be=Ce.next;Ce.next=null,re===null?J=Be:re.next=Be,re=Ce;var lt=g.alternate;lt!==null&&(lt=lt.updateQueue,pe=lt.lastBaseUpdate,pe!==re&&(pe===null?lt.firstBaseUpdate=Be:pe.next=Be,lt.lastBaseUpdate=Ce))}if(J!==null){var dt=K.baseState;re=0,lt=Be=Ce=null,pe=J;do{var at=pe.lane,Dt=pe.eventTime;if((M&at)===at){lt!==null&&(lt=lt.next={eventTime:Dt,lane:0,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null});e:{var Gt=g,Yt=pe;switch(at=y,Dt=S,Yt.tag){case 1:if(Gt=Yt.payload,typeof Gt=="function"){dt=Gt.call(Dt,dt,at);break e}dt=Gt;break e;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=Yt.payload,at=typeof Gt=="function"?Gt.call(Dt,dt,at):Gt,at==null)break e;dt=G({},dt,at);break e;case 2:Vh=!0}}pe.callback!==null&&pe.lane!==0&&(g.flags|=64,at=K.effects,at===null?K.effects=[pe]:at.push(pe))}else Dt={eventTime:Dt,lane:at,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},lt===null?(Be=lt=Dt,Ce=dt):lt=lt.next=Dt,re|=at;if(pe=pe.next,pe===null){if(pe=K.shared.pending,pe===null)break;at=pe,pe=at.next,at.next=null,K.lastBaseUpdate=at,K.shared.pending=null}}while(!0);if(lt===null&&(Ce=dt),K.baseState=Ce,K.firstBaseUpdate=Be,K.lastBaseUpdate=lt,y=K.shared.interleaved,y!==null){K=y;do re|=K.lane,K=K.next;while(K!==y)}else J===null&&(K.shared.lanes=0);Mp|=re,g.lanes=re,g.memoizedState=dt}}function KB(g,y,S){if(g=y.effects,y.effects=null,g!==null)for(y=0;y<g.length;y++){var M=g[y],K=M.callback;if(K!==null){if(M.callback=null,M=S,typeof K!="function")throw Error(r(191,K));K.call(M)}}}var Pv={},_u=qh(Pv),$v=qh(Pv),Nv=qh(Pv);function Op(g){if(g===Pv)throw Error(r(174));return g}function yS(g,y){switch(An(Nv,y),An($v,g),An(_u,Pv),g=y.nodeType,g){case 9:case 11:y=(y=y.documentElement)?y.namespaceURI:Le(null,"");break;default:g=g===8?y.parentNode:y,y=g.namespaceURI||null,g=g.tagName,y=Le(y,g)}Rn(_u),An(_u,y)}function om(){Rn(_u),Rn($v),Rn(Nv)}function YB(g){Op(Nv.current);var y=Op(_u.current),S=Le(y,g.type);y!==S&&(An($v,g),An(_u,S))}function vS(g){$v.current===g&&(Rn(_u),Rn($v))}var Kn=qh(0);function m5(g){for(var y=g;y!==null;){if(y.tag===13){var S=y.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||S.data==="$!"))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if((y.flags&128)!==0)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===g)break;for(;y.sibling===null;){if(y.return===null||y.return===g)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var wS=[];function bS(){for(var g=0;g<wS.length;g++)wS[g]._workInProgressVersionPrimary=null;wS.length=0}var y5=A.ReactCurrentDispatcher,xS=A.ReactCurrentBatchConfig,jp=0,Yn=null,Fi=null,ts=null,v5=!1,Rv=!1,Ov=0,lxe=0;function Ks(){throw Error(r(321))}function _S(g,y){if(y===null)return!1;for(var S=0;S<y.length&&S<g.length;S++)if(!mc(g[S],y[S]))return!1;return!0}function CS(g,y,S,M,K,J){if(jp=J,Yn=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,y5.current=g===null||g.memoizedState===null?hxe:fxe,g=S(M,K),Rv){J=0;do{if(Rv=!1,Ov=0,25<=J)throw Error(r(301));J+=1,ts=Fi=null,y.updateQueue=null,y5.current=pxe,g=S(M,K)}while(Rv)}if(y5.current=x5,y=Fi!==null&&Fi.next!==null,jp=0,ts=Fi=Yn=null,v5=!1,y)throw Error(r(300));return g}function ES(){var g=Ov!==0;return Ov=0,g}function Cu(){var g={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ts===null?Yn.memoizedState=ts=g:ts=ts.next=g,ts}function fl(){if(Fi===null){var g=Yn.alternate;g=g!==null?g.memoizedState:null}else g=Fi.next;var y=ts===null?Yn.memoizedState:ts.next;if(y!==null)ts=y,Fi=g;else{if(g===null)throw Error(r(310));Fi=g,g={memoizedState:Fi.memoizedState,baseState:Fi.baseState,baseQueue:Fi.baseQueue,queue:Fi.queue,next:null},ts===null?Yn.memoizedState=ts=g:ts=ts.next=g}return ts}function jv(g,y){return typeof y=="function"?y(g):y}function kS(g){var y=fl(),S=y.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=g;var M=Fi,K=M.baseQueue,J=S.pending;if(J!==null){if(K!==null){var re=K.next;K.next=J.next,J.next=re}M.baseQueue=K=J,S.pending=null}if(K!==null){J=K.next,M=M.baseState;var pe=re=null,Ce=null,Be=J;do{var lt=Be.lane;if((jp&lt)===lt)Ce!==null&&(Ce=Ce.next={lane:0,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),M=Be.hasEagerState?Be.eagerState:g(M,Be.action);else{var dt={lane:lt,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null};Ce===null?(pe=Ce=dt,re=M):Ce=Ce.next=dt,Yn.lanes|=lt,Mp|=lt}Be=Be.next}while(Be!==null&&Be!==J);Ce===null?re=M:Ce.next=pe,mc(M,y.memoizedState)||(Ho=!0),y.memoizedState=M,y.baseState=re,y.baseQueue=Ce,S.lastRenderedState=M}if(g=S.interleaved,g!==null){K=g;do J=K.lane,Yn.lanes|=J,Mp|=J,K=K.next;while(K!==g)}else K===null&&(S.lanes=0);return[y.memoizedState,S.dispatch]}function SS(g){var y=fl(),S=y.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=g;var M=S.dispatch,K=S.pending,J=y.memoizedState;if(K!==null){S.pending=null;var re=K=K.next;do J=g(J,re.action),re=re.next;while(re!==K);mc(J,y.memoizedState)||(Ho=!0),y.memoizedState=J,y.baseQueue===null&&(y.baseState=J),S.lastRenderedState=J}return[J,M]}function JB(){}function XB(g,y){var S=Yn,M=fl(),K=y(),J=!mc(M.memoizedState,K);if(J&&(M.memoizedState=K,Ho=!0),M=M.queue,AS(ez.bind(null,S,M,g),[g]),M.getSnapshot!==y||J||ts!==null&&ts.memoizedState.tag&1){if(S.flags|=2048,Mv(9,ZB.bind(null,S,M,K,y),void 0,null),rs===null)throw Error(r(349));(jp&30)!==0||QB(S,y,K)}return K}function QB(g,y,S){g.flags|=16384,g={getSnapshot:y,value:S},y=Yn.updateQueue,y===null?(y={lastEffect:null,stores:null},Yn.updateQueue=y,y.stores=[g]):(S=y.stores,S===null?y.stores=[g]:S.push(g))}function ZB(g,y,S,M){y.value=S,y.getSnapshot=M,tz(y)&&rz(g)}function ez(g,y,S){return S(function(){tz(y)&&rz(g)})}function tz(g){var y=g.getSnapshot;g=g.value;try{var S=y();return!mc(g,S)}catch{return!0}}function rz(g){var y=kd(g,1);y!==null&&xc(y,g,1,-1)}function nz(g){var y=Cu();return typeof g=="function"&&(g=g()),y.memoizedState=y.baseState=g,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jv,lastRenderedState:g},y.queue=g,g=g.dispatch=dxe.bind(null,Yn,g),[y.memoizedState,g]}function Mv(g,y,S,M){return g={tag:g,create:y,destroy:S,deps:M,next:null},y=Yn.updateQueue,y===null?(y={lastEffect:null,stores:null},Yn.updateQueue=y,y.lastEffect=g.next=g):(S=y.lastEffect,S===null?y.lastEffect=g.next=g:(M=S.next,S.next=g,g.next=M,y.lastEffect=g)),g}function iz(){return fl().memoizedState}function w5(g,y,S,M){var K=Cu();Yn.flags|=g,K.memoizedState=Mv(1|y,S,void 0,M===void 0?null:M)}function b5(g,y,S,M){var K=fl();M=M===void 0?null:M;var J=void 0;if(Fi!==null){var re=Fi.memoizedState;if(J=re.destroy,M!==null&&_S(M,re.deps)){K.memoizedState=Mv(y,S,J,M);return}}Yn.flags|=g,K.memoizedState=Mv(1|y,S,J,M)}function sz(g,y){return w5(8390656,8,g,y)}function AS(g,y){return b5(2048,8,g,y)}function oz(g,y){return b5(4,2,g,y)}function az(g,y){return b5(4,4,g,y)}function lz(g,y){if(typeof y=="function")return g=g(),y(g),function(){y(null)};if(y!=null)return g=g(),y.current=g,function(){y.current=null}}function cz(g,y,S){return S=S!=null?S.concat([g]):null,b5(4,4,lz.bind(null,y,g),S)}function TS(){}function uz(g,y){var S=fl();y=y===void 0?null:y;var M=S.memoizedState;return M!==null&&y!==null&&_S(y,M[1])?M[0]:(S.memoizedState=[g,y],g)}function dz(g,y){var S=fl();y=y===void 0?null:y;var M=S.memoizedState;return M!==null&&y!==null&&_S(y,M[1])?M[0]:(g=g(),S.memoizedState=[g,y],g)}function hz(g,y,S){return(jp&21)===0?(g.baseState&&(g.baseState=!1,Ho=!0),g.memoizedState=S):(mc(S,y)||(S=F3(),Yn.lanes|=S,Mp|=S,g.baseState=!0),y)}function cxe(g,y){var S=tn;tn=S!==0&&4>S?S:4,g(!0);var M=xS.transition;xS.transition={};try{g(!1),y()}finally{tn=S,xS.transition=M}}function fz(){return fl().memoizedState}function uxe(g,y,S){var M=Xh(g);if(S={lane:M,action:S,hasEagerState:!1,eagerState:null,next:null},pz(g))gz(y,S);else if(S=HB(g,y,S,M),S!==null){var K=_o();xc(S,g,M,K),mz(S,y,M)}}function dxe(g,y,S){var M=Xh(g),K={lane:M,action:S,hasEagerState:!1,eagerState:null,next:null};if(pz(g))gz(y,K);else{var J=g.alternate;if(g.lanes===0&&(J===null||J.lanes===0)&&(J=y.lastRenderedReducer,J!==null))try{var re=y.lastRenderedState,pe=J(re,S);if(K.hasEagerState=!0,K.eagerState=pe,mc(pe,re)){var Ce=y.interleaved;Ce===null?(K.next=K,gS(y)):(K.next=Ce.next,Ce.next=K),y.interleaved=K;return}}catch{}S=HB(g,y,K,M),S!==null&&(K=_o(),xc(S,g,M,K),mz(S,y,M))}}function pz(g){var y=g.alternate;return g===Yn||y!==null&&y===Yn}function gz(g,y){Rv=v5=!0;var S=g.pending;S===null?y.next=y:(y.next=S.next,S.next=y),g.pending=y}function mz(g,y,S){if((S&4194240)!==0){var M=y.lanes;M&=g.pendingLanes,S|=M,y.lanes=S,hv(g,S)}}var x5={readContext:hl,useCallback:Ks,useContext:Ks,useEffect:Ks,useImperativeHandle:Ks,useInsertionEffect:Ks,useLayoutEffect:Ks,useMemo:Ks,useReducer:Ks,useRef:Ks,useState:Ks,useDebugValue:Ks,useDeferredValue:Ks,useTransition:Ks,useMutableSource:Ks,useSyncExternalStore:Ks,useId:Ks,unstable_isNewReconciler:!1},hxe={readContext:hl,useCallback:function(g,y){return Cu().memoizedState=[g,y===void 0?null:y],g},useContext:hl,useEffect:sz,useImperativeHandle:function(g,y,S){return S=S!=null?S.concat([g]):null,w5(4194308,4,lz.bind(null,y,g),S)},useLayoutEffect:function(g,y){return w5(4194308,4,g,y)},useInsertionEffect:function(g,y){return w5(4,2,g,y)},useMemo:function(g,y){var S=Cu();return y=y===void 0?null:y,g=g(),S.memoizedState=[g,y],g},useReducer:function(g,y,S){var M=Cu();return y=S!==void 0?S(y):y,M.memoizedState=M.baseState=y,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:g,lastRenderedState:y},M.queue=g,g=g.dispatch=uxe.bind(null,Yn,g),[M.memoizedState,g]},useRef:function(g){var y=Cu();return g={current:g},y.memoizedState=g},useState:nz,useDebugValue:TS,useDeferredValue:function(g){return Cu().memoizedState=g},useTransition:function(){var g=nz(!1),y=g[0];return g=cxe.bind(null,g[1]),Cu().memoizedState=g,[y,g]},useMutableSource:function(){},useSyncExternalStore:function(g,y,S){var M=Yn,K=Cu();if(qn){if(S===void 0)throw Error(r(407));S=S()}else{if(S=y(),rs===null)throw Error(r(349));(jp&30)!==0||QB(M,y,S)}K.memoizedState=S;var J={value:S,getSnapshot:y};return K.queue=J,sz(ez.bind(null,M,J,g),[g]),M.flags|=2048,Mv(9,ZB.bind(null,M,J,S,y),void 0,null),S},useId:function(){var g=Cu(),y=rs.identifierPrefix;if(qn){var S=Ed,M=Cd;S=(M&~(1<<32-bs(M)-1)).toString(32)+S,y=":"+y+"R"+S,S=Ov++,0<S&&(y+="H"+S.toString(32)),y+=":"}else S=lxe++,y=":"+y+"r"+S.toString(32)+":";return g.memoizedState=y},unstable_isNewReconciler:!1},fxe={readContext:hl,useCallback:uz,useContext:hl,useEffect:AS,useImperativeHandle:cz,useInsertionEffect:oz,useLayoutEffect:az,useMemo:dz,useReducer:kS,useRef:iz,useState:function(){return kS(jv)},useDebugValue:TS,useDeferredValue:function(g){var y=fl();return hz(y,Fi.memoizedState,g)},useTransition:function(){var g=kS(jv)[0],y=fl().memoizedState;return[g,y]},useMutableSource:JB,useSyncExternalStore:XB,useId:fz,unstable_isNewReconciler:!1},pxe={readContext:hl,useCallback:uz,useContext:hl,useEffect:AS,useImperativeHandle:cz,useInsertionEffect:oz,useLayoutEffect:az,useMemo:dz,useReducer:SS,useRef:iz,useState:function(){return SS(jv)},useDebugValue:TS,useDeferredValue:function(g){var y=fl();return Fi===null?y.memoizedState=g:hz(y,Fi.memoizedState,g)},useTransition:function(){var g=SS(jv)[0],y=fl().memoizedState;return[g,y]},useMutableSource:JB,useSyncExternalStore:XB,useId:fz,unstable_isNewReconciler:!1};function vc(g,y){if(g&&g.defaultProps){y=G({},y),g=g.defaultProps;for(var S in g)y[S]===void 0&&(y[S]=g[S]);return y}return y}function IS(g,y,S,M){y=g.memoizedState,S=S(M,y),S=S==null?y:G({},y,S),g.memoizedState=S,g.lanes===0&&(g.updateQueue.baseState=S)}var _5={isMounted:function(g){return(g=g._reactInternals)?Ct(g)===g:!1},enqueueSetState:function(g,y,S){g=g._reactInternals;var M=_o(),K=Xh(g),J=Sd(M,K);J.payload=y,S!=null&&(J.callback=S),y=Gh(g,J,K),y!==null&&(xc(y,g,K,M),p5(y,g,K))},enqueueReplaceState:function(g,y,S){g=g._reactInternals;var M=_o(),K=Xh(g),J=Sd(M,K);J.tag=1,J.payload=y,S!=null&&(J.callback=S),y=Gh(g,J,K),y!==null&&(xc(y,g,K,M),p5(y,g,K))},enqueueForceUpdate:function(g,y){g=g._reactInternals;var S=_o(),M=Xh(g),K=Sd(S,M);K.tag=2,y!=null&&(K.callback=y),y=Gh(g,K,M),y!==null&&(xc(y,g,M,S),p5(y,g,M))}};function yz(g,y,S,M,K,J,re){return g=g.stateNode,typeof g.shouldComponentUpdate=="function"?g.shouldComponentUpdate(M,J,re):y.prototype&&y.prototype.isPureReactComponent?!_v(S,M)||!_v(K,J):!0}function vz(g,y,S){var M=!1,K=Wh,J=y.contextType;return typeof J=="object"&&J!==null?J=hl(J):(K=Wo(y)?Pp:Gs.current,M=y.contextTypes,J=(M=M!=null)?Zg(g,K):Wh),y=new y(S,J),g.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=_5,g.stateNode=y,y._reactInternals=g,M&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=K,g.__reactInternalMemoizedMaskedChildContext=J),y}function wz(g,y,S,M){g=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(S,M),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(S,M),y.state!==g&&_5.enqueueReplaceState(y,y.state,null)}function PS(g,y,S,M){var K=g.stateNode;K.props=S,K.state=g.memoizedState,K.refs={},mS(g);var J=y.contextType;typeof J=="object"&&J!==null?K.context=hl(J):(J=Wo(y)?Pp:Gs.current,K.context=Zg(g,J)),K.state=g.memoizedState,J=y.getDerivedStateFromProps,typeof J=="function"&&(IS(g,y,J,S),K.state=g.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof K.getSnapshotBeforeUpdate=="function"||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(y=K.state,typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount(),y!==K.state&&_5.enqueueReplaceState(K,K.state,null),g5(g,S,K,M),K.state=g.memoizedState),typeof K.componentDidMount=="function"&&(g.flags|=4194308)}function am(g,y){try{var S="",M=y;do S+=z(M),M=M.return;while(M);var K=S}catch(J){K=`
Error generating stack: `+J.message+`
`+J.stack}return{value:g,source:y,stack:K,digest:null}}function $S(g,y,S){return{value:g,source:null,stack:S??null,digest:y??null}}function NS(g,y){try{console.error(y.value)}catch(S){setTimeout(function(){throw S})}}var gxe=typeof WeakMap=="function"?WeakMap:Map;function bz(g,y,S){S=Sd(-1,S),S.tag=3,S.payload={element:null};var M=y.value;return S.callback=function(){I5||(I5=!0,GS=M),NS(g,y)},S}function xz(g,y,S){S=Sd(-1,S),S.tag=3;var M=g.type.getDerivedStateFromError;if(typeof M=="function"){var K=y.value;S.payload=function(){return M(K)},S.callback=function(){NS(g,y)}}var J=g.stateNode;return J!==null&&typeof J.componentDidCatch=="function"&&(S.callback=function(){NS(g,y),typeof M!="function"&&(Yh===null?Yh=new Set([this]):Yh.add(this));var re=y.stack;this.componentDidCatch(y.value,{componentStack:re!==null?re:""})}),S}function _z(g,y,S){var M=g.pingCache;if(M===null){M=g.pingCache=new gxe;var K=new Set;M.set(y,K)}else K=M.get(y),K===void 0&&(K=new Set,M.set(y,K));K.has(S)||(K.add(S),g=Ixe.bind(null,g,y,S),y.then(g,g))}function Cz(g){do{var y;if((y=g.tag===13)&&(y=g.memoizedState,y=y!==null?y.dehydrated!==null:!0),y)return g;g=g.return}while(g!==null);return null}function Ez(g,y,S,M,K){return(g.mode&1)===0?(g===y?g.flags|=65536:(g.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(y=Sd(-1,1),y.tag=2,Gh(S,y,1))),S.lanes|=1),g):(g.flags|=65536,g.lanes=K,g)}var mxe=A.ReactCurrentOwner,Ho=!1;function xo(g,y,S,M){y.child=g===null?WB(y,null,S,M):nm(y,g.child,S,M)}function kz(g,y,S,M,K){S=S.render;var J=y.ref;return sm(y,K),M=CS(g,y,S,M,J,K),S=ES(),g!==null&&!Ho?(y.updateQueue=g.updateQueue,y.flags&=-2053,g.lanes&=~K,Ad(g,y,K)):(qn&&S&&oS(y),y.flags|=1,xo(g,y,M,K),y.child)}function Sz(g,y,S,M,K){if(g===null){var J=S.type;return typeof J=="function"&&!eA(J)&&J.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(y.tag=15,y.type=J,Az(g,y,J,M,K)):(g=j5(S.type,null,M,y,y.mode,K),g.ref=y.ref,g.return=y,y.child=g)}if(J=g.child,(g.lanes&K)===0){var re=J.memoizedProps;if(S=S.compare,S=S!==null?S:_v,S(re,M)&&g.ref===y.ref)return Ad(g,y,K)}return y.flags|=1,g=Zh(J,M),g.ref=y.ref,g.return=y,y.child=g}function Az(g,y,S,M,K){if(g!==null){var J=g.memoizedProps;if(_v(J,M)&&g.ref===y.ref)if(Ho=!1,y.pendingProps=M=J,(g.lanes&K)!==0)(g.flags&131072)!==0&&(Ho=!0);else return y.lanes=g.lanes,Ad(g,y,K)}return RS(g,y,S,M,K)}function Tz(g,y,S){var M=y.pendingProps,K=M.children,J=g!==null?g.memoizedState:null;if(M.mode==="hidden")if((y.mode&1)===0)y.memoizedState={baseLanes:0,cachePool:null,transitions:null},An(cm,Ta),Ta|=S;else{if((S&1073741824)===0)return g=J!==null?J.baseLanes|S:S,y.lanes=y.childLanes=1073741824,y.memoizedState={baseLanes:g,cachePool:null,transitions:null},y.updateQueue=null,An(cm,Ta),Ta|=g,null;y.memoizedState={baseLanes:0,cachePool:null,transitions:null},M=J!==null?J.baseLanes:S,An(cm,Ta),Ta|=M}else J!==null?(M=J.baseLanes|S,y.memoizedState=null):M=S,An(cm,Ta),Ta|=M;return xo(g,y,K,S),y.child}function Iz(g,y){var S=y.ref;(g===null&&S!==null||g!==null&&g.ref!==S)&&(y.flags|=512,y.flags|=2097152)}function RS(g,y,S,M,K){var J=Wo(S)?Pp:Gs.current;return J=Zg(y,J),sm(y,K),S=CS(g,y,S,M,J,K),M=ES(),g!==null&&!Ho?(y.updateQueue=g.updateQueue,y.flags&=-2053,g.lanes&=~K,Ad(g,y,K)):(qn&&M&&oS(y),y.flags|=1,xo(g,y,S,K),y.child)}function Pz(g,y,S,M,K){if(Wo(S)){var J=!0;o5(y)}else J=!1;if(sm(y,K),y.stateNode===null)E5(g,y),vz(y,S,M),PS(y,S,M,K),M=!0;else if(g===null){var re=y.stateNode,pe=y.memoizedProps;re.props=pe;var Ce=re.context,Be=S.contextType;typeof Be=="object"&&Be!==null?Be=hl(Be):(Be=Wo(S)?Pp:Gs.current,Be=Zg(y,Be));var lt=S.getDerivedStateFromProps,dt=typeof lt=="function"||typeof re.getSnapshotBeforeUpdate=="function";dt||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(pe!==M||Ce!==Be)&&wz(y,re,M,Be),Vh=!1;var at=y.memoizedState;re.state=at,g5(y,M,re,K),Ce=y.memoizedState,pe!==M||at!==Ce||qo.current||Vh?(typeof lt=="function"&&(IS(y,S,lt,M),Ce=y.memoizedState),(pe=Vh||yz(y,S,pe,M,at,Ce,Be))?(dt||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(y.flags|=4194308)):(typeof re.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=M,y.memoizedState=Ce),re.props=M,re.state=Ce,re.context=Be,M=pe):(typeof re.componentDidMount=="function"&&(y.flags|=4194308),M=!1)}else{re=y.stateNode,VB(g,y),pe=y.memoizedProps,Be=y.type===y.elementType?pe:vc(y.type,pe),re.props=Be,dt=y.pendingProps,at=re.context,Ce=S.contextType,typeof Ce=="object"&&Ce!==null?Ce=hl(Ce):(Ce=Wo(S)?Pp:Gs.current,Ce=Zg(y,Ce));var Dt=S.getDerivedStateFromProps;(lt=typeof Dt=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(pe!==dt||at!==Ce)&&wz(y,re,M,Ce),Vh=!1,at=y.memoizedState,re.state=at,g5(y,M,re,K);var Gt=y.memoizedState;pe!==dt||at!==Gt||qo.current||Vh?(typeof Dt=="function"&&(IS(y,S,Dt,M),Gt=y.memoizedState),(Be=Vh||yz(y,S,Be,M,at,Gt,Ce)||!1)?(lt||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(M,Gt,Ce),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(M,Gt,Ce)),typeof re.componentDidUpdate=="function"&&(y.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof re.componentDidUpdate!="function"||pe===g.memoizedProps&&at===g.memoizedState||(y.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||pe===g.memoizedProps&&at===g.memoizedState||(y.flags|=1024),y.memoizedProps=M,y.memoizedState=Gt),re.props=M,re.state=Gt,re.context=Ce,M=Be):(typeof re.componentDidUpdate!="function"||pe===g.memoizedProps&&at===g.memoizedState||(y.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||pe===g.memoizedProps&&at===g.memoizedState||(y.flags|=1024),M=!1)}return OS(g,y,S,M,J,K)}function OS(g,y,S,M,K,J){Iz(g,y);var re=(y.flags&128)!==0;if(!M&&!re)return K&&jB(y,S,!1),Ad(g,y,J);M=y.stateNode,mxe.current=y;var pe=re&&typeof S.getDerivedStateFromError!="function"?null:M.render();return y.flags|=1,g!==null&&re?(y.child=nm(y,g.child,null,J),y.child=nm(y,null,pe,J)):xo(g,y,pe,J),y.memoizedState=M.state,K&&jB(y,S,!0),y.child}function $z(g){var y=g.stateNode;y.pendingContext?RB(g,y.pendingContext,y.pendingContext!==y.context):y.context&&RB(g,y.context,!1),yS(g,y.containerInfo)}function Nz(g,y,S,M,K){return rm(),uS(K),y.flags|=256,xo(g,y,S,M),y.child}var jS={dehydrated:null,treeContext:null,retryLane:0};function MS(g){return{baseLanes:g,cachePool:null,transitions:null}}function Rz(g,y,S){var M=y.pendingProps,K=Kn.current,J=!1,re=(y.flags&128)!==0,pe;if((pe=re)||(pe=g!==null&&g.memoizedState===null?!1:(K&2)!==0),pe?(J=!0,y.flags&=-129):(g===null||g.memoizedState!==null)&&(K|=1),An(Kn,K&1),g===null)return cS(y),g=y.memoizedState,g!==null&&(g=g.dehydrated,g!==null)?((y.mode&1)===0?y.lanes=1:g.data==="$!"?y.lanes=8:y.lanes=1073741824,null):(re=M.children,g=M.fallback,J?(M=y.mode,J=y.child,re={mode:"hidden",children:re},(M&1)===0&&J!==null?(J.childLanes=0,J.pendingProps=re):J=M5(re,M,0,null),g=Up(g,M,S,null),J.return=y,g.return=y,J.sibling=g,y.child=J,y.child.memoizedState=MS(S),y.memoizedState=jS,g):DS(y,re));if(K=g.memoizedState,K!==null&&(pe=K.dehydrated,pe!==null))return yxe(g,y,re,M,pe,K,S);if(J){J=M.fallback,re=y.mode,K=g.child,pe=K.sibling;var Ce={mode:"hidden",children:M.children};return(re&1)===0&&y.child!==K?(M=y.child,M.childLanes=0,M.pendingProps=Ce,y.deletions=null):(M=Zh(K,Ce),M.subtreeFlags=K.subtreeFlags&14680064),pe!==null?J=Zh(pe,J):(J=Up(J,re,S,null),J.flags|=2),J.return=y,M.return=y,M.sibling=J,y.child=M,M=J,J=y.child,re=g.child.memoizedState,re=re===null?MS(S):{baseLanes:re.baseLanes|S,cachePool:null,transitions:re.transitions},J.memoizedState=re,J.childLanes=g.childLanes&~S,y.memoizedState=jS,M}return J=g.child,g=J.sibling,M=Zh(J,{mode:"visible",children:M.children}),(y.mode&1)===0&&(M.lanes=S),M.return=y,M.sibling=null,g!==null&&(S=y.deletions,S===null?(y.deletions=[g],y.flags|=16):S.push(g)),y.child=M,y.memoizedState=null,M}function DS(g,y){return y=M5({mode:"visible",children:y},g.mode,0,null),y.return=g,g.child=y}function C5(g,y,S,M){return M!==null&&uS(M),nm(y,g.child,null,S),g=DS(y,y.pendingProps.children),g.flags|=2,y.memoizedState=null,g}function yxe(g,y,S,M,K,J,re){if(S)return y.flags&256?(y.flags&=-257,M=$S(Error(r(422))),C5(g,y,re,M)):y.memoizedState!==null?(y.child=g.child,y.flags|=128,null):(J=M.fallback,K=y.mode,M=M5({mode:"visible",children:M.children},K,0,null),J=Up(J,K,re,null),J.flags|=2,M.return=y,J.return=y,M.sibling=J,y.child=M,(y.mode&1)!==0&&nm(y,g.child,null,re),y.child.memoizedState=MS(re),y.memoizedState=jS,J);if((y.mode&1)===0)return C5(g,y,re,null);if(K.data==="$!"){if(M=K.nextSibling&&K.nextSibling.dataset,M)var pe=M.dgst;return M=pe,J=Error(r(419)),M=$S(J,M,void 0),C5(g,y,re,M)}if(pe=(re&g.childLanes)!==0,Ho||pe){if(M=rs,M!==null){switch(re&-re){case 4:K=2;break;case 16:K=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:K=32;break;case 536870912:K=268435456;break;default:K=0}K=(K&(M.suspendedLanes|re))!==0?0:K,K!==0&&K!==J.retryLane&&(J.retryLane=K,kd(g,K),xc(M,g,K,-1))}return ZS(),M=$S(Error(r(421))),C5(g,y,re,M)}return K.data==="$?"?(y.flags|=128,y.child=g.child,y=Pxe.bind(null,g),K._reactRetry=y,null):(g=J.treeContext,Aa=zh(K.nextSibling),Sa=y,qn=!0,yc=null,g!==null&&(ul[dl++]=Cd,ul[dl++]=Ed,ul[dl++]=$p,Cd=g.id,Ed=g.overflow,$p=y),y=DS(y,M.children),y.flags|=4096,y)}function Oz(g,y,S){g.lanes|=y;var M=g.alternate;M!==null&&(M.lanes|=y),pS(g.return,y,S)}function FS(g,y,S,M,K){var J=g.memoizedState;J===null?g.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:M,tail:S,tailMode:K}:(J.isBackwards=y,J.rendering=null,J.renderingStartTime=0,J.last=M,J.tail=S,J.tailMode=K)}function jz(g,y,S){var M=y.pendingProps,K=M.revealOrder,J=M.tail;if(xo(g,y,M.children,S),M=Kn.current,(M&2)!==0)M=M&1|2,y.flags|=128;else{if(g!==null&&(g.flags&128)!==0)e:for(g=y.child;g!==null;){if(g.tag===13)g.memoizedState!==null&&Oz(g,S,y);else if(g.tag===19)Oz(g,S,y);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===y)break e;for(;g.sibling===null;){if(g.return===null||g.return===y)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}M&=1}if(An(Kn,M),(y.mode&1)===0)y.memoizedState=null;else switch(K){case"forwards":for(S=y.child,K=null;S!==null;)g=S.alternate,g!==null&&m5(g)===null&&(K=S),S=S.sibling;S=K,S===null?(K=y.child,y.child=null):(K=S.sibling,S.sibling=null),FS(y,!1,K,S,J);break;case"backwards":for(S=null,K=y.child,y.child=null;K!==null;){if(g=K.alternate,g!==null&&m5(g)===null){y.child=K;break}g=K.sibling,K.sibling=S,S=K,K=g}FS(y,!0,S,null,J);break;case"together":FS(y,!1,null,null,void 0);break;default:y.memoizedState=null}return y.child}function E5(g,y){(y.mode&1)===0&&g!==null&&(g.alternate=null,y.alternate=null,y.flags|=2)}function Ad(g,y,S){if(g!==null&&(y.dependencies=g.dependencies),Mp|=y.lanes,(S&y.childLanes)===0)return null;if(g!==null&&y.child!==g.child)throw Error(r(153));if(y.child!==null){for(g=y.child,S=Zh(g,g.pendingProps),y.child=S,S.return=y;g.sibling!==null;)g=g.sibling,S=S.sibling=Zh(g,g.pendingProps),S.return=y;S.sibling=null}return y.child}function vxe(g,y,S){switch(y.tag){case 3:$z(y),rm();break;case 5:YB(y);break;case 1:Wo(y.type)&&o5(y);break;case 4:yS(y,y.stateNode.containerInfo);break;case 10:var M=y.type._context,K=y.memoizedProps.value;An(h5,M._currentValue),M._currentValue=K;break;case 13:if(M=y.memoizedState,M!==null)return M.dehydrated!==null?(An(Kn,Kn.current&1),y.flags|=128,null):(S&y.child.childLanes)!==0?Rz(g,y,S):(An(Kn,Kn.current&1),g=Ad(g,y,S),g!==null?g.sibling:null);An(Kn,Kn.current&1);break;case 19:if(M=(S&y.childLanes)!==0,(g.flags&128)!==0){if(M)return jz(g,y,S);y.flags|=128}if(K=y.memoizedState,K!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),An(Kn,Kn.current),M)break;return null;case 22:case 23:return y.lanes=0,Tz(g,y,S)}return Ad(g,y,S)}var Mz,LS,Dz,Fz;Mz=function(g,y){for(var S=y.child;S!==null;){if(S.tag===5||S.tag===6)g.appendChild(S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===y)break;for(;S.sibling===null;){if(S.return===null||S.return===y)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},LS=function(){},Dz=function(g,y,S,M){var K=g.memoizedProps;if(K!==M){g=y.stateNode,Op(_u.current);var J=null;switch(S){case"input":K=Ee(g,K),M=Ee(g,M),J=[];break;case"select":K=G({},K,{value:void 0}),M=G({},M,{value:void 0}),J=[];break;case"textarea":K=nt(g,K),M=nt(g,M),J=[];break;default:typeof K.onClick!="function"&&typeof M.onClick=="function"&&(g.onclick=n5)}ue(S,M);var re;S=null;for(Be in K)if(!M.hasOwnProperty(Be)&&K.hasOwnProperty(Be)&&K[Be]!=null)if(Be==="style"){var pe=K[Be];for(re in pe)pe.hasOwnProperty(re)&&(S||(S={}),S[re]="")}else Be!=="dangerouslySetInnerHTML"&&Be!=="children"&&Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&Be!=="autoFocus"&&(i.hasOwnProperty(Be)?J||(J=[]):(J=J||[]).push(Be,null));for(Be in M){var Ce=M[Be];if(pe=K?.[Be],M.hasOwnProperty(Be)&&Ce!==pe&&(Ce!=null||pe!=null))if(Be==="style")if(pe){for(re in pe)!pe.hasOwnProperty(re)||Ce&&Ce.hasOwnProperty(re)||(S||(S={}),S[re]="");for(re in Ce)Ce.hasOwnProperty(re)&&pe[re]!==Ce[re]&&(S||(S={}),S[re]=Ce[re])}else S||(J||(J=[]),J.push(Be,S)),S=Ce;else Be==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,pe=pe?pe.__html:void 0,Ce!=null&&pe!==Ce&&(J=J||[]).push(Be,Ce)):Be==="children"?typeof Ce!="string"&&typeof Ce!="number"||(J=J||[]).push(Be,""+Ce):Be!=="suppressContentEditableWarning"&&Be!=="suppressHydrationWarning"&&(i.hasOwnProperty(Be)?(Ce!=null&&Be==="onScroll"&&Nn("scroll",g),J||pe===Ce||(J=[])):(J=J||[]).push(Be,Ce))}S&&(J=J||[]).push("style",S);var Be=J;(y.updateQueue=Be)&&(y.flags|=4)}},Fz=function(g,y,S,M){S!==M&&(y.flags|=4)};function Dv(g,y){if(!qn)switch(g.tailMode){case"hidden":y=g.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?g.tail=null:S.sibling=null;break;case"collapsed":S=g.tail;for(var M=null;S!==null;)S.alternate!==null&&(M=S),S=S.sibling;M===null?y||g.tail===null?g.tail=null:g.tail.sibling=null:M.sibling=null}}function Ys(g){var y=g.alternate!==null&&g.alternate.child===g.child,S=0,M=0;if(y)for(var K=g.child;K!==null;)S|=K.lanes|K.childLanes,M|=K.subtreeFlags&14680064,M|=K.flags&14680064,K.return=g,K=K.sibling;else for(K=g.child;K!==null;)S|=K.lanes|K.childLanes,M|=K.subtreeFlags,M|=K.flags,K.return=g,K=K.sibling;return g.subtreeFlags|=M,g.childLanes=S,y}function wxe(g,y,S){var M=y.pendingProps;switch(aS(y),y.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(y),null;case 1:return Wo(y.type)&&s5(),Ys(y),null;case 3:return M=y.stateNode,om(),Rn(qo),Rn(Gs),bS(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(g===null||g.child===null)&&(u5(y)?y.flags|=4:g===null||g.memoizedState.isDehydrated&&(y.flags&256)===0||(y.flags|=1024,yc!==null&&(JS(yc),yc=null))),LS(g,y),Ys(y),null;case 5:vS(y);var K=Op(Nv.current);if(S=y.type,g!==null&&y.stateNode!=null)Dz(g,y,S,M,K),g.ref!==y.ref&&(y.flags|=512,y.flags|=2097152);else{if(!M){if(y.stateNode===null)throw Error(r(166));return Ys(y),null}if(g=Op(_u.current),u5(y)){M=y.stateNode,S=y.type;var J=y.memoizedProps;switch(M[xu]=y,M[Av]=J,g=(y.mode&1)!==0,S){case"dialog":Nn("cancel",M),Nn("close",M);break;case"iframe":case"object":case"embed":Nn("load",M);break;case"video":case"audio":for(K=0;K<Ev.length;K++)Nn(Ev[K],M);break;case"source":Nn("error",M);break;case"img":case"image":case"link":Nn("error",M),Nn("load",M);break;case"details":Nn("toggle",M);break;case"input":Ie(M,J),Nn("invalid",M);break;case"select":M._wrapperState={wasMultiple:!!J.multiple},Nn("invalid",M);break;case"textarea":_t(M,J),Nn("invalid",M)}ue(S,J),K=null;for(var re in J)if(J.hasOwnProperty(re)){var pe=J[re];re==="children"?typeof pe=="string"?M.textContent!==pe&&(J.suppressHydrationWarning!==!0&&r5(M.textContent,pe,g),K=["children",pe]):typeof pe=="number"&&M.textContent!==""+pe&&(J.suppressHydrationWarning!==!0&&r5(M.textContent,pe,g),K=["children",""+pe]):i.hasOwnProperty(re)&&pe!=null&&re==="onScroll"&&Nn("scroll",M)}switch(S){case"input":ge(M),ze(M,J,!0);break;case"textarea":ge(M),wt(M);break;case"select":case"option":break;default:typeof J.onClick=="function"&&(M.onclick=n5)}M=K,y.updateQueue=M,M!==null&&(y.flags|=4)}else{re=K.nodeType===9?K:K.ownerDocument,g==="http://www.w3.org/1999/xhtml"&&(g=xt(S)),g==="http://www.w3.org/1999/xhtml"?S==="script"?(g=re.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild)):typeof M.is=="string"?g=re.createElement(S,{is:M.is}):(g=re.createElement(S),S==="select"&&(re=g,M.multiple?re.multiple=!0:M.size&&(re.size=M.size))):g=re.createElementNS(g,S),g[xu]=y,g[Av]=M,Mz(g,y,!1,!1),y.stateNode=g;e:{switch(re=we(S,M),S){case"dialog":Nn("cancel",g),Nn("close",g),K=M;break;case"iframe":case"object":case"embed":Nn("load",g),K=M;break;case"video":case"audio":for(K=0;K<Ev.length;K++)Nn(Ev[K],g);K=M;break;case"source":Nn("error",g),K=M;break;case"img":case"image":case"link":Nn("error",g),Nn("load",g),K=M;break;case"details":Nn("toggle",g),K=M;break;case"input":Ie(g,M),K=Ee(g,M),Nn("invalid",g);break;case"option":K=M;break;case"select":g._wrapperState={wasMultiple:!!M.multiple},K=G({},M,{value:void 0}),Nn("invalid",g);break;case"textarea":_t(g,M),K=nt(g,M),Nn("invalid",g);break;default:K=M}ue(S,K),pe=K;for(J in pe)if(pe.hasOwnProperty(J)){var Ce=pe[J];J==="style"?Mt(g,Ce):J==="dangerouslySetInnerHTML"?(Ce=Ce?Ce.__html:void 0,Ce!=null&&Qe(g,Ce)):J==="children"?typeof Ce=="string"?(S!=="textarea"||Ce!=="")&&it(g,Ce):typeof Ce=="number"&&it(g,""+Ce):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(i.hasOwnProperty(J)?Ce!=null&&J==="onScroll"&&Nn("scroll",g):Ce!=null&&_(g,J,Ce,re))}switch(S){case"input":ge(g),ze(g,M,!1);break;case"textarea":ge(g),wt(g);break;case"option":M.value!=null&&g.setAttribute("value",""+te(M.value));break;case"select":g.multiple=!!M.multiple,J=M.value,J!=null?Fe(g,!!M.multiple,J,!1):M.defaultValue!=null&&Fe(g,!!M.multiple,M.defaultValue,!0);break;default:typeof K.onClick=="function"&&(g.onclick=n5)}switch(S){case"button":case"input":case"select":case"textarea":M=!!M.autoFocus;break e;case"img":M=!0;break e;default:M=!1}}M&&(y.flags|=4)}y.ref!==null&&(y.flags|=512,y.flags|=2097152)}return Ys(y),null;case 6:if(g&&y.stateNode!=null)Fz(g,y,g.memoizedProps,M);else{if(typeof M!="string"&&y.stateNode===null)throw Error(r(166));if(S=Op(Nv.current),Op(_u.current),u5(y)){if(M=y.stateNode,S=y.memoizedProps,M[xu]=y,(J=M.nodeValue!==S)&&(g=Sa,g!==null))switch(g.tag){case 3:r5(M.nodeValue,S,(g.mode&1)!==0);break;case 5:g.memoizedProps.suppressHydrationWarning!==!0&&r5(M.nodeValue,S,(g.mode&1)!==0)}J&&(y.flags|=4)}else M=(S.nodeType===9?S:S.ownerDocument).createTextNode(M),M[xu]=y,y.stateNode=M}return Ys(y),null;case 13:if(Rn(Kn),M=y.memoizedState,g===null||g.memoizedState!==null&&g.memoizedState.dehydrated!==null){if(qn&&Aa!==null&&(y.mode&1)!==0&&(y.flags&128)===0)BB(),rm(),y.flags|=98560,J=!1;else if(J=u5(y),M!==null&&M.dehydrated!==null){if(g===null){if(!J)throw Error(r(318));if(J=y.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(r(317));J[xu]=y}else rm(),(y.flags&128)===0&&(y.memoizedState=null),y.flags|=4;Ys(y),J=!1}else yc!==null&&(JS(yc),yc=null),J=!0;if(!J)return y.flags&65536?y:null}return(y.flags&128)!==0?(y.lanes=S,y):(M=M!==null,M!==(g!==null&&g.memoizedState!==null)&&M&&(y.child.flags|=8192,(y.mode&1)!==0&&(g===null||(Kn.current&1)!==0?Li===0&&(Li=3):ZS())),y.updateQueue!==null&&(y.flags|=4),Ys(y),null);case 4:return om(),LS(g,y),g===null&&kv(y.stateNode.containerInfo),Ys(y),null;case 10:return fS(y.type._context),Ys(y),null;case 17:return Wo(y.type)&&s5(),Ys(y),null;case 19:if(Rn(Kn),J=y.memoizedState,J===null)return Ys(y),null;if(M=(y.flags&128)!==0,re=J.rendering,re===null)if(M)Dv(J,!1);else{if(Li!==0||g!==null&&(g.flags&128)!==0)for(g=y.child;g!==null;){if(re=m5(g),re!==null){for(y.flags|=128,Dv(J,!1),M=re.updateQueue,M!==null&&(y.updateQueue=M,y.flags|=4),y.subtreeFlags=0,M=S,S=y.child;S!==null;)J=S,g=M,J.flags&=14680066,re=J.alternate,re===null?(J.childLanes=0,J.lanes=g,J.child=null,J.subtreeFlags=0,J.memoizedProps=null,J.memoizedState=null,J.updateQueue=null,J.dependencies=null,J.stateNode=null):(J.childLanes=re.childLanes,J.lanes=re.lanes,J.child=re.child,J.subtreeFlags=0,J.deletions=null,J.memoizedProps=re.memoizedProps,J.memoizedState=re.memoizedState,J.updateQueue=re.updateQueue,J.type=re.type,g=re.dependencies,J.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),S=S.sibling;return An(Kn,Kn.current&1|2),y.child}g=g.sibling}J.tail!==null&&nn()>um&&(y.flags|=128,M=!0,Dv(J,!1),y.lanes=4194304)}else{if(!M)if(g=m5(re),g!==null){if(y.flags|=128,M=!0,S=g.updateQueue,S!==null&&(y.updateQueue=S,y.flags|=4),Dv(J,!0),J.tail===null&&J.tailMode==="hidden"&&!re.alternate&&!qn)return Ys(y),null}else 2*nn()-J.renderingStartTime>um&&S!==1073741824&&(y.flags|=128,M=!0,Dv(J,!1),y.lanes=4194304);J.isBackwards?(re.sibling=y.child,y.child=re):(S=J.last,S!==null?S.sibling=re:y.child=re,J.last=re)}return J.tail!==null?(y=J.tail,J.rendering=y,J.tail=y.sibling,J.renderingStartTime=nn(),y.sibling=null,S=Kn.current,An(Kn,M?S&1|2:S&1),y):(Ys(y),null);case 22:case 23:return QS(),M=y.memoizedState!==null,g!==null&&g.memoizedState!==null!==M&&(y.flags|=8192),M&&(y.mode&1)!==0?(Ta&1073741824)!==0&&(Ys(y),y.subtreeFlags&6&&(y.flags|=8192)):Ys(y),null;case 24:return null;case 25:return null}throw Error(r(156,y.tag))}function bxe(g,y){switch(aS(y),y.tag){case 1:return Wo(y.type)&&s5(),g=y.flags,g&65536?(y.flags=g&-65537|128,y):null;case 3:return om(),Rn(qo),Rn(Gs),bS(),g=y.flags,(g&65536)!==0&&(g&128)===0?(y.flags=g&-65537|128,y):null;case 5:return vS(y),null;case 13:if(Rn(Kn),g=y.memoizedState,g!==null&&g.dehydrated!==null){if(y.alternate===null)throw Error(r(340));rm()}return g=y.flags,g&65536?(y.flags=g&-65537|128,y):null;case 19:return Rn(Kn),null;case 4:return om(),null;case 10:return fS(y.type._context),null;case 22:case 23:return QS(),null;case 24:return null;default:return null}}var k5=!1,Js=!1,xxe=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function lm(g,y){var S=g.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(M){ti(g,y,M)}else S.current=null}function US(g,y,S){try{S()}catch(M){ti(g,y,M)}}var Lz=!1;function _xe(g,y){if(Qk=$n,g=yB(),Wk(g)){if("selectionStart"in g)var S={start:g.selectionStart,end:g.selectionEnd};else e:{S=(S=g.ownerDocument)&&S.defaultView||window;var M=S.getSelection&&S.getSelection();if(M&&M.rangeCount!==0){S=M.anchorNode;var K=M.anchorOffset,J=M.focusNode;M=M.focusOffset;try{S.nodeType,J.nodeType}catch{S=null;break e}var re=0,pe=-1,Ce=-1,Be=0,lt=0,dt=g,at=null;t:for(;;){for(var Dt;dt!==S||K!==0&&dt.nodeType!==3||(pe=re+K),dt!==J||M!==0&&dt.nodeType!==3||(Ce=re+M),dt.nodeType===3&&(re+=dt.nodeValue.length),(Dt=dt.firstChild)!==null;)at=dt,dt=Dt;for(;;){if(dt===g)break t;if(at===S&&++Be===K&&(pe=re),at===J&&++lt===M&&(Ce=re),(Dt=dt.nextSibling)!==null)break;dt=at,at=dt.parentNode}dt=Dt}S=pe===-1||Ce===-1?null:{start:pe,end:Ce}}else S=null}S=S||{start:0,end:0}}else S=null;for(Zk={focusedElem:g,selectionRange:S},$n=!1,Bt=y;Bt!==null;)if(y=Bt,g=y.child,(y.subtreeFlags&1028)!==0&&g!==null)g.return=y,Bt=g;else for(;Bt!==null;){y=Bt;try{var Gt=y.alternate;if((y.flags&1024)!==0)switch(y.tag){case 0:case 11:case 15:break;case 1:if(Gt!==null){var Yt=Gt.memoizedProps,ui=Gt.memoizedState,$e=y.stateNode,ke=$e.getSnapshotBeforeUpdate(y.elementType===y.type?Yt:vc(y.type,Yt),ui);$e.__reactInternalSnapshotBeforeUpdate=ke}break;case 3:var Oe=y.stateNode.containerInfo;Oe.nodeType===1?Oe.textContent="":Oe.nodeType===9&&Oe.documentElement&&Oe.removeChild(Oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(mt){ti(y,y.return,mt)}if(g=y.sibling,g!==null){g.return=y.return,Bt=g;break}Bt=y.return}return Gt=Lz,Lz=!1,Gt}function Fv(g,y,S){var M=y.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var K=M=M.next;do{if((K.tag&g)===g){var J=K.destroy;K.destroy=void 0,J!==void 0&&US(y,S,J)}K=K.next}while(K!==M)}}function S5(g,y){if(y=y.updateQueue,y=y!==null?y.lastEffect:null,y!==null){var S=y=y.next;do{if((S.tag&g)===g){var M=S.create;S.destroy=M()}S=S.next}while(S!==y)}}function BS(g){var y=g.ref;if(y!==null){var S=g.stateNode;g.tag,g=S,typeof y=="function"?y(g):y.current=g}}function Uz(g){var y=g.alternate;y!==null&&(g.alternate=null,Uz(y)),g.child=null,g.deletions=null,g.sibling=null,g.tag===5&&(y=g.stateNode,y!==null&&(delete y[xu],delete y[Av],delete y[nS],delete y[ixe],delete y[sxe])),g.stateNode=null,g.return=null,g.dependencies=null,g.memoizedProps=null,g.memoizedState=null,g.pendingProps=null,g.stateNode=null,g.updateQueue=null}function Bz(g){return g.tag===5||g.tag===3||g.tag===4}function zz(g){e:for(;;){for(;g.sibling===null;){if(g.return===null||Bz(g.return))return null;g=g.return}for(g.sibling.return=g.return,g=g.sibling;g.tag!==5&&g.tag!==6&&g.tag!==18;){if(g.flags&2||g.child===null||g.tag===4)continue e;g.child.return=g,g=g.child}if(!(g.flags&2))return g.stateNode}}function zS(g,y,S){var M=g.tag;if(M===5||M===6)g=g.stateNode,y?S.nodeType===8?S.parentNode.insertBefore(g,y):S.insertBefore(g,y):(S.nodeType===8?(y=S.parentNode,y.insertBefore(g,S)):(y=S,y.appendChild(g)),S=S._reactRootContainer,S!=null||y.onclick!==null||(y.onclick=n5));else if(M!==4&&(g=g.child,g!==null))for(zS(g,y,S),g=g.sibling;g!==null;)zS(g,y,S),g=g.sibling}function qS(g,y,S){var M=g.tag;if(M===5||M===6)g=g.stateNode,y?S.insertBefore(g,y):S.appendChild(g);else if(M!==4&&(g=g.child,g!==null))for(qS(g,y,S),g=g.sibling;g!==null;)qS(g,y,S),g=g.sibling}var xs=null,wc=!1;function Kh(g,y,S){for(S=S.child;S!==null;)qz(g,y,S),S=S.sibling}function qz(g,y,S){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(ws,S)}catch{}switch(S.tag){case 5:Js||lm(S,y);case 6:var M=xs,K=wc;xs=null,Kh(g,y,S),xs=M,wc=K,xs!==null&&(wc?(g=xs,S=S.stateNode,g.nodeType===8?g.parentNode.removeChild(S):g.removeChild(S)):xs.removeChild(S.stateNode));break;case 18:xs!==null&&(wc?(g=xs,S=S.stateNode,g.nodeType===8?rS(g.parentNode,S):g.nodeType===1&&rS(g,S),ot(g)):rS(xs,S.stateNode));break;case 4:M=xs,K=wc,xs=S.stateNode.containerInfo,wc=!0,Kh(g,y,S),xs=M,wc=K;break;case 0:case 11:case 14:case 15:if(!Js&&(M=S.updateQueue,M!==null&&(M=M.lastEffect,M!==null))){K=M=M.next;do{var J=K,re=J.destroy;J=J.tag,re!==void 0&&((J&2)!==0||(J&4)!==0)&&US(S,y,re),K=K.next}while(K!==M)}Kh(g,y,S);break;case 1:if(!Js&&(lm(S,y),M=S.stateNode,typeof M.componentWillUnmount=="function"))try{M.props=S.memoizedProps,M.state=S.memoizedState,M.componentWillUnmount()}catch(pe){ti(S,y,pe)}Kh(g,y,S);break;case 21:Kh(g,y,S);break;case 22:S.mode&1?(Js=(M=Js)||S.memoizedState!==null,Kh(g,y,S),Js=M):Kh(g,y,S);break;default:Kh(g,y,S)}}function Wz(g){var y=g.updateQueue;if(y!==null){g.updateQueue=null;var S=g.stateNode;S===null&&(S=g.stateNode=new xxe),y.forEach(function(M){var K=$xe.bind(null,g,M);S.has(M)||(S.add(M),M.then(K,K))})}}function bc(g,y){var S=y.deletions;if(S!==null)for(var M=0;M<S.length;M++){var K=S[M];try{var J=g,re=y,pe=re;e:for(;pe!==null;){switch(pe.tag){case 5:xs=pe.stateNode,wc=!1;break e;case 3:xs=pe.stateNode.containerInfo,wc=!0;break e;case 4:xs=pe.stateNode.containerInfo,wc=!0;break e}pe=pe.return}if(xs===null)throw Error(r(160));qz(J,re,K),xs=null,wc=!1;var Ce=K.alternate;Ce!==null&&(Ce.return=null),K.return=null}catch(Be){ti(K,y,Be)}}if(y.subtreeFlags&12854)for(y=y.child;y!==null;)Hz(y,g),y=y.sibling}function Hz(g,y){var S=g.alternate,M=g.flags;switch(g.tag){case 0:case 11:case 14:case 15:if(bc(y,g),Eu(g),M&4){try{Fv(3,g,g.return),S5(3,g)}catch(Yt){ti(g,g.return,Yt)}try{Fv(5,g,g.return)}catch(Yt){ti(g,g.return,Yt)}}break;case 1:bc(y,g),Eu(g),M&512&&S!==null&&lm(S,S.return);break;case 5:if(bc(y,g),Eu(g),M&512&&S!==null&&lm(S,S.return),g.flags&32){var K=g.stateNode;try{it(K,"")}catch(Yt){ti(g,g.return,Yt)}}if(M&4&&(K=g.stateNode,K!=null)){var J=g.memoizedProps,re=S!==null?S.memoizedProps:J,pe=g.type,Ce=g.updateQueue;if(g.updateQueue=null,Ce!==null)try{pe==="input"&&J.type==="radio"&&J.name!=null&&qe(K,J),we(pe,re);var Be=we(pe,J);for(re=0;re<Ce.length;re+=2){var lt=Ce[re],dt=Ce[re+1];lt==="style"?Mt(K,dt):lt==="dangerouslySetInnerHTML"?Qe(K,dt):lt==="children"?it(K,dt):_(K,lt,dt,Be)}switch(pe){case"input":me(K,J);break;case"textarea":Ye(K,J);break;case"select":var at=K._wrapperState.wasMultiple;K._wrapperState.wasMultiple=!!J.multiple;var Dt=J.value;Dt!=null?Fe(K,!!J.multiple,Dt,!1):at!==!!J.multiple&&(J.defaultValue!=null?Fe(K,!!J.multiple,J.defaultValue,!0):Fe(K,!!J.multiple,J.multiple?[]:"",!1))}K[Av]=J}catch(Yt){ti(g,g.return,Yt)}}break;case 6:if(bc(y,g),Eu(g),M&4){if(g.stateNode===null)throw Error(r(162));K=g.stateNode,J=g.memoizedProps;try{K.nodeValue=J}catch(Yt){ti(g,g.return,Yt)}}break;case 3:if(bc(y,g),Eu(g),M&4&&S!==null&&S.memoizedState.isDehydrated)try{ot(y.containerInfo)}catch(Yt){ti(g,g.return,Yt)}break;case 4:bc(y,g),Eu(g);break;case 13:bc(y,g),Eu(g),K=g.child,K.flags&8192&&(J=K.memoizedState!==null,K.stateNode.isHidden=J,!J||K.alternate!==null&&K.alternate.memoizedState!==null||(VS=nn())),M&4&&Wz(g);break;case 22:if(lt=S!==null&&S.memoizedState!==null,g.mode&1?(Js=(Be=Js)||lt,bc(y,g),Js=Be):bc(y,g),Eu(g),M&8192){if(Be=g.memoizedState!==null,(g.stateNode.isHidden=Be)&&!lt&&(g.mode&1)!==0)for(Bt=g,lt=g.child;lt!==null;){for(dt=Bt=lt;Bt!==null;){switch(at=Bt,Dt=at.child,at.tag){case 0:case 11:case 14:case 15:Fv(4,at,at.return);break;case 1:lm(at,at.return);var Gt=at.stateNode;if(typeof Gt.componentWillUnmount=="function"){M=at,S=at.return;try{y=M,Gt.props=y.memoizedProps,Gt.state=y.memoizedState,Gt.componentWillUnmount()}catch(Yt){ti(M,S,Yt)}}break;case 5:lm(at,at.return);break;case 22:if(at.memoizedState!==null){Kz(dt);continue}}Dt!==null?(Dt.return=at,Bt=Dt):Kz(dt)}lt=lt.sibling}e:for(lt=null,dt=g;;){if(dt.tag===5){if(lt===null){lt=dt;try{K=dt.stateNode,Be?(J=K.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none"):(pe=dt.stateNode,Ce=dt.memoizedProps.style,re=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null,pe.style.display=Ze("display",re))}catch(Yt){ti(g,g.return,Yt)}}}else if(dt.tag===6){if(lt===null)try{dt.stateNode.nodeValue=Be?"":dt.memoizedProps}catch(Yt){ti(g,g.return,Yt)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===g)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===g)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===g)break e;lt===dt&&(lt=null),dt=dt.return}lt===dt&&(lt=null),dt.sibling.return=dt.return,dt=dt.sibling}}break;case 19:bc(y,g),Eu(g),M&4&&Wz(g);break;case 21:break;default:bc(y,g),Eu(g)}}function Eu(g){var y=g.flags;if(y&2){try{e:{for(var S=g.return;S!==null;){if(Bz(S)){var M=S;break e}S=S.return}throw Error(r(160))}switch(M.tag){case 5:var K=M.stateNode;M.flags&32&&(it(K,""),M.flags&=-33);var J=zz(g);qS(g,J,K);break;case 3:case 4:var re=M.stateNode.containerInfo,pe=zz(g);zS(g,pe,re);break;default:throw Error(r(161))}}catch(Ce){ti(g,g.return,Ce)}g.flags&=-3}y&4096&&(g.flags&=-4097)}function Cxe(g,y,S){Bt=g,Vz(g)}function Vz(g,y,S){for(var M=(g.mode&1)!==0;Bt!==null;){var K=Bt,J=K.child;if(K.tag===22&&M){var re=K.memoizedState!==null||k5;if(!re){var pe=K.alternate,Ce=pe!==null&&pe.memoizedState!==null||Js;pe=k5;var Be=Js;if(k5=re,(Js=Ce)&&!Be)for(Bt=K;Bt!==null;)re=Bt,Ce=re.child,re.tag===22&&re.memoizedState!==null?Yz(K):Ce!==null?(Ce.return=re,Bt=Ce):Yz(K);for(;J!==null;)Bt=J,Vz(J),J=J.sibling;Bt=K,k5=pe,Js=Be}Gz(g)}else(K.subtreeFlags&8772)!==0&&J!==null?(J.return=K,Bt=J):Gz(g)}}function Gz(g){for(;Bt!==null;){var y=Bt;if((y.flags&8772)!==0){var S=y.alternate;try{if((y.flags&8772)!==0)switch(y.tag){case 0:case 11:case 15:Js||S5(5,y);break;case 1:var M=y.stateNode;if(y.flags&4&&!Js)if(S===null)M.componentDidMount();else{var K=y.elementType===y.type?S.memoizedProps:vc(y.type,S.memoizedProps);M.componentDidUpdate(K,S.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var J=y.updateQueue;J!==null&&KB(y,J,M);break;case 3:var re=y.updateQueue;if(re!==null){if(S=null,y.child!==null)switch(y.child.tag){case 5:S=y.child.stateNode;break;case 1:S=y.child.stateNode}KB(y,re,S)}break;case 5:var pe=y.stateNode;if(S===null&&y.flags&4){S=pe;var Ce=y.memoizedProps;switch(y.type){case"button":case"input":case"select":case"textarea":Ce.autoFocus&&S.focus();break;case"img":Ce.src&&(S.src=Ce.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(y.memoizedState===null){var Be=y.alternate;if(Be!==null){var lt=Be.memoizedState;if(lt!==null){var dt=lt.dehydrated;dt!==null&&ot(dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Js||y.flags&512&&BS(y)}catch(at){ti(y,y.return,at)}}if(y===g){Bt=null;break}if(S=y.sibling,S!==null){S.return=y.return,Bt=S;break}Bt=y.return}}function Kz(g){for(;Bt!==null;){var y=Bt;if(y===g){Bt=null;break}var S=y.sibling;if(S!==null){S.return=y.return,Bt=S;break}Bt=y.return}}function Yz(g){for(;Bt!==null;){var y=Bt;try{switch(y.tag){case 0:case 11:case 15:var S=y.return;try{S5(4,y)}catch(Ce){ti(y,S,Ce)}break;case 1:var M=y.stateNode;if(typeof M.componentDidMount=="function"){var K=y.return;try{M.componentDidMount()}catch(Ce){ti(y,K,Ce)}}var J=y.return;try{BS(y)}catch(Ce){ti(y,J,Ce)}break;case 5:var re=y.return;try{BS(y)}catch(Ce){ti(y,re,Ce)}}}catch(Ce){ti(y,y.return,Ce)}if(y===g){Bt=null;break}var pe=y.sibling;if(pe!==null){pe.return=y.return,Bt=pe;break}Bt=y.return}}var Exe=Math.ceil,A5=A.ReactCurrentDispatcher,WS=A.ReactCurrentOwner,pl=A.ReactCurrentBatchConfig,Wr=0,rs=null,_i=null,_s=0,Ta=0,cm=qh(0),Li=0,Lv=null,Mp=0,T5=0,HS=0,Uv=null,Vo=null,VS=0,um=1/0,Td=null,I5=!1,GS=null,Yh=null,P5=!1,Jh=null,$5=0,Bv=0,KS=null,N5=-1,R5=0;function _o(){return(Wr&6)!==0?nn():N5!==-1?N5:N5=nn()}function Xh(g){return(g.mode&1)===0?1:(Wr&2)!==0&&_s!==0?_s&-_s:axe.transition!==null?(R5===0&&(R5=F3()),R5):(g=tn,g!==0||(g=window.event,g=g===void 0?16:mv(g.type)),g)}function xc(g,y,S,M){if(50<Bv)throw Bv=0,KS=null,Error(r(185));kp(g,S,M),((Wr&2)===0||g!==rs)&&(g===rs&&((Wr&2)===0&&(T5|=S),Li===4&&Qh(g,_s)),Go(g,M),S===1&&Wr===0&&(y.mode&1)===0&&(um=nn()+500,a5&&Hh()))}function Go(g,y){var S=g.callbackNode;Rk(g,y);var M=Lg(g,g===rs?_s:0);if(M===0)S!==null&&qr(S),g.callbackNode=null,g.callbackPriority=0;else if(y=M&-M,g.callbackPriority!==y){if(S!=null&&qr(S),y===1)g.tag===0?oxe(Xz.bind(null,g)):MB(Xz.bind(null,g)),rxe(function(){(Wr&6)===0&&Hh()}),S=null;else{switch(L3(M)){case 1:S=Kr;break;case 4:S=hr;break;case 16:S=sn;break;case 536870912:S=zo;break;default:S=sn}S=sq(S,Jz.bind(null,g))}g.callbackPriority=y,g.callbackNode=S}}function Jz(g,y){if(N5=-1,R5=0,(Wr&6)!==0)throw Error(r(327));var S=g.callbackNode;if(dm()&&g.callbackNode!==S)return null;var M=Lg(g,g===rs?_s:0);if(M===0)return null;if((M&30)!==0||(M&g.expiredLanes)!==0||y)y=O5(g,M);else{y=M;var K=Wr;Wr|=2;var J=Zz();(rs!==g||_s!==y)&&(Td=null,um=nn()+500,Fp(g,y));do try{Axe();break}catch(pe){Qz(g,pe)}while(!0);hS(),A5.current=J,Wr=K,_i!==null?y=0:(rs=null,_s=0,y=Li)}if(y!==0){if(y===2&&(K=uv(g),K!==0&&(M=K,y=YS(g,K))),y===1)throw S=Lv,Fp(g,0),Qh(g,M),Go(g,nn()),S;if(y===6)Qh(g,M);else{if(K=g.current.alternate,(M&30)===0&&!kxe(K)&&(y=O5(g,M),y===2&&(J=uv(g),J!==0&&(M=J,y=YS(g,J))),y===1))throw S=Lv,Fp(g,0),Qh(g,M),Go(g,nn()),S;switch(g.finishedWork=K,g.finishedLanes=M,y){case 0:case 1:throw Error(r(345));case 2:Lp(g,Vo,Td);break;case 3:if(Qh(g,M),(M&130023424)===M&&(y=VS+500-nn(),10<y)){if(Lg(g,0)!==0)break;if(K=g.suspendedLanes,(K&M)!==M){_o(),g.pingedLanes|=g.suspendedLanes&K;break}g.timeoutHandle=tS(Lp.bind(null,g,Vo,Td),y);break}Lp(g,Vo,Td);break;case 4:if(Qh(g,M),(M&4194240)===M)break;for(y=g.eventTimes,K=-1;0<M;){var re=31-bs(M);J=1<<re,re=y[re],re>K&&(K=re),M&=~J}if(M=K,M=nn()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*Exe(M/1960))-M,10<M){g.timeoutHandle=tS(Lp.bind(null,g,Vo,Td),M);break}Lp(g,Vo,Td);break;case 5:Lp(g,Vo,Td);break;default:throw Error(r(329))}}}return Go(g,nn()),g.callbackNode===S?Jz.bind(null,g):null}function YS(g,y){var S=Uv;return g.current.memoizedState.isDehydrated&&(Fp(g,y).flags|=256),g=O5(g,y),g!==2&&(y=Vo,Vo=S,y!==null&&JS(y)),g}function JS(g){Vo===null?Vo=g:Vo.push.apply(Vo,g)}function kxe(g){for(var y=g;;){if(y.flags&16384){var S=y.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var M=0;M<S.length;M++){var K=S[M],J=K.getSnapshot;K=K.value;try{if(!mc(J(),K))return!1}catch{return!1}}}if(S=y.child,y.subtreeFlags&16384&&S!==null)S.return=y,y=S;else{if(y===g)break;for(;y.sibling===null;){if(y.return===null||y.return===g)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function Qh(g,y){for(y&=~HS,y&=~T5,g.suspendedLanes|=y,g.pingedLanes&=~y,g=g.expirationTimes;0<y;){var S=31-bs(y),M=1<<S;g[S]=-1,y&=~M}}function Xz(g){if((Wr&6)!==0)throw Error(r(327));dm();var y=Lg(g,0);if((y&1)===0)return Go(g,nn()),null;var S=O5(g,y);if(g.tag!==0&&S===2){var M=uv(g);M!==0&&(y=M,S=YS(g,M))}if(S===1)throw S=Lv,Fp(g,0),Qh(g,y),Go(g,nn()),S;if(S===6)throw Error(r(345));return g.finishedWork=g.current.alternate,g.finishedLanes=y,Lp(g,Vo,Td),Go(g,nn()),null}function XS(g,y){var S=Wr;Wr|=1;try{return g(y)}finally{Wr=S,Wr===0&&(um=nn()+500,a5&&Hh())}}function Dp(g){Jh!==null&&Jh.tag===0&&(Wr&6)===0&&dm();var y=Wr;Wr|=1;var S=pl.transition,M=tn;try{if(pl.transition=null,tn=1,g)return g()}finally{tn=M,pl.transition=S,Wr=y,(Wr&6)===0&&Hh()}}function QS(){Ta=cm.current,Rn(cm)}function Fp(g,y){g.finishedWork=null,g.finishedLanes=0;var S=g.timeoutHandle;if(S!==-1&&(g.timeoutHandle=-1,txe(S)),_i!==null)for(S=_i.return;S!==null;){var M=S;switch(aS(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&s5();break;case 3:om(),Rn(qo),Rn(Gs),bS();break;case 5:vS(M);break;case 4:om();break;case 13:Rn(Kn);break;case 19:Rn(Kn);break;case 10:fS(M.type._context);break;case 22:case 23:QS()}S=S.return}if(rs=g,_i=g=Zh(g.current,null),_s=Ta=y,Li=0,Lv=null,HS=T5=Mp=0,Vo=Uv=null,Rp!==null){for(y=0;y<Rp.length;y++)if(S=Rp[y],M=S.interleaved,M!==null){S.interleaved=null;var K=M.next,J=S.pending;if(J!==null){var re=J.next;J.next=K,M.next=re}S.pending=M}Rp=null}return g}function Qz(g,y){do{var S=_i;try{if(hS(),y5.current=x5,v5){for(var M=Yn.memoizedState;M!==null;){var K=M.queue;K!==null&&(K.pending=null),M=M.next}v5=!1}if(jp=0,ts=Fi=Yn=null,Rv=!1,Ov=0,WS.current=null,S===null||S.return===null){Li=1,Lv=y,_i=null;break}e:{var J=g,re=S.return,pe=S,Ce=y;if(y=_s,pe.flags|=32768,Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var Be=Ce,lt=pe,dt=lt.tag;if((lt.mode&1)===0&&(dt===0||dt===11||dt===15)){var at=lt.alternate;at?(lt.updateQueue=at.updateQueue,lt.memoizedState=at.memoizedState,lt.lanes=at.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var Dt=Cz(re);if(Dt!==null){Dt.flags&=-257,Ez(Dt,re,pe,J,y),Dt.mode&1&&_z(J,Be,y),y=Dt,Ce=Be;var Gt=y.updateQueue;if(Gt===null){var Yt=new Set;Yt.add(Ce),y.updateQueue=Yt}else Gt.add(Ce);break e}else{if((y&1)===0){_z(J,Be,y),ZS();break e}Ce=Error(r(426))}}else if(qn&&pe.mode&1){var ui=Cz(re);if(ui!==null){(ui.flags&65536)===0&&(ui.flags|=256),Ez(ui,re,pe,J,y),uS(am(Ce,pe));break e}}J=Ce=am(Ce,pe),Li!==4&&(Li=2),Uv===null?Uv=[J]:Uv.push(J),J=re;do{switch(J.tag){case 3:J.flags|=65536,y&=-y,J.lanes|=y;var $e=bz(J,Ce,y);GB(J,$e);break e;case 1:pe=Ce;var ke=J.type,Oe=J.stateNode;if((J.flags&128)===0&&(typeof ke.getDerivedStateFromError=="function"||Oe!==null&&typeof Oe.componentDidCatch=="function"&&(Yh===null||!Yh.has(Oe)))){J.flags|=65536,y&=-y,J.lanes|=y;var mt=xz(J,pe,y);GB(J,mt);break e}}J=J.return}while(J!==null)}tq(S)}catch(Xt){y=Xt,_i===S&&S!==null&&(_i=S=S.return);continue}break}while(!0)}function Zz(){var g=A5.current;return A5.current=x5,g===null?x5:g}function ZS(){(Li===0||Li===3||Li===2)&&(Li=4),rs===null||(Mp&268435455)===0&&(T5&268435455)===0||Qh(rs,_s)}function O5(g,y){var S=Wr;Wr|=2;var M=Zz();(rs!==g||_s!==y)&&(Td=null,Fp(g,y));do try{Sxe();break}catch(K){Qz(g,K)}while(!0);if(hS(),Wr=S,A5.current=M,_i!==null)throw Error(r(261));return rs=null,_s=0,Li}function Sxe(){for(;_i!==null;)eq(_i)}function Axe(){for(;_i!==null&&!ci();)eq(_i)}function eq(g){var y=iq(g.alternate,g,Ta);g.memoizedProps=g.pendingProps,y===null?tq(g):_i=y,WS.current=null}function tq(g){var y=g;do{var S=y.alternate;if(g=y.return,(y.flags&32768)===0){if(S=wxe(S,y,Ta),S!==null){_i=S;return}}else{if(S=bxe(S,y),S!==null){S.flags&=32767,_i=S;return}if(g!==null)g.flags|=32768,g.subtreeFlags=0,g.deletions=null;else{Li=6,_i=null;return}}if(y=y.sibling,y!==null){_i=y;return}_i=y=g}while(y!==null);Li===0&&(Li=5)}function Lp(g,y,S){var M=tn,K=pl.transition;try{pl.transition=null,tn=1,Txe(g,y,S,M)}finally{pl.transition=K,tn=M}return null}function Txe(g,y,S,M){do dm();while(Jh!==null);if((Wr&6)!==0)throw Error(r(327));S=g.finishedWork;var K=g.finishedLanes;if(S===null)return null;if(g.finishedWork=null,g.finishedLanes=0,S===g.current)throw Error(r(177));g.callbackNode=null,g.callbackPriority=0;var J=S.lanes|S.childLanes;if(Ok(g,J),g===rs&&(_i=rs=null,_s=0),(S.subtreeFlags&2064)===0&&(S.flags&2064)===0||P5||(P5=!0,sq(sn,function(){return dm(),null})),J=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||J){J=pl.transition,pl.transition=null;var re=tn;tn=1;var pe=Wr;Wr|=4,WS.current=null,_xe(g,S),Hz(S,g),K2e(Zk),$n=!!Qk,Zk=Qk=null,g.current=S,Cxe(S),cl(),Wr=pe,tn=re,pl.transition=J}else g.current=S;if(P5&&(P5=!1,Jh=g,$5=K),J=g.pendingLanes,J===0&&(Yh=null),bd(S.stateNode),Go(g,nn()),y!==null)for(M=g.onRecoverableError,S=0;S<y.length;S++)K=y[S],M(K.value,{componentStack:K.stack,digest:K.digest});if(I5)throw I5=!1,g=GS,GS=null,g;return($5&1)!==0&&g.tag!==0&&dm(),J=g.pendingLanes,(J&1)!==0?g===KS?Bv++:(Bv=0,KS=g):Bv=0,Hh(),null}function dm(){if(Jh!==null){var g=L3($5),y=pl.transition,S=tn;try{if(pl.transition=null,tn=16>g?16:g,Jh===null)var M=!1;else{if(g=Jh,Jh=null,$5=0,(Wr&6)!==0)throw Error(r(331));var K=Wr;for(Wr|=4,Bt=g.current;Bt!==null;){var J=Bt,re=J.child;if((Bt.flags&16)!==0){var pe=J.deletions;if(pe!==null){for(var Ce=0;Ce<pe.length;Ce++){var Be=pe[Ce];for(Bt=Be;Bt!==null;){var lt=Bt;switch(lt.tag){case 0:case 11:case 15:Fv(8,lt,J)}var dt=lt.child;if(dt!==null)dt.return=lt,Bt=dt;else for(;Bt!==null;){lt=Bt;var at=lt.sibling,Dt=lt.return;if(Uz(lt),lt===Be){Bt=null;break}if(at!==null){at.return=Dt,Bt=at;break}Bt=Dt}}}var Gt=J.alternate;if(Gt!==null){var Yt=Gt.child;if(Yt!==null){Gt.child=null;do{var ui=Yt.sibling;Yt.sibling=null,Yt=ui}while(Yt!==null)}}Bt=J}}if((J.subtreeFlags&2064)!==0&&re!==null)re.return=J,Bt=re;else e:for(;Bt!==null;){if(J=Bt,(J.flags&2048)!==0)switch(J.tag){case 0:case 11:case 15:Fv(9,J,J.return)}var $e=J.sibling;if($e!==null){$e.return=J.return,Bt=$e;break e}Bt=J.return}}var ke=g.current;for(Bt=ke;Bt!==null;){re=Bt;var Oe=re.child;if((re.subtreeFlags&2064)!==0&&Oe!==null)Oe.return=re,Bt=Oe;else e:for(re=ke;Bt!==null;){if(pe=Bt,(pe.flags&2048)!==0)try{switch(pe.tag){case 0:case 11:case 15:S5(9,pe)}}catch(Xt){ti(pe,pe.return,Xt)}if(pe===re){Bt=null;break e}var mt=pe.sibling;if(mt!==null){mt.return=pe.return,Bt=mt;break e}Bt=pe.return}}if(Wr=K,Hh(),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(ws,g)}catch{}M=!0}return M}finally{tn=S,pl.transition=y}}return!1}function rq(g,y,S){y=am(S,y),y=bz(g,y,1),g=Gh(g,y,1),y=_o(),g!==null&&(kp(g,1,y),Go(g,y))}function ti(g,y,S){if(g.tag===3)rq(g,g,S);else for(;y!==null;){if(y.tag===3){rq(y,g,S);break}else if(y.tag===1){var M=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Yh===null||!Yh.has(M))){g=am(S,g),g=xz(y,g,1),y=Gh(y,g,1),g=_o(),y!==null&&(kp(y,1,g),Go(y,g));break}}y=y.return}}function Ixe(g,y,S){var M=g.pingCache;M!==null&&M.delete(y),y=_o(),g.pingedLanes|=g.suspendedLanes&S,rs===g&&(_s&S)===S&&(Li===4||Li===3&&(_s&130023424)===_s&&500>nn()-VS?Fp(g,0):HS|=S),Go(g,y)}function nq(g,y){y===0&&((g.mode&1)===0?y=1:(y=Fg,Fg<<=1,(Fg&130023424)===0&&(Fg=4194304)));var S=_o();g=kd(g,y),g!==null&&(kp(g,y,S),Go(g,S))}function Pxe(g){var y=g.memoizedState,S=0;y!==null&&(S=y.retryLane),nq(g,S)}function $xe(g,y){var S=0;switch(g.tag){case 13:var M=g.stateNode,K=g.memoizedState;K!==null&&(S=K.retryLane);break;case 19:M=g.stateNode;break;default:throw Error(r(314))}M!==null&&M.delete(y),nq(g,S)}var iq;iq=function(g,y,S){if(g!==null)if(g.memoizedProps!==y.pendingProps||qo.current)Ho=!0;else{if((g.lanes&S)===0&&(y.flags&128)===0)return Ho=!1,vxe(g,y,S);Ho=(g.flags&131072)!==0}else Ho=!1,qn&&(y.flags&1048576)!==0&&DB(y,c5,y.index);switch(y.lanes=0,y.tag){case 2:var M=y.type;E5(g,y),g=y.pendingProps;var K=Zg(y,Gs.current);sm(y,S),K=CS(null,y,M,g,K,S);var J=ES();return y.flags|=1,typeof K=="object"&&K!==null&&typeof K.render=="function"&&K.$$typeof===void 0?(y.tag=1,y.memoizedState=null,y.updateQueue=null,Wo(M)?(J=!0,o5(y)):J=!1,y.memoizedState=K.state!==null&&K.state!==void 0?K.state:null,mS(y),K.updater=_5,y.stateNode=K,K._reactInternals=y,PS(y,M,g,S),y=OS(null,y,M,!0,J,S)):(y.tag=0,qn&&J&&oS(y),xo(null,y,K,S),y=y.child),y;case 16:M=y.elementType;e:{switch(E5(g,y),g=y.pendingProps,K=M._init,M=K(M._payload),y.type=M,K=y.tag=Rxe(M),g=vc(M,g),K){case 0:y=RS(null,y,M,g,S);break e;case 1:y=Pz(null,y,M,g,S);break e;case 11:y=kz(null,y,M,g,S);break e;case 14:y=Sz(null,y,M,vc(M.type,g),S);break e}throw Error(r(306,M,""))}return y;case 0:return M=y.type,K=y.pendingProps,K=y.elementType===M?K:vc(M,K),RS(g,y,M,K,S);case 1:return M=y.type,K=y.pendingProps,K=y.elementType===M?K:vc(M,K),Pz(g,y,M,K,S);case 3:e:{if($z(y),g===null)throw Error(r(387));M=y.pendingProps,J=y.memoizedState,K=J.element,VB(g,y),g5(y,M,null,S);var re=y.memoizedState;if(M=re.element,J.isDehydrated)if(J={element:M,isDehydrated:!1,cache:re.cache,pendingSuspenseBoundaries:re.pendingSuspenseBoundaries,transitions:re.transitions},y.updateQueue.baseState=J,y.memoizedState=J,y.flags&256){K=am(Error(r(423)),y),y=Nz(g,y,M,S,K);break e}else if(M!==K){K=am(Error(r(424)),y),y=Nz(g,y,M,S,K);break e}else for(Aa=zh(y.stateNode.containerInfo.firstChild),Sa=y,qn=!0,yc=null,S=WB(y,null,M,S),y.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(rm(),M===K){y=Ad(g,y,S);break e}xo(g,y,M,S)}y=y.child}return y;case 5:return YB(y),g===null&&cS(y),M=y.type,K=y.pendingProps,J=g!==null?g.memoizedProps:null,re=K.children,eS(M,K)?re=null:J!==null&&eS(M,J)&&(y.flags|=32),Iz(g,y),xo(g,y,re,S),y.child;case 6:return g===null&&cS(y),null;case 13:return Rz(g,y,S);case 4:return yS(y,y.stateNode.containerInfo),M=y.pendingProps,g===null?y.child=nm(y,null,M,S):xo(g,y,M,S),y.child;case 11:return M=y.type,K=y.pendingProps,K=y.elementType===M?K:vc(M,K),kz(g,y,M,K,S);case 7:return xo(g,y,y.pendingProps,S),y.child;case 8:return xo(g,y,y.pendingProps.children,S),y.child;case 12:return xo(g,y,y.pendingProps.children,S),y.child;case 10:e:{if(M=y.type._context,K=y.pendingProps,J=y.memoizedProps,re=K.value,An(h5,M._currentValue),M._currentValue=re,J!==null)if(mc(J.value,re)){if(J.children===K.children&&!qo.current){y=Ad(g,y,S);break e}}else for(J=y.child,J!==null&&(J.return=y);J!==null;){var pe=J.dependencies;if(pe!==null){re=J.child;for(var Ce=pe.firstContext;Ce!==null;){if(Ce.context===M){if(J.tag===1){Ce=Sd(-1,S&-S),Ce.tag=2;var Be=J.updateQueue;if(Be!==null){Be=Be.shared;var lt=Be.pending;lt===null?Ce.next=Ce:(Ce.next=lt.next,lt.next=Ce),Be.pending=Ce}}J.lanes|=S,Ce=J.alternate,Ce!==null&&(Ce.lanes|=S),pS(J.return,S,y),pe.lanes|=S;break}Ce=Ce.next}}else if(J.tag===10)re=J.type===y.type?null:J.child;else if(J.tag===18){if(re=J.return,re===null)throw Error(r(341));re.lanes|=S,pe=re.alternate,pe!==null&&(pe.lanes|=S),pS(re,S,y),re=J.sibling}else re=J.child;if(re!==null)re.return=J;else for(re=J;re!==null;){if(re===y){re=null;break}if(J=re.sibling,J!==null){J.return=re.return,re=J;break}re=re.return}J=re}xo(g,y,K.children,S),y=y.child}return y;case 9:return K=y.type,M=y.pendingProps.children,sm(y,S),K=hl(K),M=M(K),y.flags|=1,xo(g,y,M,S),y.child;case 14:return M=y.type,K=vc(M,y.pendingProps),K=vc(M.type,K),Sz(g,y,M,K,S);case 15:return Az(g,y,y.type,y.pendingProps,S);case 17:return M=y.type,K=y.pendingProps,K=y.elementType===M?K:vc(M,K),E5(g,y),y.tag=1,Wo(M)?(g=!0,o5(y)):g=!1,sm(y,S),vz(y,M,K),PS(y,M,K,S),OS(null,y,M,!0,g,S);case 19:return jz(g,y,S);case 22:return Tz(g,y,S)}throw Error(r(156,y.tag))};function sq(g,y){return vr(g,y)}function Nxe(g,y,S,M){this.tag=g,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gl(g,y,S,M){return new Nxe(g,y,S,M)}function eA(g){return g=g.prototype,!(!g||!g.isReactComponent)}function Rxe(g){if(typeof g=="function")return eA(g)?1:0;if(g!=null){if(g=g.$$typeof,g===O)return 11;if(g===I)return 14}return 2}function Zh(g,y){var S=g.alternate;return S===null?(S=gl(g.tag,y,g.key,g.mode),S.elementType=g.elementType,S.type=g.type,S.stateNode=g.stateNode,S.alternate=g,g.alternate=S):(S.pendingProps=y,S.type=g.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=g.flags&14680064,S.childLanes=g.childLanes,S.lanes=g.lanes,S.child=g.child,S.memoizedProps=g.memoizedProps,S.memoizedState=g.memoizedState,S.updateQueue=g.updateQueue,y=g.dependencies,S.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},S.sibling=g.sibling,S.index=g.index,S.ref=g.ref,S}function j5(g,y,S,M,K,J){var re=2;if(M=g,typeof g=="function")eA(g)&&(re=1);else if(typeof g=="string")re=5;else e:switch(g){case P:return Up(S.children,K,J,y);case F:re=8,K|=8;break;case N:return g=gl(12,S,y,K|2),g.elementType=N,g.lanes=J,g;case D:return g=gl(13,S,y,K),g.elementType=D,g.lanes=J,g;case T:return g=gl(19,S,y,K),g.elementType=T,g.lanes=J,g;case L:return M5(S,K,J,y);default:if(typeof g=="object"&&g!==null)switch(g.$$typeof){case $:re=10;break e;case U:re=9;break e;case O:re=11;break e;case I:re=14;break e;case R:re=16,M=null;break e}throw Error(r(130,g==null?g:typeof g,""))}return y=gl(re,S,y,K),y.elementType=g,y.type=M,y.lanes=J,y}function Up(g,y,S,M){return g=gl(7,g,M,y),g.lanes=S,g}function M5(g,y,S,M){return g=gl(22,g,M,y),g.elementType=L,g.lanes=S,g.stateNode={isHidden:!1},g}function tA(g,y,S){return g=gl(6,g,null,y),g.lanes=S,g}function rA(g,y,S){return y=gl(4,g.children!==null?g.children:[],g.key,y),y.lanes=S,y.stateNode={containerInfo:g.containerInfo,pendingChildren:null,implementation:g.implementation},y}function Oxe(g,y,S,M,K){this.tag=y,this.containerInfo=g,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dv(0),this.expirationTimes=dv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dv(0),this.identifierPrefix=M,this.onRecoverableError=K,this.mutableSourceEagerHydrationData=null}function nA(g,y,S,M,K,J,re,pe,Ce){return g=new Oxe(g,y,S,pe,Ce),y===1?(y=1,J===!0&&(y|=8)):y=0,J=gl(3,null,null,y),g.current=J,J.stateNode=g,J.memoizedState={element:M,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},mS(J),g}function jxe(g,y,S){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:M==null?null:""+M,children:g,containerInfo:y,implementation:S}}function oq(g){if(!g)return Wh;g=g._reactInternals;e:{if(Ct(g)!==g||g.tag!==1)throw Error(r(170));var y=g;do{switch(y.tag){case 3:y=y.stateNode.context;break e;case 1:if(Wo(y.type)){y=y.stateNode.__reactInternalMemoizedMergedChildContext;break e}}y=y.return}while(y!==null);throw Error(r(171))}if(g.tag===1){var S=g.type;if(Wo(S))return OB(g,S,y)}return y}function aq(g,y,S,M,K,J,re,pe,Ce){return g=nA(S,M,!0,g,K,J,re,pe,Ce),g.context=oq(null),S=g.current,M=_o(),K=Xh(S),J=Sd(M,K),J.callback=y??null,Gh(S,J,K),g.current.lanes=K,kp(g,K,M),Go(g,M),g}function D5(g,y,S,M){var K=y.current,J=_o(),re=Xh(K);return S=oq(S),y.context===null?y.context=S:y.pendingContext=S,y=Sd(J,re),y.payload={element:g},M=M===void 0?null:M,M!==null&&(y.callback=M),g=Gh(K,y,re),g!==null&&(xc(g,K,re,J),p5(g,K,re)),re}function F5(g){return g=g.current,g.child?(g.child.tag===5,g.child.stateNode):null}function lq(g,y){if(g=g.memoizedState,g!==null&&g.dehydrated!==null){var S=g.retryLane;g.retryLane=S!==0&&S<y?S:y}}function iA(g,y){lq(g,y),(g=g.alternate)&&lq(g,y)}function Mxe(){return null}var cq=typeof reportError=="function"?reportError:function(g){console.error(g)};function sA(g){this._internalRoot=g}L5.prototype.render=sA.prototype.render=function(g){var y=this._internalRoot;if(y===null)throw Error(r(409));D5(g,y,null,null)},L5.prototype.unmount=sA.prototype.unmount=function(){var g=this._internalRoot;if(g!==null){this._internalRoot=null;var y=g.containerInfo;Dp(function(){D5(null,g,null,null)}),y[xd]=null}};function L5(g){this._internalRoot=g}L5.prototype.unstable_scheduleHydration=function(g){if(g){var y=z3();g={blockedOn:null,target:g,priority:y};for(var S=0;S<bu.length&&y!==0&&y<bu[S].priority;S++);bu.splice(S,0,g),S===0&&V3(g)}};function oA(g){return!(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)}function U5(g){return!(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11&&(g.nodeType!==8||g.nodeValue!==" react-mount-point-unstable "))}function uq(){}function Dxe(g,y,S,M,K){if(K){if(typeof M=="function"){var J=M;M=function(){var Be=F5(re);J.call(Be)}}var re=aq(y,M,g,0,null,!1,!1,"",uq);return g._reactRootContainer=re,g[xd]=re.current,kv(g.nodeType===8?g.parentNode:g),Dp(),re}for(;K=g.lastChild;)g.removeChild(K);if(typeof M=="function"){var pe=M;M=function(){var Be=F5(Ce);pe.call(Be)}}var Ce=nA(g,0,!1,null,null,!1,!1,"",uq);return g._reactRootContainer=Ce,g[xd]=Ce.current,kv(g.nodeType===8?g.parentNode:g),Dp(function(){D5(y,Ce,S,M)}),Ce}function B5(g,y,S,M,K){var J=S._reactRootContainer;if(J){var re=J;if(typeof K=="function"){var pe=K;K=function(){var Ce=F5(re);pe.call(Ce)}}D5(y,re,g,K)}else re=Dxe(S,y,g,K,M);return F5(re)}U3=function(g){switch(g.tag){case 3:var y=g.stateNode;if(y.current.memoizedState.isDehydrated){var S=Ep(y.pendingLanes);S!==0&&(hv(y,S|1),Go(y,nn()),(Wr&6)===0&&(um=nn()+500,Hh()))}break;case 13:Dp(function(){var M=kd(g,1);if(M!==null){var K=_o();xc(M,g,1,K)}}),iA(g,1)}},fv=function(g){if(g.tag===13){var y=kd(g,134217728);if(y!==null){var S=_o();xc(y,g,134217728,S)}iA(g,134217728)}},B3=function(g){if(g.tag===13){var y=Xh(g),S=kd(g,y);if(S!==null){var M=_o();xc(S,g,y,M)}iA(g,y)}},z3=function(){return tn},q3=function(g,y){var S=tn;try{return tn=g,y()}finally{tn=S}},Ve=function(g,y,S){switch(y){case"input":if(me(g,S),y=S.name,S.type==="radio"&&y!=null){for(S=g;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll("input[name="+JSON.stringify(""+y)+'][type="radio"]'),y=0;y<S.length;y++){var M=S[y];if(M!==g&&M.form===g.form){var K=i5(M);if(!K)throw Error(r(90));ae(M),me(M,K)}}}break;case"textarea":Ye(g,S);break;case"select":y=S.value,y!=null&&Fe(g,!!S.multiple,y,!1)}},tr=XS,$t=Dp;var Fxe={usingClientEntryPoint:!1,Events:[Tv,Xg,i5,Ue,vt,XS]},zv={findFiberByHostInstance:Ip,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lxe={bundleType:zv.bundleType,version:zv.version,rendererPackageName:zv.rendererPackageName,rendererConfig:zv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(g){return g=gr(g),g===null?null:g.stateNode},findFiberByHostInstance:zv.findFiberByHostInstance||Mxe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var z5=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!z5.isDisabled&&z5.supportsFiber)try{ws=z5.inject(Lxe),es=z5}catch{}}return Ko.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fxe,Ko.createPortal=function(g,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oA(y))throw Error(r(200));return jxe(g,y,null,S)},Ko.createRoot=function(g,y){if(!oA(g))throw Error(r(299));var S=!1,M="",K=cq;return y!=null&&(y.unstable_strictMode===!0&&(S=!0),y.identifierPrefix!==void 0&&(M=y.identifierPrefix),y.onRecoverableError!==void 0&&(K=y.onRecoverableError)),y=nA(g,1,!1,null,null,S,!1,M,K),g[xd]=y.current,kv(g.nodeType===8?g.parentNode:g),new sA(y)},Ko.findDOMNode=function(g){if(g==null)return null;if(g.nodeType===1)return g;var y=g._reactInternals;if(y===void 0)throw typeof g.render=="function"?Error(r(188)):(g=Object.keys(g).join(","),Error(r(268,g)));return g=gr(y),g=g===null?null:g.stateNode,g},Ko.flushSync=function(g){return Dp(g)},Ko.hydrate=function(g,y,S){if(!U5(y))throw Error(r(200));return B5(null,g,y,!0,S)},Ko.hydrateRoot=function(g,y,S){if(!oA(g))throw Error(r(405));var M=S!=null&&S.hydratedSources||null,K=!1,J="",re=cq;if(S!=null&&(S.unstable_strictMode===!0&&(K=!0),S.identifierPrefix!==void 0&&(J=S.identifierPrefix),S.onRecoverableError!==void 0&&(re=S.onRecoverableError)),y=aq(y,null,g,1,S??null,K,!1,J,re),g[xd]=y.current,kv(g),M)for(g=0;g<M.length;g++)S=M[g],K=S._getVersion,K=K(S._source),y.mutableSourceEagerHydrationData==null?y.mutableSourceEagerHydrationData=[S,K]:y.mutableSourceEagerHydrationData.push(S,K);return new L5(y)},Ko.render=function(g,y,S){if(!U5(y))throw Error(r(200));return B5(null,g,y,!1,S)},Ko.unmountComponentAtNode=function(g){if(!U5(g))throw Error(r(40));return g._reactRootContainer?(Dp(function(){B5(null,null,g,!1,function(){g._reactRootContainer=null,g[xd]=null})}),!0):!1},Ko.unstable_batchedUpdates=XS,Ko.unstable_renderSubtreeIntoContainer=function(g,y,S,M){if(!U5(S))throw Error(r(200));if(g==null||g._reactInternals===void 0)throw Error(r(38));return B5(g,y,S,!1,M)},Ko.version="18.3.1-next-f1338f8080-20240426",Ko}var vq;function rse(){if(vq)return cA.exports;vq=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cA.exports=Gxe(),cA.exports}var wq;function Kxe(){if(wq)return q5;wq=1;var t=rse();return q5.createRoot=t.createRoot,q5.hydrateRoot=t.hydrateRoot,q5}var Yxe=Kxe();var bq="popstate";function Jxe(t={}){function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return K$("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:qb(i)}return Qxe(e,r,null,t)}function ei(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ql(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Xxe(){return Math.random().toString(36).substring(2,10)}function xq(t,e){return{usr:t.state,key:t.key,idx:e}}function K$(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?x1(e):e,state:r,key:e&&e.key||n||Xxe()}}function qb({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function x1(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Qxe(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a="POP",l=null,c=u();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function u(){return(o.state||{idx:null}).idx}function h(){a="POP";let w=u(),b=w==null?null:w-c;c=w,l&&l({action:a,location:v.location,delta:b})}function f(w,b){a="PUSH";let E=K$(v.location,w,b);c=u()+1;let _=xq(E,c),A=v.createHref(E);try{o.pushState(_,"",A)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(A)}s&&l&&l({action:a,location:v.location,delta:1})}function p(w,b){a="REPLACE";let E=K$(v.location,w,b);c=u();let _=xq(E,c),A=v.createHref(E);o.replaceState(_,"",A),s&&l&&l({action:a,location:v.location,delta:0})}function m(w){return Zxe(w)}let v={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bq,h),l=w,()=>{i.removeEventListener(bq,h),l=null}},createHref(w){return e(i,w)},createURL:m,encodeLocation(w){let b=m(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:p,go(w){return o.go(w)}};return v}function Zxe(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ei(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:qb(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function nse(t,e,r="/"){return e3e(t,e,r,!1)}function e3e(t,e,r,n){let i=typeof e=="string"?x1(e):e,s=yh(i.pathname||"/",r);if(s==null)return null;let o=ise(t);t3e(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=h3e(s);a=u3e(o[l],c,n)}return a}function ise(t,e=[],r=[],n="",i=!1){let s=(o,a,l=i,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&l)return;ei(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let h=ch([n,u.relativePath]),f=r.concat(u);o.children&&o.children.length>0&&(ei(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),ise(o.children,e,f,h,l)),!(o.path==null&&!o.index)&&e.push({path:h,score:l3e(h,o.index),routesMeta:f})};return t.forEach((o,a)=>{if(o.path===""||!o.path?.includes("?"))s(o,a);else for(let l of sse(o.path))s(o,a,!0,l)}),e}function sse(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=sse(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function t3e(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:c3e(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var r3e=/^:[\w-]+$/,n3e=3,i3e=2,s3e=1,o3e=10,a3e=-2,_q=t=>t==="*";function l3e(t,e){let r=t.split("/"),n=r.length;return r.some(_q)&&(n+=a3e),e&&(n+=i3e),r.filter(i=>!_q(i)).reduce((i,s)=>i+(r3e.test(s)?n3e:s===""?s3e:o3e),n)}function c3e(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function u3e(t,e,r=!1){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=g_({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=g_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ch([s,h.pathname]),pathnameBase:m3e(ch([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=ch([s,h.pathnameBase]))}return o}function g_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=d3e(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:h},f)=>{if(u==="*"){let m=a[f]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[f];return h&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function d3e(t,e=!1,r=!0){ql(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function h3e(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ql(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function yh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var ose=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f3e=t=>ose.test(t);function p3e(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?x1(t):t,s;if(r)if(f3e(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),ql(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?s=Cq(r.substring(1),"/"):s=Cq(r,e)}else s=e;return{pathname:s,search:y3e(n),hash:v3e(i)}}function Cq(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function hA(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function g3e(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ase(t){let e=g3e(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function lse(t,e,r,n=!1){let i;typeof t=="string"?i=x1(t):(i={...t},ei(!i.pathname||!i.pathname.includes("?"),hA("?","pathname","search",i)),ei(!i.pathname||!i.pathname.includes("#"),hA("#","pathname","hash",i)),ei(!i.search||!i.search.includes("#"),hA("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=p3e(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var ch=t=>t.join("/").replace(/\/\/+/g,"/"),m3e=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),y3e=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,v3e=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,w3e=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function b3e(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function x3e(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var cse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function use(t,e){let r=t;if(typeof r!="string"||!ose.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(cse)try{let s=new URL(window.location.href),o=r.startsWith("//")?new URL(s.protocol+r):new URL(r),a=yh(o.pathname,e);o.origin===s.origin&&a!=null?r=a+o.search+o.hash:i=!0}catch{ql(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dse=["POST","PUT","PATCH","DELETE"];new Set(dse);var _3e=["GET",...dse];new Set(_3e);var _1=x.createContext(null);_1.displayName="DataRouter";var ZC=x.createContext(null);ZC.displayName="DataRouterState";var C3e=x.createContext(!1),hse=x.createContext({isTransitioning:!1});hse.displayName="ViewTransition";var E3e=x.createContext(new Map);E3e.displayName="Fetchers";var k3e=x.createContext(null);k3e.displayName="Await";var tc=x.createContext(null);tc.displayName="Navigation";var Ex=x.createContext(null);Ex.displayName="Location";var $h=x.createContext({outlet:null,matches:[],isDataRoute:!1});$h.displayName="Route";var uM=x.createContext(null);uM.displayName="RouteError";var fse="REACT_ROUTER_ERROR",S3e="REDIRECT",A3e="ROUTE_ERROR_RESPONSE";function T3e(t){if(t.startsWith(`${fse}:${S3e}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function I3e(t){if(t.startsWith(`${fse}:${A3e}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new w3e(e.status,e.statusText,e.data)}catch{}}function P3e(t,{relative:e}={}){ei(kx(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=x.useContext(tc),{hash:i,pathname:s,search:o}=Sx(t,{relative:e}),a=s;return r!=="/"&&(a=s==="/"?r:ch([r,s])),n.createHref({pathname:a,search:o,hash:i})}function kx(){return x.useContext(Ex)!=null}function Nh(){return ei(kx(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Ex).location}var pse="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gse(t){x.useContext(tc).static||x.useLayoutEffect(t)}function mse(){let{isDataRoute:t}=x.useContext($h);return t?q3e():$3e()}function $3e(){ei(kx(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(_1),{basename:e,navigator:r}=x.useContext(tc),{matches:n}=x.useContext($h),{pathname:i}=Nh(),s=JSON.stringify(ase(n)),o=x.useRef(!1);return gse(()=>{o.current=!0}),x.useCallback((l,c={})=>{if(ql(o.current,pse),!o.current)return;if(typeof l=="number"){r.go(l);return}let u=lse(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:ch([e,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[e,r,s,i,t])}x.createContext(null);function Sx(t,{relative:e}={}){let{matches:r}=x.useContext($h),{pathname:n}=Nh(),i=JSON.stringify(ase(r));return x.useMemo(()=>lse(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function N3e(t,e){return yse(t,e)}function yse(t,e,r,n,i){ei(kx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(tc),{matches:o}=x.useContext($h),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",h=a&&a.route;{let E=h&&h.path||"";wse(c,!h||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let f=Nh(),p;if(e){let E=typeof e=="string"?x1(e):e;ei(u==="/"||E.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${E.pathname}" was given in the \`location\` prop.`),p=E}else p=f;let m=p.pathname||"/",v=m;if(u!=="/"){let E=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=nse(t,{pathname:v});ql(h||w!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ql(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=D3e(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:ch([u,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:ch([u,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,r,n,i);return e&&b?x.createElement(Ex.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},b):b}function R3e(){let t=z3e(),e=b3e(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:s},"ErrorBoundary")," or"," ",x.createElement("code",{style:s},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),r?x.createElement("pre",{style:i},r):null,o)}var O3e=x.createElement(R3e,null),vse=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=I3e(t.digest);r&&(t=r)}let e=t!==void 0?x.createElement($h.Provider,{value:this.props.routeContext},x.createElement(uM.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?x.createElement(j3e,{error:t},e):e}};vse.contextType=C3e;var fA=new WeakMap;function j3e({children:t,error:e}){let{basename:r}=x.useContext(tc);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=T3e(e.digest);if(n){let i=fA.get(e);if(i)throw i;let s=use(n.location,r);if(cse&&!fA.get(e))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw fA.set(e,o),o}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function M3e({routeContext:t,match:e,children:r}){let n=x.useContext(_1);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement($h.Provider,{value:t},r)}function D3e(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=r?.errors;if(o!=null){let u=s.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);ei(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let a=!1,l=-1;if(r)for(let u=0;u<s.length;u++){let h=s[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:f,errors:p}=r,m=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let c=r&&n?(u,h)=>{n(u,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:x3e(r.matches),errorInfo:h})}:void 0;return s.reduceRight((u,h,f)=>{let p,m=!1,v=null,w=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||O3e,a&&(l<0&&f===0?(wse("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,w=null):l===f&&(m=!0,w=h.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,f+1)),E=()=>{let _;return p?_=v:m?_=w:h.route.Component?_=x.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=u,x.createElement(M3e,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:_})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?x.createElement(vse,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:E(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:c}):E()},null)}function dM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F3e(t){let e=x.useContext(_1);return ei(e,dM(t)),e}function L3e(t){let e=x.useContext(ZC);return ei(e,dM(t)),e}function U3e(t){let e=x.useContext($h);return ei(e,dM(t)),e}function hM(t){let e=U3e(t),r=e.matches[e.matches.length-1];return ei(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function B3e(){return hM("useRouteId")}function z3e(){let t=x.useContext(uM),e=L3e("useRouteError"),r=hM("useRouteError");return t!==void 0?t:e.errors?.[r]}function q3e(){let{router:t}=F3e("useNavigate"),e=hM("useNavigate"),r=x.useRef(!1);return gse(()=>{r.current=!0}),x.useCallback(async(i,s={})=>{ql(r.current,pse),r.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Eq={};function wse(t,e,r){!e&&!Eq[t]&&(Eq[t]=!0,ql(!1,r))}x.memo(W3e);function W3e({routes:t,future:e,state:r,onError:n}){return yse(t,void 0,r,n,e)}function C4(t){ei(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function H3e({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:s=!1,unstable_useTransitions:o}){ei(!kx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:a,navigator:i,static:s,unstable_useTransitions:o,future:{}}),[a,i,s,o]);typeof r=="string"&&(r=x1(r));let{pathname:c="/",search:u="",hash:h="",state:f=null,key:p="default"}=r,m=x.useMemo(()=>{let v=yh(c,a);return v==null?null:{location:{pathname:v,search:u,hash:h,state:f,key:p},navigationType:n}},[a,c,u,h,f,p,n]);return ql(m!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:x.createElement(tc.Provider,{value:l},x.createElement(Ex.Provider,{children:e,value:m}))}function V3e({children:t,location:e}){return N3e(Y$(t),e)}function Y$(t,e=[]){let r=[];return x.Children.forEach(t,(n,i)=>{if(!x.isValidElement(n))return;let s=[...e,i];if(n.type===x.Fragment){r.push.apply(r,Y$(n.props.children,s));return}ei(n.type===C4,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ei(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Y$(n.props.children,s)),r.push(o)}),r}var E4="get",k4="application/x-www-form-urlencoded";function eE(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function G3e(t){return eE(t)&&t.tagName.toLowerCase()==="button"}function K3e(t){return eE(t)&&t.tagName.toLowerCase()==="form"}function Y3e(t){return eE(t)&&t.tagName.toLowerCase()==="input"}function J3e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function X3e(t,e){return t.button===0&&(!e||e==="_self")&&!J3e(t)}function J$(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function Q3e(t,e){let r=J$(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}var W5=null;function Z3e(){if(W5===null)try{new FormData(document.createElement("form"),0),W5=!1}catch{W5=!0}return W5}var e5e=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pA(t){return t!=null&&!e5e.has(t)?(ql(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${k4}"`),null):t}function t5e(t,e){let r,n,i,s,o;if(K3e(t)){let a=t.getAttribute("action");n=a?yh(a,e):null,r=t.getAttribute("method")||E4,i=pA(t.getAttribute("enctype"))||k4,s=new FormData(t)}else if(G3e(t)||Y3e(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(n=l?yh(l,e):null,r=t.getAttribute("formmethod")||a.getAttribute("method")||E4,i=pA(t.getAttribute("formenctype"))||pA(a.getAttribute("enctype"))||k4,s=new FormData(a,t),!Z3e()){let{name:c,type:u,value:h}=t;if(u==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,h)}}else{if(eE(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=E4,n=null,i=k4,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fM(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function r5e(t,e,r,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:e&&yh(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function n5e(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function i5e(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function s5e(t,e,r){let n=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await n5e(s,r);return o.links?o.links():[]}return[]}));return c5e(n.flat(1).filter(i5e).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function kq(t,e,r,n,i,s){let o=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,a=(l,c)=>r[c].pathname!==l.pathname||r[c].route.path?.endsWith("*")&&r[c].params["*"]!==l.params["*"];return s==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):s==="data"?e.filter((l,c)=>{let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function o5e(t,e,{includeHydrateFallback:r}={}){return a5e(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function a5e(t){return[...new Set(t)]}function l5e(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function c5e(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let s=JSON.stringify(l5e(i));return r.has(s)||(r.add(s),n.push({key:s,link:i})),n},[])}function bse(){let t=x.useContext(_1);return fM(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function u5e(){let t=x.useContext(ZC);return fM(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var pM=x.createContext(void 0);pM.displayName="FrameworkContext";function xse(){let t=x.useContext(pM);return fM(t,"You must render this element inside a <HydratedRouter> element"),t}function d5e(t,e){let r=x.useContext(pM),[n,i]=x.useState(!1),[s,o]=x.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:h}=e,f=x.useRef(null);x.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let v=b=>{b.forEach(E=>{o(E.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return f.current&&w.observe(f.current),()=>{w.disconnect()}}},[t]),x.useEffect(()=>{if(n){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[n]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return r?t!=="intent"?[s,f,{}]:[s,f,{onFocus:Wv(a,p),onBlur:Wv(l,m),onMouseEnter:Wv(c,p),onMouseLeave:Wv(u,m),onTouchStart:Wv(h,p)}]:[!1,f,{}]}function Wv(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function h5e({page:t,...e}){let{router:r}=bse(),n=x.useMemo(()=>nse(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?x.createElement(p5e,{page:t,matches:n,...e}):null}function f5e(t){let{manifest:e,routeModules:r}=xse(),[n,i]=x.useState([]);return x.useEffect(()=>{let s=!1;return s5e(t,e,r).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,r]),n}function p5e({page:t,matches:e,...r}){let n=Nh(),{future:i,manifest:s,routeModules:o}=xse(),{basename:a}=bse(),{loaderData:l,matches:c}=u5e(),u=x.useMemo(()=>kq(t,e,c,s,n,"data"),[t,e,c,s,n]),h=x.useMemo(()=>kq(t,e,c,s,n,"assets"),[t,e,c,s,n]),f=x.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let v=new Set,w=!1;if(e.forEach(E=>{let _=s.routes[E.route.id];!_||!_.hasLoader||(!u.some(A=>A.route.id===E.route.id)&&E.route.id in l&&o[E.route.id]?.shouldRevalidate||_.hasClientLoader?w=!0:v.add(E.route.id))}),v.size===0)return[];let b=r5e(t,a,i.unstable_trailingSlashAwareDataRequests,"data");return w&&v.size>0&&b.searchParams.set("_routes",e.filter(E=>v.has(E.route.id)).map(E=>E.route.id).join(",")),[b.pathname+b.search]},[a,i.unstable_trailingSlashAwareDataRequests,l,n,s,u,e,t,o]),p=x.useMemo(()=>o5e(h,s),[h,s]),m=f5e(h);return x.createElement(x.Fragment,null,f.map(v=>x.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),p.map(v=>x.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),m.map(({key:v,link:w})=>x.createElement("link",{key:v,nonce:r.nonce,...w})))}function g5e(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var m5e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{m5e&&(window.__reactRouterVersion="7.12.0")}catch{}function y5e({basename:t,children:e,unstable_useTransitions:r,window:n}){let i=x.useRef();i.current==null&&(i.current=Jxe({window:n,v5Compat:!0}));let s=i.current,[o,a]=x.useState({action:s.action,location:s.location}),l=x.useCallback(c=>{r===!1?a(c):x.startTransition(()=>a(c))},[r]);return x.useLayoutEffect(()=>s.listen(l),[s,l]),x.createElement(H3e,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:r})}var _se=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,C1=x.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h,unstable_defaultShouldRevalidate:f,...p},m){let{basename:v,unstable_useTransitions:w}=x.useContext(tc),b=typeof c=="string"&&_se.test(c),E=use(c,v);c=E.to;let _=P3e(c,{relative:i}),[A,C,k]=d5e(n,p),P=x5e(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:h,unstable_defaultShouldRevalidate:f,unstable_useTransitions:w});function F($){e&&e($),$.defaultPrevented||P($)}let N=x.createElement("a",{...p,...k,href:E.absoluteURL||_,onClick:E.isExternal||s?e:F,ref:g5e(m,C),target:l,"data-discover":!b&&r==="render"?"true":void 0});return A&&!b?x.createElement(x.Fragment,null,N,x.createElement(h5e,{page:_})):N});C1.displayName="Link";var v5e=x.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...c},u){let h=Sx(o,{relative:c.relative}),f=Nh(),p=x.useContext(ZC),{navigator:m,basename:v}=x.useContext(tc),w=p!=null&&A5e(h)&&a===!0,b=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,E=f.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(E=E.toLowerCase(),_=_?_.toLowerCase():null,b=b.toLowerCase()),_&&v&&(_=yh(_,v)||_);const A=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let C=E===b||!i&&E.startsWith(b)&&E.charAt(A)==="/",k=_!=null&&(_===b||!i&&_.startsWith(b)&&_.charAt(b.length)==="/"),P={isActive:C,isPending:k,isTransitioning:w},F=C?e:void 0,N;typeof n=="function"?N=n(P):N=[n,C?"active":null,k?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let $=typeof s=="function"?s(P):s;return x.createElement(C1,{...c,"aria-current":F,className:N,ref:u,style:$,to:o,viewTransition:a},typeof l=="function"?l(P):l)});v5e.displayName="NavLink";var w5e=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:s,method:o=E4,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:h,unstable_defaultShouldRevalidate:f,...p},m)=>{let{unstable_useTransitions:v}=x.useContext(tc),w=k5e(),b=S5e(a,{relative:c}),E=o.toLowerCase()==="get"?"get":"post",_=typeof a=="string"&&_se.test(a),A=C=>{if(l&&l(C),C.defaultPrevented)return;C.preventDefault();let k=C.nativeEvent.submitter,P=k?.getAttribute("formmethod")||o,F=()=>w(k||C.currentTarget,{fetcherKey:e,method:P,navigate:r,replace:i,state:s,relative:c,preventScrollReset:u,viewTransition:h,unstable_defaultShouldRevalidate:f});v&&r!==!1?x.startTransition(()=>F()):F()};return x.createElement("form",{ref:m,method:E,action:b,onSubmit:n?l:A,...p,"data-discover":!_&&t==="render"?"true":void 0})});w5e.displayName="Form";function b5e(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cse(t){let e=x.useContext(_1);return ei(e,b5e(t)),e}function x5e(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:a,unstable_useTransitions:l}={}){let c=mse(),u=Nh(),h=Sx(t,{relative:s});return x.useCallback(f=>{if(X3e(f,e)){f.preventDefault();let p=r!==void 0?r:qb(u)===qb(h),m=()=>c(t,{replace:p,state:n,preventScrollReset:i,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:a});l?x.startTransition(()=>m()):m()}},[u,c,h,r,n,e,t,i,s,o,a,l])}function _5e(t){ql(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=x.useRef(J$(t)),r=x.useRef(!1),n=Nh(),i=x.useMemo(()=>Q3e(n.search,r.current?null:e.current),[n.search]),s=mse(),o=x.useCallback((a,l)=>{const c=J$(typeof a=="function"?a(new URLSearchParams(i)):a);r.current=!0,s("?"+c,l)},[s,i]);return[i,o]}var C5e=0,E5e=()=>`__${String(++C5e)}__`;function k5e(){let{router:t}=Cse("useSubmit"),{basename:e}=x.useContext(tc),r=B3e(),n=t.fetch,i=t.navigate;return x.useCallback(async(s,o={})=>{let{action:a,method:l,encType:c,formData:u,body:h}=t5e(s,e);if(o.navigate===!1){let f=o.fetcherKey||E5e();await n(f,r,o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:u,body:h,formMethod:o.method||l,formEncType:o.encType||c,flushSync:o.flushSync})}else await i(o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:u,body:h,formMethod:o.method||l,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,i,e,r])}function S5e(t,{relative:e}={}){let{basename:r}=x.useContext(tc),n=x.useContext($h);ei(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Sx(t||".",{relative:e})},o=Nh();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(h=>h).forEach(h=>a.append("index",h));let u=a.toString();s.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:ch([r,s.pathname])),qb(s)}function A5e(t,{relative:e}={}){let r=x.useContext(hse);ei(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Cse("useViewTransitionState"),i=Sx(t,{relative:e});if(!r.isTransitioning)return!1;let s=yh(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=yh(r.nextLocation.pathname,n)||r.nextLocation.pathname;return g_(i.pathname,o)!=null||g_(i.pathname,s)!=null}var Ls=rse();const T5e="modulepreload",I5e=function(t){return"/"+t},Sq={},bi=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=l(r.map(c=>{if(c=I5e(c),c in Sq)return;Sq[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":T5e,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function P5e(t){if(typeof window>"u")return;const e=r=>t(r.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function $5e(){const t=new Set;let e=[];const r=()=>P5e(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let n=r();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),n?.()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),n?.(),n=r()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}var Ut={},Fw={exports:{}},N5e=Fw.exports,Aq;function R5e(){return Aq||(Aq=1,(function(t,e){(function(r,n){var i="1.0.41",s="",o="?",a="function",l="undefined",c="object",u="string",h="major",f="model",p="name",m="type",v="vendor",w="version",b="architecture",E="console",_="mobile",A="tablet",C="smarttv",k="wearable",P="embedded",F=500,N="Amazon",$="Apple",U="ASUS",O="BlackBerry",D="Browser",T="Chrome",I="Edge",R="Firefox",L="Google",B="Honor",q="Huawei",G="Lenovo",W="LG",j="Microsoft",Y="Motorola",Q="Nvidia",z="OnePlus",Z="Opera",ee="OPPO",te="Samsung",se="Sharp",ce="Sony",ge="Xiaomi",ae="Zebra",_e="Facebook",Ee="Chromium OS",Ie="Mac OS",qe=" Browser",me=function(st,pt){var Ze={};for(var Mt in st)pt[Mt]&&pt[Mt].length%2===0?Ze[Mt]=pt[Mt].concat(st[Mt]):Ze[Mt]=st[Mt];return Ze},ze=function(st){for(var pt={},Ze=0;Ze<st.length;Ze++)pt[st[Ze].toUpperCase()]=st[Ze];return pt},rt=function(st,pt){return typeof st===u?Ae(pt).indexOf(Ae(st))!==-1:!1},Ae=function(st){return st.toLowerCase()},Fe=function(st){return typeof st===u?st.replace(/[^\d\.]/g,s).split(".")[0]:n},nt=function(st,pt){if(typeof st===u)return st=st.replace(/^\s\s*/,s),typeof pt===l?st:st.substring(0,F)},_t=function(st,pt){for(var Ze=0,Mt,yt,ue,we,Re,Ne;Ze<pt.length&&!Re;){var Ve=pt[Ze],Se=pt[Ze+1];for(Mt=yt=0;Mt<Ve.length&&!Re&&Ve[Mt];)if(Re=Ve[Mt++].exec(st),Re)for(ue=0;ue<Se.length;ue++)Ne=Re[++yt],we=Se[ue],typeof we===c&&we.length>0?we.length===2?typeof we[1]==a?this[we[0]]=we[1].call(this,Ne):this[we[0]]=we[1]:we.length===3?typeof we[1]===a&&!(we[1].exec&&we[1].test)?this[we[0]]=Ne?we[1].call(this,Ne,we[2]):n:this[we[0]]=Ne?Ne.replace(we[1],we[2]):n:we.length===4&&(this[we[0]]=Ne?we[3].call(this,Ne.replace(we[1],we[2])):n):this[we]=Ne||n;Ze+=2}},Ye=function(st,pt){for(var Ze in pt)if(typeof pt[Ze]===c&&pt[Ze].length>0){for(var Mt=0;Mt<pt[Ze].length;Mt++)if(rt(pt[Ze][Mt],st))return Ze===o?n:Ze}else if(rt(pt[Ze],st))return Ze===o?n:Ze;return pt.hasOwnProperty("*")?pt["*"]:st},wt={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},xt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Le={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[w,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[w,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,w],[/opios[\/ ]+([\w\.]+)/i],[w,[p,Z+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[w,[p,Z+" GX"]],[/\bopr\/([\w\.]+)/i],[w,[p,Z]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[w,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[w,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,w],[/quark(?:pc)?\/([-\w\.]+)/i],[w,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[w,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[w,[p,"UC"+D]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[w,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[w,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[w,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[w,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[w,[p,"Smart Lenovo "+D]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+D],w],[/\bfocus\/([\w\.]+)/i],[w,[p,R+" Focus"]],[/\bopt\/([\w\.]+)/i],[w,[p,Z+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[w,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[w,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[w,[p,Z+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[w,[p,"MIUI"+qe]],[/fxios\/([\w\.-]+)/i],[w,[p,R]],[/\bqihoobrowser\/?([\w\.]*)/i],[w,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],w],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+qe],w],[/samsungbrowser\/([\w\.]+)/i],[w,[p,te+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[w,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],w],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,w],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[w,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,_e],w],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,w],[/\bgsa\/([\w\.]+) .*safari\//i],[w,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[w,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[w,[p,T+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,T+" WebView"],w],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[w,[p,"Android "+D]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,w],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[w,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[w,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[w,Ye,wt]],[/(webkit|khtml)\/([\w\.]+)/i],[p,w],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],w],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,w],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[w,[p,R+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[p,[w,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[w,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[b,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[b,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[b,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[b,/ower/,s,Ae]],[/ sun4\w[;\)]/i],[[b,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[b,Ae]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[v,te],[m,A]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[f,[v,te],[m,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[v,$],[m,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[v,$],[m,A]],[/(macintosh);/i],[f,[v,$]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[v,se],[m,_]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[f,[v,B],[m,A]],[/honor([-\w ]+)[;\)]/i],[f,[v,B],[m,_]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[f,[v,q],[m,A]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[v,q],[m,_]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[f,/_/g," "],[v,ge],[m,A]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[f,/_/g," "],[v,ge],[m,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[v,ee],[m,_]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[f,[v,Ye,{OnePlus:["304","403","203"],"*":ee}],[m,A]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[v,"Vivo"],[m,_]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[v,"Realme"],[m,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[v,Y],[m,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[v,Y],[m,A]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[v,W],[m,A]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[v,W],[m,_]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[f,[v,G],[m,A]],[/(nokia) (t[12][01])/i],[v,f,[m,A]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[f,/_/g," "],[m,_],[v,"Nokia"]],[/(pixel (c|tablet))\b/i],[f,[v,L],[m,A]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[v,L],[m,_]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[v,ce],[m,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[v,ce],[m,A]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[v,z],[m,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[v,N],[m,A]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[v,N],[m,_]],[/(playbook);[-\w\),; ]+(rim)/i],[f,v,[m,A]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[v,O],[m,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[v,U],[m,A]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[v,U],[m,_]],[/(nexus 9)/i],[f,[v,"HTC"],[m,A]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[f,/_/g," "],[m,_]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[f,[v,"TCL"],[m,A]],[/(itel) ((\w+))/i],[[v,Ae],f,[m,Ye,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[v,"Acer"],[m,A]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[v,"Meizu"],[m,_]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[v,"Ulefone"],[m,_]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[f,[v,"Energizer"],[m,_]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[f,[v,"Cat"],[m,_]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[f,[v,"Smartfren"],[m,_]],[/droid.+; (a(?:015|06[35]|142p?))/i],[f,[v,"Nothing"],[m,_]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[f,[v,"Archos"],[m,A]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[f,[v,"Archos"],[m,_]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[v,f,[m,A]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[v,f,[m,_]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,f,[m,A]],[/(surface duo)/i],[f,[v,j],[m,A]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[v,"Fairphone"],[m,_]],[/(u304aa)/i],[f,[v,"AT&T"],[m,_]],[/\bsie-(\w*)/i],[f,[v,"Siemens"],[m,_]],[/\b(rct\w+) b/i],[f,[v,"RCA"],[m,A]],[/\b(venue[\d ]{2,7}) b/i],[f,[v,"Dell"],[m,A]],[/\b(q(?:mv|ta)\w+) b/i],[f,[v,"Verizon"],[m,A]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[v,"Barnes & Noble"],[m,A]],[/\b(tm\d{3}\w+) b/i],[f,[v,"NuVision"],[m,A]],[/\b(k88) b/i],[f,[v,"ZTE"],[m,A]],[/\b(nx\d{3}j) b/i],[f,[v,"ZTE"],[m,_]],[/\b(gen\d{3}) b.+49h/i],[f,[v,"Swiss"],[m,_]],[/\b(zur\d{3}) b/i],[f,[v,"Swiss"],[m,A]],[/\b((zeki)?tb.*\b) b/i],[f,[v,"Zeki"],[m,A]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],f,[m,A]],[/\b(ns-?\w{0,9}) b/i],[f,[v,"Insignia"],[m,A]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[v,"NextBook"],[m,A]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],f,[m,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],f,[m,_]],[/\b(ph-1) /i],[f,[v,"Essential"],[m,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[v,"Envizen"],[m,A]],[/\b(trio[-\w\. ]+) b/i],[f,[v,"MachSpeed"],[m,A]],[/\btu_(1491) b/i],[f,[v,"Rotor"],[m,A]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[f,[v,Q],[m,A]],[/(sprint) (\w+)/i],[v,f,[m,_]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[v,j],[m,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[v,ae],[m,A]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[v,ae],[m,_]],[/smart-tv.+(samsung)/i],[v,[m,C]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[v,te],[m,C]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,W],[m,C]],[/(apple) ?tv/i],[v,[f,$+" TV"],[m,C]],[/crkey/i],[[f,T+"cast"],[v,L],[m,C]],[/droid.+aft(\w+)( bui|\))/i],[f,[v,N],[m,C]],[/(shield \w+ tv)/i],[f,[v,Q],[m,C]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[v,se],[m,C]],[/(bravia[\w ]+)( bui|\))/i],[f,[v,ce],[m,C]],[/(mi(tv|box)-?\w+) bui/i],[f,[v,ge],[m,C]],[/Hbbtv.*(technisat) (.*);/i],[v,f,[m,C]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,nt],[f,nt],[m,C]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[f,[m,C]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,C]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,f,[m,E]],[/droid.+; (shield)( bui|\))/i],[f,[v,Q],[m,E]],[/(playstation \w+)/i],[f,[v,ce],[m,E]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[v,j],[m,E]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[f,[v,te],[m,k]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[v,f,[m,k]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[f,[v,ee],[m,k]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[v,$],[m,k]],[/(opwwe\d{3})/i],[f,[v,z],[m,k]],[/(moto 360)/i],[f,[v,Y],[m,k]],[/(smartwatch 3)/i],[f,[v,ce],[m,k]],[/(g watch r)/i],[f,[v,W],[m,k]],[/droid.+; (wt63?0{2,3})\)/i],[f,[v,ae],[m,k]],[/droid.+; (glass) \d/i],[f,[v,L],[m,k]],[/(pico) (4|neo3(?: link|pro)?)/i],[v,f,[m,k]],[/; (quest( \d| pro)?)/i],[f,[v,_e],[m,k]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[m,P]],[/(aeobc)\b/i],[f,[v,N],[m,P]],[/(homepod).+mac os/i],[f,[v,$],[m,P]],[/windows iot/i],[[m,P]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[m,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[m,A]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,A]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,_]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[f,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[w,[p,I+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[p,w],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[w,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,w],[/ladybird\//i],[[p,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[w,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,w],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[p,[w,Ye,xt]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[w,Ye,xt],[p,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[w,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,Ie],[w,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[w,p],[/(ubuntu) ([\w\.]+) like android/i],[[p,/(.+)/,"$1 Touch"],w],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[p,w],[/\(bb(10);/i],[w,[p,O]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[w,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[w,[p,R+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[w,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[w,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[w,[p,T+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,Ee],w],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,w],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],w],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,w]]},Ke=function(st,pt){if(typeof st===c&&(pt=st,st=n),!(this instanceof Ke))return new Ke(st,pt).getResult();var Ze=typeof r!==l&&r.navigator?r.navigator:n,Mt=st||(Ze&&Ze.userAgent?Ze.userAgent:s),yt=Ze&&Ze.userAgentData?Ze.userAgentData:n,ue=pt?me(Le,pt):Le,we=Ze&&Ze.userAgent==Mt;return this.getBrowser=function(){var Re={};return Re[p]=n,Re[w]=n,_t.call(Re,Mt,ue.browser),Re[h]=Fe(Re[w]),we&&Ze&&Ze.brave&&typeof Ze.brave.isBrave==a&&(Re[p]="Brave"),Re},this.getCPU=function(){var Re={};return Re[b]=n,_t.call(Re,Mt,ue.cpu),Re},this.getDevice=function(){var Re={};return Re[v]=n,Re[f]=n,Re[m]=n,_t.call(Re,Mt,ue.device),we&&!Re[m]&&yt&&yt.mobile&&(Re[m]=_),we&&Re[f]=="Macintosh"&&Ze&&typeof Ze.standalone!==l&&Ze.maxTouchPoints&&Ze.maxTouchPoints>2&&(Re[f]="iPad",Re[m]=A),Re},this.getEngine=function(){var Re={};return Re[p]=n,Re[w]=n,_t.call(Re,Mt,ue.engine),Re},this.getOS=function(){var Re={};return Re[p]=n,Re[w]=n,_t.call(Re,Mt,ue.os),we&&!Re[p]&&yt&&yt.platform&&yt.platform!="Unknown"&&(Re[p]=yt.platform.replace(/chrome os/i,Ee).replace(/macos/i,Ie)),Re},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Mt},this.setUA=function(Re){return Mt=typeof Re===u&&Re.length>F?nt(Re,F):Re,this},this.setUA(Mt),this};Ke.VERSION=i,Ke.BROWSER=ze([p,w,h]),Ke.CPU=ze([b]),Ke.DEVICE=ze([f,v,m,E,_,C,A,k,P]),Ke.ENGINE=Ke.OS=ze([p,w]),t.exports&&(e=t.exports=Ke),e.UAParser=Ke;var Qe=typeof r!==l&&(r.jQuery||r.Zepto);if(Qe&&!Qe.ua){var it=new Ke;Qe.ua=it.getResult(),Qe.ua.get=function(){return it.getUA()},Qe.ua.set=function(st){it.setUA(st);var pt=it.getResult();for(var Ze in pt)Qe.ua[Ze]=pt[Ze]}}})(typeof window=="object"?window:N5e)})(Fw,Fw.exports)),Fw.exports}var Tq;function O5e(){if(Tq)return Ut;Tq=1,Object.defineProperty(Ut,"__esModule",{value:!0});function t(Te){return Te&&typeof Te=="object"&&"default"in Te?Te.default:Te}var e=b1(),r=t(e),n=R5e(),i=new n,s=i.getBrowser(),o=i.getCPU(),a=i.getDevice(),l=i.getEngine(),c=i.getOS(),u=i.getUA(),h=function(he){return i.setUA(he)},f=function(he){if(!he){console.error("No userAgent string was provided");return}var xe=new n(he);return{UA:xe,browser:xe.getBrowser(),cpu:xe.getCPU(),device:xe.getDevice(),engine:xe.getEngine(),os:xe.getOS(),ua:xe.getUA(),setUserAgent:function(ot){return xe.setUA(ot)}}},p=Object.freeze({ClientUAInstance:i,browser:s,cpu:o,device:a,engine:l,os:c,ua:u,setUa:h,parseUserAgent:f});function m(Te,he){var xe=Object.keys(Te);if(Object.getOwnPropertySymbols){var We=Object.getOwnPropertySymbols(Te);he&&(We=We.filter(function(ot){return Object.getOwnPropertyDescriptor(Te,ot).enumerable})),xe.push.apply(xe,We)}return xe}function v(Te){for(var he=1;he<arguments.length;he++){var xe=arguments[he]!=null?arguments[he]:{};he%2?m(Object(xe),!0).forEach(function(We){A(Te,We,xe[We])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Te,Object.getOwnPropertyDescriptors(xe)):m(Object(xe)).forEach(function(We){Object.defineProperty(Te,We,Object.getOwnPropertyDescriptor(xe,We))})}return Te}function w(Te){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w=function(he){return typeof he}:w=function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},w(Te)}function b(Te,he){if(!(Te instanceof he))throw new TypeError("Cannot call a class as a function")}function E(Te,he){for(var xe=0;xe<he.length;xe++){var We=he[xe];We.enumerable=We.enumerable||!1,We.configurable=!0,"value"in We&&(We.writable=!0),Object.defineProperty(Te,We.key,We)}}function _(Te,he,xe){return he&&E(Te.prototype,he),Te}function A(Te,he,xe){return he in Te?Object.defineProperty(Te,he,{value:xe,enumerable:!0,configurable:!0,writable:!0}):Te[he]=xe,Te}function C(){return C=Object.assign||function(Te){for(var he=1;he<arguments.length;he++){var xe=arguments[he];for(var We in xe)Object.prototype.hasOwnProperty.call(xe,We)&&(Te[We]=xe[We])}return Te},C.apply(this,arguments)}function k(Te,he){if(typeof he!="function"&&he!==null)throw new TypeError("Super expression must either be null or a function");Te.prototype=Object.create(he&&he.prototype,{constructor:{value:Te,writable:!0,configurable:!0}}),he&&F(Te,he)}function P(Te){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(xe){return xe.__proto__||Object.getPrototypeOf(xe)},P(Te)}function F(Te,he){return F=Object.setPrototypeOf||function(We,ot){return We.__proto__=ot,We},F(Te,he)}function N(Te,he){if(Te==null)return{};var xe={},We=Object.keys(Te),ot,fr;for(fr=0;fr<We.length;fr++)ot=We[fr],!(he.indexOf(ot)>=0)&&(xe[ot]=Te[ot]);return xe}function $(Te,he){if(Te==null)return{};var xe=N(Te,he),We,ot;if(Object.getOwnPropertySymbols){var fr=Object.getOwnPropertySymbols(Te);for(ot=0;ot<fr.length;ot++)We=fr[ot],!(he.indexOf(We)>=0)&&Object.prototype.propertyIsEnumerable.call(Te,We)&&(xe[We]=Te[We])}return xe}function U(Te){if(Te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Te}function O(Te,he){if(he&&(typeof he=="object"||typeof he=="function"))return he;if(he!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U(Te)}function D(Te,he){return T(Te)||I(Te,he)||R(Te,he)||B()}function T(Te){if(Array.isArray(Te))return Te}function I(Te,he){var xe=Te==null?null:typeof Symbol<"u"&&Te[Symbol.iterator]||Te["@@iterator"];if(xe!=null){var We=[],ot=!0,fr=!1,$n,Vs;try{for(xe=xe.call(Te);!(ot=($n=xe.next()).done)&&(We.push($n.value),!(he&&We.length===he));ot=!0);}catch(Bg){fr=!0,Vs=Bg}finally{try{!ot&&xe.return!=null&&xe.return()}finally{if(fr)throw Vs}}return We}}function R(Te,he){if(Te){if(typeof Te=="string")return L(Te,he);var xe=Object.prototype.toString.call(Te).slice(8,-1);if(xe==="Object"&&Te.constructor&&(xe=Te.constructor.name),xe==="Map"||xe==="Set")return Array.from(Te);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return L(Te,he)}}function L(Te,he){(he==null||he>Te.length)&&(he=Te.length);for(var xe=0,We=new Array(he);xe<he;xe++)We[xe]=Te[xe];return We}function B(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var q={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},G={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},W={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},j={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},Y=function(he){switch(he){case q.Mobile:return{isMobile:!0};case q.Tablet:return{isTablet:!0};case q.SmartTv:return{isSmartTV:!0};case q.Console:return{isConsole:!0};case q.Wearable:return{isWearable:!0};case q.Browser:return{isBrowser:!0};case q.Embedded:return{isEmbedded:!0};default:return j}},Q=function(he){return h(he)},z=function(he){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return he||xe},Z=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},ee=function(he){var xe=Z();return xe&&xe.platform&&(xe.platform.indexOf(he)!==-1||xe.platform==="MacIntel"&&xe.maxTouchPoints>1&&!window.MSStream)},te=function(he,xe,We,ot,fr){return{isBrowser:he,browserMajorVersion:z(xe.major),browserFullVersion:z(xe.version),browserName:z(xe.name),engineName:z(We.name),engineVersion:z(We.version),osName:z(ot.name),osVersion:z(ot.version),userAgent:z(fr)}},se=function(he,xe,We,ot){return v({},he,{vendor:z(xe.vendor),model:z(xe.model),os:z(We.name),osVersion:z(We.version),ua:z(ot)})},ce=function(he,xe,We,ot){return{isSmartTV:he,engineName:z(xe.name),engineVersion:z(xe.version),osName:z(We.name),osVersion:z(We.version),userAgent:z(ot)}},ge=function(he,xe,We,ot){return{isConsole:he,engineName:z(xe.name),engineVersion:z(xe.version),osName:z(We.name),osVersion:z(We.version),userAgent:z(ot)}},ae=function(he,xe,We,ot){return{isWearable:he,engineName:z(xe.name),engineVersion:z(xe.version),osName:z(We.name),osVersion:z(We.version),userAgent:z(ot)}},_e=function(he,xe,We,ot,fr){return{isEmbedded:he,vendor:z(xe.vendor),model:z(xe.model),engineName:z(We.name),engineVersion:z(We.version),osName:z(ot.name),osVersion:z(ot.version),userAgent:z(fr)}};function Ee(Te){var he=Te?f(Te):p,xe=he.device,We=he.browser,ot=he.engine,fr=he.os,$n=he.ua,Vs=Y(xe.type),Bg=Vs.isBrowser,gv=Vs.isMobile,zg=Vs.isTablet,qg=Vs.isSmartTV,mv=Vs.isConsole,gc=Vs.isWearable,Wg=Vs.isEmbedded;if(Bg)return te(Bg,We,ot,fr,$n);if(qg)return ce(qg,ot,fr,$n);if(mv)return ge(mv,ot,fr,$n);if(gv||zg)return se(Vs,xe,fr,$n);if(gc)return ae(gc,ot,fr,$n);if(Wg)return _e(Wg,xe,ot,fr,$n)}var Ie=function(he){var xe=he.type;return xe===q.Mobile},qe=function(he){var xe=he.type;return xe===q.Tablet},me=function(he){var xe=he.type;return xe===q.Mobile||xe===q.Tablet},ze=function(he){var xe=he.type;return xe===q.SmartTv},rt=function(he){var xe=he.type;return xe===q.Browser},Ae=function(he){var xe=he.type;return xe===q.Wearable},Fe=function(he){var xe=he.type;return xe===q.Console},nt=function(he){var xe=he.type;return xe===q.Embedded},_t=function(he){var xe=he.vendor;return z(xe)},Ye=function(he){var xe=he.model;return z(xe)},wt=function(he){var xe=he.type;return z(xe,"browser")},xt=function(he){var xe=he.name;return xe===W.Android},Le=function(he){var xe=he.name;return xe===W.Windows},Ke=function(he){var xe=he.name;return xe===W.MAC_OS},Qe=function(he){var xe=he.name;return xe===W.WindowsPhone},it=function(he){var xe=he.name;return xe===W.IOS},st=function(he){var xe=he.version;return z(xe)},pt=function(he){var xe=he.name;return z(xe)},Ze=function(he){var xe=he.name;return xe===G.Chrome},Mt=function(he){var xe=he.name;return xe===G.Firefox},yt=function(he){var xe=he.name;return xe===G.Chromium},ue=function(he){var xe=he.name;return xe===G.Edge},we=function(he){var xe=he.name;return xe===G.Yandex},Re=function(he){var xe=he.name;return xe===G.Safari||xe===G.MobileSafari},Ne=function(he){var xe=he.name;return xe===G.MobileSafari},Ve=function(he){var xe=he.name;return xe===G.Opera},Se=function(he){var xe=he.name;return xe===G.InternetExplorer||xe===G.Ie},Me=function(he){var xe=he.name;return xe===G.MIUI},Je=function(he){var xe=he.name;return xe===G.SamsungBrowser},Ue=function(he){var xe=he.version;return z(xe)},vt=function(he){var xe=he.major;return z(xe)},tr=function(he){var xe=he.name;return z(xe)},$t=function(he){var xe=he.name;return z(xe)},X=function(he){var xe=he.version;return z(xe)},ne=function(){var he=Z(),xe=he&&he.userAgent&&he.userAgent.toLowerCase();return typeof xe=="string"?/electron/.test(xe):!1},oe=function(he){return typeof he=="string"&&he.indexOf("Edg/")!==-1},le=function(){var he=Z();return he&&(/iPad|iPhone|iPod/.test(he.platform)||he.platform==="MacIntel"&&he.maxTouchPoints>1)&&!window.MSStream},ve=function(){return ee("iPad")},be=function(){return ee("iPhone")},Pe=function(){return ee("iPod")},Xe=function(he){return z(he)};function gt(Te){var he=Te||p,xe=he.device,We=he.browser,ot=he.os,fr=he.engine,$n=he.ua;return{isSmartTV:ze(xe),isConsole:Fe(xe),isWearable:Ae(xe),isEmbedded:nt(xe),isMobileSafari:Ne(We)||ve(),isChromium:yt(We),isMobile:me(xe)||ve(),isMobileOnly:Ie(xe),isTablet:qe(xe)||ve(),isBrowser:rt(xe),isDesktop:rt(xe),isAndroid:xt(ot),isWinPhone:Qe(ot),isIOS:it(ot)||ve(),isChrome:Ze(We),isFirefox:Mt(We),isSafari:Re(We),isOpera:Ve(We),isIE:Se(We),osVersion:st(ot),osName:pt(ot),fullBrowserVersion:Ue(We),browserVersion:vt(We),browserName:tr(We),mobileVendor:_t(xe),mobileModel:Ye(xe),engineName:$t(fr),engineVersion:X(fr),getUA:Xe($n),isEdge:ue(We)||oe($n),isYandex:we(We),deviceType:wt(xe),isIOS13:le(),isIPad13:ve(),isIPhone13:be(),isIPod13:Pe(),isElectron:ne(),isEdgeChromium:oe($n),isLegacyEdge:ue(We)&&!oe($n),isWindows:Le(ot),isMacOs:Ke(ot),isMIUI:Me(We),isSamsungBrowser:Je(We)}}var Pt=ze(a),er=Fe(a),Nt=Ae(a),Et=nt(a),Ct=Ne(s)||ve(),Vt=yt(s),Lt=me(a)||ve(),_r=Ie(a),gr=qe(a)||ve(),Nr=rt(a),vr=rt(a),qr=xt(c),ci=Qe(c),cl=it(c)||ve(),nn=Ze(s),Cr=Mt(s),Kr=Re(s),hr=Ve(s),sn=Se(s),vs=st(c),zo=pt(c),ws=Ue(s),es=vt(s),bd=tr(s),bs=_t(a),Cp=Ye(a),Pk=$t(l),$k=X(l),Dg=Xe(u),Fg=ue(s)||oe(u),Ep=we(s),Lg=wt(a),Nk=le(),Rk=ve(),uv=be(),F3=Pe(),dv=ne(),kp=oe(u),Ok=ue(s)&&!oe(u),hv=Le(c),tn=Ke(c),L3=Me(s),U3=Je(s),fv=function(he){if(!he||typeof he!="string"){console.error("No valid user agent string was provided");return}var xe=f(he),We=xe.device,ot=xe.browser,fr=xe.os,$n=xe.engine,Vs=xe.ua;return gt({device:We,browser:ot,os:fr,engine:$n,ua:Vs})},B3=function(he){var xe=he.renderWithFragment,We=he.children,ot=$(he,["renderWithFragment","children"]);return qr?xe?r.createElement(e.Fragment,null,We):r.createElement("div",ot,We):null},z3=function(he){var xe=he.renderWithFragment,We=he.children,ot=$(he,["renderWithFragment","children"]);return Nr?xe?r.createElement(e.Fragment,null,We):r.createElement("div",ot,We):null},q3=function(he){var xe=he.renderWithFragment,We=he.children,ot=$(he,["renderWithFragment","children"]);return sn?xe?r.createElement(e.Fragment,null,We):r.createElement("div",ot,We):null},pv=function(he){var xe=he.renderWithFragment,We=he.children,ot=$(he,["renderWithFragment","children"]);return cl?xe?r.createElement(e.Fragment,null,We):r.createElement("div",ot,We):null},Ug=function(he){var xe=he.renderWithFragment,We=he.children,ot=$(he,["renderWithFragment","children"]);return Lt?xe?r.createElement(e.Fragment,null,We):r.createElement("div",ot,We):null},yu=function(he){var xe=he.renderWithFragment,We=he.children,ot=$(he,["renderWithFragment","children"]);return gr?xe?r.createElement(e.Fragment,null,We):r.createElement("div",ot,We):null},vu=function(he){var xe=he.renderWithFragment,We=he.children,ot=$(he,["renderWithFragment","children"]);return ci?xe?r.createElement(e.Fragment,null,We):r.createElement("div",ot,We):null},wu=function(he){var xe=he.renderWithFragment,We=he.children;he.viewClassName,he.style;var ot=$(he,["renderWithFragment","children","viewClassName","style"]);return _r?xe?r.createElement(e.Fragment,null,We):r.createElement("div",ot,We):null},Sp=function(he){var xe=he.renderWithFragment,We=he.children,ot=$(he,["renderWithFragment","children"]);return Pt?xe?r.createElement(e.Fragment,null,We):r.createElement("div",ot,We):null},Ap=function(he){var xe=he.renderWithFragment,We=he.children,ot=$(he,["renderWithFragment","children"]);return er?xe?r.createElement(e.Fragment,null,We):r.createElement("div",ot,We):null},bu=function(he){var xe=he.renderWithFragment,We=he.children,ot=$(he,["renderWithFragment","children"]);return Nt?xe?r.createElement(e.Fragment,null,We):r.createElement("div",ot,We):null},jk=function(he){var xe=he.renderWithFragment,We=he.children;he.viewClassName,he.style;var ot=he.condition,fr=$(he,["renderWithFragment","children","viewClassName","style","condition"]);return ot?xe?r.createElement(e.Fragment,null,We):r.createElement("div",fr,We):null};function W3(Te){return(function(he){k(xe,he);function xe(We){var ot;return b(this,xe),ot=O(this,P(xe).call(this,We)),ot.isEventListenerAdded=!1,ot.handleOrientationChange=ot.handleOrientationChange.bind(U(ot)),ot.onOrientationChange=ot.onOrientationChange.bind(U(ot)),ot.onPageLoad=ot.onPageLoad.bind(U(ot)),ot.state={isLandscape:!1,isPortrait:!1},ot}return _(xe,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var ot=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:ot===0,isLandscape:ot===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":w(window))!==void 0&&Lt&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return r.createElement(Te,C({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),xe})(r.Component)}function Tp(){var Te=e.useState(function(){var fr=window.innerWidth>window.innerHeight?90:0;return{isPortrait:fr===0,isLandscape:fr===90,orientation:fr===0?"portrait":"landscape"}}),he=D(Te,2),xe=he[0],We=he[1],ot=e.useCallback(function(){var fr=window.innerWidth>window.innerHeight?90:0,$n={isPortrait:fr===0,isLandscape:fr===90,orientation:fr===0?"portrait":"landscape"};xe.orientation!==$n.orientation&&We($n)},[xe.orientation]);return e.useEffect(function(){return(typeof window>"u"?"undefined":w(window))!==void 0&&Lt&&(ot(),window.addEventListener("load",ot,!1),window.addEventListener("resize",ot,!1)),function(){window.removeEventListener("resize",ot,!1),window.removeEventListener("load",ot,!1)}},[ot]),xe}function H3(Te){var he=Te||window.navigator.userAgent;return f(he)}function V3(Te){var he=Te||window.navigator.userAgent,xe=H3(he),We=gt(xe);return[We,xe]}return Ut.AndroidView=B3,Ut.BrowserTypes=G,Ut.BrowserView=z3,Ut.ConsoleView=Ap,Ut.CustomView=jk,Ut.IEView=q3,Ut.IOSView=pv,Ut.MobileOnlyView=wu,Ut.MobileView=Ug,Ut.OsTypes=W,Ut.SmartTVView=Sp,Ut.TabletView=yu,Ut.WearableView=bu,Ut.WinPhoneView=vu,Ut.browserName=bd,Ut.browserVersion=es,Ut.deviceDetect=Ee,Ut.deviceType=Lg,Ut.engineName=Pk,Ut.engineVersion=$k,Ut.fullBrowserVersion=ws,Ut.getSelectorsByUserAgent=fv,Ut.getUA=Dg,Ut.isAndroid=qr,Ut.isBrowser=Nr,Ut.isChrome=nn,Ut.isChromium=Vt,Ut.isConsole=er,Ut.isDesktop=vr,Ut.isEdge=Fg,Ut.isEdgeChromium=kp,Ut.isElectron=dv,Ut.isEmbedded=Et,Ut.isFirefox=Cr,Ut.isIE=sn,Ut.isIOS=cl,Ut.isIOS13=Nk,Ut.isIPad13=Rk,Ut.isIPhone13=uv,Ut.isIPod13=F3,Ut.isLegacyEdge=Ok,Ut.isMIUI=L3,Ut.isMacOs=tn,Ut.isMobile=Lt,Ut.isMobileOnly=_r,Ut.isMobileSafari=Ct,Ut.isOpera=hr,Ut.isSafari=Kr,Ut.isSamsungBrowser=U3,Ut.isSmartTV=Pt,Ut.isTablet=gr,Ut.isWearable=Nt,Ut.isWinPhone=ci,Ut.isWindows=hv,Ut.isYandex=Ep,Ut.mobileModel=Cp,Ut.mobileVendor=bs,Ut.osName=zo,Ut.osVersion=vs,Ut.parseUserAgent=f,Ut.setUserAgent=Q,Ut.useDeviceData=H3,Ut.useDeviceSelectors=V3,Ut.useMobileOrientation=Tp,Ut.withOrientationChange=W3,Ut}var Vr=O5e();const j5e="1.2.3";let ya=class X$ extends Error{constructor(e,r={}){const n=r.cause instanceof X$?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof X$&&r.cause.docsPath||r.docsPath,s=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...n?[`Details: ${n}`]:[],`Version: abitype@${j5e}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}};function Rh(t,e){return t.exec(e)?.groups}const Ese=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,kse=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Sse=/^\(.+?\).*?$/,Iq=/^tuple(?<array>(\[(\d*)\])*)$/;function Q$(t){let e=t.type;if(Iq.test(t.type)&&"components"in t){e="(";const r=t.components.length;for(let i=0;i<r;i++){const s=t.components[i];e+=Q$(s),i<r-1&&(e+=", ")}const n=Rh(Iq,t.type);return e+=`)${n?.array||""}`,Q$({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function ty(t){let e="";const r=t.length;for(let n=0;n<r;n++){const i=t[n];e+=Q$(i),n!==r-1&&(e+=", ")}return e}function m_(t){return t.type==="function"?`function ${t.name}(${ty(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs?.length?` returns (${ty(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${ty(t.inputs)})`:t.type==="error"?`error ${t.name}(${ty(t.inputs)})`:t.type==="constructor"?`constructor(${ty(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Ase=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function M5e(t){return Ase.test(t)}function D5e(t){return Rh(Ase,t)}const Tse=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function F5e(t){return Tse.test(t)}function L5e(t){return Rh(Tse,t)}const Ise=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function U5e(t){return Ise.test(t)}function B5e(t){return Rh(Ise,t)}const Pse=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function tE(t){return Pse.test(t)}function z5e(t){return Rh(Pse,t)}const $se=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function q5e(t){return $se.test(t)}function W5e(t){return Rh($se,t)}const Nse=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function H5e(t){return Nse.test(t)}function V5e(t){return Rh(Nse,t)}const G5e=/^receive\(\) external payable$/;function K5e(t){return G5e.test(t)}const Pq=new Set(["memory","indexed","storage","calldata"]),Y5e=new Set(["indexed"]),Z$=new Set(["calldata","memory","storage"]);class J5e extends ya{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class X5e extends ya{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Q5e extends ya{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Z5e extends ya{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class e6e extends ya{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class t6e extends ya{constructor({param:e,name:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class r6e extends ya{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class n6e extends ya{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class i6e extends ya{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class E1 extends ya{constructor({signature:e,type:r}){super(`Invalid ${r} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class s6e extends ya{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class o6e extends ya{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class a6e extends ya{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class l6e extends ya{constructor({current:e,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function c6e(t,e,r){let n="";if(r)for(const i of Object.entries(r)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;n+=`(${i[0]}{${s}})`}return e?`${e}:${t}${n}`:`${t}${n}`}const gA=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function eN(t,e={}){if(U5e(t))return u6e(t,e);if(F5e(t))return d6e(t,e);if(M5e(t))return h6e(t,e);if(q5e(t))return f6e(t,e);if(H5e(t))return p6e(t);if(K5e(t))return{type:"receive",stateMutability:"payable"};throw new s6e({signature:t})}function u6e(t,e={}){const r=B5e(t);if(!r)throw new E1({signature:t,type:"function"});const n=Wa(r.parameters),i=[],s=n.length;for(let a=0;a<s;a++)i.push(vh(n[a],{modifiers:Z$,structs:e,type:"function"}));const o=[];if(r.returns){const a=Wa(r.returns),l=a.length;for(let c=0;c<l;c++)o.push(vh(a[c],{modifiers:Z$,structs:e,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:o}}function d6e(t,e={}){const r=L5e(t);if(!r)throw new E1({signature:t,type:"event"});const n=Wa(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(vh(n[o],{modifiers:Y5e,structs:e,type:"event"}));return{name:r.name,type:"event",inputs:i}}function h6e(t,e={}){const r=D5e(t);if(!r)throw new E1({signature:t,type:"error"});const n=Wa(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(vh(n[o],{structs:e,type:"error"}));return{name:r.name,type:"error",inputs:i}}function f6e(t,e={}){const r=W5e(t);if(!r)throw new E1({signature:t,type:"constructor"});const n=Wa(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(vh(n[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}function p6e(t){const e=V5e(t);if(!e)throw new E1({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const g6e=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,m6e=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,y6e=/^u?int$/;function vh(t,e){const r=c6e(t,e?.type,e?.structs);if(gA.has(r))return gA.get(r);const n=Sse.test(t),i=Rh(n?m6e:g6e,t);if(!i)throw new e6e({param:t});if(i.name&&w6e(i.name))throw new t6e({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=e?.structs??{};let l,c={};if(n){l="tuple";const h=Wa(i.type),f=[],p=h.length;for(let m=0;m<p;m++)f.push(vh(h[m],{structs:a}));c={components:f}}else if(i.type in a)l="tuple",c={components:a[i.type]};else if(y6e.test(i.type))l=`${i.type}256`;else if(i.type==="address payable")l="address";else if(l=i.type,e?.type!=="struct"&&!Rse(l))throw new Q5e({type:l});if(i.modifier){if(!e?.modifiers?.has?.(i.modifier))throw new r6e({param:t,type:e?.type,modifier:i.modifier});if(Z$.has(i.modifier)&&!b6e(l,!!i.array))throw new n6e({param:t,type:e?.type,modifier:i.modifier})}const u={type:`${l}${i.array??""}`,...s,...o,...c};return gA.set(r,u),u}function Wa(t,e=[],r="",n=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case",":return n===0?Wa(a,[...e,r.trim()]):Wa(a,e,`${r}${o}`,n);case"(":return Wa(a,e,`${r}${o}`,n+1);case")":return Wa(a,e,`${r}${o}`,n-1);default:return Wa(a,e,`${r}${o}`,n)}}if(r==="")return e;if(n!==0)throw new l6e({current:r,depth:n});return e.push(r.trim()),e}function Rse(t){return t==="address"||t==="bool"||t==="function"||t==="string"||Ese.test(t)||kse.test(t)}const v6e=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function w6e(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||Ese.test(t)||kse.test(t)||v6e.test(t)}function b6e(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function gM(t){const e={},r=t.length;for(let o=0;o<r;o++){const a=t[o];if(!tE(a))continue;const l=z5e(a);if(!l)throw new E1({signature:a,type:"struct"});const c=l.properties.split(";"),u=[],h=c.length;for(let f=0;f<h;f++){const m=c[f].trim();if(!m)continue;const v=vh(m,{type:"struct"});u.push(v)}if(!u.length)throw new o6e({signature:a});e[l.name]=u}const n={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,l]=i[o];n[a]=Ose(l,e)}return n}const x6e=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Ose(t=[],e={},r=new Set){const n=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(Sse.test(o.type))n.push(o);else{const l=Rh(x6e,o.type);if(!l?.type)throw new i6e({abiParameter:o});const{array:c,type:u}=l;if(u in e){if(r.has(u))throw new a6e({type:u});n.push({...o,type:`tuple${c??""}`,components:Ose(e[u],e,new Set([...r,u]))})}else if(Rse(u))n.push(o);else throw new X5e({type:u})}}return n}function jse(t){const e=gM(t),r=[],n=t.length;for(let i=0;i<n;i++){const s=t[i];tE(s)||r.push(eN(s,e))}return r}function $q(t){let e;if(typeof t=="string")e=eN(t);else{const r=gM(t),n=t.length;for(let i=0;i<n;i++){const s=t[i];if(!tE(s)){e=eN(s,r);break}}}if(!e)throw new J5e({signature:t});return e}function Nq(t){const e=[];if(typeof t=="string"){const r=Wa(t),n=r.length;for(let i=0;i<n;i++)e.push(vh(r[i],{modifiers:Pq}))}else{const r=gM(t),n=t.length;for(let i=0;i<n;i++){const s=t[i];if(tE(s))continue;const o=Wa(s),a=o.length;for(let l=0;l<a;l++)e.push(vh(o[l],{modifiers:Pq,structs:r}))}}if(e.length===0)throw new Z5e({params:t});return e}function Gn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const Mse="2.44.2";let mA={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${Mse}`},et=class tN extends Error{constructor(e,r={}){const n=r.cause instanceof tN?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof tN&&r.cause.docsPath||r.docsPath,s=mA.getDocsUrl?.({...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...mA.version?[`Version: ${mA.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=Mse}walk(e){return Dse(this,e)}};function Dse(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Dse(t.cause,e):e?null:t}let Fo=class extends et{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};function Bs(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}let Fse=class extends et{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},Lse=class extends et{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};class Rq extends et{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${r} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}function k1(t,{dir:e,size:r=32}={}){return typeof t=="string"?Vf(t,{dir:e,size:r}):_6e(t,{dir:e,size:r})}function Vf(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new Lse({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function _6e(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new Lse({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}let mM=class extends et{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},C6e=class extends et{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class E6e extends et{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let k6e=class extends et{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Zn(t){return Bs(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function Ka(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let i=0;i<r.length-1&&r[e==="left"?i:r.length-i-1].toString()==="0";i++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function rc(t,{size:e}){if(Zn(t)>e)throw new k6e({givenSize:Zn(t),maxSize:e})}function Xa(t,e={}){const{signed:r}=e;e.size&&rc(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function S6e(t,e={}){let r=t;if(e.size&&(rc(r,{size:e.size}),r=Ka(r)),Ka(r)==="0x00")return!1;if(Ka(r)==="0x01")return!0;throw new E6e(r)}function Wl(t,e={}){const r=Xa(t,e),n=Number(r);if(!Number.isSafeInteger(n))throw new mM({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:e.signed,size:e.size,value:`${r}n`});return n}function A6e(t,e={}){let r=Hl(t);return e.size&&(rc(r,{size:e.size}),r=Ka(r,{dir:"right"})),new TextDecoder().decode(r)}const T6e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Fn(t,e={}){return typeof t=="number"||typeof t=="bigint"?ft(t,e):typeof t=="string"?Gy(t,e):typeof t=="boolean"?Use(t,e):Ri(t,e)}function Use(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(rc(r,{size:e.size}),k1(r,{size:e.size})):r}function Ri(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=T6e[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(rc(n,{size:e.size}),k1(n,{dir:"right",size:e.size})):n}function ft(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new mM({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:r,size:n,value:`${t}${l}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?k1(a,{size:n}):a}const I6e=new TextEncoder;function Gy(t,e={}){const r=I6e.encode(t);return Ri(r,e)}const P6e=new TextEncoder;function S1(t,e={}){return typeof t=="number"||typeof t=="bigint"?N6e(t,e):typeof t=="boolean"?$6e(t,e):Bs(t)?Hl(t,e):T0(t,e)}function $6e(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(rc(r,{size:e.size}),k1(r,{size:e.size})):r}const Id={zero:48,nine:57,A:65,F:70,a:97,f:102};function Oq(t){if(t>=Id.zero&&t<=Id.nine)return t-Id.zero;if(t>=Id.A&&t<=Id.F)return t-(Id.A-10);if(t>=Id.a&&t<=Id.f)return t-(Id.a-10)}function Hl(t,e={}){let r=t;e.size&&(rc(r,{size:e.size}),r=k1(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const l=Oq(n.charCodeAt(a++)),c=Oq(n.charCodeAt(a++));if(l===void 0||c===void 0)throw new et(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=l*16+c}return s}function N6e(t,e){const r=ft(t,e);return Hl(r)}function T0(t,e={}){const r=P6e.encode(t);return typeof e.size=="number"?(rc(r,{size:e.size}),k1(r,{dir:"right",size:e.size})):r}const H5=BigInt(2**32-1),jq=BigInt(32);function R6e(t,e=!1){return e?{h:Number(t&H5),l:Number(t>>jq&H5)}:{h:Number(t>>jq&H5)|0,l:Number(t&H5)|0}}function O6e(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=R6e(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const j6e=(t,e,r)=>t<<r|e>>>32-r,M6e=(t,e,r)=>e<<r|t>>>32-r,D6e=(t,e,r)=>e<<r-32|t>>>64-r,F6e=(t,e,r)=>t<<r-32|e>>>64-r,hm=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function L6e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Wb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function L0(t,...e){if(!L6e(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function U6e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Wb(t.outputLen),Wb(t.blockLen)}function Ky(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Bse(t,e){L0(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function B6e(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Yy(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function yA(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ku(t,e){return t<<32-e|t>>>e}const z6e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function q6e(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function W6e(t){for(let e=0;e<t.length;e++)t[e]=q6e(t[e]);return t}const Mq=z6e?t=>t:W6e;function H6e(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function rE(t){return typeof t=="string"&&(t=H6e(t)),L0(t),t}function V6e(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];L0(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let yM=class{};function zse(t){const e=n=>t().update(rE(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function G6e(t=32){if(hm&&typeof hm.getRandomValues=="function")return hm.getRandomValues(new Uint8Array(t));if(hm&&typeof hm.randomBytes=="function")return Uint8Array.from(hm.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const K6e=BigInt(0),Hv=BigInt(1),Y6e=BigInt(2),J6e=BigInt(7),X6e=BigInt(256),Q6e=BigInt(113),qse=[],Wse=[],Hse=[];for(let t=0,e=Hv,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],qse.push(2*(5*n+r)),Wse.push((t+1)*(t+2)/2%64);let i=K6e;for(let s=0;s<7;s++)e=(e<<Hv^(e>>J6e)*Q6e)%X6e,e&Y6e&&(i^=Hv<<(Hv<<BigInt(s))-Hv);Hse.push(i)}const Vse=O6e(Hse,!0),Z6e=Vse[0],e4e=Vse[1],Dq=(t,e,r)=>r>32?D6e(t,e,r):j6e(t,e,r),Fq=(t,e,r)=>r>32?F6e(t,e,r):M6e(t,e,r);function t4e(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=r[l],u=r[l+1],h=Dq(c,u,1)^r[a],f=Fq(c,u,1)^r[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Wse[o],l=Dq(i,s,a),c=Fq(i,s,a),u=qse[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Z6e[n],t[1]^=e4e[n]}Yy(r)}let r4e=class Gse extends yM{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,Wb(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=B6e(this.state)}clone(){return this._cloneInto()}keccak(){Mq(this.state32),t4e(this.state32,this.rounds),Mq(this.state32),this.posOut=0,this.pos=0}update(e){Ky(this),e=rE(e),L0(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ky(this,!1),L0(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Wb(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Bse(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Yy(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Gse(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const n4e=(t,e,r)=>zse(()=>new r4e(e,t,r)),Kse=n4e(1,136,256/8);function ps(t,e){const r=e||"hex",n=Kse(Bs(t,{strict:!1})?S1(t):t);return r==="bytes"?n:Fn(n)}let A1=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const i4e=/^0x[a-fA-F0-9]{40}$/,vA=new A1(8192);function oi(t,e){const{strict:r=!0}=e??{},n=`${t}.${r}`;if(vA.has(n))return vA.get(n);const i=i4e.test(t)?t.toLowerCase()===t?!0:r?Ax(t)===t:!0:!1;return vA.set(n,i),i}const wA=new A1(8192);function Ax(t,e){if(wA.has(`${t}.${e}`))return wA.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=ps(T0(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return wA.set(`${t}.${e}`,s),s}function pi(t,e){if(!oi(t,{strict:!1}))throw new Fo({address:t});return Ax(t,e)}function Yse(t){const e=ps(`0x${t.substring(4)}`).substring(26);return Ax(`0x${e}`)}function Jc(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new v4e(t.type);return`${t.name}(${nE(t.inputs,{includeName:e})})`}function nE(t,{includeName:e=!1}={}){return t?t.map(r=>s4e(r,{includeName:e})).join(e?", ":","):""}function s4e(t,{includeName:e}){return t.type.startsWith("tuple")?`(${nE(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class o4e extends et{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class Lq extends et{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class Jse extends et{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${nE(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class Tx extends et{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class a4e extends et{constructor({expectedLength:e,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class l4e extends et{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Zn(r)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class c4e extends et{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class u4e extends et{constructor(e,{docsPath:r}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:r,name:"AbiErrorInputsNotFoundError"})}}class Uq extends et{constructor(e,{docsPath:r}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:r,name:"AbiErrorNotFoundError"})}}class Xse extends et{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class d4e extends et{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class h4e extends et{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}}class Bq extends et{constructor(e,{docsPath:r}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r,name:"AbiEventNotFoundError"})}}class Jy extends et{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}}class Qse extends et{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}}class f4e extends et{constructor(e,{docsPath:r}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiFunctionSignatureNotFoundError"})}}class p4e extends et{constructor(e,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Jc(e.abiItem)}\`, and`,`\`${r.type}\` in \`${Jc(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let g4e=class extends et{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}};class y_ extends et{constructor({abiItem:e,data:r,params:n,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${nE(n,{includeName:!0})})`,`Data:   ${r} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=r,this.params=n,this.size=i}}class vM extends et{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${Jc(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class m4e extends et{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}}class y4e extends et{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}}let Zse=class extends et{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class v4e extends et{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class X$t extends et{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let zq=class extends et{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},eoe=class extends et{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},w4e=class extends et{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const b4e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new w4e({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new eoe({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new zq({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new zq({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function wM(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(b4e);return r.bytes=t,r.dataView=new DataView(t.buffer??t,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}function U0(t,e,r,{strict:n}={}){return Bs(t,{strict:!1})?rN(t,e,r,{strict:n}):noe(t,e,r,{strict:n})}function toe(t,e){if(typeof e=="number"&&e>0&&e>Zn(t)-1)throw new Fse({offset:e,position:"start",size:Zn(t)})}function roe(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Zn(t)!==r-e)throw new Fse({offset:r,position:"end",size:Zn(t)})}function noe(t,e,r,{strict:n}={}){toe(t,e);const i=t.slice(e,r);return n&&roe(i,e,r),i}function rN(t,e,r,{strict:n}={}){toe(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&roe(i,e,r),i}function x4e(t,e={}){typeof e.size<"u"&&rc(t,{size:e.size});const r=Ri(t,e);return Xa(r,e)}function _4e(t,e={}){let r=t;if(typeof e.size<"u"&&(rc(r,{size:e.size}),r=Ka(r)),r.length>1||r[0]>1)throw new C6e(r);return!!r[0]}function uh(t,e={}){typeof e.size<"u"&&rc(t,{size:e.size});const r=Ri(t,e);return Wl(r,e)}function C4e(t,e={}){let r=t;return typeof e.size<"u"&&(rc(r,{size:e.size}),r=Ka(r,{dir:"right"})),new TextDecoder().decode(r)}function Vl(t){return typeof t[0]=="string"?gd(t):E4e(t)}function E4e(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function gd(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}const tNt=/^(.*)\[([0-9]*)\]$/,k4e=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ioe=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function hg(t,e){if(t.length!==e.length)throw new c4e({expectedLength:t.length,givenLength:e.length});const r=S4e({params:t,values:e}),n=xM(r);return n.length===0?"0x":n}function S4e({params:t,values:e}){const r=[];for(let n=0;n<t.length;n++)r.push(bM({param:t[n],value:e[n]}));return r}function bM({param:t,value:e}){const r=_M(t.type);if(r){const[n,i]=r;return T4e(e,{length:n,param:{...t,type:i}})}if(t.type==="tuple")return R4e(e,{param:t});if(t.type==="address")return A4e(e);if(t.type==="bool")return P4e(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const n=t.type.startsWith("int"),[,,i="256"]=ioe.exec(t.type)??[];return $4e(e,{signed:n,size:Number(i)})}if(t.type.startsWith("bytes"))return I4e(e,{param:t});if(t.type==="string")return N4e(e);throw new m4e(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function xM(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Zn(a)}const r=[],n=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(r.push(ft(e+i,{size:32})),n.push(a),i+=Zn(a)):r.push(a)}return Vl([...r,...n])}function A4e(t){if(!oi(t))throw new Fo({address:t});return{dynamic:!1,encoded:Vf(t.toLowerCase())}}function T4e(t,{length:e,param:r}){const n=e===null;if(!Array.isArray(t))throw new Zse(t);if(!n&&t.length!==e)throw new a4e({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=bM({param:r,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(n||i){const o=xM(s);if(n){const a=ft(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Vl([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Vl(s.map(({encoded:o})=>o))}}function I4e(t,{param:e}){const[,r]=e.type.split("bytes"),n=Zn(t);if(!r){let i=t;return n%32!==0&&(i=Vf(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Vl([Vf(ft(n,{size:32})),i])}}if(n!==Number.parseInt(r,10))throw new l4e({expectedSize:Number.parseInt(r,10),value:t});return{dynamic:!1,encoded:Vf(t,{dir:"right"})}}function P4e(t){if(typeof t!="boolean")throw new et(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Vf(Use(t))}}function $4e(t,{signed:e,size:r=256}){if(typeof r=="number"){const n=2n**(BigInt(r)-(e?1n:0n))-1n,i=e?-n-1n:0n;if(t>n||t<i)throw new mM({max:n.toString(),min:i.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:ft(t,{size:32,signed:e})}}function N4e(t){const e=Gy(t),r=Math.ceil(Zn(e)/32),n=[];for(let i=0;i<r;i++)n.push(Vf(U0(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Vl([Vf(ft(Zn(e),{size:32})),...n])}}function R4e(t,{param:e}){let r=!1;const n=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=bM({param:s,value:t[o]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?xM(n):Vl(n.map(({encoded:i})=>i))}}function _M(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function T1(t,e){const r=typeof e=="string"?Hl(e):e,n=wM(r);if(Zn(r)===0&&t.length>0)throw new Tx;if(Zn(e)&&Zn(e)<32)throw new Jse({data:typeof e=="string"?e:Ri(e),params:t,size:Zn(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];n.setPosition(i);const[l,c]=Ty(n,a,{staticPosition:0});i+=c,s.push(l)}return s}function Ty(t,e,{staticPosition:r}){const n=_M(e.type);if(n){const[i,s]=n;return j4e(t,{...e,type:s},{length:i,staticPosition:r})}if(e.type==="tuple")return L4e(t,e,{staticPosition:r});if(e.type==="address")return O4e(t);if(e.type==="bool")return M4e(t);if(e.type.startsWith("bytes"))return D4e(t,e,{staticPosition:r});if(e.type.startsWith("uint")||e.type.startsWith("int"))return F4e(t,e);if(e.type==="string")return U4e(t,{staticPosition:r});throw new y4e(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const qq=32,nN=32;function O4e(t){const e=t.readBytes(32);return[Ax(Ri(noe(e,-20))),32]}function j4e(t,e,{length:r,staticPosition:n}){if(!r){const o=uh(t.readBytes(nN)),a=n+o,l=a+qq;t.setPosition(a);const c=uh(t.readBytes(qq)),u=Hb(e);let h=0;const f=[];for(let p=0;p<c;++p){t.setPosition(l+(u?p*32:h));const[m,v]=Ty(t,e,{staticPosition:l});h+=v,f.push(m)}return t.setPosition(n+32),[f,32]}if(Hb(e)){const o=uh(t.readBytes(nN)),a=n+o,l=[];for(let c=0;c<r;++c){t.setPosition(a+c*32);const[u]=Ty(t,e,{staticPosition:a});l.push(u)}return t.setPosition(n+32),[l,32]}let i=0;const s=[];for(let o=0;o<r;++o){const[a,l]=Ty(t,e,{staticPosition:n+i});i+=l,s.push(a)}return[s,i]}function M4e(t){return[_4e(t.readBytes(32),{size:32}),32]}function D4e(t,e,{staticPosition:r}){const[n,i]=e.type.split("bytes");if(!i){const o=uh(t.readBytes(32));t.setPosition(r+o);const a=uh(t.readBytes(32));if(a===0)return t.setPosition(r+32),["0x",32];const l=t.readBytes(a);return t.setPosition(r+32),[Ri(l),32]}return[Ri(t.readBytes(Number.parseInt(i,10),32)),32]}function F4e(t,e){const r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[n>48?x4e(i,{signed:r}):uh(i,{signed:r}),32]}function L4e(t,e,{staticPosition:r}){const n=e.components.length===0||e.components.some(({name:o})=>!o),i=n?[]:{};let s=0;if(Hb(e)){const o=uh(t.readBytes(nN)),a=r+o;for(let l=0;l<e.components.length;++l){const c=e.components[l];t.setPosition(a+s);const[u,h]=Ty(t,c,{staticPosition:a});s+=h,i[n?l:c?.name]=u}return t.setPosition(r+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[l,c]=Ty(t,a,{staticPosition:r});i[n?o:a?.name]=l,s+=c}return[i,s]}function U4e(t,{staticPosition:e}){const r=uh(t.readBytes(32)),n=e+r;t.setPosition(n);const i=uh(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=C4e(Ka(s));return t.setPosition(e+32),[o,32]}function Hb(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(Hb);const r=_M(t.type);return!!(r&&Hb({...t,type:r[1]}))}const B4e={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},soe={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},z4e={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"},q4e=t=>ps(S1(t));function W4e(t){return q4e(t)}function H4e(t){let e=!0,r="",n=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&n++,a===")"&&n--,!!e){if(n===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}i+=a,r+=a}}if(!s)throw new et("Unable to normalize signature.");return i}const V4e=t=>{const e=typeof t=="string"?t:m_(t);return H4e(e)};function ooe(t){return W4e(V4e(t))}const Ix=t=>U0(ooe(t),0,4);function G4e(t){const{abi:e,data:r}=t,n=U0(r,0,4);if(n==="0x")throw new Tx;const s=[...e||[],soe,z4e].find(o=>o.type==="error"&&n===Ix(Jc(o)));if(!s)throw new Xse(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?T1(s.inputs,U0(r,4)):void 0,errorName:s.name}}const iE=ooe,Wq="/docs/contract/decodeEventLog";function v_(t){const{abi:e,data:r,strict:n,topics:i}=t,s=n??!0,[o,...a]=i;if(!o)throw new d4e({docsPath:Wq});const l=e.find(v=>v.type==="event"&&o===iE(Jc(v)));if(!(l&&"name"in l)||l.type!=="event")throw new h4e(o,{docsPath:Wq});const{name:c,inputs:u}=l,h=u?.some(v=>!("name"in v&&v.name)),f=h?[]:{},p=u.map((v,w)=>[v,w]).filter(([v])=>"indexed"in v&&v.indexed);for(let v=0;v<p.length;v++){const[w,b]=p[v],E=a[v];if(!E)throw new vM({abiItem:l,param:w});f[h?b:w.name||b]=K4e({param:w,value:E})}const m=u.filter(v=>!("indexed"in v&&v.indexed));if(m.length>0){if(r&&r!=="0x")try{const v=T1(m,r);if(v)if(h)for(let w=0;w<u.length;w++)f[w]=f[w]??v.shift();else for(let w=0;w<m.length;w++)f[m[w].name]=v[w]}catch(v){if(s)throw v instanceof Jse||v instanceof eoe?new y_({abiItem:l,data:r,params:m,size:Zn(r)}):v}else if(s)throw new y_({abiItem:l,data:"0x",params:m,size:0})}return{eventName:c,args:Object.values(f).length>0?f:void 0}}function K4e({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(T1([t],e)||[])[0]}function aoe(t){const{abi:e,data:r}=t,n=U0(r,0,4),i=e.find(s=>s.type==="function"&&n===Ix(Jc(s)));if(!i)throw new f4e(n,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?T1(i.inputs,U0(r,4)):void 0}}function fg(t){const{abi:e,args:r=[],name:n}=t,i=Bs(n,{strict:!1}),s=e.filter(a=>i?a.type==="function"?Ix(a)===n:a.type==="event"?iE(a)===n:!1:"name"in a&&a.name===n);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!r||r.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==r.length)continue;if(r.every((c,u)=>{const h="inputs"in a&&a.inputs[u];return h?iN(c,h):!1})){if(o&&"inputs"in o&&o.inputs){const c=loe(a.inputs,o.inputs,r);if(c)throw new p4e({abiItem:a,type:c[0]},{abiItem:o,type:c[1]})}o=a}}return o||s[0]}function iN(t,e){const r=typeof t,n=e.type;switch(n){case"address":return oi(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>r==="object"&&iN(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>iN(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function loe(t,e,r){for(const n in t){const i=t[n],s=e[n];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return loe(i.components,s.components,r[n]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?oi(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?oi(r[n],{strict:!1}):!1)return o}}const bA="/docs/contract/decodeFunctionResult";function pg(t){const{abi:e,args:r,functionName:n,data:i}=t;let s=e[0];if(n){const a=fg({abi:e,args:r,name:n});if(!a)throw new Jy(n,{docsPath:bA});s=a}if(s.type!=="function")throw new Jy(void 0,{docsPath:bA});if(!s.outputs)throw new Qse(s.name,{docsPath:bA});const o=T1(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const xA="/docs/contract/encodeDeployData";function sE(t){const{abi:e,args:r,bytecode:n}=t;if(!r||r.length===0)return n;const i=e.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new o4e({docsPath:xA});if(!("inputs"in i))throw new Lq({docsPath:xA});if(!i.inputs||i.inputs.length===0)throw new Lq({docsPath:xA});const s=hg(i.inputs,r);return gd([n,s])}const _A="/docs/contract/encodeErrorResult";function Hq(t){const{abi:e,errorName:r,args:n}=t;let i=e[0];if(r){const l=fg({abi:e,args:n,name:r});if(!l)throw new Uq(r,{docsPath:_A});i=l}if(i.type!=="error")throw new Uq(void 0,{docsPath:_A});const s=Jc(i),o=Ix(s);let a="0x";if(n&&n.length>0){if(!i.inputs)throw new u4e(i.name,{docsPath:_A});a=hg(i.inputs,n)}return gd([o,a])}class Y4e extends et{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const Vq="/docs/contract/encodeEventTopics";function Px(t){const{abi:e,eventName:r,args:n}=t;let i=e[0];if(r){const l=fg({abi:e,name:r});if(!l)throw new Bq(r,{docsPath:Vq});i=l}if(i.type!=="event")throw new Bq(void 0,{docsPath:Vq});const s=Jc(i),o=iE(s);let a=[];if(n&&"inputs"in i){const l=i.inputs?.filter(u=>"indexed"in u&&u.indexed),c=Array.isArray(n)?n:Object.values(n).length>0?l?.map(u=>n[u.name])??[]:[];c.length>0&&(a=l?.map((u,h)=>Array.isArray(c[h])?c[h].map((f,p)=>Gq({param:u,value:c[h][p]})):typeof c[h]<"u"&&c[h]!==null?Gq({param:u,value:c[h]}):null)??[])}return[o,...a]}function Gq({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return ps(S1(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new Y4e(t.type);return hg([t],[e])}const Kq="/docs/contract/encodeFunctionData";function J4e(t){const{abi:e,args:r,functionName:n}=t;let i=e[0];if(n){const s=fg({abi:e,args:r,name:n});if(!s)throw new Jy(n,{docsPath:Kq});i=s}if(i.type!=="function")throw new Jy(void 0,{docsPath:Kq});return{abi:[i],functionName:Ix(Jc(i))}}function va(t){const{args:e}=t,{abi:r,functionName:n}=t.abi.length===1&&t.functionName?.startsWith("0x")?t:J4e(t),i=r[0],s=n,o="inputs"in i&&i.inputs?hg(i.inputs,e??[]):void 0;return gd([s,o??"0x"])}const CA="/docs/contract/encodeFunctionResult";function X4e(t){const{abi:e,functionName:r,result:n}=t;let i=e[0];if(r){const o=fg({abi:e,name:r});if(!o)throw new Jy(r,{docsPath:CA});i=o}if(i.type!=="function")throw new Jy(void 0,{docsPath:CA});if(!i.outputs)throw new Qse(i.name,{docsPath:CA});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[n];if(Array.isArray(n))return n;throw new Zse(n)})();return hg(i.outputs,s)}const Xi=(t,e,r)=>JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString():i,r);function coe({abiItem:t,args:e,includeFunctionName:r=!0,includeName:n=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map((i,s)=>`${n&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?Xi(e[s]):e[s]}`).join(", ")})`}function $x(t,e){if(!oi(t,{strict:!1}))throw new Fo({address:t});if(!oi(e,{strict:!1}))throw new Fo({address:e});return t.toLowerCase()===e.toLowerCase()}function CM(t){const{abi:e,args:r,logs:n,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return n.map(o=>{const a=e.filter(u=>u.type==="event"&&o.topics[0]===iE(u));if(a.length===0)return null;let l,c;for(const u of a)try{l=v_({...o,abi:[u],strict:!0}),c=u;break}catch{}if(!l&&!i){c=a[0];try{l=v_({...o,abi:[c],strict:!1})}catch{const u=c.inputs?.some(h=>!("name"in h&&h.name));return{...o,args:u?[]:{},eventName:c.name}}}return!l||!c||s&&!s.includes(l.eventName)||!Q4e({args:l.args,inputs:c.inputs,matchArgs:r})?null:{...l,...o}}).filter(Boolean)}function Q4e(t){const{args:e,inputs:r,matchArgs:n}=t;if(!n)return!0;if(!e)return!1;function i(s,o,a){try{return s.type==="address"?$x(o,a):s.type==="string"||s.type==="bytes"?ps(S1(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(n)?n.every((s,o)=>{if(s==null)return!0;const a=r[o];return a?(Array.isArray(s)?s:[s]).some(c=>i(a,c,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof n=="object"&&!Array.isArray(n)?Object.entries(n).every(([s,o])=>{if(o==null)return!0;const a=r.find(c=>c.name===s);return a?(Array.isArray(o)?o:[o]).some(c=>i(a,c,e[s])):!1}):!1}function B0(t,e="hex"){const r=uoe(t),n=wM(new Uint8Array(r.length));return r.encode(n),e==="hex"?Ri(n.bytes):n.bytes}function uoe(t){return Array.isArray(t)?Z4e(t.map(e=>uoe(e))):e_e(t)}function Z4e(t){const e=t.reduce((i,s)=>i+s.length,0),r=doe(e);return{length:e<=55?1+e:1+r+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+r),r===1?i.pushUint8(e):r===2?i.pushUint16(e):r===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function e_e(t){const e=typeof t=="string"?Hl(t):t,r=doe(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+r),r===1?i.pushUint8(e.length):r===2?i.pushUint16(e.length):r===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function doe(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new et("Length is too large.")}function hoe(t){const{chainId:e,nonce:r,to:n}=t,i=t.contractAddress??t.address,s=ps(gd(["0x05",B0([e?ft(e):"0x",i,r?ft(r):"0x"])]));return n==="bytes"?Hl(s):s}async function t_e({hash:t,signature:e}){const r=Bs(t)?t:Fn(t),{secp256k1:n}=await bi(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>t8e);return{secp256k1:o}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:u,v:h,yParity:f}=e,p=Number(f??h),m=Yq(p);return new n.Signature(Xa(c),Xa(u)).addRecoveryBit(m)}const o=Bs(e)?e:Fn(e);if(Zn(o)!==65)throw new Error("invalid signature length");const a=Wl(`0x${o.slice(130)}`),l=Yq(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function Yq(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function foe({hash:t,signature:e}){return Yse(await t_e({hash:t,signature:e}))}async function oE(t){const{authorization:e,signature:r}=t;return foe({hash:hoe(e),signature:r??e})}const poe={gwei:9,wei:18},r_e={ether:-9,wei:9};function Ni(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,s]=[r.slice(0,r.length-e),r.slice(r.length-e)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}function gg(t,e="wei"){return Ni(t,poe[e])}function fa(t,e="wei"){return Ni(t,r_e[e])}function Nx(t){const e=Object.entries(t).map(([n,i])=>i===void 0||i===!1?null:[n,i]).filter(Boolean),r=e.reduce((n,[i])=>Math.max(n,i.length),0);return e.map(([n,i])=>`  ${`${n}:`.padEnd(r+1)}  ${i}`).join(`
`)}class n_e extends et{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class i_e extends et{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Nx(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class s_e extends et{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class o_e extends et{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:h,value:f}){const p=Nx({chain:i&&`${i?.name} (id: ${i?.id})`,from:r?.address,to:h,value:typeof f<"u"&&`${gg(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${fa(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${fa(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${fa(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class goe extends et{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:i,index:s}){let o="Transaction";n&&s!==void 0&&(o=`Transaction at block time "${n}" at index "${s}"`),e&&s!==void 0&&(o=`Transaction at block hash "${e}" at index "${s}"`),r&&s!==void 0&&(o=`Transaction at block number "${r}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class moe extends et{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class yoe extends et{constructor({receipt:e}){super(`Transaction with hash "${e.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class a_e extends et{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}function EM(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(s=>Hl(s)):t.blobs,i=[];for(const s of n)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return r==="bytes"?i:i.map(s=>Ri(s))}function kM(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(o=>Hl(o)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(o=>Hl(o)):t.commitments,s=[];for(let o=0;o<n.length;o++){const a=n[o],l=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,l)))}return r==="bytes"?s:s.map(o=>Ri(o))}function l_e(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,c=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+c,a,n)}function c_e(t,e,r){return t&e^~t&r}function u_e(t,e,r){return t&e^t&r^e&r}let d_e=class extends yM{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=yA(this.buffer)}update(e){Ky(this),e=rE(e),L0(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=yA(e);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ky(this),Bse(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,Yy(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;l_e(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=yA(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const tf=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),h_e=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),rf=new Uint32Array(64);let f_e=class extends d_e{constructor(e=32){super(64,e,8,!1),this.A=tf[0]|0,this.B=tf[1]|0,this.C=tf[2]|0,this.D=tf[3]|0,this.E=tf[4]|0,this.F=tf[5]|0,this.G=tf[6]|0,this.H=tf[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:l}=this;return[e,r,n,i,s,o,a,l]}set(e,r,n,i,s,o,a,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,r){for(let h=0;h<16;h++,r+=4)rf[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const f=rf[h-15],p=rf[h-2],m=ku(f,7)^ku(f,18)^f>>>3,v=ku(p,17)^ku(p,19)^p>>>10;rf[h]=v+rf[h-7]+m+rf[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=ku(a,6)^ku(a,11)^ku(a,25),p=u+f+c_e(a,l,c)+h_e[h]+rf[h]|0,v=(ku(n,2)^ku(n,13)^ku(n,22))+u_e(n,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=n,n=p+v|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,l,c,u)}roundClean(){Yy(rf)}destroy(){this.set(0,0,0,0,0,0,0,0),Yy(this.buffer)}};const voe=zse(()=>new f_e),p_e=voe;function g_e(t,e){return p_e(Bs(t,{strict:!1})?S1(t):t)}function m_e(t){const{commitment:e,version:r=1}=t,n=t.to??(typeof e=="string"?"hex":"bytes"),i=g_e(e);return i.set([r],0),n==="bytes"?i:Ri(i)}function woe(t){const{commitments:e,version:r}=t,n=t.to??(typeof e[0]=="string"?"hex":"bytes"),i=[];for(const s of e)i.push(m_e({commitment:s,to:n,version:r}));return i}const Jq=6,boe=32,SM=4096,xoe=boe*SM,Xq=xoe*Jq-1-1*SM*Jq,_oe=1;class y_e extends et{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class Coe extends et{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class v_e extends et{constructor({hash:e,size:r}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${r}`],name:"InvalidVersionedHashSizeError"})}}class w_e extends et{constructor({hash:e,version:r}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${_oe}`,`Received: ${r}`],name:"InvalidVersionedHashVersionError"})}}function b_e(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),r=typeof t.data=="string"?Hl(t.data):t.data,n=Zn(r);if(!n)throw new Coe;if(n>Xq)throw new y_e({maxSize:Xq,size:n});const i=[];let s=!0,o=0;for(;s;){const a=wM(new Uint8Array(xoe));let l=0;for(;l<SM;){const c=r.slice(o,o+(boe-1));if(a.pushByte(0),a.pushBytes(c),c.length<31){a.pushByte(128),s=!1;break}l++,o+=31}i.push(a)}return e==="bytes"?i.map(a=>a.bytes):i.map(a=>Ri(a.bytes))}function Eoe(t){const{data:e,kzg:r,to:n}=t,i=t.blobs??b_e({data:e,to:n}),s=t.commitments??EM({blobs:i,kzg:r,to:n}),o=t.proofs??kM({blobs:i,commitments:s,kzg:r,to:n}),a=[];for(let l=0;l<i.length;l++)a.push({blob:i[l],commitment:s[l],proof:o[l]});return a}const aE=2n**256n-1n;class sN extends et{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class x_e extends et{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class __e extends et{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class koe extends et{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class lE extends et{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}class dy extends et{constructor({cause:e,message:r}={}){const n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(dy,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(dy,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class z0 extends et{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${fa(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(z0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class oN extends et{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${fa(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(oN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class aN extends et{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(aN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class lN extends et{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(lN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class cN extends et{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(cN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class uN extends et{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(uN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class dN extends et{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(dN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class hN extends et{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(hN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class fN extends et{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(fN,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Vb extends et{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${fa(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${fa(n)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Vb,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Rx extends et{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function C_e(t){const{authorizationList:e}=t;if(e)for(const r of e){const{chainId:n}=r,i=r.address;if(!oi(i))throw new Fo({address:i});if(n<0)throw new lE({chainId:n})}AM(t)}function E_e(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new Coe;for(const r of e){const n=Zn(r),i=Wl(U0(r,0,1));if(n!==32)throw new v_e({hash:r,size:n});if(i!==_oe)throw new w_e({hash:r,version:i})}}AM(t)}function AM(t){const{chainId:e,maxPriorityFeePerGas:r,maxFeePerGas:n,to:i}=t;if(e<=0)throw new lE({chainId:e});if(i&&!oi(i))throw new Fo({address:i});if(n&&n>aE)throw new z0({maxFeePerGas:n});if(r&&n&&r>n)throw new Vb({maxFeePerGas:n,maxPriorityFeePerGas:r})}function k_e(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=t;if(e<=0)throw new lE({chainId:e});if(s&&!oi(s))throw new Fo({address:s});if(r||i)throw new et("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>aE)throw new z0({maxFeePerGas:n})}function S_e(t){const{chainId:e,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:i,to:s}=t;if(s&&!oi(s))throw new Fo({address:s});if(typeof e<"u"&&e<=0)throw new lE({chainId:e});if(r||i)throw new et("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>aE)throw new z0({maxFeePerGas:n})}function Soe(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new i_e({transaction:t})}function cE(t){if(!t||t.length===0)return[];const e=[];for(let r=0;r<t.length;r++){const{address:n,storageKeys:i}=t[r];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new s_e({storageKey:i[s]});if(!oi(n,{strict:!1}))throw new Fo({address:n});e.push([n,i])}return e}function A_e(t,e){const r=Soe(t);return r==="eip1559"?P_e(t,e):r==="eip2930"?$_e(t,e):r==="eip4844"?I_e(t,e):r==="eip7702"?T_e(t,e):N_e(t,e)}function T_e(t,e){const{authorizationList:r,chainId:n,gas:i,nonce:s,to:o,value:a,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:h}=t;C_e(t);const f=cE(u),p=R_e(r);return gd(["0x04",B0([ft(n),s?ft(s):"0x",c?ft(c):"0x",l?ft(l):"0x",i?ft(i):"0x",o??"0x",a?ft(a):"0x",h??"0x",f,p,...Ox(t,e)])])}function I_e(t,e){const{chainId:r,gas:n,nonce:i,to:s,value:o,maxFeePerBlobGas:a,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:u,data:h}=t;E_e(t);let f=t.blobVersionedHashes,p=t.sidecars;if(t.blobs&&(typeof f>"u"||typeof p>"u")){const _=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(k=>Ri(k)),A=t.kzg,C=EM({blobs:_,kzg:A});if(typeof f>"u"&&(f=woe({commitments:C})),typeof p>"u"){const k=kM({blobs:_,commitments:C,kzg:A});p=Eoe({blobs:_,commitments:C,proofs:k})}}const m=cE(u),v=[ft(r),i?ft(i):"0x",c?ft(c):"0x",l?ft(l):"0x",n?ft(n):"0x",s??"0x",o?ft(o):"0x",h??"0x",m,a?ft(a):"0x",f??[],...Ox(t,e)],w=[],b=[],E=[];if(p)for(let _=0;_<p.length;_++){const{blob:A,commitment:C,proof:k}=p[_];w.push(A),b.push(C),E.push(k)}return gd(["0x03",B0(p?[v,w,b,E]:v)])}function P_e(t,e){const{chainId:r,gas:n,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:l,accessList:c,data:u}=t;AM(t);const h=cE(c),f=[ft(r),i?ft(i):"0x",l?ft(l):"0x",a?ft(a):"0x",n?ft(n):"0x",s??"0x",o?ft(o):"0x",u??"0x",h,...Ox(t,e)];return gd(["0x02",B0(f)])}function $_e(t,e){const{chainId:r,gas:n,data:i,nonce:s,to:o,value:a,accessList:l,gasPrice:c}=t;k_e(t);const u=cE(l),h=[ft(r),s?ft(s):"0x",c?ft(c):"0x",n?ft(n):"0x",o??"0x",a?ft(a):"0x",i??"0x",u,...Ox(t,e)];return gd(["0x01",B0(h)])}function N_e(t,e){const{chainId:r=0,gas:n,data:i,nonce:s,to:o,value:a,gasPrice:l}=t;S_e(t);let c=[s?ft(s):"0x",l?ft(l):"0x",n?ft(n):"0x",o??"0x",a?ft(a):"0x",i??"0x"];if(e){const u=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(r>0)return BigInt(r*2)+BigInt(35n+e.v-27n);const p=27n+(e.v===27n?0n:1n);if(e.v!==p)throw new n_e({v:e.v});return p})(),h=Ka(e.r),f=Ka(e.s);c=[...c,ft(u),h==="0x00"?"0x":h,f==="0x00"?"0x":f]}else r>0&&(c=[...c,ft(r),"0x","0x"]);return B0(c)}function Ox(t,e){const r=e??t,{v:n,yParity:i}=r;if(typeof r.r>"u")return[];if(typeof r.s>"u")return[];if(typeof n>"u"&&typeof i>"u")return[];const s=Ka(r.r),o=Ka(r.s);return[typeof i=="number"?i?ft(1):"0x":n===0n?"0x":n===1n?ft(1):n===27n?"0x":ft(1),s==="0x00"?"0x":s,o==="0x00"?"0x":o]}function R_e(t){if(!t||t.length===0)return[];const e=[];for(const r of t){const{chainId:n,nonce:i,...s}=r,o=r.address;e.push([n?Fn(n):"0x",o,i?Fn(i):"0x",...Ox({},s)])}return e}async function O_e({address:t,authorization:e,signature:r}){return $x(pi(t),await oE({authorization:e,signature:r}))}const j_e=t=>t,TM=t=>t;let lb=class extends et{constructor({body:e,cause:r,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${TM(o)}`,e&&`Request body: ${Xi(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}};class IM extends et{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${TM(n)}`,`Request body: ${Xi(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data,this.url=n}}class Qq extends et{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${TM(r)}`,`Request body: ${Xi(e)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=r}}const M_e=-1;class wa extends et{constructor(e,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:i||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof IM?e.code:r??M_e}}class rl extends wa{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class Gb extends wa{constructor(e){super(e,{code:Gb.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Gb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Kb extends wa{constructor(e){super(e,{code:Kb.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Kb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Yb extends wa{constructor(e,{method:r}={}){super(e,{code:Yb.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(Yb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Jb extends wa{constructor(e){super(e,{code:Jb.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Jb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class q0 extends wa{constructor(e){super(e,{code:q0.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(q0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class ep extends wa{constructor(e){super(e,{code:ep.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(ep,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Xb extends wa{constructor(e){super(e,{code:Xb.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Xb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Qb extends wa{constructor(e){super(e,{code:Qb.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Qb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Zb extends wa{constructor(e){super(e,{code:Zb.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Zb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class g0 extends wa{constructor(e,{method:r}={}){super(e,{code:g0.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(g0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Xy extends wa{constructor(e){super(e,{code:Xy.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Xy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class e2 extends wa{constructor(e){super(e,{code:e2.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(e2,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Iy extends rl{constructor(e){super(e,{code:Iy.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Iy,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class t2 extends rl{constructor(e){super(e,{code:t2.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(t2,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class r2 extends rl{constructor(e,{method:r}={}){super(e,{code:r2.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(r2,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class n2 extends rl{constructor(e){super(e,{code:n2.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(n2,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class i2 extends rl{constructor(e){super(e,{code:i2.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(i2,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class s2 extends rl{constructor(e){super(e,{code:s2.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(s2,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Qy extends rl{constructor(e){super(e,{code:Qy.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Qy,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class o2 extends rl{constructor(e){super(e,{code:o2.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(o2,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class a2 extends rl{constructor(e){super(e,{code:a2.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(a2,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class l2 extends rl{constructor(e){super(e,{code:l2.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(l2,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class c2 extends rl{constructor(e){super(e,{code:c2.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(c2,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class u2 extends rl{constructor(e){super(e,{code:u2.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(u2,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Zy extends rl{constructor(e){super(e,{code:Zy.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Zy,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class D_e extends wa{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const V5=new A1(8192);function F_e(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(V5.get(r))return V5.get(r);const n=t().finally(()=>V5.delete(r));return V5.set(r,n),n}async function pN(t){return new Promise(e=>setTimeout(e,t))}function w_(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const l=async({error:c})=>{const u=typeof e=="function"?e({count:a,error:c}):e;u&&await pN(u),o({count:a+1})};try{const c=await t();i(c)}catch(c){if(a<r&&await n({count:a,error:c}))return l({error:c});s(c)}};o()})}function L_e(t,e={}){return async(r,n={})=>{const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:l}={...e,...n},{method:c}=r;if(s?.exclude?.includes(c))throw new g0(new Error("method not supported"),{method:c});if(s?.include&&!s.include.includes(c))throw new g0(new Error("method not supported"),{method:c});const u=i?Gy(`${l}.${Xi(r)}`):void 0;return F_e(()=>w_(async()=>{try{return await t(r)}catch(h){const f=h;switch(f.code){case Gb.code:throw new Gb(f);case Kb.code:throw new Kb(f);case Yb.code:throw new Yb(f,{method:r.method});case Jb.code:throw new Jb(f);case q0.code:throw new q0(f);case ep.code:throw new ep(f);case Xb.code:throw new Xb(f);case Qb.code:throw new Qb(f);case Zb.code:throw new Zb(f);case g0.code:throw new g0(f,{method:r.method});case Xy.code:throw new Xy(f);case e2.code:throw new e2(f);case Iy.code:throw new Iy(f);case t2.code:throw new t2(f);case r2.code:throw new r2(f);case n2.code:throw new n2(f);case i2.code:throw new i2(f);case s2.code:throw new s2(f);case Qy.code:throw new Qy(f);case o2.code:throw new o2(f);case a2.code:throw new a2(f);case l2.code:throw new l2(f);case c2.code:throw new c2(f);case u2.code:throw new u2(f);case Zy.code:throw new Zy(f);case 5e3:throw new Iy(f);default:throw h instanceof et?h:new D_e(f)}}},{delay:({count:h,error:f})=>{if(f&&f instanceof lb){const p=f?.headers?.get("Retry-After");if(p?.match(/\d/))return Number.parseInt(p,10)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>U_e(h)}),{enabled:i,id:u})}}function U_e(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===Xy.code||t.code===q0.code:t instanceof lb&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}const PM=BigInt(0),gN=BigInt(1);function jx(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function $M(t){if(!jx(t))throw new Error("Uint8Array expected")}function d2(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function G5(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Aoe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?PM:BigInt("0x"+t)}const Toe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",B_e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function h2(t){if($M(t),Toe)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=B_e[t[r]];return e}const Pd={_0:48,_9:57,A:65,F:70,a:97,f:102};function Zq(t){if(t>=Pd._0&&t<=Pd._9)return t-Pd._0;if(t>=Pd.A&&t<=Pd.F)return t-(Pd.A-10);if(t>=Pd.a&&t<=Pd.f)return t-(Pd.a-10)}function b_(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Toe)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=Zq(t.charCodeAt(s)),a=Zq(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function I0(t){return Aoe(h2(t))}function Ioe(t){return $M(t),Aoe(h2(Uint8Array.from(t).reverse()))}function Mx(t,e){return b_(t.toString(16).padStart(e*2,"0"))}function Poe(t,e){return Mx(t,e).reverse()}function Al(t,e,r){let n;if(typeof e=="string")try{n=b_(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(jx(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function x_(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];$M(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const EA=t=>typeof t=="bigint"&&PM<=t;function NM(t,e,r){return EA(t)&&EA(e)&&EA(r)&&e<=t&&t<r}function Py(t,e,r,n){if(!NM(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function z_e(t){let e;for(e=0;t>PM;t>>=gN,e+=1);return e}const uE=t=>(gN<<BigInt(t))-gN,kA=t=>new Uint8Array(t),eW=t=>Uint8Array.from(t);function q_e(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=kA(t),i=kA(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...h)=>r(i,n,...h),l=(h=kA(0))=>{i=a(eW([0]),h),n=a(),h.length!==0&&(i=a(eW([1]),h),n=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){n=a();const p=n.slice();f.push(p),h+=n.length}return x_(...f)};return(h,f)=>{o(),l(h);let p;for(;!(p=f(c()));)l();return o(),p}}const W_e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||jx(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function dE(t,e,r={}){const n=(i,s,o)=>{const a=W_e[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function tW(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const H_e="0.1.1";function V_e(){return H_e}let $r=class Hd extends Error{static setStaticOptions(e){Hd.prototype.docsOrigin=e.docsOrigin,Hd.prototype.showVersion=e.showVersion,Hd.prototype.version=e.version}constructor(e,r={}){const n=(()=>{if(r.cause instanceof Hd){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:r.cause?.message?r.cause.message:r.details})(),i=r.cause instanceof Hd&&r.cause.docsPath||r.docsPath,s=r.docsOrigin??Hd.prototype.docsOrigin,o=`${s}${i??""}`,a=!!(r.version??Hd.prototype.showVersion),l=r.version??Hd.prototype.version,c=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||i||a?["",n?`Details: ${n}`:void 0,i?`See: ${o}`:void 0,a?`Version: ${l}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(c,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=r.cause,this.details=n,this.docs=o,this.docsOrigin=s,this.docsPath=i,this.shortMessage=e,this.showVersion=a,this.version=l}walk(e){return $oe(this,e)}};Object.defineProperty($r,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${V_e()}`}});$r.setStaticOptions($r.defaultStaticOptions);function $oe(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?$oe(t.cause,e):e?null:t}function Dx(t,e){if(hy(t)>e)throw new cCe({givenSize:hy(t),maxSize:e})}const $d={zero:48,nine:57,A:65,F:70,a:97,f:102};function rW(t){if(t>=$d.zero&&t<=$d.nine)return t-$d.zero;if(t>=$d.A&&t<=$d.F)return t-($d.A-10);if(t>=$d.a&&t<=$d.f)return t-($d.a-10)}function G_e(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new uCe({size:t.length,targetSize:n,type:"Bytes"});const i=new Uint8Array(n);for(let s=0;s<n;s++){const o=r==="right";i[o?s:n-s-1]=t[o?s:t.length-s-1]}return i}function Noe(t,e={}){const{dir:r="left"}=e;let n=t,i=0;for(let s=0;s<n.length-1&&n[r==="left"?s:n.length-s-1].toString()==="0";s++)i++;return n=r==="left"?n.slice(i):n.slice(0,n.length-i),n}function hE(t,e){if(Qa(t)>e)throw new mCe({givenSize:Qa(t),maxSize:e})}function K_e(t,e){if(typeof e=="number"&&e>0&&e>Qa(t)-1)throw new Boe({offset:e,position:"start",size:Qa(t)})}function Y_e(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Qa(t)!==r-e)throw new Boe({offset:r,position:"end",size:Qa(t)})}function Roe(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;const i=t.replace("0x","");if(i.length>n*2)throw new yCe({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i[r==="right"?"padEnd":"padStart"](n*2,"0")}`}const J_e="#__bigint";function Ooe(t,e,r){return JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString()+J_e:i,r)}const X_e=new TextDecoder,Q_e=new TextEncoder;function Z_e(t){return t instanceof Uint8Array?t:typeof t=="string"?joe(t):eCe(t)}function eCe(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function joe(t,e={}){const{size:r}=e;let n=t;r&&(hE(t,r),n=H0(t,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,l=0;a<s;a++){const c=rW(i.charCodeAt(l++)),u=rW(i.charCodeAt(l++));if(c===void 0||u===void 0)throw new $r(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);o[a]=c<<4|u}return o}function tCe(t,e={}){const{size:r}=e,n=Q_e.encode(t);return typeof r=="number"?(Dx(n,r),rCe(n,r)):n}function rCe(t,e){return G_e(t,{dir:"right",size:e})}function hy(t){return t.length}function nCe(t,e,r,n={}){const{strict:i}=n;return t.slice(e,r)}function iCe(t,e={}){const{size:r}=e;typeof r<"u"&&Dx(t,r);const n=Qc(t,e);return Foe(n,e)}function sCe(t,e={}){const{size:r}=e;let n=t;if(typeof r<"u"&&(Dx(n,r),n=Moe(n)),n.length>1||n[0]>1)throw new lCe(n);return!!n[0]}function dh(t,e={}){const{size:r}=e;typeof r<"u"&&Dx(t,r);const n=Qc(t,e);return Loe(n,e)}function oCe(t,e={}){const{size:r}=e;let n=t;return typeof r<"u"&&(Dx(n,r),n=aCe(n)),X_e.decode(n)}function Moe(t){return Noe(t,{dir:"left"})}function aCe(t){return Noe(t,{dir:"right"})}class lCe extends $r{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let cCe=class extends $r{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},uCe=class extends $r{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const dCe=new TextEncoder,hCe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fCe(t,e={}){const{strict:r=!1}=e;if(!t)throw new nW(t);if(typeof t!="string")throw new nW(t);if(r&&!/^0x[0-9a-fA-F]*$/.test(t))throw new iW(t);if(!t.startsWith("0x"))throw new iW(t)}function Xc(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function pCe(t){return t instanceof Uint8Array?Qc(t):Array.isArray(t)?Qc(new Uint8Array(t)):t}function Doe(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(hE(r,e.size),W0(r,e.size)):r}function Qc(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=hCe[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(hE(n,e.size),H0(n,e.size)):n}function So(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new Uoe({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const l=`0x${(r&&i<0?BigInt.asUintN(n*8,BigInt(i)):i).toString(16)}`;return n?W0(l,n):l}function RM(t,e={}){return Qc(dCe.encode(t),e)}function W0(t,e){return Roe(t,{dir:"left",size:e})}function H0(t,e){return Roe(t,{dir:"right",size:e})}function rd(t,e,r,n={}){const{strict:i}=n;K_e(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return i&&Y_e(s,e,r),s}function Qa(t){return Math.ceil((t.length-2)/2)}function Foe(t,e={}){const{signed:r}=e;e.size&&hE(t,e.size);const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return n<=o?n:n-s-1n}function Loe(t,e={}){const{signed:r,size:n}=e;return Number(!r&&!n?t:Foe(t,e))}function gCe(t,e={}){const{strict:r=!1}=e;try{return fCe(t,{strict:r}),!0}catch{return!1}}let Uoe=class extends $r{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class nW extends $r{constructor(e){super(`Value \`${typeof e=="object"?Ooe(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class iW extends $r{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let mCe=class extends $r{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class Boe extends $r{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let yCe=class extends $r{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function vCe(t){return{address:t.address,amount:So(t.amount),index:So(t.index),validatorIndex:So(t.validatorIndex)}}function zoe(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:So(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:So(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:So(t.gasLimit)},...typeof t.number=="bigint"&&{number:So(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:So(t.prevRandao)},...typeof t.time=="bigint"&&{time:So(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(vCe)}}}const __=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],mN=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],qoe=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Woe=[...qoe,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],wCe=[...qoe,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],sW=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],oW=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Hoe=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],aW=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],OM=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],bCe="0x82ad56cb",Voe="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",xCe="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",_Ce="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",jM="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class CCe extends et{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class ECe extends et{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function lW(t){return t.reduce((e,{slot:r,value:n})=>`${e}        ${r}: ${n}
`,"")}function kCe(t){return t.reduce((e,{address:r,...n})=>{let i=`${e}    ${r}:
`;return n.nonce&&(i+=`      nonce: ${n.nonce}
`),n.balance&&(i+=`      balance: ${n.balance}
`),n.code&&(i+=`      code: ${n.code}
`),n.state&&(i+=`      state:
`,i+=lW(n.state)),n.stateDiff&&(i+=`      stateDiff:
`,i+=lW(n.stateDiff)),i},`  State Override:
`).slice(0,-1)}class Goe extends et{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:h,value:f,stateOverride:p}){const m=r?Gn(r):void 0;let v=Nx({from:m?.address,to:h,value:typeof f<"u"&&`${gg(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${fa(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${fa(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${fa(c)} gwei`,nonce:u});p&&(v+=`
${kCe(p)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",v].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Koe extends et{constructor(e,{abi:r,args:n,contractAddress:i,docsPath:s,functionName:o,sender:a}){const l=fg({abi:r,args:n,name:o}),c=l?coe({abiItem:l,args:n,includeFunctionName:!1,includeName:!1}):void 0,u=l?Jc(l,{includeName:!0}):void 0,h=Nx({address:i&&j_e(i),function:u,args:c&&c!=="()"&&`${[...Array(o?.length??0).keys()].map(()=>" ").join("")}${c}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=n,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class yN extends et{constructor({abi:e,data:r,functionName:n,message:i}){let s,o,a,l;if(r&&r!=="0x")try{o=G4e({abi:e,data:r});const{abiItem:u,errorName:h,args:f}=o;if(h==="Error")l=f[0];else if(h==="Panic"){const[p]=f;l=B4e[p]}else{const p=u?Jc(u,{includeName:!0}):void 0,m=u&&f?coe({abiItem:u,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[p?`Error: ${p}`:"",m&&m!=="()"?`       ${[...Array(h?.length??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(u){s=u}else i&&(l=i);let c;s instanceof Xse&&(c=s.signature,a=[`Unable to decode signature "${c}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${c}.`]),super(l&&l!=="execution reverted"||c?[`The contract function "${n}" reverted with the following ${c?"signature":"reason"}:`,l||c].join(`
`):`The contract function "${n}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=r,this.reason=l,this.signature=c}}class SCe extends et{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class ACe extends et{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class fE extends et{constructor({data:e,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function I1({blockNumber:t,chain:e,contract:r}){const n=e?.contracts?.[r];if(!n)throw new sN({chain:e,contract:{name:r}});if(t&&n.blockCreated&&n.blockCreated>t)throw new sN({blockNumber:t,chain:e,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function pE(t,e){const r=(t.details||"").toLowerCase(),n=t instanceof et?t.walk(i=>i?.code===dy.code):t;return n instanceof et?new dy({cause:t,message:n.details}):dy.nodeMessage.test(r)?new dy({cause:t,message:t.details}):z0.nodeMessage.test(r)?new z0({cause:t,maxFeePerGas:e?.maxFeePerGas}):oN.nodeMessage.test(r)?new oN({cause:t,maxFeePerGas:e?.maxFeePerGas}):aN.nodeMessage.test(r)?new aN({cause:t,nonce:e?.nonce}):lN.nodeMessage.test(r)?new lN({cause:t,nonce:e?.nonce}):cN.nodeMessage.test(r)?new cN({cause:t,nonce:e?.nonce}):uN.nodeMessage.test(r)?new uN({cause:t}):dN.nodeMessage.test(r)?new dN({cause:t,gas:e?.gas}):hN.nodeMessage.test(r)?new hN({cause:t,gas:e?.gas}):fN.nodeMessage.test(r)?new fN({cause:t}):Vb.nodeMessage.test(r)?new Vb({cause:t,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new Rx({cause:t})}function Yoe(t,{docsPath:e,...r}){const n=(()=>{const i=pE(t,r);return i instanceof Rx?t:i})();return new Goe(n,{docsPath:e,...r})}function P1(t,{format:e}){if(!e)return{};const r={};function n(s){const o=Object.keys(s);for(const a of o)a in t&&(r[a]=t[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&n(s[a])}const i=e(t||{});return n(i),r}const TCe={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function hp(t,e){const r={};return typeof t.authorizationList<"u"&&(r.authorizationList=ICe(t.authorizationList)),typeof t.accessList<"u"&&(r.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(r.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?r.blobs=t.blobs.map(n=>Ri(n)):r.blobs=t.blobs),typeof t.data<"u"&&(r.data=t.data),t.account&&(r.from=t.account.address),typeof t.from<"u"&&(r.from=t.from),typeof t.gas<"u"&&(r.gas=ft(t.gas)),typeof t.gasPrice<"u"&&(r.gasPrice=ft(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(r.maxFeePerBlobGas=ft(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(r.maxFeePerGas=ft(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(r.maxPriorityFeePerGas=ft(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(r.nonce=ft(t.nonce)),typeof t.to<"u"&&(r.to=t.to),typeof t.type<"u"&&(r.type=TCe[t.type]),typeof t.value<"u"&&(r.value=ft(t.value)),r}function ICe(t){return t.map(e=>({address:e.address,r:e.r?ft(BigInt(e.r)):e.r,s:e.s?ft(BigInt(e.s)):e.s,chainId:ft(e.chainId),nonce:ft(e.nonce),...typeof e.yParity<"u"?{yParity:ft(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:ft(e.v)}:{}}))}function MM(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const SA=new Map;function Joe({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const u=l();o();const h=u.map(({args:f})=>f);h.length!==0&&t(h).then(f=>{i&&Array.isArray(f)&&f.sort(i);for(let p=0;p<u.length;p++){const{resolve:m}=u[p];m?.([f[p],f])}}).catch(f=>{for(let p=0;p<u.length;p++){const{reject:m}=u[p];m?.(f)}})},o=()=>SA.delete(e),a=()=>l().map(({args:u})=>u),l=()=>SA.get(e)||[],c=u=>SA.set(e,[...l(),u]);return{flush:o,async schedule(u){const{promise:h,resolve:f,reject:p}=MM();return r?.([...a(),u])&&s(),l().length>0?(c({args:u,resolve:f,reject:p}),h):(c({args:u,resolve:f,reject:p}),setTimeout(s,n),h)}}}function cW(t){if(!(!t||t.length===0))return t.reduce((e,{slot:r,value:n})=>{if(r.length!==66)throw new Rq({size:r.length,targetSize:66,type:"hex"});if(n.length!==66)throw new Rq({size:n.length,targetSize:66,type:"hex"});return e[r]=n,e},{})}function PCe(t){const{balance:e,nonce:r,state:n,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=ft(e)),r!==void 0&&(o.nonce=ft(r)),n!==void 0&&(o.state=cW(n)),i!==void 0){if(o.state)throw new ECe;o.stateDiff=cW(i)}return o}function DM(t){if(!t)return;const e={};for(const{address:r,...n}of t){if(!oi(r,{strict:!1}))throw new Fo({address:r});if(e[r])throw new CCe({address:r});e[r]=PCe(n)}return e}function Oh(t){const{account:e,maxFeePerGas:r,maxPriorityFeePerGas:n,to:i}=t,s=e?Gn(e):void 0;if(s&&!oi(s.address))throw new Fo({address:s.address});if(i&&!oi(i))throw new Fo({address:i});if(r&&r>aE)throw new z0({maxFeePerGas:r});if(n&&r&&n>r)throw new Vb({maxFeePerGas:r,maxPriorityFeePerGas:n})}async function gE(t,e){const{account:r=t.account,authorizationList:n,batch:i=!!t.batch?.multicall,blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",accessList:a,blobs:l,blockOverrides:c,code:u,data:h,factory:f,factoryData:p,gas:m,gasPrice:v,maxFeePerBlobGas:w,maxFeePerGas:b,maxPriorityFeePerGas:E,nonce:_,to:A,value:C,stateOverride:k,...P}=e,F=r?Gn(r):void 0;if(u&&(f||p))throw new et("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&A)throw new et("Cannot provide both `code` & `to` as parameters.");const N=u&&h,$=f&&p&&A&&h,U=N||$,O=N?Xoe({code:u,data:h}):$?RCe({data:h,factory:f,factoryData:p,to:A}):h;try{Oh(e);const T=(typeof s=="bigint"?ft(s):void 0)||o,I=c?zoe(c):void 0,R=DM(k),L=t.chain?.formatters?.transactionRequest?.format,q=(L||hp)({...P1(P,{format:L}),accessList:a,account:F,authorizationList:n,blobs:l,data:O,gas:m,gasPrice:v,maxFeePerBlobGas:w,maxFeePerGas:b,maxPriorityFeePerGas:E,nonce:_,to:U?void 0:A,value:C},"call");if(i&&$Ce({request:q})&&!R&&!I)try{return await NCe(t,{...q,blockNumber:s,blockTag:o})}catch(j){if(!(j instanceof koe)&&!(j instanceof sN))throw j}const G=(()=>{const j=[q,T];return R&&I?[...j,R,I]:R?[...j,R]:I?[...j,{},I]:j})(),W=await t.request({method:"eth_call",params:G});return W==="0x"?{data:void 0}:{data:W}}catch(D){const T=OCe(D),{offchainLookup:I,offchainLookupSignature:R}=await bi(async()=>{const{offchainLookup:L,offchainLookupSignature:B}=await import("./ccip-DQLDvp7c.js");return{offchainLookup:L,offchainLookupSignature:B}},[]);if(t.ccipRead!==!1&&T?.slice(0,10)===R&&A)return{data:await I(t,{data:T,to:A})};throw U&&T?.slice(0,10)==="0x101bb98d"?new ACe({factory:f}):Yoe(D,{...e,account:F,chain:t.chain})}}function $Ce({request:t}){const{data:e,to:r,...n}=t;return!(!e||e.startsWith(bCe)||!r||Object.values(n).filter(i=>typeof i<"u").length>0)}async function NCe(t,e){const{batchSize:r=1024,deployless:n=!1,wait:i=0}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:o=t.experimental_blockTag??"latest",data:a,to:l}=e,c=(()=>{if(n)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return I1({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new koe})(),h=(typeof s=="bigint"?ft(s):void 0)||o,{schedule:f}=Joe({id:`${t.uid}.${h}`,wait:i,shouldSplitBatch(v){return v.reduce((b,{data:E})=>b+(E.length-2),0)>r*2},fn:async v=>{const w=v.map(_=>({allowFailure:!0,callData:_.data,target:_.to})),b=va({abi:__,args:[w],functionName:"aggregate3"}),E=await t.request({method:"eth_call",params:[{...c===null?{data:Xoe({code:jM,data:b})}:{to:c,data:b}},h]});return pg({abi:__,args:[w],functionName:"aggregate3",data:E||"0x"})}}),[{returnData:p,success:m}]=await f({data:a,to:l});if(!m)throw new fE({data:p});return p==="0x"?{data:void 0}:{data:p}}function Xoe(t){const{code:e,data:r}=t;return sE({abi:jse(["constructor(bytes, bytes)"]),bytecode:Voe,args:[e,r]})}function RCe(t){const{data:e,factory:r,factoryData:n,to:i}=t;return sE({abi:jse(["constructor(address, bytes, address, bytes)"]),bytecode:xCe,args:[i,e,r,n]})}function OCe(t){if(!(t instanceof et))return;const e=t.walk();return typeof e?.data=="object"?e.data?.data:e.data}const mE="x-batch-gateway:true";async function jCe(t){const{data:e,ccipRequest:r}=t,{args:[n]}=aoe({abi:mN,data:e}),i=[],s=[];return await Promise.all(n.map(async(o,a)=>{try{s[a]=o.urls.includes(mE)?await jCe({data:o.data,ccipRequest:r}):await r(o),i[a]=!1}catch(l){i[a]=!0,s[a]=MCe(l)}})),X4e({abi:mN,functionName:"query",result:[i,s]})}function MCe(t){return t.name==="HttpRequestError"&&t.status?Hq({abi:mN,errorName:"HttpError",args:[t.status,t.shortMessage]}):Hq({abi:[soe],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function FM({chain:t,currentChainId:e}){if(!t)throw new __e;if(e!==t.id)throw new x_e({chain:t,currentChainId:e})}function Qoe(t){const e={formatters:void 0,fees:void 0,serializers:void 0,...t};function r(n){return i=>{const s=typeof i=="function"?i(n):i,o={...n,...s};return Object.assign(o,{extend:r(o)})}}return Object.assign(e,{extend:r(e)})}const DCe=3;function V0(t,{abi:e,address:r,args:n,docsPath:i,functionName:s,sender:o}){const a=t instanceof fE?t:t instanceof et?t.walk(m=>"data"in m)||t.walk():{},{code:l,data:c,details:u,message:h,shortMessage:f}=a,p=t instanceof Tx?new SCe({functionName:s}):[DCe,q0.code].includes(l)&&(c||u||h||f)||l===ep.code&&u==="execution reverted"&&c?new yN({abi:e,data:typeof c=="object"?c.data:c,functionName:s,message:a instanceof IM?u:f??h}):t;return new Koe(p,{abi:e,args:n,contractAddress:r,docsPath:i,functionName:s,sender:o})}class FCe extends et{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:u,to:h,value:f}){const p=Nx({from:r?.address,to:h,value:typeof f<"u"&&`${gg(f)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${fa(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${fa(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${fa(c)} gwei`,nonce:u});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function LCe(t,{docsPath:e,...r}){const n=(()=>{const i=pE(t,r);return i instanceof Rx?t:i})();return new FCe(n,{docsPath:e,...r})}function yE(t,{docsPath:e,...r}){const n=(()=>{const i=pE(t,r);return i instanceof Rx?t:i})();return new o_e(n,{docsPath:e,...r})}const Zoe={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function LM(t,e){const r={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Wl(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Wl(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?Zoe[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(r.authorizationList=UCe(t.authorizationList)),r.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof r.v=="bigint"){if(r.v===0n||r.v===27n)return 0;if(r.v===1n||r.v===28n)return 1;if(r.v>=35n)return r.v%2n===0n?1:0}})(),r.type==="legacy"&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),r.type==="eip2930"&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),r.type==="eip1559"&&delete r.maxFeePerBlobGas,r}function UCe(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function eae(t,e){const r=(t.transactions??[]).map(n=>typeof n=="string"?n:LM(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:r,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}function wh(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,blockTimestamp:t.blockTimestamp?BigInt(t.blockTimestamp):t.blockTimestamp===null?null:void 0,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}const tae={"0x0":"reverted","0x1":"success"};function rae(t,e){const r={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>wh(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Wl(t.transactionIndex):null,status:t.status?tae[t.status]:null,type:t.type?Zoe[t.type]||t.type:null};return t.blobGasPrice&&(r.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(r.blobGasUsed=BigInt(t.blobGasUsed)),r}function zt(t,e,r){const n=t[e.name];if(typeof n=="function")return n;const i=t[r];return typeof i=="function"?i:s=>e(t,s)}async function UM(t,{address:e,blockTag:r="latest",blockNumber:n}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof n=="bigint"?ft(n):r]},{dedupe:!!n});return Wl(i)}function BCe(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n&&a.abort()},r)),i(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function zCe(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const uW=zCe();function qCe(t,e={}){const{url:r,headers:n}=WCe(t);return{async request(i){const{body:s,fetchFn:o=e.fetchFn??fetch,onRequest:a=e.onRequest,onResponse:l=e.onResponse,timeout:c=e.timeout??1e4}=i,u={...e.fetchOptions??{},...i.fetchOptions??{}},{headers:h,method:f,signal:p}=u;try{const m=await BCe(async({signal:w})=>{const b={...u,body:Array.isArray(s)?Xi(s.map(C=>({jsonrpc:"2.0",id:C.id??uW.take(),...C}))):Xi({jsonrpc:"2.0",id:s.id??uW.take(),...s}),headers:{...n,"Content-Type":"application/json",...h},method:f||"POST",signal:p||(c>0?w:null)},E=new Request(r,b),_=await a?.(E,b)??{...b,url:r};return await o(_.url??r,_)},{errorInstance:new Qq({body:s,url:r}),timeout:c,signal:!0});l&&await l(m);let v;if(m.headers.get("Content-Type")?.startsWith("application/json"))v=await m.json();else{v=await m.text();try{v=JSON.parse(v||"{}")}catch(w){if(m.ok)throw w;v={error:v}}}if(!m.ok)throw new lb({body:s,details:Xi(v.error)||m.statusText,headers:m.headers,status:m.status,url:r});return v}catch(m){throw m instanceof lb||m instanceof Qq?m:new lb({body:s,cause:m,url:r})}}}}function WCe(t){try{const e=new URL(t),r=(()=>{if(e.username){const n=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`;return e.username="",e.password="",{url:e.toString(),headers:{Authorization:`Basic ${btoa(n)}`}}}})();return{url:e.toString(),...r}}catch{return{url:t}}}const HCe=`Ethereum Signed Message:
`;function VCe(t){const e=typeof t=="string"?Gy(t):typeof t.raw=="string"?t.raw:Ri(t.raw),r=Gy(`${HCe}${Zn(e)}`);return Vl([r,e])}function BM(t,e){return ps(VCe(t),e)}class GCe extends et{constructor({domain:e}){super(`Invalid domain "${Xi(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class KCe extends et{constructor({primaryType:e,types:r}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class YCe extends et{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function JCe(t){const{domain:e,message:r,primaryType:n,types:i}=t,s=(l,c)=>{const u={...c};for(const h of l){const{name:f,type:p}=h;p==="address"&&(u[f]=u[f].toLowerCase())}return u},o=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},a=(()=>{if(n!=="EIP712Domain")return s(i[n],r)})();return Xi({domain:o,message:a,primaryType:n,types:i})}function nae(t){const{domain:e,message:r,primaryType:n,types:i}=t,s=(o,a)=>{for(const l of o){const{name:c,type:u}=l,h=a[c],f=u.match(ioe);if(f&&(typeof h=="number"||typeof h=="bigint")){const[v,w,b]=f;ft(h,{signed:w==="int",size:Number.parseInt(b,10)/8})}if(u==="address"&&typeof h=="string"&&!oi(h))throw new Fo({address:h});const p=u.match(k4e);if(p){const[v,w]=p;if(w&&Zn(h)!==Number.parseInt(w,10))throw new g4e({expectedSize:Number.parseInt(w,10),givenSize:Zn(h)})}const m=i[u];m&&(XCe(u),s(m,h))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new GCe({domain:e});s(i.EIP712Domain,e)}if(n!=="EIP712Domain")if(i[n])s(i[n],r);else throw new KCe({primaryType:n,types:i})}function iae({domain:t}){return[typeof t?.name=="string"&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},(typeof t?.chainId=="number"||typeof t?.chainId=="bigint")&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function XCe(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new YCe({type:t})}function sae(t){const{domain:e={},message:r,primaryType:n}=t,i={EIP712Domain:iae({domain:e}),...t.types};nae({domain:e,message:r,primaryType:n,types:i});const s=["0x1901"];return e&&s.push(QCe({domain:e,types:i})),n!=="EIP712Domain"&&s.push(oae({data:r,primaryType:n,types:i})),ps(Vl(s))}function QCe({domain:t,types:e}){return oae({data:t,primaryType:"EIP712Domain",types:e})}function oae({data:t,primaryType:e,types:r}){const n=aae({data:t,primaryType:e,types:r});return ps(n)}function aae({data:t,primaryType:e,types:r}){const n=[{type:"bytes32"}],i=[ZCe({primaryType:e,types:r})];for(const s of r[e]){const[o,a]=cae({types:r,name:s.name,type:s.type,value:t[s.name]});n.push(o),i.push(a)}return hg(n,i)}function ZCe({primaryType:t,types:e}){const r=Fn(eEe({primaryType:t,types:e}));return ps(r)}function eEe({primaryType:t,types:e}){let r="";const n=lae({primaryType:t,types:e});n.delete(t);const i=[t,...Array.from(n).sort()];for(const s of i)r+=`${s}(${e[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return r}function lae({primaryType:t,types:e},r=new Set){const i=t.match(/^\w*/u)?.[0];if(r.has(i)||e[i]===void 0)return r;r.add(i);for(const s of e[i])lae({primaryType:s.type,types:e},r);return r}function cae({types:t,name:e,type:r,value:n}){if(t[r]!==void 0)return[{type:"bytes32"},ps(aae({data:n,primaryType:r,types:t}))];if(r==="bytes")return[{type:"bytes32"},ps(n)];if(r==="string")return[{type:"bytes32"},ps(Fn(n))];if(r.lastIndexOf("]")===r.length-1){const i=r.slice(0,r.lastIndexOf("[")),s=n.map(o=>cae({name:e,type:i,types:t,value:o}));return[{type:"bytes32"},ps(hg(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:r},n]}let tEe=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const rEe={checksum:new tEe(8192)},AA=rEe.checksum;function uae(t,e={}){const{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=Kse(Z_e(t));return r==="Bytes"?n:Qc(n)}const nEe=/^0x[a-fA-F0-9]{40}$/;function vE(t,e={}){const{strict:r=!0}=e;if(!nEe.test(t))throw new dW({address:t,cause:new iEe});if(r){if(t.toLowerCase()===t)return;if(dae(t)!==t)throw new dW({address:t,cause:new sEe})}}function dae(t){if(AA.has(t))return AA.get(t);vE(t,{strict:!1});const e=t.substring(2).toLowerCase(),r=uae(tCe(e),{as:"Bytes"}),n=e.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&n[s]&&(n[s]=n[s].toUpperCase()),(r[s>>1]&15)>=8&&n[s+1]&&(n[s+1]=n[s+1].toUpperCase());const i=`0x${n.join("")}`;return AA.set(t,i),i}function vN(t,e={}){const{strict:r=!0}=e??{};try{return vE(t,{strict:r}),!0}catch{return!1}}class dW extends $r{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class iEe extends $r{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class sEe extends $r{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const oEe=/^(.*)\[([0-9]*)\]$/,aEe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,hae=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,hW=2n**256n-1n;function $y(t,e,r){const{checksumAddress:n,staticPosition:i}=r,s=WM(e.type);if(s){const[o,a]=s;return cEe(t,{...e,type:a},{checksumAddress:n,length:o,staticPosition:i})}if(e.type==="tuple")return fEe(t,e,{checksumAddress:n,staticPosition:i});if(e.type==="address")return lEe(t,{checksum:n});if(e.type==="bool")return uEe(t);if(e.type.startsWith("bytes"))return dEe(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return hEe(t,e);if(e.type==="string")return pEe(t,{staticPosition:i});throw new VM(e.type)}const fW=32,wN=32;function lEe(t,e={}){const{checksum:r=!1}=e,n=t.readBytes(32);return[(s=>r?dae(s):s)(Qc(nCe(n,-20))),32]}function cEe(t,e,r){const{checksumAddress:n,length:i,staticPosition:s}=r;if(!i){const l=dh(t.readBytes(wN)),c=s+l,u=c+fW;t.setPosition(c);const h=dh(t.readBytes(fW)),f=f2(e);let p=0;const m=[];for(let v=0;v<h;++v){t.setPosition(u+(f?v*32:p));const[w,b]=$y(t,e,{checksumAddress:n,staticPosition:u});p+=b,m.push(w)}return t.setPosition(s+32),[m,32]}if(f2(e)){const l=dh(t.readBytes(wN)),c=s+l,u=[];for(let h=0;h<i;++h){t.setPosition(c+h*32);const[f]=$y(t,e,{checksumAddress:n,staticPosition:c});u.push(f)}return t.setPosition(s+32),[u,32]}let o=0;const a=[];for(let l=0;l<i;++l){const[c,u]=$y(t,e,{checksumAddress:n,staticPosition:s+o});o+=u,a.push(c)}return[a,o]}function uEe(t){return[sCe(t.readBytes(32),{size:32}),32]}function dEe(t,e,{staticPosition:r}){const[n,i]=e.type.split("bytes");if(!i){const o=dh(t.readBytes(32));t.setPosition(r+o);const a=dh(t.readBytes(32));if(a===0)return t.setPosition(r+32),["0x",32];const l=t.readBytes(a);return t.setPosition(r+32),[Qc(l),32]}return[Qc(t.readBytes(Number.parseInt(i,10),32)),32]}function hEe(t,e){const r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[n>48?iCe(i,{signed:r}):dh(i,{signed:r}),32]}function fEe(t,e,r){const{checksumAddress:n,staticPosition:i}=r,s=e.components.length===0||e.components.some(({name:l})=>!l),o=s?[]:{};let a=0;if(f2(e)){const l=dh(t.readBytes(wN)),c=i+l;for(let u=0;u<e.components.length;++u){const h=e.components[u];t.setPosition(c+a);const[f,p]=$y(t,h,{checksumAddress:n,staticPosition:c});a+=p,o[s?u:h?.name]=f}return t.setPosition(i+32),[o,32]}for(let l=0;l<e.components.length;++l){const c=e.components[l],[u,h]=$y(t,c,{checksumAddress:n,staticPosition:i});o[s?l:c?.name]=u,a+=h}return[o,a]}function pEe(t,{staticPosition:e}){const r=dh(t.readBytes(32)),n=e+r;t.setPosition(n);const i=dh(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),o=oCe(Moe(s));return t.setPosition(e+32),[o,32]}function gEe({checksumAddress:t,parameters:e,values:r}){const n=[];for(let i=0;i<e.length;i++)n.push(zM({checksumAddress:t,parameter:e[i],value:r[i]}));return n}function zM({checksumAddress:t=!1,parameter:e,value:r}){const n=e,i=WM(n.type);if(i){const[s,o]=i;return yEe(r,{checksumAddress:t,length:s,parameter:{...n,type:o}})}if(n.type==="tuple")return _Ee(r,{checksumAddress:t,parameter:n});if(n.type==="address")return mEe(r,{checksum:t});if(n.type==="bool")return wEe(r);if(n.type.startsWith("uint")||n.type.startsWith("int")){const s=n.type.startsWith("int"),[,,o="256"]=hae.exec(n.type)??[];return bEe(r,{signed:s,size:Number(o)})}if(n.type.startsWith("bytes"))return vEe(r,{type:n.type});if(n.type==="string")return xEe(r);throw new VM(n.type)}function qM(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Qa(a)}const r=[],n=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(r.push(So(e+i,{size:32})),n.push(a),i+=Qa(a)):r.push(a)}return Xc(...r,...n)}function mEe(t,e){const{checksum:r=!1}=e;return vE(t,{strict:r}),{dynamic:!1,encoded:W0(t.toLowerCase())}}function yEe(t,e){const{checksumAddress:r,length:n,parameter:i}=e,s=n===null;if(!Array.isArray(t))throw new $Ee(t);if(!s&&t.length!==n)throw new PEe({expectedLength:n,givenLength:t.length,type:`${i.type}[${n}]`});let o=!1;const a=[];for(let l=0;l<t.length;l++){const c=zM({checksumAddress:r,parameter:i,value:t[l]});c.dynamic&&(o=!0),a.push(c)}if(s||o){const l=qM(a);if(s){const c=So(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Xc(c,l):c}}if(o)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:Xc(...a.map(({encoded:l})=>l))}}function vEe(t,{type:e}){const[,r]=e.split("bytes"),n=Qa(t);if(!r){let i=t;return n%32!==0&&(i=H0(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:Xc(W0(So(n,{size:32})),i)}}if(n!==Number.parseInt(r,10))throw new pae({expectedSize:Number.parseInt(r,10),value:t});return{dynamic:!1,encoded:H0(t)}}function wEe(t){if(typeof t!="boolean")throw new $r(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:W0(Doe(t))}}function bEe(t,{signed:e,size:r}){if(typeof r=="number"){const n=2n**(BigInt(r)-(e?1n:0n))-1n,i=e?-n-1n:0n;if(t>n||t<i)throw new Uoe({max:n.toString(),min:i.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:So(t,{size:32,signed:e})}}function xEe(t){const e=RM(t),r=Math.ceil(Qa(e)/32),n=[];for(let i=0;i<r;i++)n.push(H0(rd(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:Xc(H0(So(Qa(e),{size:32})),...n)}}function _Ee(t,e){const{checksumAddress:r,parameter:n}=e;let i=!1;const s=[];for(let o=0;o<n.components.length;o++){const a=n.components[o],l=Array.isArray(t)?o:a.name,c=zM({checksumAddress:r,parameter:a,value:t[l]});s.push(c),c.dynamic&&(i=!0)}return{dynamic:i,encoded:i?qM(s):Xc(...s.map(({encoded:o})=>o))}}function WM(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function f2(t){const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return t.components?.some(f2);const r=WM(t.type);return!!(r&&f2({...t,type:r[1]}))}const CEe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new SEe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new kEe({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new pW({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new pW({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function EEe(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(CEe);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}class pW extends $r{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class kEe extends $r{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class SEe extends $r{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function AEe(t,e,r={}){const{as:n="Array",checksumAddress:i=!1}=r,s=typeof e=="string"?joe(e):e,o=EEe(s);if(hy(s)===0&&t.length>0)throw new IEe;if(hy(s)&&hy(s)<32)throw new TEe({data:typeof e=="string"?e:Qc(e),parameters:t,size:hy(s)});let a=0;const l=n==="Array"?[]:{};for(let c=0;c<t.length;++c){const u=t[c];o.setPosition(a);const[h,f]=$y(o,u,{checksumAddress:i,staticPosition:0});a+=f,n==="Array"?l.push(h):l[u.name??c]=h}return l}function HM(t,e,r){const{checksumAddress:n=!1}={};if(t.length!==e.length)throw new gae({expectedLength:t.length,givenLength:e.length});const i=gEe({checksumAddress:n,parameters:t,values:e}),s=qM(i);return s.length===0?"0x":s}function bN(t,e){if(t.length!==e.length)throw new gae({expectedLength:t.length,givenLength:e.length});const r=[];for(let n=0;n<t.length;n++){const i=t[n],s=e[n];r.push(bN.encode(i,s))}return Xc(...r)}(function(t){function e(r,n,i=!1){if(r==="address"){const l=n;return vE(l),W0(l.toLowerCase(),i?32:0)}if(r==="string")return RM(n);if(r==="bytes")return n;if(r==="bool")return W0(Doe(n),i?32:1);const s=r.match(hae);if(s){const[l,c,u="256"]=s,h=Number.parseInt(u,10)/8;return So(n,{size:i?32:h,signed:c==="int"})}const o=r.match(aEe);if(o){const[l,c]=o;if(Number.parseInt(c,10)!==(n.length-2)/2)throw new pae({expectedSize:Number.parseInt(c,10),value:n});return H0(n,i?32:0)}const a=r.match(oEe);if(a&&Array.isArray(n)){const[l,c]=a,u=[];for(let h=0;h<n.length;h++)u.push(e(c,n[h],!0));return u.length===0?"0x":Xc(...u)}throw new VM(r)}t.encode=e})(bN||(bN={}));function fae(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?Nq(t):t}class TEe extends $r{constructor({data:e,parameters:r,size:n}){super(`Data size of ${n} bytes is too small for given parameters.`,{metaMessages:[`Params: (${ty(r)})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class IEe extends $r{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class PEe extends $r{constructor({expectedLength:e,givenLength:r,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${e}\`. Given: \`${r}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class pae extends $r{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Qa(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class gae extends $r{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class $Ee extends $r{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class VM extends $r{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class mae extends yM{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,U6e(e);const n=rE(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Yy(s)}update(e){return Ky(this),this.iHash.update(e),this}digestInto(e){Ky(this),L0(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const yae=(t,e,r)=>new mae(t,e).update(r).digest();yae.create=(t,e)=>new mae(t,e);const ua=BigInt(0),Oo=BigInt(1),m0=BigInt(2),NEe=BigInt(3),vae=BigInt(4),wae=BigInt(5),bae=BigInt(8);function ia(t,e){const r=t%e;return r>=ua?r:e+r}function ml(t,e,r){let n=t;for(;e-- >ua;)n*=n,n%=r;return n}function xN(t,e){if(t===ua)throw new Error("invert: expected non-zero number");if(e<=ua)throw new Error("invert: expected positive modulus, got "+e);let r=ia(t,e),n=e,i=ua,s=Oo;for(;r!==ua;){const a=n/r,l=n%r,c=i-s*a;n=r,r=l,i=s,s=c}if(n!==Oo)throw new Error("invert: does not exist");return ia(i,e)}function xae(t,e){const r=(t.ORDER+Oo)/vae,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function REe(t,e){const r=(t.ORDER-wae)/bae,n=t.mul(e,m0),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,m0),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function OEe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Oo,r=0;for(;e%m0===ua;)e/=m0,r++;let n=m0;const i=GM(t);for(;gW(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return xae;let s=i.pow(n,e);const o=(e+Oo)/m0;return function(l,c){if(l.is0(c))return c;if(gW(l,c)!==1)throw new Error("Cannot find square root");let u=r,h=l.mul(l.ONE,s),f=l.pow(c,e),p=l.pow(c,o);for(;!l.eql(f,l.ONE);){if(l.is0(f))return l.ZERO;let m=1,v=l.sqr(f);for(;!l.eql(v,l.ONE);)if(m++,v=l.sqr(v),m===u)throw new Error("Cannot find square root");const w=Oo<<BigInt(u-m-1),b=l.pow(h,w);u=m,h=l.sqr(b),f=l.mul(f,h),p=l.mul(p,b)}return p}}function jEe(t){return t%vae===NEe?xae:t%bae===wae?REe:OEe(t)}const MEe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function DEe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=MEe.reduce((n,i)=>(n[i]="function",n),e);return dE(t,r)}function FEe(t,e,r){if(r<ua)throw new Error("invalid exponent, negatives unsupported");if(r===ua)return t.ONE;if(r===Oo)return e;let n=t.ONE,i=e;for(;r>ua;)r&Oo&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Oo;return n}function _ae(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(n[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(n[l]=t.mul(o,n[l]),t.mul(o,a)),s),n}function gW(t,e){const r=(t.ORDER-Oo)/m0,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Cae(t,e){e!==void 0&&Wb(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function GM(t,e,r=!1,n={}){if(t<=ua)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=Cae(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:uE(i),ZERO:ua,ONE:Oo,create:l=>ia(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return ua<=l&&l<t},is0:l=>l===ua,isOdd:l=>(l&Oo)===Oo,neg:l=>ia(-l,t),eql:(l,c)=>l===c,sqr:l=>ia(l*l,t),add:(l,c)=>ia(l+c,t),sub:(l,c)=>ia(l-c,t),mul:(l,c)=>ia(l*c,t),pow:(l,c)=>FEe(a,l,c),div:(l,c)=>ia(l*xN(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>xN(l,t),sqrt:n.sqrt||(l=>(o||(o=jEe(t)),o(a,l))),toBytes:l=>r?Poe(l,s):Mx(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return r?Ioe(l):I0(l)},invertBatch:l=>_ae(a,l),cmov:(l,c,u)=>u?c:l});return Object.freeze(a)}function Eae(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function kae(t){const e=Eae(t);return e+Math.ceil(e/2)}function LEe(t,e,r=!1){const n=t.length,i=Eae(e),s=kae(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?Ioe(t):I0(t),a=ia(o,e-Oo)+Oo;return r?Poe(a,i):Mx(a,i)}const mW=BigInt(0),_N=BigInt(1);function TA(t,e){const r=e.negate();return t?r:e}function Sae(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function IA(t,e){Sae(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=uE(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function yW(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),l=t>>o;a>n&&(a-=s,l+=_N);const c=e*n,u=c+Math.abs(a)-1,h=a===0,f=a<0,p=e%2!==0;return{nextN:l,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:c}}function UEe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function BEe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const PA=new WeakMap,Aae=new WeakMap;function $A(t){return Aae.get(t)||1}function zEe(t,e){return{constTimeNegate:TA,hasPrecomputes(r){return $A(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>mW;)n&_N&&(i=i.add(s)),s=s.double(),n>>=_N;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=IA(n,e),o=[];let a=r,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=IA(r,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:m}=yW(i,l,a);i=c,h?o=o.add(TA(p,n[m])):s=s.add(TA(f,n[u]))}return{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=IA(r,e);for(let a=0;a<o.windows&&i!==mW;a++){const{nextN:l,offset:c,isZero:u,isNeg:h}=yW(i,a,o);if(i=l,!u){const f=n[c];s=s.add(h?f.negate():f)}}return s},getPrecomputes(r,n,i){let s=PA.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&PA.set(n,i(s))),s},wNAFCached(r,n,i){const s=$A(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=$A(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){Sae(n,e),Aae.set(r,n),PA.delete(r)}}}function qEe(t,e,r,n){UEe(r,t),BEe(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=z_e(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=uE(l),u=new Array(Number(c)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let f=o;for(let p=h;p>=0;p-=l){u.fill(o);for(let v=0;v<s;v++){const w=n[v],b=Number(w>>BigInt(p)&c);u[b]=u[b].add(r[v])}let m=o;for(let v=u.length-1,w=o;v>0;v--)w=w.add(u[v]),m=m.add(w);if(f=f.add(m),p!==0)for(let v=0;v<l;v++)f=f.double()}return f}function Tae(t){return DEe(t.Fp),dE(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Cae(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function vW(t){t.lowS!==void 0&&d2("lowS",t.lowS),t.prehash!==void 0&&d2("prehash",t.prehash)}function WEe(t){const e=Tae(t);dE(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class HEe extends Error{constructor(e=""){super(e)}}const Qd={Err:HEe,_tlv:{encode:(t,e)=>{const{Err:r}=Qd;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=G5(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?G5(i.length/2|128):"";return G5(t)+s+i+e},decode(t,e){const{Err:r}=Qd;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");const c=e.subarray(n,n+l);if(c.length!==l)throw new r("tlv.decode: length bytes not complete");if(c[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(n+=l,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=Qd;if(t<sh)throw new e("integer: negative integers are not allowed");let r=G5(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=Qd;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return I0(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=Qd,i=Al("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=n.decode(2,s),{v:c,l:u}=n.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(c)}},hexFromSig(t){const{_tlv:e,_int:r}=Qd,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}};function NA(t,e){return h2(Mx(t,e))}const sh=BigInt(0),ls=BigInt(1);BigInt(2);const RA=BigInt(3),VEe=BigInt(4);function GEe(t){const e=WEe(t),{Fp:r}=e,n=GM(e.n,e.nBitLength),i=e.toBytes||((_,A,C)=>{const k=A.toAffine();return x_(Uint8Array.from([4]),r.toBytes(k.x),r.toBytes(k.y))}),s=e.fromBytes||(_=>{const A=_.subarray(1),C=r.fromBytes(A.subarray(0,r.BYTES)),k=r.fromBytes(A.subarray(r.BYTES,2*r.BYTES));return{x:C,y:k}});function o(_){const{a:A,b:C}=e,k=r.sqr(_),P=r.mul(k,_);return r.add(r.add(P,r.mul(_,A)),C)}function a(_,A){const C=r.sqr(A),k=o(_);return r.eql(C,k)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const l=r.mul(r.pow(e.a,RA),VEe),c=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(l,c)))throw new Error("bad curve params: a or b");function u(_){return NM(_,ls,e.n)}function h(_){const{allowedPrivateKeyLengths:A,nByteLength:C,wrapPrivateKey:k,n:P}=e;if(A&&typeof _!="bigint"){if(jx(_)&&(_=h2(_)),typeof _!="string"||!A.includes(_.length))throw new Error("invalid private key");_=_.padStart(C*2,"0")}let F;try{F=typeof _=="bigint"?_:I0(Al("private key",_,C))}catch{throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof _)}return k&&(F=ia(F,P)),Py("private key",F,ls,P),F}function f(_){if(!(_ instanceof v))throw new Error("ProjectivePoint expected")}const p=tW((_,A)=>{const{px:C,py:k,pz:P}=_;if(r.eql(P,r.ONE))return{x:C,y:k};const F=_.is0();A==null&&(A=F?r.ONE:r.inv(P));const N=r.mul(C,A),$=r.mul(k,A),U=r.mul(P,A);if(F)return{x:r.ZERO,y:r.ZERO};if(!r.eql(U,r.ONE))throw new Error("invZ was invalid");return{x:N,y:$}}),m=tW(_=>{if(_.is0()){if(e.allowInfinityPoint&&!r.is0(_.py))return;throw new Error("bad point: ZERO")}const{x:A,y:C}=_.toAffine();if(!r.isValid(A)||!r.isValid(C))throw new Error("bad point: x or y not FE");if(!a(A,C))throw new Error("bad point: equation left != right");if(!_.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class v{constructor(A,C,k){if(A==null||!r.isValid(A))throw new Error("x required");if(C==null||!r.isValid(C)||r.is0(C))throw new Error("y required");if(k==null||!r.isValid(k))throw new Error("z required");this.px=A,this.py=C,this.pz=k,Object.freeze(this)}static fromAffine(A){const{x:C,y:k}=A||{};if(!A||!r.isValid(C)||!r.isValid(k))throw new Error("invalid affine point");if(A instanceof v)throw new Error("projective point not allowed");const P=F=>r.eql(F,r.ZERO);return P(C)&&P(k)?v.ZERO:new v(C,k,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(A){const C=_ae(r,A.map(k=>k.pz));return A.map((k,P)=>k.toAffine(C[P])).map(v.fromAffine)}static fromHex(A){const C=v.fromAffine(s(Al("pointHex",A)));return C.assertValidity(),C}static fromPrivateKey(A){return v.BASE.multiply(h(A))}static msm(A,C){return qEe(v,n,A,C)}_setWindowSize(A){E.setWindowSize(this,A)}assertValidity(){m(this)}hasEvenY(){const{y:A}=this.toAffine();if(r.isOdd)return!r.isOdd(A);throw new Error("Field doesn't support isOdd")}equals(A){f(A);const{px:C,py:k,pz:P}=this,{px:F,py:N,pz:$}=A,U=r.eql(r.mul(C,$),r.mul(F,P)),O=r.eql(r.mul(k,$),r.mul(N,P));return U&&O}negate(){return new v(this.px,r.neg(this.py),this.pz)}double(){const{a:A,b:C}=e,k=r.mul(C,RA),{px:P,py:F,pz:N}=this;let $=r.ZERO,U=r.ZERO,O=r.ZERO,D=r.mul(P,P),T=r.mul(F,F),I=r.mul(N,N),R=r.mul(P,F);return R=r.add(R,R),O=r.mul(P,N),O=r.add(O,O),$=r.mul(A,O),U=r.mul(k,I),U=r.add($,U),$=r.sub(T,U),U=r.add(T,U),U=r.mul($,U),$=r.mul(R,$),O=r.mul(k,O),I=r.mul(A,I),R=r.sub(D,I),R=r.mul(A,R),R=r.add(R,O),O=r.add(D,D),D=r.add(O,D),D=r.add(D,I),D=r.mul(D,R),U=r.add(U,D),I=r.mul(F,N),I=r.add(I,I),D=r.mul(I,R),$=r.sub($,D),O=r.mul(I,T),O=r.add(O,O),O=r.add(O,O),new v($,U,O)}add(A){f(A);const{px:C,py:k,pz:P}=this,{px:F,py:N,pz:$}=A;let U=r.ZERO,O=r.ZERO,D=r.ZERO;const T=e.a,I=r.mul(e.b,RA);let R=r.mul(C,F),L=r.mul(k,N),B=r.mul(P,$),q=r.add(C,k),G=r.add(F,N);q=r.mul(q,G),G=r.add(R,L),q=r.sub(q,G),G=r.add(C,P);let W=r.add(F,$);return G=r.mul(G,W),W=r.add(R,B),G=r.sub(G,W),W=r.add(k,P),U=r.add(N,$),W=r.mul(W,U),U=r.add(L,B),W=r.sub(W,U),D=r.mul(T,G),U=r.mul(I,B),D=r.add(U,D),U=r.sub(L,D),D=r.add(L,D),O=r.mul(U,D),L=r.add(R,R),L=r.add(L,R),B=r.mul(T,B),G=r.mul(I,G),L=r.add(L,B),B=r.sub(R,B),B=r.mul(T,B),G=r.add(G,B),R=r.mul(L,G),O=r.add(O,R),R=r.mul(W,G),U=r.mul(q,U),U=r.sub(U,R),R=r.mul(q,L),D=r.mul(W,D),D=r.add(D,R),new v(U,O,D)}subtract(A){return this.add(A.negate())}is0(){return this.equals(v.ZERO)}wNAF(A){return E.wNAFCached(this,A,v.normalizeZ)}multiplyUnsafe(A){const{endo:C,n:k}=e;Py("scalar",A,sh,k);const P=v.ZERO;if(A===sh)return P;if(this.is0()||A===ls)return this;if(!C||E.hasPrecomputes(this))return E.wNAFCachedUnsafe(this,A,v.normalizeZ);let{k1neg:F,k1:N,k2neg:$,k2:U}=C.splitScalar(A),O=P,D=P,T=this;for(;N>sh||U>sh;)N&ls&&(O=O.add(T)),U&ls&&(D=D.add(T)),T=T.double(),N>>=ls,U>>=ls;return F&&(O=O.negate()),$&&(D=D.negate()),D=new v(r.mul(D.px,C.beta),D.py,D.pz),O.add(D)}multiply(A){const{endo:C,n:k}=e;Py("scalar",A,ls,k);let P,F;if(C){const{k1neg:N,k1:$,k2neg:U,k2:O}=C.splitScalar(A);let{p:D,f:T}=this.wNAF($),{p:I,f:R}=this.wNAF(O);D=E.constTimeNegate(N,D),I=E.constTimeNegate(U,I),I=new v(r.mul(I.px,C.beta),I.py,I.pz),P=D.add(I),F=T.add(R)}else{const{p:N,f:$}=this.wNAF(A);P=N,F=$}return v.normalizeZ([P,F])[0]}multiplyAndAddUnsafe(A,C,k){const P=v.BASE,F=($,U)=>U===sh||U===ls||!$.equals(P)?$.multiplyUnsafe(U):$.multiply(U),N=F(this,C).add(F(A,k));return N.is0()?void 0:N}toAffine(A){return p(this,A)}isTorsionFree(){const{h:A,isTorsionFree:C}=e;if(A===ls)return!0;if(C)return C(v,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:A,clearCofactor:C}=e;return A===ls?this:C?C(v,this):this.multiplyUnsafe(e.h)}toRawBytes(A=!0){return d2("isCompressed",A),this.assertValidity(),i(v,this,A)}toHex(A=!0){return d2("isCompressed",A),h2(this.toRawBytes(A))}}v.BASE=new v(e.Gx,e.Gy,r.ONE),v.ZERO=new v(r.ZERO,r.ONE,r.ZERO);const{endo:w,nBitLength:b}=e,E=zEe(v,w?Math.ceil(b/2):b);return{CURVE:e,ProjectivePoint:v,normPrivateKeyToScalar:h,weierstrassEquation:o,isWithinCurveOrder:u}}function KEe(t){const e=Tae(t);return dE(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function YEe(t){const e=KEe(t),{Fp:r,n,nByteLength:i,nBitLength:s}=e,o=r.BYTES+1,a=2*r.BYTES+1;function l(I){return ia(I,n)}function c(I){return xN(I,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:h,weierstrassEquation:f,isWithinCurveOrder:p}=GEe({...e,toBytes(I,R,L){const B=R.toAffine(),q=r.toBytes(B.x),G=x_;return d2("isCompressed",L),L?G(Uint8Array.from([R.hasEvenY()?2:3]),q):G(Uint8Array.from([4]),q,r.toBytes(B.y))},fromBytes(I){const R=I.length,L=I[0],B=I.subarray(1);if(R===o&&(L===2||L===3)){const q=I0(B);if(!NM(q,ls,r.ORDER))throw new Error("Point is not on curve");const G=f(q);let W;try{W=r.sqrt(G)}catch(Q){const z=Q instanceof Error?": "+Q.message:"";throw new Error("Point is not on curve"+z)}const j=(W&ls)===ls;return(L&1)===1!==j&&(W=r.neg(W)),{x:q,y:W}}else if(R===a&&L===4){const q=r.fromBytes(B.subarray(0,r.BYTES)),G=r.fromBytes(B.subarray(r.BYTES,2*r.BYTES));return{x:q,y:G}}else{const q=o,G=a;throw new Error("invalid Point, expected length of "+q+", or uncompressed "+G+", got "+R)}}});function m(I){const R=n>>ls;return I>R}function v(I){return m(I)?l(-I):I}const w=(I,R,L)=>I0(I.slice(R,L));class b{constructor(R,L,B){Py("r",R,ls,n),Py("s",L,ls,n),this.r=R,this.s=L,B!=null&&(this.recovery=B),Object.freeze(this)}static fromCompact(R){const L=i;return R=Al("compactSignature",R,L*2),new b(w(R,0,L),w(R,L,2*L))}static fromDER(R){const{r:L,s:B}=Qd.toSig(Al("DER",R));return new b(L,B)}assertValidity(){}addRecoveryBit(R){return new b(this.r,this.s,R)}recoverPublicKey(R){const{r:L,s:B,recovery:q}=this,G=P(Al("msgHash",R));if(q==null||![0,1,2,3].includes(q))throw new Error("recovery id invalid");const W=q===2||q===3?L+e.n:L;if(W>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const j=(q&1)===0?"02":"03",Y=u.fromHex(j+NA(W,r.BYTES)),Q=c(W),z=l(-G*Q),Z=l(B*Q),ee=u.BASE.multiplyAndAddUnsafe(Y,z,Z);if(!ee)throw new Error("point at infinify");return ee.assertValidity(),ee}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return b_(this.toDERHex())}toDERHex(){return Qd.hexFromSig(this)}toCompactRawBytes(){return b_(this.toCompactHex())}toCompactHex(){const R=i;return NA(this.r,R)+NA(this.s,R)}}const E={isValidPrivateKey(I){try{return h(I),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const I=kae(e.n);return LEe(e.randomBytes(I),e.n)},precompute(I=8,R=u.BASE){return R._setWindowSize(I),R.multiply(BigInt(3)),R}};function _(I,R=!0){return u.fromPrivateKey(I).toRawBytes(R)}function A(I){if(typeof I=="bigint")return!1;if(I instanceof u)return!0;const L=Al("key",I).length,B=r.BYTES,q=B+1,G=2*B+1;if(!(e.allowedPrivateKeyLengths||i===q))return L===q||L===G}function C(I,R,L=!0){if(A(I)===!0)throw new Error("first arg must be private key");if(A(R)===!1)throw new Error("second arg must be public key");return u.fromHex(R).multiply(h(I)).toRawBytes(L)}const k=e.bits2int||function(I){if(I.length>8192)throw new Error("input is too large");const R=I0(I),L=I.length*8-s;return L>0?R>>BigInt(L):R},P=e.bits2int_modN||function(I){return l(k(I))},F=uE(s);function N(I){return Py("num < 2^"+s,I,sh,F),Mx(I,i)}function $(I,R,L=U){if(["recovered","canonical"].some(se=>se in L))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:q}=e;let{lowS:G,prehash:W,extraEntropy:j}=L;G==null&&(G=!0),I=Al("msgHash",I),vW(L),W&&(I=Al("prehashed msgHash",B(I)));const Y=P(I),Q=h(R),z=[N(Q),N(Y)];if(j!=null&&j!==!1){const se=j===!0?q(r.BYTES):j;z.push(Al("extraEntropy",se))}const Z=x_(...z),ee=Y;function te(se){const ce=k(se);if(!p(ce))return;const ge=c(ce),ae=u.BASE.multiply(ce).toAffine(),_e=l(ae.x);if(_e===sh)return;const Ee=l(ge*l(ee+_e*Q));if(Ee===sh)return;let Ie=(ae.x===_e?0:2)|Number(ae.y&ls),qe=Ee;return G&&m(Ee)&&(qe=v(Ee),Ie^=1),new b(_e,qe,Ie)}return{seed:Z,k2sig:te}}const U={lowS:e.lowS,prehash:!1},O={lowS:e.lowS,prehash:!1};function D(I,R,L=U){const{seed:B,k2sig:q}=$(I,R,L),G=e;return q_e(G.hash.outputLen,G.nByteLength,G.hmac)(B,q)}u.BASE._setWindowSize(8);function T(I,R,L,B=O){const q=I;R=Al("msgHash",R),L=Al("publicKey",L);const{lowS:G,prehash:W,format:j}=B;if(vW(B),"strict"in B)throw new Error("options.strict was renamed to lowS");if(j!==void 0&&j!=="compact"&&j!=="der")throw new Error("format must be compact or der");const Y=typeof q=="string"||jx(q),Q=!Y&&!j&&typeof q=="object"&&q!==null&&typeof q.r=="bigint"&&typeof q.s=="bigint";if(!Y&&!Q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let z,Z;try{if(Q&&(z=new b(q.r,q.s)),Y){try{j!=="compact"&&(z=b.fromDER(q))}catch(Ie){if(!(Ie instanceof Qd.Err))throw Ie}!z&&j!=="der"&&(z=b.fromCompact(q))}Z=u.fromHex(L)}catch{return!1}if(!z||G&&z.hasHighS())return!1;W&&(R=e.hash(R));const{r:ee,s:te}=z,se=P(R),ce=c(te),ge=l(se*ce),ae=l(ee*ce),_e=u.BASE.multiplyAndAddUnsafe(Z,ge,ae)?.toAffine();return _e?l(_e.x)===ee:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:C,sign:D,verify:T,ProjectivePoint:u,Signature:b,utils:E}}function JEe(t){return{hash:t,hmac:(e,...r)=>yae(t,e,V6e(...r)),randomBytes:G6e}}function XEe(t,e){const r=n=>YEe({...t,...JEe(n)});return{...r(e),create:r}}const Iae=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),wW=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),QEe=BigInt(0),ZEe=BigInt(1),CN=BigInt(2),bW=(t,e)=>(t+e/CN)/e;function e8e(t){const e=Iae,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=ml(u,r,e)*u%e,f=ml(h,r,e)*u%e,p=ml(f,CN,e)*c%e,m=ml(p,i,e)*p%e,v=ml(m,s,e)*m%e,w=ml(v,a,e)*v%e,b=ml(w,l,e)*w%e,E=ml(b,a,e)*v%e,_=ml(E,r,e)*u%e,A=ml(_,o,e)*m%e,C=ml(A,n,e)*c%e,k=ml(C,CN,e);if(!EN.eql(EN.sqr(k),t))throw new Error("Cannot find square root");return k}const EN=GM(Iae,void 0,void 0,{sqrt:e8e}),Fx=XEe({a:QEe,b:BigInt(7),Fp:EN,n:wW,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=wW,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-ZEe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=bW(s*t,e),l=bW(-n*t,e);let c=ia(t-a*r-l*i,e),u=ia(-a*n-l*s,e);const h=c>o,f=u>o;if(h&&(c=e-c),f&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:h,k1:c,k2neg:f,k2:u}}}},voe),t8e=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Fx},Symbol.toStringTag,{value:"Module"}));function Pae(t,e={}){const{recovered:r}=e;if(typeof t.r>"u")throw new OA({signature:t});if(typeof t.s>"u")throw new OA({signature:t});if(r&&typeof t.yParity>"u")throw new OA({signature:t});if(t.r<0n||t.r>hW)throw new l8e({value:t.r});if(t.s<0n||t.s>hW)throw new c8e({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new YM({value:t.yParity})}function r8e(t){return $ae(Qc(t))}function $ae(t){if(t.length!==130&&t.length!==132)throw new a8e({signature:t});const e=BigInt(rd(t,0,32)),r=BigInt(rd(t,32,64)),n=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return KM(i)}catch{throw new YM({value:i})}})();return typeof n>"u"?{r:e,s:r}:{r:e,s:r,yParity:n}}function n8e(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return i8e(t)}function i8e(t){const e=typeof t=="string"?$ae(t):t instanceof Uint8Array?r8e(t):typeof t.r=="string"?o8e(t):t.v?s8e(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return Pae(e),e}function s8e(t){return{r:t.r,s:t.s,yParity:KM(t.v)}}function o8e(t){const e=(()=>{const r=t.v?Number(t.v):void 0;let n=t.yParity?Number(t.yParity):void 0;if(typeof r=="number"&&typeof n!="number"&&(n=KM(r)),typeof n!="number")throw new YM({value:t.yParity});return n})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function KM(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new u8e({value:t})}class a8e extends $r{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Qa(pCe(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class OA extends $r{constructor({signature:e}){super(`Signature \`${Ooe(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class l8e extends $r{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class c8e extends $r{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class YM extends $r{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class u8e extends $r{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function d8e(t,e={}){return typeof t.chainId=="string"?h8e(t):{...t,...e.signature}}function h8e(t){const{address:e,chainId:r,nonce:n}=t,i=n8e(t);return{address:e,chainId:Number(r),nonce:BigInt(n),...i}}const f8e="0x8010801080108010801080108010801080108010801080108010801080108010",p8e=fae("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Nae(t){if(typeof t=="string"){if(rd(t,-32)!==f8e)throw new y8e(t)}else Pae(t.authorization)}function g8e(t){Nae(t);const e=Loe(rd(t,-64,-32)),r=rd(t,-e-64,-64),n=rd(t,0,-e-64),[i,s,o]=AEe(p8e,r);return{authorization:d8e({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:n,...o&&o!=="0x"?{data:o,to:s}:{}}}function m8e(t){try{return Nae(t),!0}catch{return!1}}let y8e=class extends $r{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class v8e extends et{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Rae(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new v8e({value:t});let[r,n="0"]=t.split(".");const i=r.startsWith("-");if(i&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),e===0)Math.round(+`.${n}`)===1&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>e){const[s,o,a]=[n.slice(0,e-1),n.slice(e-1,e),n.slice(e)],l=Math.round(+`${o}.${a}`);l>9?n=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):n=`${s}${l}`,n.length>e&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,e)}else n=n.padEnd(e,"0");return BigInt(`${i?"-":""}${r}${n}`)}function Oae(t,e="wei"){return Rae(t,poe[e])}const w8e={path:"/api/v1/analytics_events",method:"POST"},b8e={path:"/api/v1/apps/:app_id",method:"GET"},x8e={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},_8e={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},C8e={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},E8e={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},k8e={path:"/api/v1/farcaster/init",method:"POST"},S8e={path:"/api/v1/farcaster/authenticate",method:"POST"},A8e={path:"/api/v1/farcaster/link",method:"POST"},T8e={path:"/api/v1/farcaster/unlink",method:"POST"},I8e={path:"/api/v1/farcaster/status",method:"GET"},P8e={path:"/api/v2/farcaster/init",method:"POST"},$8e={path:"/api/v2/farcaster/authenticate",method:"POST"},N8e={path:"/api/v1/guest/authenticate",method:"POST"},R8e={path:"/api/v1/mfa/passkeys/init",method:"POST"},O8e={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},j8e={path:"/api/v1/oauth/authenticate",method:"POST"},M8e={path:"/api/v1/oauth/init",method:"POST"},D8e={path:"/api/v1/oauth/link",method:"POST"},F8e={path:"/api/v1/oauth/unlink",method:"POST"},L8e={path:"/api/v1/passkeys/link",method:"POST"},U8e={path:"/api/v1/passkeys/authenticate",method:"POST"},B8e={path:"/api/v1/passkeys/register",method:"POST"},z8e={path:"/api/v1/passkeys/authenticate/init",method:"POST"},q8e={path:"/api/v1/passkeys/register/init",method:"POST"},W8e={path:"/api/v1/passkeys/link/init",method:"POST"},H8e={path:"/api/v1/passwordless/authenticate",method:"POST"},V8e={path:"/api/v1/passwordless/init",method:"POST"},G8e={path:"/api/v1/passwordless/link",method:"POST"},K8e={path:"/api/v1/passwordless/unlink",method:"POST"},Y8e={path:"/api/v1/passwordless/update",method:"POST"},J8e={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},X8e={path:"/api/v1/passwordless_sms/init",method:"POST"},Q8e={path:"/api/v1/passwordless_sms/link",method:"POST"},Z8e={path:"/api/v1/passwordless_sms/unlink",method:"POST"},eke={path:"/api/v1/passwordless_sms/update",method:"POST"},tke={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},rke={path:"/api/v1/recovery/oauth/init",method:"POST"},nke={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},ike={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},ske={path:"/api/v1/recovery/configuration_icloud",method:"POST"},oke=(t,e)=>e?Object.entries(e).reduce(((r,[n,i])=>r.replace(`:${n}`,`${i}`)),t):t,xW={path:"/api/v1/sessions",method:"POST"},ake={path:"/api/v1/sessions/logout",method:"POST"},lke={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},jae={path:"/api/v1/siwe/init",method:"POST"},cke={path:"/api/v1/siwe/authenticate",method:"POST"},uke={path:"/api/v1/siwe/link",method:"POST"},dke={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},hke={path:"/api/v1/siwe/unlink",method:"POST"},fke={path:"/api/v1/siws/init",method:"POST"},pke={path:"/api/v1/siws/authenticate",method:"POST"},gke={path:"/api/v1/siws/link",method:"POST"},mke={path:"/api/v1/siws/unlink",method:"POST"},yke={path:"/api/v1/users/me/accept_terms",method:"POST"},vke={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},wke={path:"/api/v1/wallets",method:"POST"},jA={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},bke={path:"/api/v1/wallets/revoke",method:"POST"};var rr,_W=((rr={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",rr.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",rr.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",rr.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",rr.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",rr.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",rr.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",rr.INVALID_DATA="invalid_data",rr.INVALID_CREDENTIALS="invalid_credentials",rr.INVALID_CAPTCHA="invalid_captcha",rr.LINKED_TO_ANOTHER_USER="linked_to_another_user",rr.ALLOWLIST_REJECTED="allowlist_rejected",rr.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",rr.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",rr.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",rr.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",rr.TOO_MANY_REQUESTS="too_many_requests",rr.RESOURCE_CONFLICT="resource_conflict",rr.INVALID_ORIGIN="invalid_origin",rr.MISSING_ORIGIN="missing_origin",rr.INVALID_NATIVE_APP_ID="invalid_native_app_id",rr.TOKEN_ALREADY_USED="token_already_used",rr.ALREADY_LOGGED_OUT="already_logged_out",rr.NOT_SUPPORTED="not_supported",rr.USER_UNSUBSCRIBED="user_unsubscribed",rr.MAX_APPS_REACHED="max_apps_reached",rr.USER_LIMIT_REACHED="max_accounts_reached",rr.DEVICE_REVOKED="device_revoked",rr.WALLET_PASSWORD_EXISTS="wallet_password_exists",rr.OAUTH_STATE_MISMATCH="oauth_state_mismatch",rr.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",rr.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",rr.DISALLOWED_LOGIN_METHOD="disallowed_login_method",rr.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",rr.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",rr.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",rr.CANNOT_SET_PASSWORD="cannot_set_password",rr.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",rr.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",rr.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",rr.USER_DOES_NOT_EXIST="user_does_not_exist",rr.ALREADY_EXISTS="resource_already_exists",rr.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",rr.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",rr.FEATURE_NOT_ENABLED="feature_not_enabled",rr.INSUFFICIENT_FUNDS="insufficient_funds",rr.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",rr.INVALID_POLICY_FORMAT="invalid_policy_format",rr.POLICY_VIOLATION="policy_violation",rr.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",rr.INVALID_REQUEST="invalid_request",rr.SIGNUP_DISABLED="signup_disabled",rr);function CW(t,e){t=t.split("-"),e=e.split("-");for(var r=t[0].split("."),n=e[0].split("."),i=0;i<3;i++){var s=Number(r[i]),o=Number(n[i]);if(s>o)return 1;if(o>s)return-1;if(!isNaN(s)&&isNaN(o))return 1;if(isNaN(s)&&!isNaN(o))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var xke={}.constructor;function P0(t){return t!=null&&t.constructor===xke}function e1(t){"@babel/helpers - typeof";return e1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e1(t)}function wE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cke(n.key),n)}}function bE(t,e,r){return e&&_ke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cke(t){var e=Eke(t,"string");return e1(e)=="symbol"?e:e+""}function Eke(t,e){if(e1(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(e1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kke="1.2.0",Ske="1.7.35",EW=" ext. ",Ake=/^\d+$/,Qi=(function(){function t(e){wE(this,t),Mae(e),this.metadata=e,Dae.call(this,e)}return bE(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(r){return r!=="001"})}},{key:"getCountryMetadata",value:function(r){return this.metadata.countries[r]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(r){return this.getCountryMetadata(r)!==void 0}},{key:"hasCallingCode",value:function(r){if(this.getCountryCodesForCallingCode(r))return!0;if(this.nonGeographic()){if(this.nonGeographic()[r])return!0}else{var n=this.countryCallingCodes()[r];if(n&&n.length===1&&n[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(r){return this.nonGeographic()?!!this.nonGeographic()[r]:!this.getCountryCodesForCallingCode(r)}},{key:"country",value:function(r){return this.selectNumberingPlan(r)}},{key:"selectNumberingPlan",value:function(r,n){if(r&&Ake.test(r)&&(n=r,r=null),r&&r!=="001"){if(!this.hasCountry(r))throw new Error("Unknown country: ".concat(r));this.numberingPlan=new kW(this.getCountryMetadata(r),this)}else if(n){if(!this.hasCallingCode(n))throw new Error("Unknown calling code: ".concat(n));this.numberingPlan=new kW(this.getNumberingPlanMetadata(n),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(r){var n=this.countryCallingCodes()[r];if(n)return n.length===1&&n[0].length===3?void 0:n}},{key:"getCountryCodeForCallingCode",value:function(r){var n=this.getCountryCodesForCallingCode(r);if(n)return n[0]}},{key:"getNumberingPlanMetadata",value:function(r){var n=this.getCountryCodeForCallingCode(r);if(n)return this.getCountryMetadata(n);if(this.nonGeographic()){var i=this.nonGeographic()[r];if(i)return i}else{var s=this.countryCallingCodes()[r];if(s&&s.length===1&&s[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(r){return this.numberingPlan.type(r)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(r){return this.selectNumberingPlan(r)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])})(),kW=(function(){function t(e,r){wE(this,t),this.globalMetadataObject=r,this.metadata=e,Dae.call(this,r.metadata)}return bE(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(r){return r[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var r=this,n=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return n.map(function(i){return new Tke(i,r)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(r){return r[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(r){if(this.hasTypes()&&SW(this.types(),r))return new Pke(SW(this.types(),r),this)}},{key:"ext",value:function(){return this.v1||this.v2?EW:this.metadata[13]||EW}}])})(),Tke=(function(){function t(e,r){wE(this,t),this._format=e,this.metadata=r}return bE(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!Ike.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])})(),Ike=/^\(?\$1\)?$/,Pke=(function(){function t(e,r){wE(this,t),this.type=e,this.metadata=r}return bE(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])})();function SW(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function Mae(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!P0(t)||!P0(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(P0(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+$ke(t)+": "+t,"."))}var $ke=function(e){return e1(e)};function xE(t,e){if(e=new Qi(e),e.hasCountry(t))return e.selectNumberingPlan(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function Nke(t,e){return e.countries.hasOwnProperty(t)}function Dae(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?CW(e,kke)===-1?this.v2=!0:CW(e,Ske)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function _E(t,e,r){return Rke(t,e,void 0,r)}function Rke(t,e,r,n){e&&(n=new Qi(n.metadata),n.selectNumberingPlan(e));var i=n.type(r),s=i&&i.possibleLengths()||n.possibleLengths();if(!s)return"IS_POSSIBLE";var o=t.length,a=s[0];return a===o?"IS_POSSIBLE":a>o?"TOO_SHORT":s[s.length-1]<o?"TOO_LONG":s.indexOf(o,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function Oke(t,e,r){if(e===void 0&&(e={}),r=new Qi(r),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");r.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!r.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));r.selectNumberingPlan(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");r.selectNumberingPlan(t.countryCallingCode)}}if(r.possibleLengths())return Fae(t.phone||t.nationalNumber,t.country,r);if(t.countryCallingCode&&r.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function Fae(t,e,r){return _E(t,e,r)==="IS_POSSIBLE"}function bh(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function jke(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=Mke(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mke(t,e){if(t){if(typeof t=="string")return AW(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?AW(t,e):void 0}}function AW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Dke=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function JM(t,e,r){if(e=e||{},!(!t.country&&!t.countryCallingCode)){r=new Qi(r),r.selectNumberingPlan(t.country,t.countryCallingCode);var n=e.v2?t.nationalNumber:t.phone;if(bh(n,r.nationalNumberPattern())){if(MA(n,"FIXED_LINE",r))return r.type("MOBILE")&&r.type("MOBILE").pattern()===""||!r.type("MOBILE")||MA(n,"MOBILE",r)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i=jke(Dke),s;!(s=i()).done;){var o=s.value;if(MA(n,o,r))return o}}}}function MA(t,e,r){return e=r.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:bh(t,e.pattern())}function Fke(t,e,r){if(e=e||{},r=new Qi(r),r.selectNumberingPlan(t.country,t.countryCallingCode),r.hasTypes())return JM(t,e,r.metadata)!==void 0;var n=e.v2?t.nationalNumber:t.phone;return bh(n,r.nationalNumberPattern())}function Lke(t,e,r){var n=new Qi(r),i=n.getCountryCodesForCallingCode(t);return i?i.filter(function(s){return Uke(e,s,r)}):[]}function Uke(t,e,r){var n=new Qi(r);return n.selectNumberingPlan(e),n.numberingPlan.possibleLengths().indexOf(t.length)>=0}var XM=2,Bke=17,zke=3,Lo="0-9---",qke="--",Wke="/",Hke=".",Vke=" ",Gke="()\\[\\]",Kke="~",Hc="".concat(qke).concat(Wke).concat(Hke).concat(Vke).concat(Gke).concat(Kke),CE="+",Yke=new RegExp("(["+Lo+"])");function Lae(t,e,r,n){if(e){var i=new Qi(n);i.selectNumberingPlan(e,r);var s=new RegExp(i.IDDPrefix());if(t.search(s)===0){t=t.slice(t.match(s)[0].length);var o=t.match(Yke);if(!(o&&o[1]!=null&&o[1].length>0&&o[1]==="0"))return t}}}function kN(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var r=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),n=r.exec(t);if(n){var i,s,o=n.length-1,a=o>0&&n[o];if(e.nationalPrefixTransformRule()&&a)i=t.replace(r,e.nationalPrefixTransformRule()),o>1&&(s=n[1]);else{var l=n[0];i=t.slice(l.length),a&&(s=n[1])}var c;if(a){var u=t.indexOf(n[1]),h=t.slice(0,u);h===e.numberingPlan.nationalPrefix()&&(c=e.numberingPlan.nationalPrefix())}else c=n[0];return{nationalNumber:i,nationalPrefix:c,carrierCode:s}}}return{nationalNumber:t}}function Jke(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=Xke(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xke(t,e){if(t){if(typeof t=="string")return TW(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?TW(t,e):void 0}}function TW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Uae(t,e){var r=e.countries,n=e.metadata;n=new Qi(n);for(var i=Jke(r),s;!(s=i()).done;){var o=s.value;if(n.selectNumberingPlan(o),n.leadingDigits()){if(t&&t.search(n.leadingDigits())===0)return o}else if(JM({phone:t,country:o},void 0,n.metadata))return o}}function QM(t,e){var r=e.nationalNumber,n=e.metadata,i=n.getCountryCodesForCallingCode(t);if(i)return i.length===1?i[0]:Uae(r,{countries:i,metadata:n.metadata})}function SN(t,e,r){var n=kN(t,r),i=n.carrierCode,s=n.nationalNumber;if(s!==t){if(!Qke(t,s,r))return{nationalNumber:t};if(r.numberingPlan.possibleLengths()&&(e||(e=QM(r.numberingPlan.callingCode(),{nationalNumber:s,metadata:r})),!Zke(s,e,r)))return{nationalNumber:t}}return{nationalNumber:s,carrierCode:i}}function Qke(t,e,r){return!(bh(t,r.nationalNumberPattern())&&!bh(e,r.nationalNumberPattern()))}function Zke(t,e,r){switch(_E(t,e,r)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function Bae(t,e,r,n,i){var s=e||r?xE(e||r,i):n;if(t.indexOf(s)===0){i=new Qi(i),i.selectNumberingPlan(e||r,s);var o=t.slice(s.length),a=SN(o,e,i),l=a.nationalNumber,c=SN(t,e,i),u=c.nationalNumber;if(!bh(u,i.nationalNumberPattern())&&bh(l,i.nationalNumberPattern())||_E(u,e,i)==="TOO_LONG")return{countryCallingCode:s,number:o}}return{number:t}}function ZM(t,e,r,n,i){if(!t)return{};var s;if(t[0]!=="+"){var o=Lae(t,e||r,n,i);if(o&&o!==t)s=!0,t="+"+o;else{if(e||r||n){var a=Bae(t,e,r,n,i),l=a.countryCallingCode,c=a.number;if(l)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:l,number:c}}return{number:t}}}if(t[1]==="0")return{};i=new Qi(i);for(var u=2;u-1<=zke&&u<=t.length;){var h=t.slice(1,u);if(i.hasCallingCode(h))return i.selectNumberingPlan(h),{countryCallingCodeSource:s?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:h,number:t.slice(u)};u++}return{}}function zae(t){return t.replace(new RegExp("[".concat(Hc,"]+"),"g")," ").trim()}var qae=/(\$\d)/;function Wae(t,e,r){var n=r.useInternationalFormat,i=r.withNationalPrefix;r.carrierCode,r.metadata;var s=t.replace(new RegExp(e.pattern()),n?e.internationalFormat():i&&e.nationalPrefixFormattingRule()?e.format().replace(qae,e.nationalPrefixFormattingRule()):e.format());return n?zae(s):s}var eSe=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function tSe(t,e,r){var n=new Qi(r);if(n.selectNumberingPlan(t,e),n.defaultIDDPrefix())return n.defaultIDDPrefix();if(eSe.test(n.IDDPrefix()))return n.IDDPrefix()}var rSe=";ext=",fm=function(e){return"([".concat(Lo,"]{1,").concat(e,"})")};function Hae(t){var e="20",r="15",n="9",i="6",s="[ \\t,]*",o="[:\\.]?[ \\t,-]*",a="#?",l="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",c="(?:[x#~]|int|)",u="[- ]+",h="[ \\t]*",f="(?:,{2}|;)",p=rSe+fm(e),m=s+l+o+fm(e)+a,v=s+c+o+fm(n)+a,w=u+fm(i)+"#",b=h+f+o+fm(r)+a,E=h+"(?:,)+"+o+fm(n)+a;return p+"|"+m+"|"+v+"|"+w+"|"+b+"|"+E}var nSe="["+Lo+"]{"+XM+"}",iSe="["+CE+"]{0,1}(?:["+Hc+"]*["+Lo+"]){3,}["+Hc+Lo+"]*",sSe=new RegExp("^["+CE+"]{0,1}(?:["+Hc+"]*["+Lo+"]){1,2}$","i"),oSe=iSe+"(?:"+Hae()+")?",aSe=new RegExp("^"+nSe+"$|^"+oSe+"$","i");function lSe(t){return t.length>=XM&&aSe.test(t)}function cSe(t){return sSe.test(t)}function uSe(t){var e=t.number,r=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(r?";ext="+r:"")}var IW={formatExtension:function(e,r,n){return"".concat(e).concat(n.ext()).concat(r)}};function dSe(t,e,r,n){if(r?r=pSe({},IW,r):r=IW,n=new Qi(n),t.country&&t.country!=="001"){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.selectNumberingPlan(t.country)}else if(t.countryCallingCode)n.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var i=n.countryCallingCode(),s=r.v2?t.nationalNumber:t.phone,o;switch(e){case"NATIONAL":return s?(o=C_(s,t.carrierCode,"NATIONAL",n,r),DA(o,t.ext,n,r.formatExtension)):"";case"INTERNATIONAL":return s?(o=C_(s,null,"INTERNATIONAL",n,r),o="+".concat(i," ").concat(o),DA(o,t.ext,n,r.formatExtension)):"+".concat(i);case"E.164":return"+".concat(i).concat(s);case"RFC3966":return uSe({number:"+".concat(i).concat(s),ext:t.ext});case"IDD":if(!r.fromCountry)return;var a=fSe(s,t.carrierCode,i,r.fromCountry,n);return DA(a,t.ext,n,r.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function C_(t,e,r,n,i){var s=hSe(n.formats(),t);return s?Wae(t,s,{useInternationalFormat:r==="INTERNATIONAL",withNationalPrefix:!(s.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&i&&i.nationalPrefix===!1),carrierCode:e,metadata:n}):t}function hSe(t,e){return gSe(t,function(r){if(r.leadingDigitsPatterns().length>0){var n=r.leadingDigitsPatterns()[r.leadingDigitsPatterns().length-1];if(e.search(n)!==0)return!1}return bh(e,r.pattern())})}function DA(t,e,r,n){return e?n(t,e,r):t}function fSe(t,e,r,n,i){var s=xE(n,i.metadata);if(s===r){var o=C_(t,e,"NATIONAL",i);return r==="1"?r+" "+o:o}var a=tSe(n,void 0,i.metadata);if(a)return"".concat(a," ").concat(r," ").concat(C_(t,null,"INTERNATIONAL",i))}function pSe(){for(var t=1,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(;t<r.length;){if(r[t])for(var i in r[t])r[0][i]=r[t][i];t++}return r[0]}function gSe(t,e){for(var r=0;r<t.length;){if(e(t[r]))return t[r];r++}}function p2(t){"@babel/helpers - typeof";return p2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p2(t)}function PW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $W(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PW(Object(r),!0).forEach(function(n){mSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mSe(t,e,r){return(e=Vae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ySe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vae(n.key),n)}}function wSe(t,e,r){return e&&vSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vae(t){var e=bSe(t,"string");return p2(e)=="symbol"?e:e+""}function bSe(t,e){if(p2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(p2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eD=(function(){function t(e,r,n){if(ySe(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!r)throw new TypeError("`metadata` argument not passed");if(P0(r)&&P0(r.countries)){n=r;var i=e;if(!CSe.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var s=ZM(i,void 0,void 0,void 0,n),o=s.countryCallingCode,a=s.number;if(r=a,e=o,!r)throw new Error("Invalid `number` argument passed: too short")}if(!r)throw new TypeError("`nationalNumber` argument is required");if(typeof r!="string")throw new TypeError("`nationalNumber` argument must be a string");Mae(n);var l=_Se(e,n),c=l.country,u=l.countryCallingCode;this.country=c,this.countryCallingCode=u,this.nationalNumber=r,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return n}}return wSe(t,[{key:"setExt",value:function(r){this.ext=r}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:Lke(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return Oke(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return Fke(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var r=new Qi(this.getMetadata());return r.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(r){return this.number===r.number&&this.ext===r.ext}},{key:"getType",value:function(){return JM(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(r,n){return dSe(this,r,n?$W($W({},n),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(r){return this.format("NATIONAL",r)}},{key:"formatInternational",value:function(r){return this.format("INTERNATIONAL",r)}},{key:"getURI",value:function(r){return this.format("RFC3966",r)}}])})(),xSe=function(e){return/^[A-Z]{2}$/.test(e)};function _Se(t,e){var r,n,i=new Qi(e);return xSe(t)?(r=t,i.selectNumberingPlan(r),n=i.countryCallingCode()):n=t,{country:r,countryCallingCode:n}}var CSe=/^\+\d+$/;function AN(t){"@babel/helpers - typeof";return AN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AN(t)}function ESe(t,e,r){return Object.defineProperty(t,"prototype",{writable:!1}),t}function kSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SSe(t,e,r){return e=m2(e),ASe(t,tD()?Reflect.construct(e,r||[],m2(t).constructor):e.apply(t,r))}function ASe(t,e){if(e&&(AN(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TSe(t)}function TSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ISe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g2(t,e)}function TN(t){var e=typeof Map=="function"?new Map:void 0;return TN=function(n){if(n===null||!$Se(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return PSe(n,arguments,m2(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),g2(i,n)},TN(t)}function PSe(t,e,r){if(tD())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var i=new(t.bind.apply(t,n));return r&&g2(i,r.prototype),i}function tD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tD=function(){return!!t})()}function $Se(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function g2(t,e){return g2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},g2(t,e)}function m2(t){return m2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m2(t)}var Zd=(function(t){function e(r){var n;return kSe(this,e),n=SSe(this,e,[r]),Object.setPrototypeOf(n,e.prototype),n.name=n.constructor.name,n}return ISe(e,t),ESe(e)})(TN(Error)),NW=new RegExp("(?:"+Hae()+")$","i");function NSe(t){var e=t.search(NW);if(e<0)return{};for(var r=t.slice(0,e),n=t.match(NW),i=1;i<n.length;){if(n[i])return{number:r,ext:n[i]};i++}}function RSe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=OSe(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OSe(t,e){if(t){if(typeof t=="string")return RW(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?RW(t,e):void 0}}function RW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var jSe={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function Gae(t){return jSe[t]}function E_(t){for(var e="",r=RSe(t.split("")),n;!(n=r()).done;){var i=n.value,s=Gae(i);s&&(e+=s)}return e}function MSe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=DSe(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DSe(t,e){if(t){if(typeof t=="string")return OW(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?OW(t,e):void 0}}function OW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function jW(t){for(var e="",r=MSe(t.split("")),n;!(n=r()).done;){var i=n.value;e+=FSe(i,e)||""}return e}function FSe(t,e,r){return t==="+"?e?void 0:"+":Gae(t)}var Kae="+",LSe="[\\-\\.\\(\\)]?",MW="(["+Lo+"]|"+LSe+")",USe="^\\"+Kae+MW+"*["+Lo+"]"+MW+"*$",BSe=new RegExp(USe,"g"),IN=Lo,zSe="["+IN+"]+((\\-)*["+IN+"])*",qSe="a-zA-Z",WSe="["+qSe+"]+((\\-)*["+IN+"])*",HSe="^("+zSe+"\\.)*"+WSe+"\\.?$",VSe=new RegExp(HSe,"g"),DW="tel:",PN=";phone-context=",GSe=";isub=";function KSe(t){var e=t.indexOf(PN);if(e<0)return null;var r=e+PN.length;if(r>=t.length)return"";var n=t.indexOf(";",r);return n>=0?t.substring(r,n):t.substring(r)}function YSe(t){return t===null?!0:t.length===0?!1:BSe.test(t)||VSe.test(t)}function JSe(t,e){var r=e.extractFormattedPhoneNumber,n=KSe(t);if(!YSe(n))throw new Zd("NOT_A_NUMBER");var i;if(n===null)i=r(t)||"";else{i="",n.charAt(0)===Kae&&(i+=n);var s=t.indexOf(DW),o;s>=0?o=s+DW.length:o=0;var a=t.indexOf(PN);i+=t.substring(o,a)}var l=i.indexOf(GSe);if(l>0&&(i=i.substring(0,l)),i!=="")return i}var XSe=250,QSe=new RegExp("["+CE+Lo+"]"),ZSe=new RegExp("[^"+Lo+"#]+$");function eAe(t,e,r){if(e=e||{},r=new Qi(r),e.defaultCountry&&!r.hasCountry(e.defaultCountry))throw e.v2?new Zd("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var n=rAe(t,e.v2,e.extract),i=n.number,s=n.ext,o=n.error;if(!i){if(e.v2)throw o==="TOO_SHORT"?new Zd("TOO_SHORT"):new Zd("NOT_A_NUMBER");return{}}var a=iAe(i,e.defaultCountry,e.defaultCallingCode,r),l=a.country,c=a.nationalNumber,u=a.countryCallingCode,h=a.countryCallingCodeSource,f=a.carrierCode;if(!r.hasSelectedNumberingPlan()){if(e.v2)throw new Zd("INVALID_COUNTRY");return{}}if(!c||c.length<XM){if(e.v2)throw new Zd("TOO_SHORT");return{}}if(c.length>Bke){if(e.v2)throw new Zd("TOO_LONG");return{}}if(e.v2){var p=new eD(u,c,r.metadata);return l&&(p.country=l),f&&(p.carrierCode=f),s&&(p.ext=s),p.__countryCallingCodeSource=h,p}var m=(e.extended?r.hasSelectedNumberingPlan():l)?bh(c,r.nationalNumberPattern()):!1;return e.extended?{country:l,countryCallingCode:u,carrierCode:f,valid:m,possible:m?!0:!!(e.extended===!0&&r.possibleLengths()&&Fae(c,l,r)),phone:c,ext:s}:m?nAe(l,c,s):{}}function tAe(t,e,r){if(t){if(t.length>XSe){if(r)throw new Zd("TOO_LONG");return}if(e===!1)return t;var n=t.search(QSe);if(!(n<0))return t.slice(n).replace(ZSe,"")}}function rAe(t,e,r){var n=JSe(t,{extractFormattedPhoneNumber:function(o){return tAe(o,r,e)}});if(!n)return{};if(!lSe(n))return cSe(n)?{error:"TOO_SHORT"}:{};var i=NSe(n);return i.ext?i:{number:n}}function nAe(t,e,r){var n={country:t,phone:e};return r&&(n.ext=r),n}function iAe(t,e,r,n){var i=ZM(jW(t),void 0,e,r,n.metadata),s=i.countryCallingCodeSource,o=i.countryCallingCode,a=i.number,l;if(o)n.selectNumberingPlan(o);else if(a&&(e||r))n.selectNumberingPlan(e,r),e&&(l=e),o=r||xE(e,n.metadata);else return{};if(!a)return{countryCallingCodeSource:s,countryCallingCode:o};var c=SN(jW(a),l,n),u=c.nationalNumber,h=c.carrierCode,f=QM(o,{nationalNumber:u,metadata:n});return f&&(l=f,f==="001"||n.selectNumberingPlan(l)),{country:l,countryCallingCode:o,countryCallingCodeSource:s,nationalNumber:u,carrierCode:h}}function y2(t){"@babel/helpers - typeof";return y2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y2(t)}function FW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FW(Object(r),!0).forEach(function(n){sAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sAe(t,e,r){return(e=oAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oAe(t){var e=aAe(t,"string");return y2(e)=="symbol"?e:e+""}function aAe(t,e){if(y2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(y2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lAe(t,e,r){return eAe(t,LW(LW({},e),{},{v2:!0}),r)}function v2(t){"@babel/helpers - typeof";return v2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v2(t)}function UW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cAe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UW(Object(r),!0).forEach(function(n){uAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uAe(t,e,r){return(e=dAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dAe(t){var e=hAe(t,"string");return v2(e)=="symbol"?e:e+""}function hAe(t,e){if(v2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(v2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fAe(t,e){return yAe(t)||mAe(t,e)||gAe(t,e)||pAe()}function pAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gAe(t,e){if(t){if(typeof t=="string")return BW(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?BW(t,e):void 0}}function BW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function mAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function yAe(t){if(Array.isArray(t))return t}function vAe(t){var e=Array.prototype.slice.call(t),r=fAe(e,4),n=r[0],i=r[1],s=r[2],o=r[3],a,l,c;if(typeof n=="string")a=n;else throw new TypeError("A text for parsing must be a string.");if(!i||typeof i=="string")o?(l=s,c=o):(l=void 0,c=s),i&&(l=cAe({defaultCountry:i},l));else if(P0(i))s?(l=i,c=s):c=i;else throw new Error("Invalid second argument: ".concat(i));return{text:a,options:l,metadata:c}}function w2(t){"@babel/helpers - typeof";return w2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w2(t)}function zW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zW(Object(r),!0).forEach(function(n){wAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wAe(t,e,r){return(e=bAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bAe(t){var e=xAe(t,"string");return w2(e)=="symbol"?e:e+""}function xAe(t,e){if(w2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(w2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Ae(t,e,r){e&&e.defaultCountry&&!Nke(e.defaultCountry,r)&&(e=qW(qW({},e),{},{defaultCountry:void 0}));try{return lAe(t,e,r)}catch(n){if(!(n instanceof Zd))throw n}}function b2(t){"@babel/helpers - typeof";return b2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b2(t)}function WW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WW(Object(r),!0).forEach(function(n){CAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CAe(t,e,r){return(e=EAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EAe(t){var e=kAe(t,"string");return b2(e)=="symbol"?e:e+""}function kAe(t,e){if(b2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(b2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SAe(){var t=vAe(arguments),e=t.text,r=t.options,n=t.metadata;r=HW(HW({},r),{},{extract:!1});var i=_Ae(e,r,n);return i&&i.isPossible()||!1}function x2(t){"@babel/helpers - typeof";return x2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x2(t)}function AAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PAe(n.key),n)}}function IAe(t,e,r){return e&&TAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PAe(t){var e=$Ae(t,"string");return x2(e)=="symbol"?e:e+""}function $Ae(t,e){if(x2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(x2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NAe=(function(){function t(e){var r=e.onCountryChange,n=e.onCallingCodeChange;AAe(this,t),this.onCountryChange=r,this.onCallingCodeChange=n}return IAe(t,[{key:"reset",value:function(r){var n=r.country,i=r.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(n,i)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberIsModified=!1,this.nationalPrefix=void 0,this.carrierCode=void 0,this.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix=void 0}},{key:"update",value:function(r){for(var n=0,i=Object.keys(r);n<i.length;n++){var s=i[n];this[s]=r[s]}}},{key:"initCountryAndCallingCode",value:function(r,n){this.setCountry(r),this.setCallingCode(n)}},{key:"setCountry",value:function(r){this.country=r,this.onCountryChange(r)}},{key:"setCallingCode",value:function(r){this.callingCode=r,this.onCallingCodeChange(r,this.country)}},{key:"startInternationalNumber",value:function(r,n){this.international=!0,this.initCountryAndCallingCode(r,n)}},{key:"appendDigits",value:function(r){this.digits+=r}},{key:"appendNationalSignificantNumberDigits",value:function(r){this.nationalSignificantNumber+=r}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])})();function RAe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=OAe(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OAe(t,e){if(t){if(typeof t=="string")return VW(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?VW(t,e):void 0}}function VW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var $c="x",FA=new RegExp($c);function S4(t,e){if(e<1)return"";for(var r="";e>1;)e&1&&(r+=t),e>>=1,t+=t;return r+t}function GW(t,e){return t[e]===")"&&e++,jAe(t.slice(0,e))}function jAe(t){for(var e=[],r=0;r<t.length;)t[r]==="("?e.push(r):t[r]===")"&&e.pop(),r++;var n=0,i="";e.push(t.length);for(var s=0,o=e;s<o.length;s++){var a=o[s];i+=t.slice(n,a),n=a+1}return i}function MAe(t,e,r){for(var n=RAe(r.split("")),i;!(i=n()).done;){var s=i.value;if(t.slice(e+1).search(FA)<0)return;e=t.search(FA),t=t.replace(FA,s)}return[t,e]}function DAe(t,e,r){var n=r.metadata,i=r.shouldTryNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix,o=new RegExp("^(?:".concat(e.pattern(),")$"));if(o.test(t.nationalSignificantNumber))return LAe(t,e,{metadata:n,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:s})}function FAe(t,e,r){return _E(t,e,r)==="IS_POSSIBLE"}function LAe(t,e,r){var n=r.metadata,i=r.shouldTryNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix;if(t.nationalSignificantNumber,t.international,t.nationalPrefix,t.carrierCode,i(e)){var o=KW(t,e,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:s,metadata:n});if(o)return o}return KW(t,e,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:s,metadata:n})}function KW(t,e,r){var n=r.metadata,i=r.useNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix,o=Wae(t.nationalSignificantNumber,e,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:i,metadata:n});if(i||(t.nationalPrefix?o=t.nationalPrefix+s(e)+o:t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix&&(o=t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix+" "+o)),UAe(o,t))return o}function UAe(t,e){return E_(t)===e.getNationalDigits()}function _2(t){"@babel/helpers - typeof";return _2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_2(t)}function BAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WAe(n.key),n)}}function qAe(t,e,r){return e&&zAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WAe(t){var e=HAe(t,"string");return _2(e)=="symbol"?e:e+""}function HAe(t,e){if(_2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VAe=(function(){function t(){BAe(this,t)}return qAe(t,[{key:"parse",value:function(r){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(r),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var n=this.context[0],i=n.branches,s=n.instructions;if(i)return{op:"|",args:i.concat([LA(s)])};if(s.length===0)throw new Error("Pattern is required");return s.length===1?s[0]:s}},{key:"startContext",value:function(r){this.context.push(r)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(r){if(!r)throw new Error("Pattern is required");var n=r.match(YAe);if(!n){if(KAe.test(r))throw new Error("Illegal characters found in a pattern: ".concat(r));this.getContext().instructions=this.getContext().instructions.concat(r.split(""));return}var i=n[1],s=r.slice(0,n.index),o=r.slice(n.index+i.length);switch(i){case"(?:":s&&this.parsePattern(s),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(s&&this.parsePattern(s),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var a=this.getContext(),l=a.branches;l.push(LA(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:l});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(s&&this.parsePattern(s),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(LA(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":s&&this.parsePattern(s),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:GAe(s)});break;default:throw new Error("Unknown operator: ".concat(i))}o&&this.parsePattern(o)}}])})();function GAe(t){for(var e=[],r=0;r<t.length;){if(t[r]==="-"){if(r===0||r===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var n=t[r-1].charCodeAt(0)+1,i=t[r+1].charCodeAt(0)-1,s=n;s<=i;)e.push(String.fromCharCode(s)),s++}else e.push(t[r]);r++}return e}var KAe=/[\(\)\[\]\?\:\|]/,YAe=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function LA(t){return t.length===1?t[0]:t}function YW(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=JAe(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JAe(t,e){if(t){if(typeof t=="string")return JW(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?JW(t,e):void 0}}function JW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function C2(t){"@babel/helpers - typeof";return C2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C2(t)}function XAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e9e(n.key),n)}}function ZAe(t,e,r){return e&&QAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e9e(t){var e=t9e(t,"string");return C2(e)=="symbol"?e:e+""}function t9e(t,e){if(C2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(C2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var r9e=(function(){function t(e){XAe(this,t),this.matchTree=new VAe().parse(e)}return ZAe(t,[{key:"match",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.allowOverflow;if(!r)throw new Error("String is required");var s=$N(r.split(""),this.matchTree,!0);if(s&&s.match&&delete s.matchedChars,!(s&&s.overflow&&!i))return s}}])})();function $N(t,e,r){if(typeof e=="string"){var n=t.join("");return e.indexOf(n)===0?t.length===e.length?{match:!0,matchedChars:t}:{partialMatch:!0}:n.indexOf(e)===0?r&&t.length>e.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,e.length)}:void 0}if(Array.isArray(e)){for(var i=t.slice(),s=0;s<e.length;){var o=e[s],a=$N(i,o,r&&s===e.length-1);if(a){if(a.overflow)return a;if(a.match){if(i=i.slice(a.matchedChars.length),i.length===0)return s===e.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(a.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(a,null,2)))}}else return;s++}return r?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-i.length)}}switch(e.op){case"|":for(var l,c=YW(e.args),u;!(u=c()).done;){var h=u.value,f=$N(t,h,r);if(f){if(f.overflow)return f;if(f.match)return{match:!0,matchedChars:f.matchedChars};if(f.partialMatch)l=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(f,null,2)))}}return l?{partialMatch:!0}:void 0;case"[]":for(var p=YW(e.args),m;!(m=p()).done;){var v=m.value;if(t[0]===v)return t.length===1?{match:!0,matchedChars:t}:r?{overflow:!0}:{match:!0,matchedChars:[v]}}return;default:throw new Error("Unsupported instruction tree: ".concat(e))}}function E2(t){"@babel/helpers - typeof";return E2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E2(t)}function XW(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=n9e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n9e(t,e){if(t){if(typeof t=="string")return QW(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?QW(t,e):void 0}}function QW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function i9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s9e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a9e(n.key),n)}}function o9e(t,e,r){return e&&s9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function a9e(t){var e=l9e(t,"string");return E2(e)=="symbol"?e:e+""}function l9e(t,e){if(E2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(E2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NN="9",c9e=15,u9e=S4(NN,c9e),d9e=/[- ]/,h9e=function(){return/\[([^\[\]])*\]/g},f9e=function(){return/\d(?=[^,}][^,}])/g},p9e=new RegExp("["+Hc+"]*\\$1["+Hc+"]*(\\$\\d["+Hc+"]*)*$"),ZW=3,g9e=(function(){function t(e){e.state;var r=e.metadata;i9e(this,t),this.metadata=r,this.resetFormat()}return o9e(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(r,n){this.resetFormat(),r?(this.isNANP=r.callingCode()==="1",this.matchingFormats=r.formats(),n.nationalSignificantNumber&&this.narrowDownMatchingFormats(n)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(r,n){var i=this;if(FAe(n.nationalSignificantNumber,n.country,this.metadata))for(var s=XW(this.matchingFormats),o;!(o=s()).done;){var a=o.value,l=DAe(n,a,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(u){return i.shouldTryNationalPrefixFormattingRule(u,{international:n.international,nationalPrefix:n.nationalPrefix})},getSeparatorAfterNationalPrefix:function(u){return i.getSeparatorAfterNationalPrefix(u)}});if(l)return this.resetFormat(),this.chosenFormat=a,this.setNationalNumberTemplate(l.replace(/\d/g,$c),n),this.populatedNationalNumberTemplate=l,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf($c),l}return this.formatNationalNumberWithNextDigits(r,n)}},{key:"formatNationalNumberWithNextDigits",value:function(r,n){var i=this.chosenFormat,s=this.chooseFormat(n);if(s)return s===i?this.formatNextNationalNumberDigits(r):this.formatNextNationalNumberDigits(n.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(r){var n=this,i=r.nationalSignificantNumber,s=r.nationalPrefix,o=r.international,a=i,l=a.length-ZW;l<0&&(l=0),this.matchingFormats=this.matchingFormats.filter(function(c){return n.formatSuits(c,o,s)&&n.formatMatches(c,a,l)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(r,n,i){return!(i&&!r.usesNationalPrefix()&&!r.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!n&&!i&&r.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(r,n,i){var s=r.leadingDigitsPatterns().length;if(s===0)return!0;i=Math.min(i,s-1);var o=r.leadingDigitsPatterns()[i];if(n.length<ZW)try{return new r9e(o).match(n,{allowOverflow:!0})!==void 0}catch(a){return console.error(a),!0}return new RegExp("^(".concat(o,")")).test(n)}},{key:"getFormatFormat",value:function(r,n){return n?r.internationalFormat():r.format()}},{key:"chooseFormat",value:function(r){for(var n=this,i=function(){var c=a.value;return n.chosenFormat===c?0:p9e.test(n.getFormatFormat(c,r.international))?n.createTemplateForFormat(c,r)?(n.chosenFormat=c,0):(n.matchingFormats=n.matchingFormats.filter(function(u){return u!==c}),1):1},s,o=XW(this.matchingFormats.slice()),a;!(a=o()).done&&(s=i(),s!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(r,n){if(!(r.pattern().indexOf("|")>=0)){var i=this.getTemplateForFormat(r,n);if(i)return this.setNationalNumberTemplate(i,n),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(r){return this.isNANP||r&&r.nationalPrefixFormattingRule()&&d9e.test(r.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(r,n){var i=r.IDDPrefix,s=r.missingPlus;return i?n&&n.spacing===!1?i:i+" ":s?"":"+"}},{key:"getTemplate",value:function(r){if(this.template){for(var n=-1,i=0,s=r.international?this.getInternationalPrefixBeforeCountryCallingCode(r,{spacing:!1}):"";i<s.length+r.getDigitsWithoutInternationalPrefix().length;)n=this.template.indexOf($c,n+1),i++;return GW(this.template,n+1)}}},{key:"setNationalNumberTemplate",value:function(r,n){this.nationalNumberTemplate=r,this.populatedNationalNumberTemplate=r,this.populatedNationalNumberTemplatePosition=-1,n.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(n).replace(/[\d\+]/g,$c)+S4($c,n.callingCode.length)+" "+r:this.template=r}},{key:"getTemplateForFormat",value:function(r,n){var i=n.nationalSignificantNumber,s=n.international,o=n.nationalPrefix,a=n.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,l=r.pattern();l=l.replace(h9e(),"\\d").replace(f9e(),"\\d");var c=u9e.match(l)[0];if(!(i.length>c.length)){var u=new RegExp("^"+l+"$"),h=i.replace(/\d/g,NN);u.test(h)&&(c=h);var f=this.getFormatFormat(r,s),p;if(this.shouldTryNationalPrefixFormattingRule(r,{international:s,nationalPrefix:o})){var m=f.replace(qae,r.nationalPrefixFormattingRule());if(E_(r.nationalPrefixFormattingRule())===(o||"")+E_("$1")&&(f=m,p=!0,o))for(var v=o.length;v>0;)f=f.replace(/\d/,$c),v--}var w=c.replace(new RegExp(l),f).replace(new RegExp(NN,"g"),$c);return p||(a?w=S4($c,a.length)+" "+w:o&&(w=S4($c,o.length)+this.getSeparatorAfterNationalPrefix(r)+w)),s&&(w=zae(w)),w}}},{key:"formatNextNationalNumberDigits",value:function(r){var n=MAe(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,r);if(!n){this.resetFormat();return}return this.populatedNationalNumberTemplate=n[0],this.populatedNationalNumberTemplatePosition=n[1],GW(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(r,n){var i=n.international,s=n.nationalPrefix;if(r.nationalPrefixFormattingRule()){var o=r.usesNationalPrefix();if(o&&s||!o&&!i)return!0}}}])})();function k2(t){"@babel/helpers - typeof";return k2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k2(t)}function Yae(t,e){return w9e(t)||v9e(t,e)||y9e(t,e)||m9e()}function m9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y9e(t,e){if(t){if(typeof t=="string")return eH(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eH(t,e):void 0}}function eH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function v9e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function w9e(t){if(Array.isArray(t))return t}function b9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x9e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,C9e(n.key),n)}}function _9e(t,e,r){return e&&x9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C9e(t){var e=E9e(t,"string");return k2(e)=="symbol"?e:e+""}function E9e(t,e){if(k2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(k2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var k9e="["+Hc+Lo+"]+",S9e=new RegExp("^"+k9e+"$","i"),A9e="(?:["+CE+"]["+Hc+Lo+"]*|["+Hc+Lo+"]+)",T9e=new RegExp("[^"+Hc+Lo+"]+.*$"),I9e=/[^\d\[\]]/,P9e=(function(){function t(e){var r=e.defaultCountry,n=e.defaultCallingCode,i=e.metadata,s=e.onNationalSignificantNumberChange;b9e(this,t),this.defaultCountry=r,this.defaultCallingCode=n,this.metadata=i,this.onNationalSignificantNumberChange=s}return _9e(t,[{key:"input",value:function(r,n){var i=R9e(r),s=Yae(i,2),o=s[0],a=s[1],l=E_(o),c;return a&&(n.digits||(n.startInternationalNumber(void 0,void 0),l||(c=!0))),l&&this.inputDigits(l,n),{digits:l,justLeadingPlus:c}}},{key:"inputDigits",value:function(r,n){var i=n.digits,s=i.length<3&&i.length+r.length>=3;if(n.appendDigits(r),s&&this.extractIddPrefix(n),this.isWaitingForCountryCallingCode(n)){if(!this.extractCountryCallingCode(n))return}else n.appendNationalSignificantNumberDigits(r);n.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(n.getNationalDigits(),function(o){return n.update(o)})}},{key:"isWaitingForCountryCallingCode",value:function(r){var n=r.international,i=r.callingCode;return n&&!i}},{key:"extractCountryCallingCode",value:function(r){var n=ZM("+"+r.getDigitsWithoutInternationalPrefix(),r.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=n.countryCallingCode,s=n.number;if(i)return r.setCallingCode(i),r.update({nationalSignificantNumber:s}),!0}},{key:"reset",value:function(r){if(r){this.hasSelectedNumberingPlan=!0;var n=r._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=n&&I9e.test(n)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(r,n){if(this.hasSelectedNumberingPlan){var i=kN(r,this.metadata),s=i.nationalPrefix,o=i.nationalNumber,a=i.carrierCode;if(o!==r)return this.onExtractedNationalNumber(s,a,o,r,n),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(r,n,i){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(r,i);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var s=kN(r,this.metadata),o=s.nationalPrefix,a=s.nationalNumber,l=s.carrierCode;if(a!==n)return this.onExtractedNationalNumber(o,l,a,r,i),!0}}},{key:"onExtractedNationalNumber",value:function(r,n,i,s,o){var a=!1,l,c=s.lastIndexOf(i);if(c<0||c!==s.length-i.length)a=!0;else{var u=s.slice(0,c);u&&u!==r&&(l=u)}o({nationalPrefix:r,carrierCode:n,nationalSignificantNumber:i,nationalSignificantNumberIsModified:a,prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix:l}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(r){if(this.extractAnotherNationalSignificantNumber(r.getNationalDigits(),r.nationalSignificantNumber,function(n){return r.update(n)}))return!0;if(this.extractIddPrefix(r))return this.extractCallingCodeAndNationalSignificantNumber(r),!0;if(this.fixMissingPlus(r))return this.extractCallingCodeAndNationalSignificantNumber(r),!0}},{key:"extractIddPrefix",value:function(r){var n=r.international,i=r.IDDPrefix,s=r.digits;if(r.nationalSignificantNumber,!(n||i)){var o=Lae(s,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(o!==void 0&&o!==s)return r.update({IDDPrefix:s.slice(0,s.length-o.length)}),this.startInternationalNumber(r,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(r){if(!r.international){var n=Bae(r.digits,r.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=n.countryCallingCode;if(i)return r.update({missingPlus:!0}),this.startInternationalNumber(r,{country:r.country,callingCode:i}),!0}}},{key:"startInternationalNumber",value:function(r,n){var i=n.country,s=n.callingCode;r.startInternationalNumber(i,s),r.nationalSignificantNumber&&(r.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(r){this.extractCountryCallingCode(r)&&this.extractNationalSignificantNumber(r.getNationalDigits(),function(n){return r.update(n)})}}])})();function $9e(t){var e=t.search(A9e);if(!(e<0)){t=t.slice(e);var r;return t[0]==="+"&&(r=!0,t=t.slice(1)),t=t.replace(T9e,""),r&&(t="+"+t),t}}function N9e(t){var e=$9e(t)||"";return e[0]==="+"?[e.slice(1),!0]:[e]}function R9e(t){var e=N9e(t),r=Yae(e,2),n=r[0],i=r[1];return S9e.test(n)||(n=""),[n,i]}function S2(t){"@babel/helpers - typeof";return S2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S2(t)}function O9e(t,e){return F9e(t)||D9e(t,e)||M9e(t,e)||j9e()}function j9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M9e(t,e){if(t){if(typeof t=="string")return tH(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tH(t,e):void 0}}function tH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function D9e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,a=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function F9e(t){if(Array.isArray(t))return t}function L9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U9e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z9e(n.key),n)}}function B9e(t,e,r){return e&&U9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z9e(t){var e=q9e(t,"string");return S2(e)=="symbol"?e:e+""}function q9e(t,e){if(S2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(S2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jae=(function(){function t(e,r){L9e(this,t),this.metadata=new Qi(r);var n=this.getCountryAndCallingCode(e),i=O9e(n,2),s=i[0],o=i[1];this.defaultCountry=s,this.defaultCallingCode=o,this.reset()}return B9e(t,[{key:"getCountryAndCallingCode",value:function(r){var n,i;return r&&(P0(r)?(n=r.defaultCountry,i=r.defaultCallingCode):n=r),n&&!this.metadata.hasCountry(n)&&(n=void 0),[n,i]}},{key:"input",value:function(r){var n=this.parser.input(r,this.state),i=n.digits,s=n.justLeadingPlus;if(s)this.formattedOutput="+";else if(i){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var o;if(this.metadata.hasSelectedNumberingPlan()&&(o=this.formatter.format(i,this.state)),o===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var a=this.state.getNationalDigits();a&&(o=this.formatter.format(a,this.state))}this.formattedOutput=o?this.getFullNumber(o):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var r=this;return this.state=new NAe({onCountryChange:function(i){r.country=i},onCallingCodeChange:function(i,s){r.metadata.selectNumberingPlan(s,i),r.formatter.reset(r.metadata.numberingPlan,r.state),r.parser.reset(r.metadata.numberingPlan)}}),this.formatter=new g9e({state:this.state,metadata:this.metadata}),this.parser=new P9e({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){r.determineTheCountryIfNeeded(),r.formatter.reset(r.metadata.numberingPlan,r.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var r=this.state.digits;if(r)return this._getCountry()}},{key:"_getCountry",value:function(){var r=this.state.country;return r}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(r){var n=this;if(this.isInternational()){var i=function(a){return n.formatter.getInternationalPrefixBeforeCountryCallingCode(n.state,{spacing:!!a})+a},s=this.state.callingCode;return i(s?r?"".concat(s," ").concat(r):s:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return r}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var r=this.state,n=r.nationalSignificantNumber,i=r.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,s=r.nationalPrefix,o=n,a=i||s;return a&&(o=a+o),o}},{key:"getNonFormattedNumber",value:function(){var r=this.state.nationalSignificantNumberIsModified;return this.getFullNumber(r?this.state.getNationalDigits():this.getNonFormattedNationalNumberWithPrefix())}},{key:"getNonFormattedTemplate",value:function(){var r=this.getNonFormattedNumber();if(r)return r.replace(/[\+\d]/g,$c)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var r=this.state.callingCode,n=this.metadata.getCountryCodesForCallingCode(r);return n&&n.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(QM(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var r=this.state,n=r.digits,i=r.callingCode,s=r.country,o=r.nationalSignificantNumber;if(n){if(this.isInternational())return i?"+"+i+o:"+"+n;if(s||i){var a=s?this.metadata.countryCallingCode():i;return"+"+a+o}}}},{key:"getNumber",value:function(){var r=this.state,n=r.nationalSignificantNumber,i=r.carrierCode,s=r.callingCode,o=this._getCountry();if(n&&!(!o&&!s)){if(o&&o===this.defaultCountry){var a=new Qi(this.metadata.metadata);a.selectNumberingPlan(o);var l=a.numberingPlan.callingCode(),c=this.metadata.getCountryCodesForCallingCode(l);if(c.length>1){var u=Uae(n,{countries:c,metadata:this.metadata.metadata});u&&(o=u)}}var h=new eD(o||s,n,this.metadata.metadata);return i&&(h.carrierCode=i),h}}},{key:"isPossible",value:function(){var r=this.getNumber();return r?r.isPossible():!1}},{key:"isValid",value:function(){var r=this.getNumber();return r?r.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])})();function W9e(t){return new Qi(t).getCountries()}function H9e(t,e,r){if(e[t])return new eD(t,e[t],r)}function EE(t,{method:e}){const r={};return t.transport.type==="fallback"&&t.transport.onResponse?.(({method:n,response:i,status:s,transport:o})=>{s==="success"&&e===n&&(r[i]=o.request)}),(n=>r[n]||t.request)}async function Xae(t,e){const{address:r,abi:n,args:i,eventName:s,fromBlock:o,strict:a,toBlock:l}=e,c=EE(t,{method:"eth_newFilter"}),u=s?Px({abi:n,args:i,eventName:s}):void 0,h=await t.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof o=="bigint"?ft(o):o,toBlock:typeof l=="bigint"?ft(l):l,topics:u}]});return{abi:n,args:i,eventName:s,id:h,request:c(h),strict:!!a,type:"event"}}class Qae extends et{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class rD extends et{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class V9e extends et{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${fa(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Zae extends et{constructor({blockHash:e,blockNumber:r}){let n="Block";e&&(n=`Block at hash "${e}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}async function Bc(t,{blockHash:e,blockNumber:r,blockTag:n=t.experimental_blockTag??"latest",includeTransactions:i}={}){const s=i??!1,o=r!==void 0?ft(r):void 0;let a=null;if(e?a=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):a=await t.request({method:"eth_getBlockByNumber",params:[o||n,s]},{dedupe:!!o}),!a)throw new Zae({blockHash:e,blockNumber:r});return(t.chain?.formatters?.block?.format||eae)(a,"getBlock")}async function nD(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function G9e(t,e){return ele(t,e)}async function ele(t,e){const{block:r,chain:n=t.chain,request:i}=e||{};try{const s=n?.fees?.maxPriorityFeePerGas??n?.fees?.defaultPriorityFee;if(typeof s=="function"){const a=r||await zt(t,Bc,"getBlock")({}),l=await s({block:a,client:t,request:i});if(l===null)throw new Error;return l}if(typeof s<"u")return s;const o=await t.request({method:"eth_maxPriorityFeePerGas"});return Xa(o)}catch{const[s,o]=await Promise.all([r?Promise.resolve(r):zt(t,Bc,"getBlock")({}),zt(t,nD,"getGasPrice")({})]);if(typeof s.baseFeePerGas!="bigint")throw new rD;const a=o-s.baseFeePerGas;return a<0n?0n:a}}async function K9e(t,e){return RN(t,e)}async function RN(t,e){const{block:r,chain:n=t.chain,request:i,type:s="eip1559"}=e||{},o=await(async()=>typeof n?.fees?.baseFeeMultiplier=="function"?n.fees.baseFeeMultiplier({block:r,client:t,request:i}):n?.fees?.baseFeeMultiplier??1.2)();if(o<1)throw new Qae;const l=10**(o.toString().split(".")[1]?.length??0),c=f=>f*BigInt(Math.ceil(o*l))/BigInt(l),u=r||await zt(t,Bc,"getBlock")({});if(typeof n?.fees?.estimateFeesPerGas=="function"){const f=await n.fees.estimateFeesPerGas({block:r,client:t,multiply:c,request:i,type:s});if(f!==null)return f}if(s==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new rD;const f=typeof i?.maxPriorityFeePerGas=="bigint"?i.maxPriorityFeePerGas:await ele(t,{block:u,chain:n,request:i}),p=c(u.baseFeePerGas);return{maxFeePerGas:i?.maxFeePerGas??p+f,maxPriorityFeePerGas:f}}return{gasPrice:i?.gasPrice??c(await zt(t,nD,"getGasPrice")({}))}}async function fp(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Wl(e)}async function iD(t,e){const{account:r=t.account,accessList:n,authorizationList:i,chain:s=t.chain,blobVersionedHashes:o,blobs:a,data:l,gas:c,gasPrice:u,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:m,nonceManager:v,to:w,type:b,value:E,..._}=e,A=await(async()=>{if(!r||!v||typeof m<"u")return m;const F=Gn(r),N=s?s.id:await zt(t,fp,"getChainId")({});return await v.consume({address:F.address,chainId:N,client:t})})();Oh(e);const C=s?.formatters?.transactionRequest?.format,P=(C||hp)({...P1(_,{format:C}),account:r?Gn(r):void 0,accessList:n,authorizationList:i,blobs:a,blobVersionedHashes:o,data:l,gas:c,gasPrice:u,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:p,nonce:A,to:w,type:b,value:E},"fillTransaction");try{const F=await t.request({method:"eth_fillTransaction",params:[P]}),$=(s?.formatters?.transaction?.format||LM)(F.tx);delete $.blockHash,delete $.blockNumber,delete $.r,delete $.s,delete $.transactionIndex,delete $.v,delete $.yParity,$.data=$.input,$.gas&&($.gas=e.gas??$.gas),$.gasPrice&&($.gasPrice=e.gasPrice??$.gasPrice),$.maxFeePerBlobGas&&($.maxFeePerBlobGas=e.maxFeePerBlobGas??$.maxFeePerBlobGas),$.maxFeePerGas&&($.maxFeePerGas=e.maxFeePerGas??$.maxFeePerGas),$.maxPriorityFeePerGas&&($.maxPriorityFeePerGas=e.maxPriorityFeePerGas??$.maxPriorityFeePerGas),$.nonce&&($.nonce=e.nonce??$.nonce);const U=await(async()=>{if(typeof s?.fees?.baseFeeMultiplier=="function"){const I=await zt(t,Bc,"getBlock")({});return s.fees.baseFeeMultiplier({block:I,client:t,request:e})}return s?.fees?.baseFeeMultiplier??1.2})();if(U<1)throw new Qae;const D=10**(U.toString().split(".")[1]?.length??0),T=I=>I*BigInt(Math.ceil(U*D))/BigInt(D);return $.maxFeePerGas&&!e.maxFeePerGas&&($.maxFeePerGas=T($.maxFeePerGas)),$.gasPrice&&!e.gasPrice&&($.gasPrice=T($.gasPrice)),{raw:F.raw,transaction:{from:P.from,...$}}}catch(F){throw yE(F,{...e,chain:t.chain})}}const sD=["blobVersionedHashes","chainId","fees","gas","nonce","type"],rH=new Map,UA=new A1(128);async function Lx(t,e){let r=e;r.account??=t.account,r.parameters??=sD;const{account:n,chain:i=t.chain,nonceManager:s,parameters:o}=r,a=(()=>{if(typeof i?.prepareTransactionRequest=="function")return{fn:i.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(i?.prepareTransactionRequest))return{fn:i.prepareTransactionRequest[0],runAt:i.prepareTransactionRequest[1].runAt}})();let l;async function c(){return l||(typeof r.chainId<"u"?r.chainId:i?i.id:(l=await zt(t,fp,"getChainId")({}),l))}const u=n&&Gn(n);let h=r.nonce;if(o.includes("nonce")&&typeof h>"u"&&u&&s){const A=await c();h=await s.consume({address:u.address,chainId:A,client:t})}a?.fn&&a.runAt?.includes("beforeFillTransaction")&&(r=await a.fn({...r,chain:i},{phase:"beforeFillTransaction"}),h??=r.nonce);const p=((o.includes("blobVersionedHashes")||o.includes("sidecars"))&&r.kzg&&r.blobs||UA.get(t.uid)===!1||!["fees","gas"].some(C=>o.includes(C))?!1:!!(o.includes("chainId")&&typeof r.chainId!="number"||o.includes("nonce")&&typeof h!="number"||o.includes("fees")&&typeof r.gasPrice!="bigint"&&(typeof r.maxFeePerGas!="bigint"||typeof r.maxPriorityFeePerGas!="bigint")||o.includes("gas")&&typeof r.gas!="bigint"))?await zt(t,iD,"fillTransaction")({...r,nonce:h}).then(A=>{const{chainId:C,from:k,gas:P,gasPrice:F,nonce:N,maxFeePerBlobGas:$,maxFeePerGas:U,maxPriorityFeePerGas:O,type:D,...T}=A.transaction;return UA.set(t.uid,!0),{...r,...k?{from:k}:{},...D?{type:D}:{},...typeof C<"u"?{chainId:C}:{},...typeof P<"u"?{gas:P}:{},...typeof F<"u"?{gasPrice:F}:{},...typeof N<"u"?{nonce:N}:{},...typeof $<"u"?{maxFeePerBlobGas:$}:{},...typeof U<"u"?{maxFeePerGas:U}:{},...typeof O<"u"?{maxPriorityFeePerGas:O}:{},..."nonceKey"in T&&typeof T.nonceKey<"u"?{nonceKey:T.nonceKey}:{}}}).catch(A=>{const C=A;return C.name!=="TransactionExecutionError"||C.walk?.(P=>{const F=P;return F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError"})&&UA.set(t.uid,!1),r}):r;h??=p.nonce,r={...p,...u?{from:u?.address}:{},...h?{nonce:h}:{}};const{blobs:m,gas:v,kzg:w,type:b}=r;a?.fn&&a.runAt?.includes("beforeFillParameters")&&(r=await a.fn({...r,chain:i},{phase:"beforeFillParameters"}));let E;async function _(){return E||(E=await zt(t,Bc,"getBlock")({blockTag:"latest"}),E)}if(o.includes("nonce")&&typeof h>"u"&&u&&!s&&(r.nonce=await zt(t,UM,"getTransactionCount")({address:u.address,blockTag:"pending"})),(o.includes("blobVersionedHashes")||o.includes("sidecars"))&&m&&w){const A=EM({blobs:m,kzg:w});if(o.includes("blobVersionedHashes")){const C=woe({commitments:A,to:"hex"});r.blobVersionedHashes=C}if(o.includes("sidecars")){const C=kM({blobs:m,commitments:A,kzg:w}),k=Eoe({blobs:m,commitments:A,proofs:C,to:"hex"});r.sidecars=k}}if(o.includes("chainId")&&(r.chainId=await c()),(o.includes("fees")||o.includes("type"))&&typeof b>"u")try{r.type=Soe(r)}catch{let A=rH.get(t.uid);typeof A>"u"&&(A=typeof(await _())?.baseFeePerGas=="bigint",rH.set(t.uid,A)),r.type=A?"eip1559":"legacy"}if(o.includes("fees"))if(r.type!=="legacy"&&r.type!=="eip2930"){if(typeof r.maxFeePerGas>"u"||typeof r.maxPriorityFeePerGas>"u"){const A=await _(),{maxFeePerGas:C,maxPriorityFeePerGas:k}=await RN(t,{block:A,chain:i,request:r});if(typeof r.maxPriorityFeePerGas>"u"&&r.maxFeePerGas&&r.maxFeePerGas<k)throw new V9e({maxPriorityFeePerGas:k});r.maxPriorityFeePerGas=k,r.maxFeePerGas=C}}else{if(typeof r.maxFeePerGas<"u"||typeof r.maxPriorityFeePerGas<"u")throw new rD;if(typeof r.gasPrice>"u"){const A=await _(),{gasPrice:C}=await RN(t,{block:A,chain:i,request:r,type:"legacy"});r.gasPrice=C}}return o.includes("gas")&&typeof v>"u"&&(r.gas=await zt(t,oD,"estimateGas")({...r,account:u,prepare:u?.type==="local"?[]:["blobVersionedHashes"]})),a?.fn&&a.runAt?.includes("afterFillParameters")&&(r=await a.fn({...r,chain:i},{phase:"afterFillParameters"})),Oh(r),delete r.parameters,r}async function oD(t,e){const{account:r=t.account,prepare:n=!0}=e,i=r?Gn(r):void 0,s=(()=>{if(Array.isArray(n))return n;if(i?.type!=="local")return["blobVersionedHashes"]})();try{const o=await(async()=>{if(e.to)return e.to;if(e.authorizationList&&e.authorizationList.length>0)return await oE({authorization:e.authorizationList[0]}).catch(()=>{throw new et("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:a,authorizationList:l,blobs:c,blobVersionedHashes:u,blockNumber:h,blockTag:f,data:p,gas:m,gasPrice:v,maxFeePerBlobGas:w,maxFeePerGas:b,maxPriorityFeePerGas:E,nonce:_,value:A,stateOverride:C,...k}=n?await Lx(t,{...e,parameters:s,to:o}):e;if(m&&e.gas!==m)return m;const F=(typeof h=="bigint"?ft(h):void 0)||f,N=DM(C);Oh(e);const $=t.chain?.formatters?.transactionRequest?.format,O=($||hp)({...P1(k,{format:$}),account:i,accessList:a,authorizationList:l,blobs:c,blobVersionedHashes:u,data:p,gasPrice:v,maxFeePerBlobGas:w,maxFeePerGas:b,maxPriorityFeePerGas:E,nonce:_,to:o,value:A},"estimateGas");return BigInt(await t.request({method:"eth_estimateGas",params:N?[O,F??t.experimental_blockTag??"latest",N]:F?[O,F]:[O]}))}catch(o){throw LCe(o,{...e,account:i,chain:t.chain})}}async function Y9e(t,e){const{abi:r,address:n,args:i,functionName:s,dataSuffix:o,...a}=e,l=va({abi:r,args:i,functionName:s});try{return await zt(t,oD,"estimateGas")({data:`${l}${o?o.replace("0x",""):""}`,to:n,...a})}catch(c){const u=a.account?Gn(a.account):void 0;throw V0(c,{abi:r,address:n,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:u?.address})}}async function aD(t,{address:e,blockHash:r,fromBlock:n,toBlock:i,event:s,events:o,args:a,strict:l}={}){const c=l??!1,u=o??(s?[s]:void 0);let h=[];u&&(h=[u.flatMap(v=>Px({abi:[v],eventName:v.name,args:o?void 0:a}))],s&&(h=h[0]));let f;r?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,blockHash:r}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:h,fromBlock:typeof n=="bigint"?ft(n):n,toBlock:typeof i=="bigint"?ft(i):i}]});const p=f.map(m=>wh(m));return u?CM({abi:u,args:a,logs:p,strict:c}):p}async function tle(t,e){const{abi:r,address:n,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:l,strict:c}=e,u=o?fg({abi:r,name:o}):void 0,h=u?void 0:r.filter(f=>f.type==="event");return zt(t,aD,"getLogs")({address:n,args:i,blockHash:s,event:u,events:h,fromBlock:a,toBlock:l,strict:c})}async function Zc(t,e){const{abi:r,address:n,args:i,functionName:s,...o}=e,a=va({abi:r,args:i,functionName:s});try{const{data:l}=await zt(t,gE,"call")({...o,data:a,to:n});return pg({abi:r,args:i,functionName:s,data:l||"0x"})}catch(l){throw V0(l,{abi:r,address:n,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function J9e(t,e){const{abi:r,address:n,args:i,dataSuffix:s,functionName:o,...a}=e,l=a.account?Gn(a.account):t.account,c=va({abi:r,args:i,functionName:o});try{const{data:u}=await zt(t,gE,"call")({batch:!1,data:`${c}${s?s.replace("0x",""):""}`,to:n,...a,account:l}),h=pg({abi:r,args:i,functionName:o,data:u||"0x"}),f=r.filter(p=>"name"in p&&p.name===e.functionName);return{result:h,request:{abi:f,address:n,args:i,dataSuffix:s,functionName:o,...a,account:l}}}catch(u){throw V0(u,{abi:r,address:n,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:l?.address})}}const BA=new Map,nH=new Map;let X9e=0;function xh(t,e,r){const n=++X9e,i=()=>BA.get(t)||[],s=()=>{const u=i();BA.set(t,u.filter(h=>h.id!==n))},o=()=>{const u=i();if(!u.some(f=>f.id===n))return;const h=nH.get(t);if(u.length===1&&h){const f=h();f instanceof Promise&&f.catch(()=>{})}s()},a=i();if(BA.set(t,[...a,{id:n,fns:e}]),a&&a.length>0)return o;const l={};for(const u in e)l[u]=((...h)=>{const f=i();if(f.length!==0)for(const p of f)p.fns[u]?.(...h)});const c=r(l);return typeof c=="function"&&nH.set(t,c),o}function $1(t,{emitOnBegin:e,initialWaitTime:r,interval:n}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const l=await r?.(a)??n;await pN(l);const c=async()=>{i&&(await t({unpoll:s}),await pN(n),c())};c()})(),s}const Q9e=new Map,Z9e=new Map;function eTe(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),r=e(t,Q9e),n=e(t,Z9e);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function tTe(t,{cacheKey:e,cacheTime:r=Number.POSITIVE_INFINITY}){const n=eTe(e),i=n.response.get();if(i&&r>0&&Date.now()-i.created.getTime()<r)return i.data;let s=n.promise.get();s||(s=t(),n.promise.set(s));try{const o=await s;return n.response.set({created:new Date,data:o}),o}finally{n.promise.clear()}}const rTe=t=>`blockNumber.${t}`;async function Ux(t,{cacheTime:e=t.cacheTime}={}){const r=await tTe(()=>t.request({method:"eth_blockNumber"}),{cacheKey:rTe(t.uid),cacheTime:e});return BigInt(r)}async function kE(t,{filter:e}){const r="strict"in e&&e.strict,n=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof n[0]=="string")return n;const i=n.map(s=>wh(s));return!("abi"in e)||!e.abi?i:CM({abi:e.abi,logs:i,strict:r})}async function SE(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function nTe(t,e){const{abi:r,address:n,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:l,onLogs:c,poll:u,pollingInterval:h=t.pollingInterval,strict:f}=e;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const w=f??!1,b=Xi(["watchContractEvent",n,i,s,t.uid,o,h,w,a]);return xh(b,{onLogs:c,onError:l},E=>{let _;a!==void 0&&(_=a-1n);let A,C=!1;const k=$1(async()=>{if(!C){try{A=await zt(t,Xae,"createContractEventFilter")({abi:r,address:n,args:i,eventName:o,strict:w,fromBlock:a})}catch{}C=!0;return}try{let P;if(A)P=await zt(t,kE,"getFilterChanges")({filter:A});else{const F=await zt(t,Ux,"getBlockNumber")({});_&&_<F?P=await zt(t,tle,"getContractEvents")({abi:r,address:n,args:i,eventName:o,fromBlock:_+1n,toBlock:F,strict:w}):P=[],_=F}if(P.length===0)return;if(s)E.onLogs(P);else for(const F of P)E.onLogs([F])}catch(P){A&&P instanceof ep&&(C=!1),E.onError?.(P)}},{emitOnBegin:!0,interval:h});return async()=>{A&&await zt(t,SE,"uninstallFilter")({filter:A}),k()}})})():(()=>{const w=f??!1,b=Xi(["watchContractEvent",n,i,s,t.uid,o,h,w]);let E=!0,_=()=>E=!1;return xh(b,{onLogs:c,onError:l},A=>((async()=>{try{const C=(()=>{if(t.transport.type==="fallback"){const F=t.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return F?F.value:t.transport}return t.transport})(),k=o?Px({abi:r,eventName:o,args:i}):[],{unsubscribe:P}=await C.subscribe({params:["logs",{address:n,topics:k}],onData(F){if(!E)return;const N=F.result;try{const{eventName:$,args:U}=v_({abi:r,data:N.data,topics:N.topics,strict:f}),O=wh(N,{args:U,eventName:$});A.onLogs([O])}catch($){let U,O;if($ instanceof y_||$ instanceof vM){if(f)return;U=$.abiItem.name,O=$.abiItem.inputs?.some(T=>!("name"in T&&T.name))}const D=wh(N,{args:O?[]:{},eventName:U});A.onLogs([D])}},onError(F){A.onError?.(F)}});_=P,E||_()}catch(C){l?.(C)}})(),()=>_()))})()}class pp extends et{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class $0 extends et{constructor({docsPath:e,metaMessages:r,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:r,name:"AccountTypeNotSupportedError"})}}async function lD(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const zA=new A1(128);async function AE(t,e){const{account:r=t.account,chain:n=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,type:m,value:v,...w}=e;if(typeof r>"u")throw new pp({docsPath:"/docs/actions/wallet/sendTransaction"});const b=r?Gn(r):null;try{Oh(e);const E=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await oE({authorization:s[0]}).catch(()=>{throw new et("`to` is required. Could not infer from `authorizationList`.")})})();if(b?.type==="json-rpc"||b===null){let _;n!==null&&(_=await zt(t,fp,"getChainId")({}),FM({currentChainId:_,chain:n}));const A=t.chain?.formatters?.transactionRequest?.format,k=(A||hp)({...P1(w,{format:A}),accessList:i,account:b,authorizationList:s,blobs:o,chainId:_,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,to:E,type:m,value:v},"sendTransaction"),P=zA.get(t.uid),F=P?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:F,params:[k]},{retryCount:0})}catch(N){if(P===!1)throw N;const $=N;if($.name==="InvalidInputRpcError"||$.name==="InvalidParamsRpcError"||$.name==="MethodNotFoundRpcError"||$.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[k]},{retryCount:0}).then(U=>(zA.set(t.uid,!0),U)).catch(U=>{const O=U;throw O.name==="MethodNotFoundRpcError"||O.name==="MethodNotSupportedRpcError"?(zA.set(t.uid,!1),$):O});throw $}}if(b?.type==="local"){const _=await zt(t,Lx,"prepareTransactionRequest")({account:b,accessList:i,authorizationList:s,blobs:o,chain:n,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,nonceManager:b.nonceManager,parameters:[...sD,"sidecars"],type:m,value:v,...w,to:E}),A=n?.serializers?.transaction,C=await b.signTransaction(_,{serializer:A});return await zt(t,lD,"sendRawTransaction")({serializedTransaction:C})}throw b?.type==="smart"?new $0({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new $0({docsPath:"/docs/actions/wallet/sendTransaction",type:b?.type})}catch(E){throw E instanceof $0?E:yE(E,{...e,account:b,chain:e.chain||void 0})}}async function A2(t,e){return A2.internal(t,AE,"sendTransaction",e)}(function(t){async function e(r,n,i,s){const{abi:o,account:a=r.account,address:l,args:c,dataSuffix:u,functionName:h,...f}=s;if(typeof a>"u")throw new pp({docsPath:"/docs/contract/writeContract"});const p=a?Gn(a):null,m=va({abi:o,args:c,functionName:h});try{return await zt(r,n,i)({data:`${m}${u?u.replace("0x",""):""}`,to:l,account:p,...f})}catch(v){throw V0(v,{abi:o,address:l,args:c,docsPath:"/docs/contract/writeContract",functionName:h,sender:p?.address})}}t.internal=e})(A2||(A2={}));class iTe extends et{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}const rle="0x5792579257925792579257925792579257925792579257925792579257925792",nle=ft(0,{size:32});async function ile(t,e){const{account:r=t.account,capabilities:n,chain:i=t.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:l,version:c="2.0.0"}=e,u=r?Gn(r):null,h=e.calls.map(f=>{const p=f,m=p.abi?va({abi:p.abi,functionName:p.functionName,args:p.args}):p.data;return{data:p.dataSuffix&&m?Vl([m,p.dataSuffix]):m,to:p.to,value:p.value?ft(p.value):void 0}});try{const f=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:h,capabilities:n,chainId:ft(i.id),from:u?.address,id:l,version:c}]},{retryCount:0});return typeof f=="string"?{id:f}:f}catch(f){const p=f;if(s&&(p.name==="MethodNotFoundRpcError"||p.name==="MethodNotSupportedRpcError"||p.name==="UnknownRpcError"||p.details.toLowerCase().includes("does not exist / is not available")||p.details.toLowerCase().includes("missing or invalid. request()")||p.details.toLowerCase().includes("did not match any variant of untagged enum")||p.details.toLowerCase().includes("account upgraded to unsupported contract")||p.details.toLowerCase().includes("eip-7702 not supported")||p.details.toLowerCase().includes("unsupported wc_ method")||p.details.toLowerCase().includes("feature toggled misconfigured")||p.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(n&&Object.values(n).some(E=>!E.optional)){const E="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Qy(new et(E,{details:E}))}if(a&&h.length>1){const b="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Zy(new et(b,{details:b}))}const m=[];for(const b of h){const E=AE(t,{account:u,chain:i,data:b.data,to:b.to,value:b.value?Xa(b.value):void 0});m.push(E),o>0&&await new Promise(_=>setTimeout(_,o))}const v=await Promise.allSettled(m);if(v.every(b=>b.status==="rejected"))throw v[0].reason;const w=v.map(b=>b.status==="fulfilled"?b.value:nle);return{id:Vl([...w,ft(i.id,{size:32}),rle])}}throw yE(f,{...e,account:u,chain:e.chain})}}async function sle(t,e){async function r(u){if(u.endsWith(rle.slice(2))){const f=Ka(rN(u,-64,-32)),p=rN(u,0,-64).slice(2).match(/.{1,64}/g),m=await Promise.all(p.map(w=>nle.slice(2)!==w?t.request({method:"eth_getTransactionReceipt",params:[`0x${w}`]},{dedupe:!0}):void 0)),v=m.some(w=>w===null)?100:m.every(w=>w?.status==="0x1")?200:m.every(w=>w?.status==="0x0")?500:600;return{atomic:!1,chainId:Wl(f),receipts:m.filter(Boolean),status:v,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[u]})}const{atomic:n=!1,chainId:i,receipts:s,version:o="2.0.0",...a}=await r(e.id),[l,c]=(()=>{const u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:n,chainId:i?Wl(i):void 0,receipts:s?.map(u=>({...u,blockNumber:Xa(u.blockNumber),gasUsed:Xa(u.gasUsed),status:tae[u.status]}))??[],statusCode:c,status:l,version:o}}async function ole(t,e){const{id:r,pollingInterval:n=t.pollingInterval,status:i=({statusCode:v})=>v===200||v>=300,retryCount:s=4,retryDelay:o=({count:v})=>~~(1<<v)*200,timeout:a=6e4,throwOnFailure:l=!1}=e,c=Xi(["waitForCallsStatus",t.uid,r]),{promise:u,resolve:h,reject:f}=MM();let p;const m=xh(c,{resolve:h,reject:f},v=>{const w=$1(async()=>{const b=E=>{clearTimeout(p),w(),E(),m()};try{const E=await w_(async()=>{const _=await zt(t,sle,"getCallsStatus")({id:r});if(l&&_.status==="failure")throw new iTe(_);return _},{retryCount:s,delay:o});if(!i(E))return;b(()=>v.resolve(E))}catch(E){b(()=>v.reject(E))}},{interval:n,emitOnBegin:!0});return w});return p=a?setTimeout(()=>{m(),clearTimeout(p),f(new sTe({id:r}))},a):void 0,await u}class sTe extends et{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const ON=256;let K5=ON,Y5;function ale(t=11){if(!Y5||K5+t>ON*2){Y5="",K5=0;for(let e=0;e<ON;e++)Y5+=(256+Math.random()*256|0).toString(16).substring(1)}return Y5.substring(K5,K5+++t)}function lle(t){const{batch:e,chain:r,ccipRead:n,key:i="base",name:s="Base Client",type:o="base"}=t,a=t.experimental_blockTag??(typeof r?.experimental_preconfirmationTime=="number"?"pending":void 0),l=r?.blockTime??12e3,c=Math.min(Math.max(Math.floor(l/2),500),4e3),u=t.pollingInterval??c,h=t.cacheTime??u,f=t.account?Gn(t.account):void 0,{config:p,request:m,value:v}=t.transport({account:f,chain:r,pollingInterval:u}),w={...p,...v},b={account:f,batch:e,cacheTime:h,ccipRead:n,chain:r,key:i,name:s,pollingInterval:u,request:m,transport:w,type:o,uid:ale(),...a?{experimental_blockTag:a}:{}};function E(_){return A=>{const C=A(_);for(const P in b)delete C[P];const k={..._,...C};return Object.assign(k,{extend:E(k)})}}return Object.assign(b,{extend:E(b)})}function cD(t){if(!(t instanceof et))return!1;const e=t.walk(r=>r instanceof yN);return e instanceof yN?e.data?.errorName==="HttpError"||e.data?.errorName==="ResolverError"||e.data?.errorName==="ResolverNotContract"||e.data?.errorName==="ResolverNotFound"||e.data?.errorName==="ReverseAddressMismatch"||e.data?.errorName==="UnsupportedResolverProfile":!1}function cle(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Bs(e)?e:null}function jN(t){let e=new Uint8Array(32).fill(0);if(!t)return Ri(e);const r=t.split(".");for(let n=r.length-1;n>=0;n-=1){const i=cle(r[n]),s=i?S1(i):ps(T0(r[n]),"bytes");e=ps(Vl([e,s]),"bytes")}return Ri(e)}function oTe(t){return`[${t.slice(2)}]`}function aTe(t){const e=new Uint8Array(32).fill(0);return t?cle(t)||ps(T0(t)):Ri(e)}function uD(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const r=new Uint8Array(T0(e).byteLength+2);let n=0;const i=e.split(".");for(let s=0;s<i.length;s++){let o=T0(i[s]);o.byteLength>255&&(o=T0(oTe(aTe(i[s])))),r[n]=o.length,r.set(o,n+1),n+=o.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}async function lTe(t,e){const{blockNumber:r,blockTag:n,coinType:i,name:s,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return I1({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})(),u=l?.ensTlds;if(u&&!u.some(f=>s.endsWith(f)))return null;const h=i!=null?[jN(s),BigInt(i)]:[jN(s)];try{const f=va({abi:oW,functionName:"addr",args:h}),p={address:c,abi:Woe,functionName:"resolveWithGateways",args:[Fn(uD(s)),f,o??[mE]],blockNumber:r,blockTag:n},v=await zt(t,Zc,"readContract")(p);if(v[0]==="0x")return null;const w=pg({abi:oW,args:h,functionName:"addr",data:v[0]});return w==="0x"||Ka(w)==="0x00"?null:w}catch(f){if(a)throw f;if(cD(f))return null;throw f}}class cTe extends et{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Vv extends et{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class dD extends et{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class uTe extends et{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const dTe=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,hTe=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,fTe=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,pTe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function gTe(t){try{const e=await fetch(t,{method:"HEAD"});return e.status===200?e.headers.get("content-type")?.startsWith("image/"):!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=t})}}function iH(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function ule({uri:t,gatewayUrls:e}){const r=fTe.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};const n=iH(e?.ipfs,"https://ipfs.io"),i=iH(e?.arweave,"https://arweave.net"),s=t.match(dTe),{protocol:o,subpath:a,target:l,subtarget:c=""}=s?.groups||{},u=o==="ipns:/"||a==="ipns/",h=o==="ipfs:/"||a==="ipfs/"||hTe.test(t);if(t.startsWith("http")&&!u&&!h){let p=t;return e?.arweave&&(p=t.replace(/https:\/\/arweave.net/g,e?.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((u||h)&&l)return{uri:`${n}/${u?"ipns":"ipfs"}/${l}${c}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&l)return{uri:`${i}/${l}${c||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(pTe,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new dD({uri:t})}function dle(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new cTe({data:t});return t.image||t.image_url||t.image_data}async function mTe({gatewayUrls:t,uri:e}){try{const r=await fetch(e).then(i=>i.json());return await hD({gatewayUrls:t,uri:dle(r)})}catch{throw new dD({uri:e})}}async function hD({gatewayUrls:t,uri:e}){const{uri:r,isOnChain:n}=ule({uri:e,gatewayUrls:t});if(n||await gTe(r))return r;throw new dD({uri:e})}function yTe(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[r,n,i]=e.split("/"),[s,o]=r.split(":"),[a,l]=n.split(":");if(!s||s.toLowerCase()!=="eip155")throw new Vv({reason:"Only EIP-155 supported"});if(!o)throw new Vv({reason:"Chain ID not found"});if(!l)throw new Vv({reason:"Contract address not found"});if(!i)throw new Vv({reason:"Token ID not found"});if(!a)throw new Vv({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:l,tokenID:i}}async function vTe(t,{nft:e}){if(e.namespace==="erc721")return Zc(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return Zc(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new uTe({namespace:e.namespace})}async function wTe(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?bTe(t,{gatewayUrls:e,record:r}):hD({uri:r,gatewayUrls:e})}async function bTe(t,{gatewayUrls:e,record:r}){const n=yTe(r),i=await vTe(t,{nft:n}),{uri:s,isOnChain:o,isEncoded:a}=ule({uri:i,gatewayUrls:e});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const c=a?atob(s.replace("data:application/json;base64,","")):s,u=JSON.parse(c);return hD({uri:dle(u),gatewayUrls:e})}let l=n.tokenID;return n.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),mTe({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,l)})}async function hle(t,e){const{blockNumber:r,blockTag:n,key:i,name:s,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return I1({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})(),u=l?.ensTlds;if(u&&!u.some(h=>s.endsWith(h)))return null;try{const h={address:c,abi:Woe,args:[Fn(uD(s)),va({abi:sW,functionName:"text",args:[jN(s),i]}),o??[mE]],functionName:"resolveWithGateways",blockNumber:r,blockTag:n},p=await zt(t,Zc,"readContract")(h);if(p[0]==="0x")return null;const m=pg({abi:sW,functionName:"text",data:p[0]});return m===""?null:m}catch(h){if(a)throw h;if(cD(h))return null;throw h}}async function xTe(t,{blockNumber:e,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const l=await zt(t,hle,"getEnsText")({blockNumber:e,blockTag:r,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!l)return null;try{return await wTe(t,{record:l,gatewayUrls:n})}catch{return null}}async function _Te(t,e){const{address:r,blockNumber:n,blockTag:i,coinType:s=60n,gatewayUrls:o,strict:a}=e,{chain:l}=t,c=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return I1({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})();try{const u={address:c,abi:wCe,args:[r,s,o??[mE]],functionName:"reverseWithGateways",blockNumber:n,blockTag:i},h=zt(t,Zc,"readContract"),[f]=await h(u);return f||null}catch(u){if(a)throw u;if(cD(u))return null;throw u}}async function CTe(t,e){const{blockNumber:r,blockTag:n,name:i}=e,{chain:s}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return I1({blockNumber:r,chain:s,contract:"ensUniversalResolver"})})(),a=s?.ensTlds;if(a&&!a.some(c=>i.endsWith(c)))throw new Error(`${i} is not a valid ENS TLD (${a?.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[l]=await zt(t,Zc,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Fn(uD(i))],blockNumber:r,blockTag:n});return l}async function fle(t,e){const{account:r=t.account,blockNumber:n,blockTag:i="latest",blobs:s,data:o,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:h,to:f,value:p,...m}=e,v=r?Gn(r):void 0;try{Oh(e);const b=(typeof n=="bigint"?ft(n):void 0)||i,E=t.chain?.formatters?.transactionRequest?.format,A=(E||hp)({...P1(m,{format:E}),account:v,blobs:s,data:o,gas:a,gasPrice:l,maxFeePerBlobGas:c,maxFeePerGas:u,maxPriorityFeePerGas:h,to:f,value:p},"createAccessList"),C=await t.request({method:"eth_createAccessList",params:[A,b]});return{accessList:C.accessList,gasUsed:BigInt(C.gasUsed)}}catch(w){throw Yoe(w,{...e,account:v,chain:t.chain})}}async function ETe(t){const e=EE(t,{method:"eth_newBlockFilter"}),r=await t.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}async function ple(t,{address:e,args:r,event:n,events:i,fromBlock:s,strict:o,toBlock:a}={}){const l=i??(n?[n]:void 0),c=EE(t,{method:"eth_newFilter"});let u=[];l&&(u=[l.flatMap(p=>Px({abi:[p],eventName:p.name,args:r}))],n&&(u=u[0]));const h=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?ft(s):s,toBlock:typeof a=="bigint"?ft(a):a,...u.length?{topics:u}:{}}]});return{abi:l,args:r,eventName:n?n.name:void 0,fromBlock:s,id:h,request:c(h),strict:!!o,toBlock:a,type:"event"}}async function gle(t){const e=EE(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}async function kTe(t,{address:e,blockNumber:r,blockTag:n=t.experimental_blockTag??"latest"}){const i=typeof r=="bigint"?ft(r):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||n]});return BigInt(s)}async function STe(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function ATe(t,{blockHash:e,blockNumber:r,blockTag:n="latest"}={}){const i=r!==void 0?ft(r):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||n]},{dedupe:!!i}),Wl(s)}async function MN(t,{address:e,blockNumber:r,blockTag:n="latest"}){const i=r!==void 0?ft(r):void 0,s=await t.request({method:"eth_getCode",params:[e,i||n]},{dedupe:!!i});if(s!=="0x")return s}class TTe extends et{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function ITe(t,e){const{address:r,factory:n,factoryData:i}=e;try{const[s,o,a,l,c,u,h]=await zt(t,Zc,"readContract")({abi:PTe,address:r,functionName:"eip712Domain",factory:n,factoryData:i});return{domain:{name:o,version:a,chainId:Number(l),verifyingContract:c,salt:u},extensions:h,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new TTe({address:r}):o}}const PTe=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function $Te(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(r=>BigInt(r)))}}async function NTe(t,{blockCount:e,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){const s=typeof r=="bigint"?ft(r):void 0,o=await t.request({method:"eth_feeHistory",params:[ft(e),s||n,i]},{dedupe:!!s});return $Te(o)}async function RTe(t,{filter:e}){const r=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>wh(s));return e.abi?CM({abi:e.abi,logs:i,strict:r}):i}function OTe(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function jTe(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?Wl(t.nonce):void 0,storageProof:t.storageProof?OTe(t.storageProof):void 0}}async function MTe(t,{address:e,blockNumber:r,blockTag:n,storageKeys:i}){const s=n??"latest",o=r!==void 0?ft(r):void 0,a=await t.request({method:"eth_getProof",params:[e,i,o||s]});return jTe(a)}async function DTe(t,{address:e,blockNumber:r,blockTag:n="latest",slot:i}){const s=r!==void 0?ft(r):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||n]})}async function fD(t,{blockHash:e,blockNumber:r,blockTag:n,hash:i,index:s,sender:o,nonce:a}){const l=n||"latest",c=r!==void 0?ft(r):void 0;let u=null;if(i?u=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?u=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,ft(s)]},{dedupe:!0}):typeof s=="number"?u=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[c||l,ft(s)]},{dedupe:!!c}):o&&typeof a=="number"&&(u=await t.request({method:"eth_getTransactionBySenderAndNonce",params:[o,ft(a)]},{dedupe:!0})),!u)throw new goe({blockHash:e,blockNumber:r,blockTag:l,hash:i,index:s});return(t.chain?.formatters?.transaction?.format||LM)(u,"getTransaction")}async function FTe(t,{hash:e,transactionReceipt:r}){const[n,i]=await Promise.all([zt(t,Ux,"getBlockNumber")({}),e?zt(t,fD,"getTransaction")({hash:e}):void 0]),s=r?.blockNumber||i?.blockNumber;return s?n-s+1n:0n}async function A4(t,{hash:e}){const r=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!r)throw new moe({hash:e});return(t.chain?.formatters?.transactionReceipt?.format||rae)(r,"getTransactionReceipt")}async function LTe(t,e){const{account:r,authorizationList:n,allowFailure:i=!0,blockNumber:s,blockOverrides:o,blockTag:a,stateOverride:l}=e,c=e.contracts,{batchSize:u=e.batchSize??1024,deployless:h=e.deployless??!1}=typeof t.batch?.multicall=="object"?t.batch.multicall:{},f=(()=>{if(e.multicallAddress)return e.multicallAddress;if(h)return null;if(t.chain)return I1({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),p=[[]];let m=0,v=0;for(let E=0;E<c.length;E++){const{abi:_,address:A,args:C,functionName:k}=c[E];try{const P=va({abi:_,args:C,functionName:k});v+=(P.length-2)/2,u>0&&v>u&&p[m].length>0&&(m++,v=(P.length-2)/2,p[m]=[]),p[m]=[...p[m],{allowFailure:!0,callData:P,target:A}]}catch(P){const F=V0(P,{abi:_,address:A,args:C,docsPath:"/docs/contract/multicall",functionName:k,sender:r});if(!i)throw F;p[m]=[...p[m],{allowFailure:!0,callData:"0x",target:A}]}}const w=await Promise.allSettled(p.map(E=>zt(t,Zc,"readContract")({...f===null?{code:jM}:{address:f},abi:__,account:r,args:[E],authorizationList:n,blockNumber:s,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:l}))),b=[];for(let E=0;E<w.length;E++){const _=w[E];if(_.status==="rejected"){if(!i)throw _.reason;for(let C=0;C<p[E].length;C++)b.push({status:"failure",error:_.reason,result:void 0});continue}const A=_.value;for(let C=0;C<A.length;C++){const{returnData:k,success:P}=A[C],{callData:F}=p[E][C],{abi:N,address:$,functionName:U,args:O}=c[b.length];try{if(F==="0x")throw new Tx;if(!P)throw new fE({data:k});const D=pg({abi:N,args:O,data:k,functionName:U});b.push(i?{result:D,status:"success"}:D)}catch(D){const T=V0(D,{abi:N,address:$,args:O,docsPath:"/docs/contract/multicall",functionName:U});if(!i)throw T;b.push({error:T,result:void 0,status:"failure"})}}}if(b.length!==c.length)throw new et("multicall results mismatch");return b}async function DN(t,e){const{blockNumber:r,blockTag:n=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:o,validation:a}=e;try{const l=[];for(const f of i){const p=f.blockOverrides?zoe(f.blockOverrides):void 0,m=f.calls.map(w=>{const b=w,E=b.account?Gn(b.account):void 0,_=b.abi?va(b):b.data,A={...b,account:E,data:b.dataSuffix?Vl([_||"0x",b.dataSuffix]):_,from:b.from??E?.address};return Oh(A),hp(A)}),v=f.stateOverrides?DM(f.stateOverrides):void 0;l.push({blockOverrides:p,calls:m,stateOverrides:v})}const u=(typeof r=="bigint"?ft(r):void 0)||n;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:s,traceTransfers:o,validation:a},u]})).map((f,p)=>({...eae(f),calls:f.calls.map((m,v)=>{const{abi:w,args:b,functionName:E,to:_}=i[p].calls[v],A=m.error?.data??m.returnData,C=BigInt(m.gasUsed),k=m.logs?.map($=>wh($)),P=m.status==="0x1"?"success":"failure",F=w&&P==="success"&&A!=="0x"?pg({abi:w,data:A,functionName:E}):null,N=(()=>{if(P==="success")return;let $;if(m.error?.data==="0x"?$=new Tx:m.error&&($=new fE(m.error)),!!$)return V0($,{abi:w??[],address:_??"0x",args:b,functionName:E??"<unknown>"})})();return{data:A,gasUsed:C,logs:k,status:P,...P==="success"?{result:F}:{error:N}}})}))}catch(l){const c=l,u=pE(c,{});throw u instanceof Rx?c:u}}function FN(t){let e=!0,r="",n=0,i="",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&n++,a===")"&&n--,!!e){if(n===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){t[o-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}i+=a,r+=a}}if(!s)throw new $r("Unable to normalize signature.");return i}function LN(t,e){const r=typeof t,n=e.type;switch(n){case"address":return vN(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>LN(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>LN(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function mle(t,e,r){for(const n in t){const i=t[n],s=e[n];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return mle(i.components,s.components,r[n]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?vN(r[n],{strict:!1}):o.includes("address")&&o.includes("bytes")?vN(r[n],{strict:!1}):!1)return o}}function yle(t,e={}){const{prepare:r=!0}=e,n=Array.isArray(t)||typeof t=="string"?$q(t):t;return{...n,...r?{hash:fy(n)}:{}}}function TE(t,e,r){const{args:n=[],prepare:i=!0}=r??{},s=gCe(e,{strict:!1}),o=t.filter(c=>s?c.type==="function"||c.type==="error"?vle(c)===rd(e,0,4):c.type==="event"?fy(c)===e:!1:"name"in c&&c.name===e);if(o.length===0)throw new k_({name:e});if(o.length===1)return{...o[0],...i?{hash:fy(o[0])}:{}};let a;for(const c of o){if(!("inputs"in c))continue;if(!n||n.length===0){if(!c.inputs||c.inputs.length===0)return{...c,...i?{hash:fy(c)}:{}};continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==n.length)continue;if(n.every((h,f)=>{const p="inputs"in c&&c.inputs[f];return p?LN(h,p):!1})){if(a&&"inputs"in a&&a.inputs){const h=mle(c.inputs,a.inputs,n);if(h)throw new BTe({abiItem:c,type:h[0]},{abiItem:a,type:h[1]})}a=c}}const l=(()=>{if(a)return a;const[c,...u]=o;return{...c,overloads:u}})();if(!l)throw new k_({name:e});return{...l,...i?{hash:fy(l)}:{}}}function vle(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,n]=t;return TE(r,n)}return t[0]})();return rd(fy(e),0,4)}function UTe(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,i]=t;return TE(n,i)}return t[0]})(),r=typeof e=="string"?e:m_(e);return FN(r)}function fy(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,n]=t;return TE(r,n)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:uae(RM(UTe(e)))}class BTe extends $r{constructor(e,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${FN(m_(e.abiItem))}\`, and`,`\`${r.type}\` in \`${FN(m_(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class k_ extends $r{constructor({name:e,data:r,type:n="item"}){const i=e?` with name "${e}"`:r?` with data "${r}"`:"";super(`ABI ${n}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function zTe(...t){const[e,r]=(()=>{if(Array.isArray(t[0])){const[s,o]=t;return[WTe(s),o]}return t})(),{bytecode:n,args:i}=r;return Xc(n,e.inputs?.length&&i?.length?HM(e.inputs,i):"0x")}function qTe(t){return yle(t)}function WTe(t){const e=t.find(r=>r.type==="constructor");if(!e)throw new k_({name:"constructor"});return e}function HTe(...t){const[e,r=[]]=(()=>{if(Array.isArray(t[0])){const[c,u,h]=t;return[sH(c,u,{args:h}),h]}const[a,l]=t;return[a,l]})(),{overloads:n}=e,i=n?sH([e,...n],e.name,{args:r}):e,s=VTe(i),o=r.length>0?HM(i.inputs,r):void 0;return o?Xc(s,o):s}function pm(t,e={}){return yle(t,e)}function sH(t,e,r){const n=TE(t,e,r);if(n.type!=="function")throw new k_({name:e,type:"function"});return n}function VTe(t){return vle(t)}const GTe="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Su="0x0000000000000000000000000000000000000000",KTe="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function YTe(t,e){const{blockNumber:r,blockTag:n,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:a,validation:l}=e,c=e.account?Gn(e.account):void 0;if(o&&!c)throw new et("`account` is required when `traceAssetChanges` is true");const u=c?zTe(qTe("constructor(bytes, bytes)"),{bytecode:Voe,args:[KTe,HTe(pm("function getBalance(address)"),[c.address])]}):void 0,h=o?await Promise.all(e.calls.map(async B=>{if(!B.data&&!B.abi)return;const{accessList:q}=await fle(t,{account:c.address,...B,data:B.abi?va(B):B.data});return q.map(({address:G,storageKeys:W})=>W.length>0?G:null)})).then(B=>B.flat().filter(Boolean)):[],f=await DN(t,{blockNumber:r,blockTag:n,blocks:[...o?[{calls:[{data:u}],stateOverrides:s},{calls:h.map((B,q)=>({abi:[pm("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:B,from:Su,nonce:q})),stateOverrides:[{address:Su,nonce:0}]}]:[],{calls:[...i,{}].map(B=>({...B,from:c?.address})),stateOverrides:s},...o?[{calls:[{data:u}]},{calls:h.map((B,q)=>({abi:[pm("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[c.address],to:B,from:Su,nonce:q})),stateOverrides:[{address:Su,nonce:0}]},{calls:h.map((B,q)=>({to:B,abi:[pm("function decimals() returns (uint256)")],functionName:"decimals",from:Su,nonce:q})),stateOverrides:[{address:Su,nonce:0}]},{calls:h.map((B,q)=>({to:B,abi:[pm("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Su,nonce:q})),stateOverrides:[{address:Su,nonce:0}]},{calls:h.map((B,q)=>({to:B,abi:[pm("function symbol() returns (string)")],functionName:"symbol",from:Su,nonce:q})),stateOverrides:[{address:Su,nonce:0}]}]:[]],traceTransfers:a,validation:l}),p=o?f[2]:f[0],[m,v,,w,b,E,_,A]=o?f:[],{calls:C,...k}=p,P=C.slice(0,-1)??[],F=m?.calls??[],N=v?.calls??[],$=[...F,...N].map(B=>B.status==="success"?Xa(B.data):null),U=w?.calls??[],O=b?.calls??[],D=[...U,...O].map(B=>B.status==="success"?Xa(B.data):null),T=(E?.calls??[]).map(B=>B.status==="success"?B.result:null),I=(A?.calls??[]).map(B=>B.status==="success"?B.result:null),R=(_?.calls??[]).map(B=>B.status==="success"?B.result:null),L=[];for(const[B,q]of D.entries()){const G=$[B];if(typeof q!="bigint"||typeof G!="bigint")continue;const W=T[B-1],j=I[B-1],Y=R[B-1],Q=B===0?{address:GTe,decimals:18,symbol:"ETH"}:{address:h[B-1],decimals:Y||W?Number(W??1):void 0,symbol:j??void 0};L.some(z=>z.token.address===Q.address)||L.push({token:Q,value:{pre:G,post:q,diff:q-G}})}return{assetChanges:L,block:k,results:P}}const wle="0x6492649264926492649264926492649264926492649264926492649264926492";function JTe(t){if(rd(t,-32)!==wle)throw new ZTe(t)}function XTe(t){const{data:e,signature:r,to:n}=t;return Xc(HM(fae("address, bytes, bytes"),[n,e,r]),wle)}function QTe(t){try{return JTe(t),!0}catch{return!1}}class ZTe extends $r{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function ble({r:t,s:e,to:r="hex",v:n,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new Fx.Signature(Xa(t),Xa(e)).toCompactHex()}${s===0?"1b":"1c"}`;return r==="hex"?o:Hl(o)}async function IE(t,e){const{address:r,chain:n=t.chain,hash:i,erc6492VerifierAddress:s=e.universalSignatureVerifierAddress??n?.contracts?.erc6492Verifier?.address,multicallAddress:o=e.multicallAddress??n?.contracts?.multicall3?.address}=e;if(n?.verifyHash)return await n.verifyHash(t,e);const a=(()=>{const l=e.signature;return Bs(l)?l:typeof l=="object"&&"r"in l&&"s"in l?ble(l):Ri(l)})();try{return m8e(a)?await e7e(t,{...e,multicallAddress:o,signature:a}):await t7e(t,{...e,verifierAddress:s,signature:a})}catch(l){try{if($x(pi(r),await foe({hash:i,signature:a})))return!0}catch{}if(l instanceof G0)return!1;throw l}}async function e7e(t,e){const{address:r,blockNumber:n,blockTag:i,hash:s,multicallAddress:o}=e,{authorization:a,data:l,signature:c,to:u}=g8e(e.signature);if(await MN(t,{address:r,blockNumber:n,blockTag:i})===gd(["0xef0100",a.address]))return await r7e(t,{address:r,blockNumber:n,blockTag:i,hash:s,signature:c});const f={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:ft(a.r,{size:32}),s:ft(a.s,{size:32}),yParity:a.yParity};if(!await O_e({address:r,authorization:f}))throw new G0;const m=await zt(t,Zc,"readContract")({...o?{address:o}:{code:jM},authorizationList:[f],abi:__,blockNumber:n,blockTag:"pending",functionName:"aggregate3",args:[[...l?[{allowFailure:!0,target:u??r,callData:l}]:[],{allowFailure:!0,target:r,callData:va({abi:Hoe,functionName:"isValidSignature",args:[s,c]})}]]});if(m[m.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new G0}async function t7e(t,e){const{address:r,factory:n,factoryData:i,hash:s,signature:o,verifierAddress:a,...l}=e,c=await(async()=>!n&&!i||QTe(o)?o:XTe({data:i,signature:o,to:n}))(),u=a?{to:a,data:va({abi:aW,functionName:"isValidSig",args:[r,s,c]}),...l}:{data:sE({abi:aW,args:[r,s,c],bytecode:_Ce}),...l},{data:h}=await zt(t,gE,"call")(u).catch(f=>{throw f instanceof Goe?new G0:f});if(S6e(h??"0x0"))return!0;throw new G0}async function r7e(t,e){const{address:r,blockNumber:n,blockTag:i,hash:s,signature:o}=e;if((await zt(t,Zc,"readContract")({address:r,abi:Hoe,args:[s,o],blockNumber:n,blockTag:i,functionName:"isValidSignature"}).catch(l=>{throw l instanceof Koe?new G0:l})).startsWith("0x1626ba7e"))return!0;throw new G0}class G0 extends Error{}async function n7e(t,{address:e,message:r,factory:n,factoryData:i,signature:s,...o}){const a=BM(r);return zt(t,IE,"verifyHash")({address:e,factory:n,factoryData:i,hash:a,signature:s,...o})}async function i7e(t,e){const{address:r,factory:n,factoryData:i,signature:s,message:o,primaryType:a,types:l,domain:c,...u}=e,h=sae({message:o,primaryType:a,types:l,domain:c});return zt(t,IE,"verifyHash")({address:r,factory:n,factoryData:i,hash:h,signature:s,...u})}function xle(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let l;return a?(()=>{const h=Xi(["watchBlockNumber",t.uid,e,r,o]);return xh(h,{onBlockNumber:n,onError:i},f=>$1(async()=>{try{const p=await zt(t,Ux,"getBlockNumber")({cacheTime:0});if(l!==void 0){if(p===l)return;if(p-l>1&&r)for(let m=l+1n;m<p;m++)f.onBlockNumber(m,l),l=m}(l===void 0||p>l)&&(f.onBlockNumber(p,l),l=p)}catch(p){f.onError?.(p)}},{emitOnBegin:e,interval:o}))})():(()=>{const h=Xi(["watchBlockNumber",t.uid,e,r]);return xh(h,{onBlockNumber:n,onError:i},f=>{let p=!0,m=()=>p=!1;return(async()=>{try{const v=(()=>{if(t.transport.type==="fallback"){const b=t.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return b?b.value:t.transport}return t.transport})(),{unsubscribe:w}=await v.subscribe({params:["newHeads"],onData(b){if(!p)return;const E=Xa(b.result?.number);f.onBlockNumber(E,l),l=E},onError(b){f.onError?.(b)}});m=w,p||m()}catch(v){i?.(v)}})(),()=>m()})})()}async function _le(t,e){const{checkReplacement:r=!0,confirmations:n=1,hash:i,onReplaced:s,retryCount:o=6,retryDelay:a=({count:C})=>~~(1<<C)*200,timeout:l=18e4}=e,c=Xi(["waitForTransactionReceipt",t.uid,i]),u=e.pollingInterval?e.pollingInterval:t.chain?.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval;let h,f,p,m=!1,v,w;const{promise:b,resolve:E,reject:_}=MM(),A=l?setTimeout(()=>{w?.(),v?.(),_(new a_e({hash:i}))},l):void 0;return v=xh(c,{onReplaced:s,resolve:E,reject:_},async C=>{if(p=await zt(t,A4,"getTransactionReceipt")({hash:i}).catch(()=>{}),p&&n<=1){clearTimeout(A),C.resolve(p),v?.();return}w=zt(t,xle,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(k){const P=N=>{clearTimeout(A),w?.(),N(),v?.()};let F=k;if(!m)try{if(p){if(n>1&&(!p.blockNumber||F-p.blockNumber+1n<n))return;P(()=>C.resolve(p));return}if(r&&!h&&(m=!0,await w_(async()=>{h=await zt(t,fD,"getTransaction")({hash:i}),h.blockNumber&&(F=h.blockNumber)},{delay:a,retryCount:o}),m=!1),p=await zt(t,A4,"getTransactionReceipt")({hash:i}),n>1&&(!p.blockNumber||F-p.blockNumber+1n<n))return;P(()=>C.resolve(p))}catch(N){if(N instanceof goe||N instanceof moe){if(!h){m=!1;return}try{f=h,m=!0;const $=await w_(()=>zt(t,Bc,"getBlock")({blockNumber:F,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:D})=>D instanceof Zae});m=!1;const U=$.transactions.find(({from:D,nonce:T})=>D===f.from&&T===f.nonce);if(!U||(p=await zt(t,A4,"getTransactionReceipt")({hash:U.hash}),n>1&&(!p.blockNumber||F-p.blockNumber+1n<n)))return;let O="replaced";U.to===f.to&&U.value===f.value&&U.input===f.input?O="repriced":U.from===U.to&&U.value===0n&&(O="cancelled"),P(()=>{C.onReplaced?.({reason:O,replacedTransaction:f,transaction:U,transactionReceipt:p}),C.resolve(p)})}catch($){P(()=>C.reject($))}}else P(()=>C.reject(N))}}})}),b}function s7e(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:l=t.pollingInterval}){const c=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),u=o??!1;let h;return c?(()=>{const m=Xi(["watchBlocks",t.uid,e,r,n,u,l]);return xh(m,{onBlock:i,onError:s},v=>$1(async()=>{try{const w=await zt(t,Bc,"getBlock")({blockTag:e,includeTransactions:u});if(w.number!==null&&h?.number!=null){if(w.number===h.number)return;if(w.number-h.number>1&&r)for(let b=h?.number+1n;b<w.number;b++){const E=await zt(t,Bc,"getBlock")({blockNumber:b,includeTransactions:u});v.onBlock(E,h),h=E}}(h?.number==null||e==="pending"&&w?.number==null||w.number!==null&&w.number>h.number)&&(v.onBlock(w,h),h=w)}catch(w){v.onError?.(w)}},{emitOnBegin:n,interval:l}))})():(()=>{let m=!0,v=!0,w=()=>m=!1;return(async()=>{try{n&&zt(t,Bc,"getBlock")({blockTag:e,includeTransactions:u}).then(_=>{m&&v&&(i(_,void 0),v=!1)}).catch(s);const b=(()=>{if(t.transport.type==="fallback"){const _=t.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return _?_.value:t.transport}return t.transport})(),{unsubscribe:E}=await b.subscribe({params:["newHeads"],async onData(_){if(!m)return;const A=await zt(t,Bc,"getBlock")({blockNumber:_.result?.number,includeTransactions:u}).catch(()=>{});m&&(i(A,h),v=!1,h=A)},onError(_){s?.(_)}});w=E,m||w()}catch(b){s?.(b)}})(),()=>w()})()}function o7e(t,{address:e,args:r,batch:n=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:l,poll:c,pollingInterval:u=t.pollingInterval,strict:h}){const f=typeof c<"u"?c:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),p=h??!1;return f?(()=>{const w=Xi(["watchEvent",e,r,n,t.uid,i,u,o]);return xh(w,{onLogs:l,onError:a},b=>{let E;o!==void 0&&(E=o-1n);let _,A=!1;const C=$1(async()=>{if(!A){try{_=await zt(t,ple,"createEventFilter")({address:e,args:r,event:i,events:s,strict:p,fromBlock:o})}catch{}A=!0;return}try{let k;if(_)k=await zt(t,kE,"getFilterChanges")({filter:_});else{const P=await zt(t,Ux,"getBlockNumber")({});E&&E!==P?k=await zt(t,aD,"getLogs")({address:e,args:r,event:i,events:s,fromBlock:E+1n,toBlock:P}):k=[],E=P}if(k.length===0)return;if(n)b.onLogs(k);else for(const P of k)b.onLogs([P])}catch(k){_&&k instanceof ep&&(A=!1),b.onError?.(k)}},{emitOnBegin:!0,interval:u});return async()=>{_&&await zt(t,SE,"uninstallFilter")({filter:_}),C()}})})():(()=>{let w=!0,b=()=>w=!1;return(async()=>{try{const E=(()=>{if(t.transport.type==="fallback"){const k=t.transport.transports.find(P=>P.config.type==="webSocket"||P.config.type==="ipc");return k?k.value:t.transport}return t.transport})(),_=s??(i?[i]:void 0);let A=[];_&&(A=[_.flatMap(P=>Px({abi:[P],eventName:P.name,args:r}))],i&&(A=A[0]));const{unsubscribe:C}=await E.subscribe({params:["logs",{address:e,topics:A}],onData(k){if(!w)return;const P=k.result;try{const{eventName:F,args:N}=v_({abi:_??[],data:P.data,topics:P.topics,strict:p}),$=wh(P,{args:N,eventName:F});l([$])}catch(F){let N,$;if(F instanceof y_||F instanceof vM){if(h)return;N=F.abiItem.name,$=F.abiItem.inputs?.some(O=>!("name"in O&&O.name))}const U=wh(P,{args:$?[]:{},eventName:N});l([U])}},onError(k){a?.(k)}});b=C,w||b()}catch(E){a?.(E)}})(),()=>b()})()}function a7e(t,{batch:e=!0,onError:r,onTransactions:n,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const c=Xi(["watchPendingTransactions",t.uid,e,s]);return xh(c,{onTransactions:n,onError:r},u=>{let h;const f=$1(async()=>{try{if(!h)try{h=await zt(t,gle,"createPendingTransactionFilter")({});return}catch(m){throw f(),m}const p=await zt(t,kE,"getFilterChanges")({filter:h});if(p.length===0)return;if(e)u.onTransactions(p);else for(const m of p)u.onTransactions([m])}catch(p){u.onError?.(p)}},{emitOnBegin:!0,interval:s});return async()=>{h&&await zt(t,SE,"uninstallFilter")({filter:h}),f()}})})():(()=>{let c=!0,u=()=>c=!1;return(async()=>{try{const{unsubscribe:h}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!c)return;const p=f.result;n([p])},onError(f){r?.(f)}});u=h,c||u()}catch(h){r?.(h)}})(),()=>u()})()}function l7e(t){const{scheme:e,statement:r,...n}=t.match(c7e)?.groups??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:l,...c}=t.match(u7e)?.groups??{},u=t.split("Resources:")[1]?.split(`
- `).slice(1);return{...n,...c,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...l?{requestId:l}:{},...u?{resources:u}:{},...e?{scheme:e}:{},...r?{statement:r}:{}}}const c7e=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,u7e=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function d7e(t){const{address:e,domain:r,message:n,nonce:i,scheme:s,time:o=new Date}=t;if(r&&n.domain!==r||i&&n.nonce!==i||s&&n.scheme!==s||n.expirationTime&&o>=n.expirationTime||n.notBefore&&o<n.notBefore)return!1;try{if(!n.address||!oi(n.address,{strict:!1})||e&&!$x(n.address,e))return!1}catch{return!1}return!0}async function h7e(t,e){const{address:r,domain:n,message:i,nonce:s,scheme:o,signature:a,time:l=new Date,...c}=e,u=l7e(i);if(!u.address||!d7e({address:r,domain:n,message:u,nonce:s,scheme:o,time:l}))return!1;const f=BM(i);return IE(t,{address:u.address,hash:f,signature:a,...c})}async function pD(t,{serializedTransaction:e,throwOnReceiptRevert:r,timeout:n}){const i=await t.request({method:"eth_sendRawTransactionSync",params:n?[e,ft(n)]:[e]},{retryCount:0}),o=(t.chain?.formatters?.transactionReceipt?.format||rae)(i);if(o.status==="reverted"&&r)throw new yoe({receipt:o});return o}function gD(t){return{call:e=>gE(t,e),createAccessList:e=>fle(t,e),createBlockFilter:()=>ETe(t),createContractEventFilter:e=>Xae(t,e),createEventFilter:e=>ple(t,e),createPendingTransactionFilter:()=>gle(t),estimateContractGas:e=>Y9e(t,e),estimateGas:e=>oD(t,e),getBalance:e=>kTe(t,e),getBlobBaseFee:()=>STe(t),getBlock:e=>Bc(t,e),getBlockNumber:e=>Ux(t,e),getBlockTransactionCount:e=>ATe(t,e),getBytecode:e=>MN(t,e),getChainId:()=>fp(t),getCode:e=>MN(t,e),getContractEvents:e=>tle(t,e),getEip712Domain:e=>ITe(t,e),getEnsAddress:e=>lTe(t,e),getEnsAvatar:e=>xTe(t,e),getEnsName:e=>_Te(t,e),getEnsResolver:e=>CTe(t,e),getEnsText:e=>hle(t,e),getFeeHistory:e=>NTe(t,e),estimateFeesPerGas:e=>K9e(t,e),getFilterChanges:e=>kE(t,e),getFilterLogs:e=>RTe(t,e),getGasPrice:()=>nD(t),getLogs:e=>aD(t,e),getProof:e=>MTe(t,e),estimateMaxPriorityFeePerGas:e=>G9e(t,e),fillTransaction:e=>iD(t,e),getStorageAt:e=>DTe(t,e),getTransaction:e=>fD(t,e),getTransactionConfirmations:e=>FTe(t,e),getTransactionCount:e=>UM(t,e),getTransactionReceipt:e=>A4(t,e),multicall:e=>LTe(t,e),prepareTransactionRequest:e=>Lx(t,e),readContract:e=>Zc(t,e),sendRawTransaction:e=>lD(t,e),sendRawTransactionSync:e=>pD(t,e),simulate:e=>DN(t,e),simulateBlocks:e=>DN(t,e),simulateCalls:e=>YTe(t,e),simulateContract:e=>J9e(t,e),verifyHash:e=>IE(t,e),verifyMessage:e=>n7e(t,e),verifySiweMessage:e=>h7e(t,e),verifyTypedData:e=>i7e(t,e),uninstallFilter:e=>SE(t,e),waitForTransactionReceipt:e=>_le(t,e),watchBlocks:e=>s7e(t,e),watchBlockNumber:e=>xle(t,e),watchContractEvent:e=>nTe(t,e),watchEvent:e=>o7e(t,e),watchPendingTransactions:e=>a7e(t,e)}}function eu(t){const{key:e="public",name:r="Public Client"}=t;return lle({...t,key:e,name:r,type:"publicClient"}).extend(gD)}async function f7e(t,{chain:e}){const{id:r,name:n,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:ft(r),chainName:n,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function p7e(t,e){const{abi:r,args:n,bytecode:i,...s}=e,o=sE({abi:r,args:n,bytecode:i});return AE(t,{...s,...s.authorizationList?{to:null}:{},data:o})}async function g7e(t){return t.account?.type==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Ax(r))}async function m7e(t,e={}){const{account:r=t.account,chainId:n}=e,i=r?Gn(r):void 0,s=n?[i?.address,[ft(n)]]:[i?.address],o=await t.request({method:"wallet_getCapabilities",params:s}),a={};for(const[l,c]of Object.entries(o)){a[Number(l)]={};for(let[u,h]of Object.entries(c))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(l)][u]=h}return typeof n=="number"?a[n]:a}async function y7e(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function Cle(t,e){const{account:r=t.account,chainId:n,nonce:i}=e;if(!r)throw new pp({docsPath:"/docs/eip7702/prepareAuthorization"});const s=Gn(r),o=(()=>{if(e.executor)return e.executor==="self"?e.executor:Gn(e.executor)})(),a={address:e.contractAddress??e.address,chainId:n,nonce:i};return typeof a.chainId>"u"&&(a.chainId=t.chain?.id??await zt(t,fp,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await zt(t,UM,"getTransactionCount")({address:s.address,blockTag:"pending"}),(o==="self"||o?.address&&$x(o.address,s.address))&&(a.nonce+=1)),a}async function v7e(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(r=>pi(r))}async function w7e(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function b7e(t,e){const{chain:r=t.chain}=e,n=e.timeout??Math.max((r?.blockTime??0)*3,5e3),i=await ile(t,e);return await ole(t,{...e,id:i.id,timeout:n})}const qA=new A1(128);async function Ele(t,e){const{account:r=t.account,chain:n=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,pollingInterval:m,throwOnReceiptRevert:v,type:w,value:b,...E}=e,_=e.timeout??Math.max((n?.blockTime??0)*3,5e3);if(typeof r>"u")throw new pp({docsPath:"/docs/actions/wallet/sendTransactionSync"});const A=r?Gn(r):null;try{Oh(e);const C=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await oE({authorization:s[0]}).catch(()=>{throw new et("`to` is required. Could not infer from `authorizationList`.")})})();if(A?.type==="json-rpc"||A===null){let k;n!==null&&(k=await zt(t,fp,"getChainId")({}),FM({currentChainId:k,chain:n}));const P=t.chain?.formatters?.transactionRequest?.format,N=(P||hp)({...P1(E,{format:P}),accessList:i,account:A,authorizationList:s,blobs:o,chainId:k,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,to:C,type:w,value:b},"sendTransaction"),$=qA.get(t.uid),U=$?"wallet_sendTransaction":"eth_sendTransaction",O=await(async()=>{try{return await t.request({method:U,params:[N]},{retryCount:0})}catch(T){if($===!1)throw T;const I=T;if(I.name==="InvalidInputRpcError"||I.name==="InvalidParamsRpcError"||I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[N]},{retryCount:0}).then(R=>(qA.set(t.uid,!0),R)).catch(R=>{const L=R;throw L.name==="MethodNotFoundRpcError"||L.name==="MethodNotSupportedRpcError"?(qA.set(t.uid,!1),I):L});throw I}})(),D=await zt(t,_le,"waitForTransactionReceipt")({checkReplacement:!1,hash:O,pollingInterval:m,timeout:_});if(v&&D.status==="reverted")throw new yoe({receipt:D});return D}if(A?.type==="local"){const k=await zt(t,Lx,"prepareTransactionRequest")({account:A,accessList:i,authorizationList:s,blobs:o,chain:n,data:a,gas:l,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,nonce:p,nonceManager:A.nonceManager,parameters:[...sD,"sidecars"],type:w,value:b,...E,to:C}),P=n?.serializers?.transaction,F=await A.signTransaction(k,{serializer:P});return await zt(t,pD,"sendRawTransactionSync")({serializedTransaction:F,throwOnReceiptRevert:v,timeout:e.timeout})}throw A?.type==="smart"?new $0({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new $0({docsPath:"/docs/actions/wallet/sendTransactionSync",type:A?.type})}catch(C){throw C instanceof $0?C:yE(C,{...e,account:A,chain:e.chain||void 0})}}async function x7e(t,e){const{id:r}=e;await t.request({method:"wallet_showCallsStatus",params:[r]})}async function _7e(t,e){const{account:r=t.account}=e;if(!r)throw new pp({docsPath:"/docs/eip7702/signAuthorization"});const n=Gn(r);if(!n.signAuthorization)throw new $0({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});const i=await Cle(t,e);return n.signAuthorization(i)}async function C7e(t,{account:e=t.account,message:r}){if(!e)throw new pp({docsPath:"/docs/actions/wallet/signMessage"});const n=Gn(e);if(n.signMessage)return n.signMessage({message:r});const i=typeof r=="string"?Gy(r):r.raw instanceof Uint8Array?Fn(r.raw):r.raw;return t.request({method:"personal_sign",params:[i,n.address]},{retryCount:0})}async function E7e(t,e){const{account:r=t.account,chain:n=t.chain,...i}=e;if(!r)throw new pp({docsPath:"/docs/actions/wallet/signTransaction"});const s=Gn(r);Oh({account:s,...e});const o=await zt(t,fp,"getChainId")({});n!==null&&FM({currentChainId:o,chain:n});const l=(n?.formatters||t.chain?.formatters)?.transactionRequest?.format||hp;return s.signTransaction?s.signTransaction({...i,chainId:o},{serializer:t.chain?.serializers?.transaction}):await t.request({method:"eth_signTransaction",params:[{...l({...i,account:s},"signTransaction"),chainId:ft(o),from:s.address}]},{retryCount:0})}async function k7e(t,e){const{account:r=t.account,domain:n,message:i,primaryType:s}=e;if(!r)throw new pp({docsPath:"/docs/actions/wallet/signTypedData"});const o=Gn(r),a={EIP712Domain:iae({domain:n}),...e.types};if(nae({domain:n,message:i,primaryType:s,types:a}),o.signTypedData)return o.signTypedData({domain:n,message:i,primaryType:s,types:a});const l=JCe({domain:n,message:i,primaryType:s,types:a});return t.request({method:"eth_signTypedData_v4",params:[o.address,l]},{retryCount:0})}async function S7e(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:ft(e)}]},{retryCount:0})}async function A7e(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}async function T7e(t,e){return A2.internal(t,Ele,"sendTransactionSync",e)}function I7e(t){return{addChain:e=>f7e(t,e),deployContract:e=>p7e(t,e),fillTransaction:e=>iD(t,e),getAddresses:()=>g7e(t),getCallsStatus:e=>sle(t,e),getCapabilities:e=>m7e(t,e),getChainId:()=>fp(t),getPermissions:()=>y7e(t),prepareAuthorization:e=>Cle(t,e),prepareTransactionRequest:e=>Lx(t,e),requestAddresses:()=>v7e(t),requestPermissions:e=>w7e(t,e),sendCalls:e=>ile(t,e),sendCallsSync:e=>b7e(t,e),sendRawTransaction:e=>lD(t,e),sendRawTransactionSync:e=>pD(t,e),sendTransaction:e=>AE(t,e),sendTransactionSync:e=>Ele(t,e),showCallsStatus:e=>x7e(t,e),signAuthorization:e=>_7e(t,e),signMessage:e=>C7e(t,e),signTransaction:e=>E7e(t,e),signTypedData:e=>k7e(t,e),switchChain:e=>S7e(t,e),waitForCallsStatus:e=>ole(t,e),watchAsset:e=>A7e(t,e),writeContract:e=>A2(t,e),writeContractSync:e=>T7e(t,e)}}function mD(t){const{key:e="wallet",name:r="Wallet Client",transport:n}=t;return lle({...t,key:e,name:r,transport:n,type:"walletClient"}).extend(I7e)}function kle({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},l){const c=ale();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:s,timeout:o,type:a},request:L_e(n,{methods:e,retryCount:i,retryDelay:s,uid:c}),value:l}}function PE(t,e={}){const{key:r="custom",methods:n,name:i="Custom Provider",retryDelay:s}=e;return({retryCount:o})=>kle({key:r,methods:n,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:s,type:"custom"})}class P7e extends et{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function cd(t,e={}){const{batch:r,fetchFn:n,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:c,retryDelay:u,raw:h}=e;return({chain:f,retryCount:p,timeout:m})=>{const{batchSize:v=1e3,wait:w=0}=typeof r=="object"?r:{},b=e.retryCount??p,E=m??e.timeout??1e4,_=t||f?.rpcUrls.default.http[0];if(!_)throw new P7e;const A=qCe(_,{fetchFn:n,fetchOptions:i,onRequest:l,onResponse:c,timeout:E});return kle({key:s,methods:o,name:a,async request({method:C,params:k}){const P={method:C,params:k},{schedule:F}=Joe({id:_,wait:w,shouldSplitBatch(O){return O.length>v},fn:O=>A.request({body:O}),sort:(O,D)=>O.id-D.id}),N=async O=>r?F(O):[await A.request({body:O})],[{error:$,result:U}]=await N(P);if(h)return{error:$,result:U};if($)throw new IM({body:P,error:$,url:_});return U},retryCount:b,retryDelay:u,timeout:E,type:"http"},{fetchOptions:i,url:_})}}let $7e=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(lke,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const N7e=new TextEncoder,Sle=new TextDecoder,R7e=t=>{let e=t;typeof e=="string"&&(e=N7e.encode(e));const r=32768,n=[];for(let i=0;i<e.length;i+=r)n.push(String.fromCharCode.apply(null,e.subarray(i,i+r)));return btoa(n.join(""))},O7e=t=>R7e(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),j7e=t=>{const e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},M7e=t=>{let e=t;e instanceof Uint8Array&&(e=Sle.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return j7e(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class D7e extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var r;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}}class Bp extends D7e{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function F7e(t){return typeof t=="object"&&t!==null}function L7e(t){if(!F7e(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const K0=O7e,U7e=M7e;function UN(t){if(typeof t!="string")throw new Bp("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:r}=t.split(".");if(r===5)throw new Bp("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new Bp("Invalid JWT");if(!e)throw new Bp("JWTs must contain a payload");let n;try{n=U7e(e)}catch{throw new Bp("Failed to base64url decode the payload")}let i;try{i=JSON.parse(Sle.decode(n))}catch{throw new Bp("Failed to parse the decoded payload as JSON")}if(!L7e(i))throw new Bp("Invalid JWT Claims Set");return i}let Lw=class Ale{static parse(e){try{return new Ale(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=UN(e)}},Tle=class BN{async updateOnCrossAppAuthentication(e,r){let n=r.access_token,i=BN.providerAccessTokenStorageKey(e);await this._storage.put(i,n)}async getProviderAccessToken(e){let r=BN.providerAccessTokenStorageKey(e),n=await this._storage.get(r);if(typeof n!="string")return null;try{if(new Lw(n).isExpired())throw Error("JWT is expired");return n}catch{return await this._storage.del(r),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(C8e,{params:{app_id:this._privyInternal.appId}})}constructor(e,r){this._privyInternal=e,this._storage=r}};Tle.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let B7e=class{async revoke(){await this._privyInternal.fetch(bke,{})}constructor(e){this._privyInternal=e}};function z7e(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const nc={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},$E={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},N1={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},yD={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},ic={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},blast:{http:["https://base-mainnet.blastapi.io"],webSocket:["wss://base-mainnet.blastapi.io"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},NE={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},q7e={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},RE={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},W7e={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},H7e={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},V7e={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},G7e={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},K7e={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},Ile={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},Y7e={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},J7e={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},sc={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},md={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},OE={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},ba={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},Bx={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},X7e={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},vD={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},wD={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},Ple={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},$le={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},zx=[sc,vD,K7e,nc,$E,md,OE,ba,Bx,RE,W7e,H7e,V7e,ic,NE,q7e,J7e,Ile,Y7e,N1,yD,wD,$le,Ple,X7e,G7e],Nle=new Set(zx.map((t=>t.id)));function bD(t){let e=t.filter((r=>!Nle.has(r.id)));return zx.concat(e)}const Rle=t=>t.map((e=>{if(e.rpcUrls.privyWalletOverride)return e;let r=zx.find((i=>i.id===e.id)),n=r?.rpcUrls.privy?.http[0];return n?z7e(e,n):e}));let WA=class extends Error{constructor({error:e,code:r}){super(e),this.error=e,this.code=r}},Qr=class extends Error{constructor({error:e,code:r}){super(e),this.code=r,this.error=e}},Q7e=class extends Error{constructor({error:e,code:r,response:n}){super(e),this.code=r,this.error=e,this.response=n}};const $f=t=>!!t.id&&t.recovery_method==="privy-v2";let Z7e=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if($f(this._account))throw new Qr({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessToken())throw new Qr({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:r,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new Qr({code:"embedded_wallet_request_error",error:n})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:r,account:n,entropyId:i,entropyIdVerifier:s}){this._proxy=e,this._privyInternal=r,this._account=n,this._entropyId=i,this._entropyIdVerifier=s}};const eIe=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var Yo;(Yo={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Yo.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Yo.INVALID_DATA="invalid_data",Yo.LINKED_TO_ANOTHER_USER="linked_to_another_user",Yo.ALLOWLIST_REJECTED="allowlist_rejected",Yo.OAUTH_USER_DENIED="oauth_user_denied",Yo.UNKNOWN_AUTH_ERROR="unknown_auth_error",Yo.USER_EXITED_AUTH_FLOW="exited_auth_flow",Yo.MUST_BE_AUTHENTICATED="must_be_authenticated",Yo.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Yo.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Yo.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Yo.INVALID_CREDENTIALS="invalid_credentials";let tIe=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,r,n){super(e),r instanceof Error&&(this.cause=r),this.privyErrorCode=n}},T4=class extends Error{constructor(e,r){super(r),this.type=e}},Ole=class extends tIe{constructor(e,r,n){super(e,r,n),this.type="connector_error"}},oH=class extends Error{constructor(e,r,n){super(e),this.code=r,this.data=n}};const Lc={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function rIe(t){let e=t.type;return typeof e=="string"&&eIe.includes(e)}function xD(t){return rIe(t)&&t.type==="wallet_not_on_device"}async function zN(t,{request:e}){return await t.fetchPrivyRoute(wke,{body:e})}async function HA({context:t,chainType:e}){return{wallet:await zN(t,{request:{chain_type:e,owner_id:void 0}})}}const nIe="logger/5.8.0";let aH=!1,lH=!1;const I4={debug:1,default:2,info:2,warning:3,error:4,off:5};let cH=I4.default,VA=null;function iIe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const uH=iIe();var qN;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(qN||(qN={}));var Rc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Rc||(Rc={}));const dH="0123456789abcdef";class Ge{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();I4[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(cH>I4[n])&&console.log.apply(console,r)}debug(...e){this._log(Ge.levels.DEBUG,e)}info(...e){this._log(Ge.levels.INFO,e)}warn(...e){this._log(Ge.levels.WARNING,e)}makeError(e,r,n){if(lH)return this.makeError("censored error",r,{});r||(r=Ge.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(l=>{const c=n[l];try{if(c instanceof Uint8Array){let u="";for(let h=0;h<c.length;h++)u+=dH[c[h]>>4],u+=dH[c[h]&15];i.push(l+"=Uint8Array(0x"+u+")")}else i.push(l+"="+JSON.stringify(c))}catch{i.push(l+"="+JSON.stringify(n[l].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Rc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":o+="-"+l;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Rc.CALL_EXCEPTION:case Rc.INSUFFICIENT_FUNDS:case Rc.MISSING_NEW:case Rc.NONCE_EXPIRED:case Rc.REPLACEMENT_UNDERPRICED:case Rc.TRANSACTION_REPLACED:case Rc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(l){a[l]=n[l]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Ge.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){uH&&this.throwError("platform missing String.prototype.normalize",Ge.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:uH})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Ge.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Ge.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Ge.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Ge.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Ge.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ge.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ge.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return VA||(VA=new Ge(nIe)),VA}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ge.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),aH){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ge.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}lH=!!e,aH=!!r}static setLogLevel(e){const r=I4[e.toLowerCase()];if(r==null){Ge.globalLogger().warn("invalid log level - "+e);return}cH=r}static from(e){return new Ge(e)}}Ge.errors=Rc;Ge.levels=qN;const sIe="properties/5.8.0";var oIe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const S_=new Ge(sIe);function Or(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Uw(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Ns(t){return oIe(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function aIe(t,e){(!t||typeof t!="object")&&S_.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||S_.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function da(t){const e={};for(const r in t)e[r]=t[r];return e}const lIe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function jle(t){if(t==null||lIe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!jle(n))return!1}return!0}return S_.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function cIe(t){if(jle(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>T2(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&Or(e,r,T2(n))}return e}return S_.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function T2(t){return cIe(t)}class uIe{constructor(e){for(const r in e)this[r]=T2(e[r])}}const dIe="abstract-signer/5.8.0";var _c=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const kl=new Ge(dIe),hIe=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],fIe=[Ge.errors.INSUFFICIENT_FUNDS,Ge.errors.NONCE_EXPIRED,Ge.errors.REPLACEMENT_UNDERPRICED];class jE{constructor(){kl.checkAbstract(new.target,jE),Or(this,"_isSigner",!0)}getBalance(e){return _c(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return _c(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return _c(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield Ns(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return _c(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield Ns(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return _c(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return _c(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return _c(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return _c(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return _c(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)hIe.indexOf(n)===-1&&kl.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=da(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&kl.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return _c(this,void 0,void 0,function*(){const r=yield Ns(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>_c(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&kl.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?kl.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&kl.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&kl.throwError("network does not support EIP-1559",Ge.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):kl.throwError("failed to get consistent fee data",Ge.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(fIe.indexOf(i.code)>=0)throw i;return kl.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Ge.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&kl.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Ns(r)})}_checkProvider(e){this.provider||kl.throwError("missing provider",Ge.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class _D extends jE{constructor(e,r){super(),Or(this,"address",e),Or(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{kl.throwError(e,Ge.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new _D(this.address,e)}}var P4={exports:{}};const pIe={},gIe=Object.freeze(Object.defineProperty({__proto__:null,default:pIe},Symbol.toStringTag,{value:"Module"})),Mle=cM(gIe);var mIe=P4.exports,hH;function yIe(){return hH||(hH=1,(function(t){(function(e,r){function n(D,T){if(!D)throw new Error(T||"Assertion failed")}function i(D,T){D.super_=T;var I=function(){};I.prototype=T.prototype,D.prototype=new I,D.prototype.constructor=D}function s(D,T,I){if(s.isBN(D))return D;this.negative=0,this.words=null,this.length=0,this.red=null,D!==null&&((T==="le"||T==="be")&&(I=T,T=10),this._init(D||0,T||10,I||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Mle.Buffer}catch{}s.isBN=function(T){return T instanceof s?!0:T!==null&&typeof T=="object"&&T.constructor.wordSize===s.wordSize&&Array.isArray(T.words)},s.max=function(T,I){return T.cmp(I)>0?T:I},s.min=function(T,I){return T.cmp(I)<0?T:I},s.prototype._init=function(T,I,R){if(typeof T=="number")return this._initNumber(T,I,R);if(typeof T=="object")return this._initArray(T,I,R);I==="hex"&&(I=16),n(I===(I|0)&&I>=2&&I<=36),T=T.toString().replace(/\s+/g,"");var L=0;T[0]==="-"&&(L++,this.negative=1),L<T.length&&(I===16?this._parseHex(T,L,R):(this._parseBase(T,I,L),R==="le"&&this._initArray(this.toArray(),I,R)))},s.prototype._initNumber=function(T,I,R){T<0&&(this.negative=1,T=-T),T<67108864?(this.words=[T&67108863],this.length=1):T<4503599627370496?(this.words=[T&67108863,T/67108864&67108863],this.length=2):(n(T<9007199254740992),this.words=[T&67108863,T/67108864&67108863,1],this.length=3),R==="le"&&this._initArray(this.toArray(),I,R)},s.prototype._initArray=function(T,I,R){if(n(typeof T.length=="number"),T.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(T.length/3),this.words=new Array(this.length);for(var L=0;L<this.length;L++)this.words[L]=0;var B,q,G=0;if(R==="be")for(L=T.length-1,B=0;L>=0;L-=3)q=T[L]|T[L-1]<<8|T[L-2]<<16,this.words[B]|=q<<G&67108863,this.words[B+1]=q>>>26-G&67108863,G+=24,G>=26&&(G-=26,B++);else if(R==="le")for(L=0,B=0;L<T.length;L+=3)q=T[L]|T[L+1]<<8|T[L+2]<<16,this.words[B]|=q<<G&67108863,this.words[B+1]=q>>>26-G&67108863,G+=24,G>=26&&(G-=26,B++);return this._strip()};function a(D,T){var I=D.charCodeAt(T);if(I>=48&&I<=57)return I-48;if(I>=65&&I<=70)return I-55;if(I>=97&&I<=102)return I-87;n(!1,"Invalid character in "+D)}function l(D,T,I){var R=a(D,I);return I-1>=T&&(R|=a(D,I-1)<<4),R}s.prototype._parseHex=function(T,I,R){this.length=Math.ceil((T.length-I)/6),this.words=new Array(this.length);for(var L=0;L<this.length;L++)this.words[L]=0;var B=0,q=0,G;if(R==="be")for(L=T.length-1;L>=I;L-=2)G=l(T,I,L)<<B,this.words[q]|=G&67108863,B>=18?(B-=18,q+=1,this.words[q]|=G>>>26):B+=8;else{var W=T.length-I;for(L=W%2===0?I+1:I;L<T.length;L+=2)G=l(T,I,L)<<B,this.words[q]|=G&67108863,B>=18?(B-=18,q+=1,this.words[q]|=G>>>26):B+=8}this._strip()};function c(D,T,I,R){for(var L=0,B=0,q=Math.min(D.length,I),G=T;G<q;G++){var W=D.charCodeAt(G)-48;L*=R,W>=49?B=W-49+10:W>=17?B=W-17+10:B=W,n(W>=0&&B<R,"Invalid character"),L+=B}return L}s.prototype._parseBase=function(T,I,R){this.words=[0],this.length=1;for(var L=0,B=1;B<=67108863;B*=I)L++;L--,B=B/I|0;for(var q=T.length-R,G=q%L,W=Math.min(q,q-G)+R,j=0,Y=R;Y<W;Y+=L)j=c(T,Y,Y+L,I),this.imuln(B),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(G!==0){var Q=1;for(j=c(T,Y,T.length,I),Y=0;Y<G;Y++)Q*=I;this.imuln(Q),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}this._strip()},s.prototype.copy=function(T){T.words=new Array(this.length);for(var I=0;I<this.length;I++)T.words[I]=this.words[I];T.length=this.length,T.negative=this.negative,T.red=this.red};function u(D,T){D.words=T.words,D.length=T.length,D.negative=T.negative,D.red=T.red}if(s.prototype._move=function(T){u(T,this)},s.prototype.clone=function(){var T=new s(null);return this.copy(T),T},s.prototype._expand=function(T){for(;this.length<T;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(T,I){T=T||10,I=I|0||1;var R;if(T===16||T==="hex"){R="";for(var L=0,B=0,q=0;q<this.length;q++){var G=this.words[q],W=((G<<L|B)&16777215).toString(16);B=G>>>24-L&16777215,L+=2,L>=26&&(L-=26,q--),B!==0||q!==this.length-1?R=f[6-W.length]+W+R:R=W+R}for(B!==0&&(R=B.toString(16)+R);R.length%I!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}if(T===(T|0)&&T>=2&&T<=36){var j=p[T],Y=m[T];R="";var Q=this.clone();for(Q.negative=0;!Q.isZero();){var z=Q.modrn(Y).toString(T);Q=Q.idivn(Y),Q.isZero()?R=z+R:R=f[j-z.length]+z+R}for(this.isZero()&&(R="0"+R);R.length%I!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var T=this.words[0];return this.length===2?T+=this.words[1]*67108864:this.length===3&&this.words[2]===1?T+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-T:T},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(T,I){return this.toArrayLike(o,T,I)}),s.prototype.toArray=function(T,I){return this.toArrayLike(Array,T,I)};var v=function(T,I){return T.allocUnsafe?T.allocUnsafe(I):new T(I)};s.prototype.toArrayLike=function(T,I,R){this._strip();var L=this.byteLength(),B=R||Math.max(1,L);n(L<=B,"byte array longer than desired length"),n(B>0,"Requested array length <= 0");var q=v(T,B),G=I==="le"?"LE":"BE";return this["_toArrayLike"+G](q,L),q},s.prototype._toArrayLikeLE=function(T,I){for(var R=0,L=0,B=0,q=0;B<this.length;B++){var G=this.words[B]<<q|L;T[R++]=G&255,R<T.length&&(T[R++]=G>>8&255),R<T.length&&(T[R++]=G>>16&255),q===6?(R<T.length&&(T[R++]=G>>24&255),L=0,q=0):(L=G>>>24,q+=2)}if(R<T.length)for(T[R++]=L;R<T.length;)T[R++]=0},s.prototype._toArrayLikeBE=function(T,I){for(var R=T.length-1,L=0,B=0,q=0;B<this.length;B++){var G=this.words[B]<<q|L;T[R--]=G&255,R>=0&&(T[R--]=G>>8&255),R>=0&&(T[R--]=G>>16&255),q===6?(R>=0&&(T[R--]=G>>24&255),L=0,q=0):(L=G>>>24,q+=2)}if(R>=0)for(T[R--]=L;R>=0;)T[R--]=0},Math.clz32?s.prototype._countBits=function(T){return 32-Math.clz32(T)}:s.prototype._countBits=function(T){var I=T,R=0;return I>=4096&&(R+=13,I>>>=13),I>=64&&(R+=7,I>>>=7),I>=8&&(R+=4,I>>>=4),I>=2&&(R+=2,I>>>=2),R+I},s.prototype._zeroBits=function(T){if(T===0)return 26;var I=T,R=0;return(I&8191)===0&&(R+=13,I>>>=13),(I&127)===0&&(R+=7,I>>>=7),(I&15)===0&&(R+=4,I>>>=4),(I&3)===0&&(R+=2,I>>>=2),(I&1)===0&&R++,R},s.prototype.bitLength=function(){var T=this.words[this.length-1],I=this._countBits(T);return(this.length-1)*26+I};function w(D){for(var T=new Array(D.bitLength()),I=0;I<T.length;I++){var R=I/26|0,L=I%26;T[I]=D.words[R]>>>L&1}return T}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var T=0,I=0;I<this.length;I++){var R=this._zeroBits(this.words[I]);if(T+=R,R!==26)break}return T},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(T){return this.negative!==0?this.abs().inotn(T).iaddn(1):this.clone()},s.prototype.fromTwos=function(T){return this.testn(T-1)?this.notn(T).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(T){for(;this.length<T.length;)this.words[this.length++]=0;for(var I=0;I<T.length;I++)this.words[I]=this.words[I]|T.words[I];return this._strip()},s.prototype.ior=function(T){return n((this.negative|T.negative)===0),this.iuor(T)},s.prototype.or=function(T){return this.length>T.length?this.clone().ior(T):T.clone().ior(this)},s.prototype.uor=function(T){return this.length>T.length?this.clone().iuor(T):T.clone().iuor(this)},s.prototype.iuand=function(T){var I;this.length>T.length?I=T:I=this;for(var R=0;R<I.length;R++)this.words[R]=this.words[R]&T.words[R];return this.length=I.length,this._strip()},s.prototype.iand=function(T){return n((this.negative|T.negative)===0),this.iuand(T)},s.prototype.and=function(T){return this.length>T.length?this.clone().iand(T):T.clone().iand(this)},s.prototype.uand=function(T){return this.length>T.length?this.clone().iuand(T):T.clone().iuand(this)},s.prototype.iuxor=function(T){var I,R;this.length>T.length?(I=this,R=T):(I=T,R=this);for(var L=0;L<R.length;L++)this.words[L]=I.words[L]^R.words[L];if(this!==I)for(;L<I.length;L++)this.words[L]=I.words[L];return this.length=I.length,this._strip()},s.prototype.ixor=function(T){return n((this.negative|T.negative)===0),this.iuxor(T)},s.prototype.xor=function(T){return this.length>T.length?this.clone().ixor(T):T.clone().ixor(this)},s.prototype.uxor=function(T){return this.length>T.length?this.clone().iuxor(T):T.clone().iuxor(this)},s.prototype.inotn=function(T){n(typeof T=="number"&&T>=0);var I=Math.ceil(T/26)|0,R=T%26;this._expand(I),R>0&&I--;for(var L=0;L<I;L++)this.words[L]=~this.words[L]&67108863;return R>0&&(this.words[L]=~this.words[L]&67108863>>26-R),this._strip()},s.prototype.notn=function(T){return this.clone().inotn(T)},s.prototype.setn=function(T,I){n(typeof T=="number"&&T>=0);var R=T/26|0,L=T%26;return this._expand(R+1),I?this.words[R]=this.words[R]|1<<L:this.words[R]=this.words[R]&~(1<<L),this._strip()},s.prototype.iadd=function(T){var I;if(this.negative!==0&&T.negative===0)return this.negative=0,I=this.isub(T),this.negative^=1,this._normSign();if(this.negative===0&&T.negative!==0)return T.negative=0,I=this.isub(T),T.negative=1,I._normSign();var R,L;this.length>T.length?(R=this,L=T):(R=T,L=this);for(var B=0,q=0;q<L.length;q++)I=(R.words[q]|0)+(L.words[q]|0)+B,this.words[q]=I&67108863,B=I>>>26;for(;B!==0&&q<R.length;q++)I=(R.words[q]|0)+B,this.words[q]=I&67108863,B=I>>>26;if(this.length=R.length,B!==0)this.words[this.length]=B,this.length++;else if(R!==this)for(;q<R.length;q++)this.words[q]=R.words[q];return this},s.prototype.add=function(T){var I;return T.negative!==0&&this.negative===0?(T.negative=0,I=this.sub(T),T.negative^=1,I):T.negative===0&&this.negative!==0?(this.negative=0,I=T.sub(this),this.negative=1,I):this.length>T.length?this.clone().iadd(T):T.clone().iadd(this)},s.prototype.isub=function(T){if(T.negative!==0){T.negative=0;var I=this.iadd(T);return T.negative=1,I._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(T),this.negative=1,this._normSign();var R=this.cmp(T);if(R===0)return this.negative=0,this.length=1,this.words[0]=0,this;var L,B;R>0?(L=this,B=T):(L=T,B=this);for(var q=0,G=0;G<B.length;G++)I=(L.words[G]|0)-(B.words[G]|0)+q,q=I>>26,this.words[G]=I&67108863;for(;q!==0&&G<L.length;G++)I=(L.words[G]|0)+q,q=I>>26,this.words[G]=I&67108863;if(q===0&&G<L.length&&L!==this)for(;G<L.length;G++)this.words[G]=L.words[G];return this.length=Math.max(this.length,G),L!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(T){return this.clone().isub(T)};function b(D,T,I){I.negative=T.negative^D.negative;var R=D.length+T.length|0;I.length=R,R=R-1|0;var L=D.words[0]|0,B=T.words[0]|0,q=L*B,G=q&67108863,W=q/67108864|0;I.words[0]=G;for(var j=1;j<R;j++){for(var Y=W>>>26,Q=W&67108863,z=Math.min(j,T.length-1),Z=Math.max(0,j-D.length+1);Z<=z;Z++){var ee=j-Z|0;L=D.words[ee]|0,B=T.words[Z]|0,q=L*B+Q,Y+=q/67108864|0,Q=q&67108863}I.words[j]=Q|0,W=Y|0}return W!==0?I.words[j]=W|0:I.length--,I._strip()}var E=function(T,I,R){var L=T.words,B=I.words,q=R.words,G=0,W,j,Y,Q=L[0]|0,z=Q&8191,Z=Q>>>13,ee=L[1]|0,te=ee&8191,se=ee>>>13,ce=L[2]|0,ge=ce&8191,ae=ce>>>13,_e=L[3]|0,Ee=_e&8191,Ie=_e>>>13,qe=L[4]|0,me=qe&8191,ze=qe>>>13,rt=L[5]|0,Ae=rt&8191,Fe=rt>>>13,nt=L[6]|0,_t=nt&8191,Ye=nt>>>13,wt=L[7]|0,xt=wt&8191,Le=wt>>>13,Ke=L[8]|0,Qe=Ke&8191,it=Ke>>>13,st=L[9]|0,pt=st&8191,Ze=st>>>13,Mt=B[0]|0,yt=Mt&8191,ue=Mt>>>13,we=B[1]|0,Re=we&8191,Ne=we>>>13,Ve=B[2]|0,Se=Ve&8191,Me=Ve>>>13,Je=B[3]|0,Ue=Je&8191,vt=Je>>>13,tr=B[4]|0,$t=tr&8191,X=tr>>>13,ne=B[5]|0,oe=ne&8191,le=ne>>>13,ve=B[6]|0,be=ve&8191,Pe=ve>>>13,Xe=B[7]|0,gt=Xe&8191,Pt=Xe>>>13,er=B[8]|0,Nt=er&8191,Et=er>>>13,Ct=B[9]|0,Vt=Ct&8191,Lt=Ct>>>13;R.negative=T.negative^I.negative,R.length=19,W=Math.imul(z,yt),j=Math.imul(z,ue),j=j+Math.imul(Z,yt)|0,Y=Math.imul(Z,ue);var _r=(G+W|0)+((j&8191)<<13)|0;G=(Y+(j>>>13)|0)+(_r>>>26)|0,_r&=67108863,W=Math.imul(te,yt),j=Math.imul(te,ue),j=j+Math.imul(se,yt)|0,Y=Math.imul(se,ue),W=W+Math.imul(z,Re)|0,j=j+Math.imul(z,Ne)|0,j=j+Math.imul(Z,Re)|0,Y=Y+Math.imul(Z,Ne)|0;var gr=(G+W|0)+((j&8191)<<13)|0;G=(Y+(j>>>13)|0)+(gr>>>26)|0,gr&=67108863,W=Math.imul(ge,yt),j=Math.imul(ge,ue),j=j+Math.imul(ae,yt)|0,Y=Math.imul(ae,ue),W=W+Math.imul(te,Re)|0,j=j+Math.imul(te,Ne)|0,j=j+Math.imul(se,Re)|0,Y=Y+Math.imul(se,Ne)|0,W=W+Math.imul(z,Se)|0,j=j+Math.imul(z,Me)|0,j=j+Math.imul(Z,Se)|0,Y=Y+Math.imul(Z,Me)|0;var Nr=(G+W|0)+((j&8191)<<13)|0;G=(Y+(j>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,W=Math.imul(Ee,yt),j=Math.imul(Ee,ue),j=j+Math.imul(Ie,yt)|0,Y=Math.imul(Ie,ue),W=W+Math.imul(ge,Re)|0,j=j+Math.imul(ge,Ne)|0,j=j+Math.imul(ae,Re)|0,Y=Y+Math.imul(ae,Ne)|0,W=W+Math.imul(te,Se)|0,j=j+Math.imul(te,Me)|0,j=j+Math.imul(se,Se)|0,Y=Y+Math.imul(se,Me)|0,W=W+Math.imul(z,Ue)|0,j=j+Math.imul(z,vt)|0,j=j+Math.imul(Z,Ue)|0,Y=Y+Math.imul(Z,vt)|0;var vr=(G+W|0)+((j&8191)<<13)|0;G=(Y+(j>>>13)|0)+(vr>>>26)|0,vr&=67108863,W=Math.imul(me,yt),j=Math.imul(me,ue),j=j+Math.imul(ze,yt)|0,Y=Math.imul(ze,ue),W=W+Math.imul(Ee,Re)|0,j=j+Math.imul(Ee,Ne)|0,j=j+Math.imul(Ie,Re)|0,Y=Y+Math.imul(Ie,Ne)|0,W=W+Math.imul(ge,Se)|0,j=j+Math.imul(ge,Me)|0,j=j+Math.imul(ae,Se)|0,Y=Y+Math.imul(ae,Me)|0,W=W+Math.imul(te,Ue)|0,j=j+Math.imul(te,vt)|0,j=j+Math.imul(se,Ue)|0,Y=Y+Math.imul(se,vt)|0,W=W+Math.imul(z,$t)|0,j=j+Math.imul(z,X)|0,j=j+Math.imul(Z,$t)|0,Y=Y+Math.imul(Z,X)|0;var qr=(G+W|0)+((j&8191)<<13)|0;G=(Y+(j>>>13)|0)+(qr>>>26)|0,qr&=67108863,W=Math.imul(Ae,yt),j=Math.imul(Ae,ue),j=j+Math.imul(Fe,yt)|0,Y=Math.imul(Fe,ue),W=W+Math.imul(me,Re)|0,j=j+Math.imul(me,Ne)|0,j=j+Math.imul(ze,Re)|0,Y=Y+Math.imul(ze,Ne)|0,W=W+Math.imul(Ee,Se)|0,j=j+Math.imul(Ee,Me)|0,j=j+Math.imul(Ie,Se)|0,Y=Y+Math.imul(Ie,Me)|0,W=W+Math.imul(ge,Ue)|0,j=j+Math.imul(ge,vt)|0,j=j+Math.imul(ae,Ue)|0,Y=Y+Math.imul(ae,vt)|0,W=W+Math.imul(te,$t)|0,j=j+Math.imul(te,X)|0,j=j+Math.imul(se,$t)|0,Y=Y+Math.imul(se,X)|0,W=W+Math.imul(z,oe)|0,j=j+Math.imul(z,le)|0,j=j+Math.imul(Z,oe)|0,Y=Y+Math.imul(Z,le)|0;var ci=(G+W|0)+((j&8191)<<13)|0;G=(Y+(j>>>13)|0)+(ci>>>26)|0,ci&=67108863,W=Math.imul(_t,yt),j=Math.imul(_t,ue),j=j+Math.imul(Ye,yt)|0,Y=Math.imul(Ye,ue),W=W+Math.imul(Ae,Re)|0,j=j+Math.imul(Ae,Ne)|0,j=j+Math.imul(Fe,Re)|0,Y=Y+Math.imul(Fe,Ne)|0,W=W+Math.imul(me,Se)|0,j=j+Math.imul(me,Me)|0,j=j+Math.imul(ze,Se)|0,Y=Y+Math.imul(ze,Me)|0,W=W+Math.imul(Ee,Ue)|0,j=j+Math.imul(Ee,vt)|0,j=j+Math.imul(Ie,Ue)|0,Y=Y+Math.imul(Ie,vt)|0,W=W+Math.imul(ge,$t)|0,j=j+Math.imul(ge,X)|0,j=j+Math.imul(ae,$t)|0,Y=Y+Math.imul(ae,X)|0,W=W+Math.imul(te,oe)|0,j=j+Math.imul(te,le)|0,j=j+Math.imul(se,oe)|0,Y=Y+Math.imul(se,le)|0,W=W+Math.imul(z,be)|0,j=j+Math.imul(z,Pe)|0,j=j+Math.imul(Z,be)|0,Y=Y+Math.imul(Z,Pe)|0;var cl=(G+W|0)+((j&8191)<<13)|0;G=(Y+(j>>>13)|0)+(cl>>>26)|0,cl&=67108863,W=Math.imul(xt,yt),j=Math.imul(xt,ue),j=j+Math.imul(Le,yt)|0,Y=Math.imul(Le,ue),W=W+Math.imul(_t,Re)|0,j=j+Math.imul(_t,Ne)|0,j=j+Math.imul(Ye,Re)|0,Y=Y+Math.imul(Ye,Ne)|0,W=W+Math.imul(Ae,Se)|0,j=j+Math.imul(Ae,Me)|0,j=j+Math.imul(Fe,Se)|0,Y=Y+Math.imul(Fe,Me)|0,W=W+Math.imul(me,Ue)|0,j=j+Math.imul(me,vt)|0,j=j+Math.imul(ze,Ue)|0,Y=Y+Math.imul(ze,vt)|0,W=W+Math.imul(Ee,$t)|0,j=j+Math.imul(Ee,X)|0,j=j+Math.imul(Ie,$t)|0,Y=Y+Math.imul(Ie,X)|0,W=W+Math.imul(ge,oe)|0,j=j+Math.imul(ge,le)|0,j=j+Math.imul(ae,oe)|0,Y=Y+Math.imul(ae,le)|0,W=W+Math.imul(te,be)|0,j=j+Math.imul(te,Pe)|0,j=j+Math.imul(se,be)|0,Y=Y+Math.imul(se,Pe)|0,W=W+Math.imul(z,gt)|0,j=j+Math.imul(z,Pt)|0,j=j+Math.imul(Z,gt)|0,Y=Y+Math.imul(Z,Pt)|0;var nn=(G+W|0)+((j&8191)<<13)|0;G=(Y+(j>>>13)|0)+(nn>>>26)|0,nn&=67108863,W=Math.imul(Qe,yt),j=Math.imul(Qe,ue),j=j+Math.imul(it,yt)|0,Y=Math.imul(it,ue),W=W+Math.imul(xt,Re)|0,j=j+Math.imul(xt,Ne)|0,j=j+Math.imul(Le,Re)|0,Y=Y+Math.imul(Le,Ne)|0,W=W+Math.imul(_t,Se)|0,j=j+Math.imul(_t,Me)|0,j=j+Math.imul(Ye,Se)|0,Y=Y+Math.imul(Ye,Me)|0,W=W+Math.imul(Ae,Ue)|0,j=j+Math.imul(Ae,vt)|0,j=j+Math.imul(Fe,Ue)|0,Y=Y+Math.imul(Fe,vt)|0,W=W+Math.imul(me,$t)|0,j=j+Math.imul(me,X)|0,j=j+Math.imul(ze,$t)|0,Y=Y+Math.imul(ze,X)|0,W=W+Math.imul(Ee,oe)|0,j=j+Math.imul(Ee,le)|0,j=j+Math.imul(Ie,oe)|0,Y=Y+Math.imul(Ie,le)|0,W=W+Math.imul(ge,be)|0,j=j+Math.imul(ge,Pe)|0,j=j+Math.imul(ae,be)|0,Y=Y+Math.imul(ae,Pe)|0,W=W+Math.imul(te,gt)|0,j=j+Math.imul(te,Pt)|0,j=j+Math.imul(se,gt)|0,Y=Y+Math.imul(se,Pt)|0,W=W+Math.imul(z,Nt)|0,j=j+Math.imul(z,Et)|0,j=j+Math.imul(Z,Nt)|0,Y=Y+Math.imul(Z,Et)|0;var Cr=(G+W|0)+((j&8191)<<13)|0;G=(Y+(j>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,W=Math.imul(pt,yt),j=Math.imul(pt,ue),j=j+Math.imul(Ze,yt)|0,Y=Math.imul(Ze,ue),W=W+Math.imul(Qe,Re)|0,j=j+Math.imul(Qe,Ne)|0,j=j+Math.imul(it,Re)|0,Y=Y+Math.imul(it,Ne)|0,W=W+Math.imul(xt,Se)|0,j=j+Math.imul(xt,Me)|0,j=j+Math.imul(Le,Se)|0,Y=Y+Math.imul(Le,Me)|0,W=W+Math.imul(_t,Ue)|0,j=j+Math.imul(_t,vt)|0,j=j+Math.imul(Ye,Ue)|0,Y=Y+Math.imul(Ye,vt)|0,W=W+Math.imul(Ae,$t)|0,j=j+Math.imul(Ae,X)|0,j=j+Math.imul(Fe,$t)|0,Y=Y+Math.imul(Fe,X)|0,W=W+Math.imul(me,oe)|0,j=j+Math.imul(me,le)|0,j=j+Math.imul(ze,oe)|0,Y=Y+Math.imul(ze,le)|0,W=W+Math.imul(Ee,be)|0,j=j+Math.imul(Ee,Pe)|0,j=j+Math.imul(Ie,be)|0,Y=Y+Math.imul(Ie,Pe)|0,W=W+Math.imul(ge,gt)|0,j=j+Math.imul(ge,Pt)|0,j=j+Math.imul(ae,gt)|0,Y=Y+Math.imul(ae,Pt)|0,W=W+Math.imul(te,Nt)|0,j=j+Math.imul(te,Et)|0,j=j+Math.imul(se,Nt)|0,Y=Y+Math.imul(se,Et)|0,W=W+Math.imul(z,Vt)|0,j=j+Math.imul(z,Lt)|0,j=j+Math.imul(Z,Vt)|0,Y=Y+Math.imul(Z,Lt)|0;var Kr=(G+W|0)+((j&8191)<<13)|0;G=(Y+(j>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,W=Math.imul(pt,Re),j=Math.imul(pt,Ne),j=j+Math.imul(Ze,Re)|0,Y=Math.imul(Ze,Ne),W=W+Math.imul(Qe,Se)|0,j=j+Math.imul(Qe,Me)|0,j=j+Math.imul(it,Se)|0,Y=Y+Math.imul(it,Me)|0,W=W+Math.imul(xt,Ue)|0,j=j+Math.imul(xt,vt)|0,j=j+Math.imul(Le,Ue)|0,Y=Y+Math.imul(Le,vt)|0,W=W+Math.imul(_t,$t)|0,j=j+Math.imul(_t,X)|0,j=j+Math.imul(Ye,$t)|0,Y=Y+Math.imul(Ye,X)|0,W=W+Math.imul(Ae,oe)|0,j=j+Math.imul(Ae,le)|0,j=j+Math.imul(Fe,oe)|0,Y=Y+Math.imul(Fe,le)|0,W=W+Math.imul(me,be)|0,j=j+Math.imul(me,Pe)|0,j=j+Math.imul(ze,be)|0,Y=Y+Math.imul(ze,Pe)|0,W=W+Math.imul(Ee,gt)|0,j=j+Math.imul(Ee,Pt)|0,j=j+Math.imul(Ie,gt)|0,Y=Y+Math.imul(Ie,Pt)|0,W=W+Math.imul(ge,Nt)|0,j=j+Math.imul(ge,Et)|0,j=j+Math.imul(ae,Nt)|0,Y=Y+Math.imul(ae,Et)|0,W=W+Math.imul(te,Vt)|0,j=j+Math.imul(te,Lt)|0,j=j+Math.imul(se,Vt)|0,Y=Y+Math.imul(se,Lt)|0;var hr=(G+W|0)+((j&8191)<<13)|0;G=(Y+(j>>>13)|0)+(hr>>>26)|0,hr&=67108863,W=Math.imul(pt,Se),j=Math.imul(pt,Me),j=j+Math.imul(Ze,Se)|0,Y=Math.imul(Ze,Me),W=W+Math.imul(Qe,Ue)|0,j=j+Math.imul(Qe,vt)|0,j=j+Math.imul(it,Ue)|0,Y=Y+Math.imul(it,vt)|0,W=W+Math.imul(xt,$t)|0,j=j+Math.imul(xt,X)|0,j=j+Math.imul(Le,$t)|0,Y=Y+Math.imul(Le,X)|0,W=W+Math.imul(_t,oe)|0,j=j+Math.imul(_t,le)|0,j=j+Math.imul(Ye,oe)|0,Y=Y+Math.imul(Ye,le)|0,W=W+Math.imul(Ae,be)|0,j=j+Math.imul(Ae,Pe)|0,j=j+Math.imul(Fe,be)|0,Y=Y+Math.imul(Fe,Pe)|0,W=W+Math.imul(me,gt)|0,j=j+Math.imul(me,Pt)|0,j=j+Math.imul(ze,gt)|0,Y=Y+Math.imul(ze,Pt)|0,W=W+Math.imul(Ee,Nt)|0,j=j+Math.imul(Ee,Et)|0,j=j+Math.imul(Ie,Nt)|0,Y=Y+Math.imul(Ie,Et)|0,W=W+Math.imul(ge,Vt)|0,j=j+Math.imul(ge,Lt)|0,j=j+Math.imul(ae,Vt)|0,Y=Y+Math.imul(ae,Lt)|0;var sn=(G+W|0)+((j&8191)<<13)|0;G=(Y+(j>>>13)|0)+(sn>>>26)|0,sn&=67108863,W=Math.imul(pt,Ue),j=Math.imul(pt,vt),j=j+Math.imul(Ze,Ue)|0,Y=Math.imul(Ze,vt),W=W+Math.imul(Qe,$t)|0,j=j+Math.imul(Qe,X)|0,j=j+Math.imul(it,$t)|0,Y=Y+Math.imul(it,X)|0,W=W+Math.imul(xt,oe)|0,j=j+Math.imul(xt,le)|0,j=j+Math.imul(Le,oe)|0,Y=Y+Math.imul(Le,le)|0,W=W+Math.imul(_t,be)|0,j=j+Math.imul(_t,Pe)|0,j=j+Math.imul(Ye,be)|0,Y=Y+Math.imul(Ye,Pe)|0,W=W+Math.imul(Ae,gt)|0,j=j+Math.imul(Ae,Pt)|0,j=j+Math.imul(Fe,gt)|0,Y=Y+Math.imul(Fe,Pt)|0,W=W+Math.imul(me,Nt)|0,j=j+Math.imul(me,Et)|0,j=j+Math.imul(ze,Nt)|0,Y=Y+Math.imul(ze,Et)|0,W=W+Math.imul(Ee,Vt)|0,j=j+Math.imul(Ee,Lt)|0,j=j+Math.imul(Ie,Vt)|0,Y=Y+Math.imul(Ie,Lt)|0;var vs=(G+W|0)+((j&8191)<<13)|0;G=(Y+(j>>>13)|0)+(vs>>>26)|0,vs&=67108863,W=Math.imul(pt,$t),j=Math.imul(pt,X),j=j+Math.imul(Ze,$t)|0,Y=Math.imul(Ze,X),W=W+Math.imul(Qe,oe)|0,j=j+Math.imul(Qe,le)|0,j=j+Math.imul(it,oe)|0,Y=Y+Math.imul(it,le)|0,W=W+Math.imul(xt,be)|0,j=j+Math.imul(xt,Pe)|0,j=j+Math.imul(Le,be)|0,Y=Y+Math.imul(Le,Pe)|0,W=W+Math.imul(_t,gt)|0,j=j+Math.imul(_t,Pt)|0,j=j+Math.imul(Ye,gt)|0,Y=Y+Math.imul(Ye,Pt)|0,W=W+Math.imul(Ae,Nt)|0,j=j+Math.imul(Ae,Et)|0,j=j+Math.imul(Fe,Nt)|0,Y=Y+Math.imul(Fe,Et)|0,W=W+Math.imul(me,Vt)|0,j=j+Math.imul(me,Lt)|0,j=j+Math.imul(ze,Vt)|0,Y=Y+Math.imul(ze,Lt)|0;var zo=(G+W|0)+((j&8191)<<13)|0;G=(Y+(j>>>13)|0)+(zo>>>26)|0,zo&=67108863,W=Math.imul(pt,oe),j=Math.imul(pt,le),j=j+Math.imul(Ze,oe)|0,Y=Math.imul(Ze,le),W=W+Math.imul(Qe,be)|0,j=j+Math.imul(Qe,Pe)|0,j=j+Math.imul(it,be)|0,Y=Y+Math.imul(it,Pe)|0,W=W+Math.imul(xt,gt)|0,j=j+Math.imul(xt,Pt)|0,j=j+Math.imul(Le,gt)|0,Y=Y+Math.imul(Le,Pt)|0,W=W+Math.imul(_t,Nt)|0,j=j+Math.imul(_t,Et)|0,j=j+Math.imul(Ye,Nt)|0,Y=Y+Math.imul(Ye,Et)|0,W=W+Math.imul(Ae,Vt)|0,j=j+Math.imul(Ae,Lt)|0,j=j+Math.imul(Fe,Vt)|0,Y=Y+Math.imul(Fe,Lt)|0;var ws=(G+W|0)+((j&8191)<<13)|0;G=(Y+(j>>>13)|0)+(ws>>>26)|0,ws&=67108863,W=Math.imul(pt,be),j=Math.imul(pt,Pe),j=j+Math.imul(Ze,be)|0,Y=Math.imul(Ze,Pe),W=W+Math.imul(Qe,gt)|0,j=j+Math.imul(Qe,Pt)|0,j=j+Math.imul(it,gt)|0,Y=Y+Math.imul(it,Pt)|0,W=W+Math.imul(xt,Nt)|0,j=j+Math.imul(xt,Et)|0,j=j+Math.imul(Le,Nt)|0,Y=Y+Math.imul(Le,Et)|0,W=W+Math.imul(_t,Vt)|0,j=j+Math.imul(_t,Lt)|0,j=j+Math.imul(Ye,Vt)|0,Y=Y+Math.imul(Ye,Lt)|0;var es=(G+W|0)+((j&8191)<<13)|0;G=(Y+(j>>>13)|0)+(es>>>26)|0,es&=67108863,W=Math.imul(pt,gt),j=Math.imul(pt,Pt),j=j+Math.imul(Ze,gt)|0,Y=Math.imul(Ze,Pt),W=W+Math.imul(Qe,Nt)|0,j=j+Math.imul(Qe,Et)|0,j=j+Math.imul(it,Nt)|0,Y=Y+Math.imul(it,Et)|0,W=W+Math.imul(xt,Vt)|0,j=j+Math.imul(xt,Lt)|0,j=j+Math.imul(Le,Vt)|0,Y=Y+Math.imul(Le,Lt)|0;var bd=(G+W|0)+((j&8191)<<13)|0;G=(Y+(j>>>13)|0)+(bd>>>26)|0,bd&=67108863,W=Math.imul(pt,Nt),j=Math.imul(pt,Et),j=j+Math.imul(Ze,Nt)|0,Y=Math.imul(Ze,Et),W=W+Math.imul(Qe,Vt)|0,j=j+Math.imul(Qe,Lt)|0,j=j+Math.imul(it,Vt)|0,Y=Y+Math.imul(it,Lt)|0;var bs=(G+W|0)+((j&8191)<<13)|0;G=(Y+(j>>>13)|0)+(bs>>>26)|0,bs&=67108863,W=Math.imul(pt,Vt),j=Math.imul(pt,Lt),j=j+Math.imul(Ze,Vt)|0,Y=Math.imul(Ze,Lt);var Cp=(G+W|0)+((j&8191)<<13)|0;return G=(Y+(j>>>13)|0)+(Cp>>>26)|0,Cp&=67108863,q[0]=_r,q[1]=gr,q[2]=Nr,q[3]=vr,q[4]=qr,q[5]=ci,q[6]=cl,q[7]=nn,q[8]=Cr,q[9]=Kr,q[10]=hr,q[11]=sn,q[12]=vs,q[13]=zo,q[14]=ws,q[15]=es,q[16]=bd,q[17]=bs,q[18]=Cp,G!==0&&(q[19]=G,R.length++),R};Math.imul||(E=b);function _(D,T,I){I.negative=T.negative^D.negative,I.length=D.length+T.length;for(var R=0,L=0,B=0;B<I.length-1;B++){var q=L;L=0;for(var G=R&67108863,W=Math.min(B,T.length-1),j=Math.max(0,B-D.length+1);j<=W;j++){var Y=B-j,Q=D.words[Y]|0,z=T.words[j]|0,Z=Q*z,ee=Z&67108863;q=q+(Z/67108864|0)|0,ee=ee+G|0,G=ee&67108863,q=q+(ee>>>26)|0,L+=q>>>26,q&=67108863}I.words[B]=G,R=q,q=L}return R!==0?I.words[B]=R:I.length--,I._strip()}function A(D,T,I){return _(D,T,I)}s.prototype.mulTo=function(T,I){var R,L=this.length+T.length;return this.length===10&&T.length===10?R=E(this,T,I):L<63?R=b(this,T,I):L<1024?R=_(this,T,I):R=A(this,T,I),R},s.prototype.mul=function(T){var I=new s(null);return I.words=new Array(this.length+T.length),this.mulTo(T,I)},s.prototype.mulf=function(T){var I=new s(null);return I.words=new Array(this.length+T.length),A(this,T,I)},s.prototype.imul=function(T){return this.clone().mulTo(T,this)},s.prototype.imuln=function(T){var I=T<0;I&&(T=-T),n(typeof T=="number"),n(T<67108864);for(var R=0,L=0;L<this.length;L++){var B=(this.words[L]|0)*T,q=(B&67108863)+(R&67108863);R>>=26,R+=B/67108864|0,R+=q>>>26,this.words[L]=q&67108863}return R!==0&&(this.words[L]=R,this.length++),this.length=T===0?1:this.length,I?this.ineg():this},s.prototype.muln=function(T){return this.clone().imuln(T)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(T){var I=w(T);if(I.length===0)return new s(1);for(var R=this,L=0;L<I.length&&I[L]===0;L++,R=R.sqr());if(++L<I.length)for(var B=R.sqr();L<I.length;L++,B=B.sqr())I[L]!==0&&(R=R.mul(B));return R},s.prototype.iushln=function(T){n(typeof T=="number"&&T>=0);var I=T%26,R=(T-I)/26,L=67108863>>>26-I<<26-I,B;if(I!==0){var q=0;for(B=0;B<this.length;B++){var G=this.words[B]&L,W=(this.words[B]|0)-G<<I;this.words[B]=W|q,q=G>>>26-I}q&&(this.words[B]=q,this.length++)}if(R!==0){for(B=this.length-1;B>=0;B--)this.words[B+R]=this.words[B];for(B=0;B<R;B++)this.words[B]=0;this.length+=R}return this._strip()},s.prototype.ishln=function(T){return n(this.negative===0),this.iushln(T)},s.prototype.iushrn=function(T,I,R){n(typeof T=="number"&&T>=0);var L;I?L=(I-I%26)/26:L=0;var B=T%26,q=Math.min((T-B)/26,this.length),G=67108863^67108863>>>B<<B,W=R;if(L-=q,L=Math.max(0,L),W){for(var j=0;j<q;j++)W.words[j]=this.words[j];W.length=q}if(q!==0)if(this.length>q)for(this.length-=q,j=0;j<this.length;j++)this.words[j]=this.words[j+q];else this.words[0]=0,this.length=1;var Y=0;for(j=this.length-1;j>=0&&(Y!==0||j>=L);j--){var Q=this.words[j]|0;this.words[j]=Y<<26-B|Q>>>B,Y=Q&G}return W&&Y!==0&&(W.words[W.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(T,I,R){return n(this.negative===0),this.iushrn(T,I,R)},s.prototype.shln=function(T){return this.clone().ishln(T)},s.prototype.ushln=function(T){return this.clone().iushln(T)},s.prototype.shrn=function(T){return this.clone().ishrn(T)},s.prototype.ushrn=function(T){return this.clone().iushrn(T)},s.prototype.testn=function(T){n(typeof T=="number"&&T>=0);var I=T%26,R=(T-I)/26,L=1<<I;if(this.length<=R)return!1;var B=this.words[R];return!!(B&L)},s.prototype.imaskn=function(T){n(typeof T=="number"&&T>=0);var I=T%26,R=(T-I)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=R)return this;if(I!==0&&R++,this.length=Math.min(R,this.length),I!==0){var L=67108863^67108863>>>I<<I;this.words[this.length-1]&=L}return this._strip()},s.prototype.maskn=function(T){return this.clone().imaskn(T)},s.prototype.iaddn=function(T){return n(typeof T=="number"),n(T<67108864),T<0?this.isubn(-T):this.negative!==0?this.length===1&&(this.words[0]|0)<=T?(this.words[0]=T-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(T),this.negative=1,this):this._iaddn(T)},s.prototype._iaddn=function(T){this.words[0]+=T;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},s.prototype.isubn=function(T){if(n(typeof T=="number"),n(T<67108864),T<0)return this.iaddn(-T);if(this.negative!==0)return this.negative=0,this.iaddn(T),this.negative=1,this;if(this.words[0]-=T,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this._strip()},s.prototype.addn=function(T){return this.clone().iaddn(T)},s.prototype.subn=function(T){return this.clone().isubn(T)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(T,I,R){var L=T.length+R,B;this._expand(L);var q,G=0;for(B=0;B<T.length;B++){q=(this.words[B+R]|0)+G;var W=(T.words[B]|0)*I;q-=W&67108863,G=(q>>26)-(W/67108864|0),this.words[B+R]=q&67108863}for(;B<this.length-R;B++)q=(this.words[B+R]|0)+G,G=q>>26,this.words[B+R]=q&67108863;if(G===0)return this._strip();for(n(G===-1),G=0,B=0;B<this.length;B++)q=-(this.words[B]|0)+G,G=q>>26,this.words[B]=q&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(T,I){var R=this.length-T.length,L=this.clone(),B=T,q=B.words[B.length-1]|0,G=this._countBits(q);R=26-G,R!==0&&(B=B.ushln(R),L.iushln(R),q=B.words[B.length-1]|0);var W=L.length-B.length,j;if(I!=="mod"){j=new s(null),j.length=W+1,j.words=new Array(j.length);for(var Y=0;Y<j.length;Y++)j.words[Y]=0}var Q=L.clone()._ishlnsubmul(B,1,W);Q.negative===0&&(L=Q,j&&(j.words[W]=1));for(var z=W-1;z>=0;z--){var Z=(L.words[B.length+z]|0)*67108864+(L.words[B.length+z-1]|0);for(Z=Math.min(Z/q|0,67108863),L._ishlnsubmul(B,Z,z);L.negative!==0;)Z--,L.negative=0,L._ishlnsubmul(B,1,z),L.isZero()||(L.negative^=1);j&&(j.words[z]=Z)}return j&&j._strip(),L._strip(),I!=="div"&&R!==0&&L.iushrn(R),{div:j||null,mod:L}},s.prototype.divmod=function(T,I,R){if(n(!T.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var L,B,q;return this.negative!==0&&T.negative===0?(q=this.neg().divmod(T,I),I!=="mod"&&(L=q.div.neg()),I!=="div"&&(B=q.mod.neg(),R&&B.negative!==0&&B.iadd(T)),{div:L,mod:B}):this.negative===0&&T.negative!==0?(q=this.divmod(T.neg(),I),I!=="mod"&&(L=q.div.neg()),{div:L,mod:q.mod}):(this.negative&T.negative)!==0?(q=this.neg().divmod(T.neg(),I),I!=="div"&&(B=q.mod.neg(),R&&B.negative!==0&&B.isub(T)),{div:q.div,mod:B}):T.length>this.length||this.cmp(T)<0?{div:new s(0),mod:this}:T.length===1?I==="div"?{div:this.divn(T.words[0]),mod:null}:I==="mod"?{div:null,mod:new s(this.modrn(T.words[0]))}:{div:this.divn(T.words[0]),mod:new s(this.modrn(T.words[0]))}:this._wordDiv(T,I)},s.prototype.div=function(T){return this.divmod(T,"div",!1).div},s.prototype.mod=function(T){return this.divmod(T,"mod",!1).mod},s.prototype.umod=function(T){return this.divmod(T,"mod",!0).mod},s.prototype.divRound=function(T){var I=this.divmod(T);if(I.mod.isZero())return I.div;var R=I.div.negative!==0?I.mod.isub(T):I.mod,L=T.ushrn(1),B=T.andln(1),q=R.cmp(L);return q<0||B===1&&q===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},s.prototype.modrn=function(T){var I=T<0;I&&(T=-T),n(T<=67108863);for(var R=(1<<26)%T,L=0,B=this.length-1;B>=0;B--)L=(R*L+(this.words[B]|0))%T;return I?-L:L},s.prototype.modn=function(T){return this.modrn(T)},s.prototype.idivn=function(T){var I=T<0;I&&(T=-T),n(T<=67108863);for(var R=0,L=this.length-1;L>=0;L--){var B=(this.words[L]|0)+R*67108864;this.words[L]=B/T|0,R=B%T}return this._strip(),I?this.ineg():this},s.prototype.divn=function(T){return this.clone().idivn(T)},s.prototype.egcd=function(T){n(T.negative===0),n(!T.isZero());var I=this,R=T.clone();I.negative!==0?I=I.umod(T):I=I.clone();for(var L=new s(1),B=new s(0),q=new s(0),G=new s(1),W=0;I.isEven()&&R.isEven();)I.iushrn(1),R.iushrn(1),++W;for(var j=R.clone(),Y=I.clone();!I.isZero();){for(var Q=0,z=1;(I.words[0]&z)===0&&Q<26;++Q,z<<=1);if(Q>0)for(I.iushrn(Q);Q-- >0;)(L.isOdd()||B.isOdd())&&(L.iadd(j),B.isub(Y)),L.iushrn(1),B.iushrn(1);for(var Z=0,ee=1;(R.words[0]&ee)===0&&Z<26;++Z,ee<<=1);if(Z>0)for(R.iushrn(Z);Z-- >0;)(q.isOdd()||G.isOdd())&&(q.iadd(j),G.isub(Y)),q.iushrn(1),G.iushrn(1);I.cmp(R)>=0?(I.isub(R),L.isub(q),B.isub(G)):(R.isub(I),q.isub(L),G.isub(B))}return{a:q,b:G,gcd:R.iushln(W)}},s.prototype._invmp=function(T){n(T.negative===0),n(!T.isZero());var I=this,R=T.clone();I.negative!==0?I=I.umod(T):I=I.clone();for(var L=new s(1),B=new s(0),q=R.clone();I.cmpn(1)>0&&R.cmpn(1)>0;){for(var G=0,W=1;(I.words[0]&W)===0&&G<26;++G,W<<=1);if(G>0)for(I.iushrn(G);G-- >0;)L.isOdd()&&L.iadd(q),L.iushrn(1);for(var j=0,Y=1;(R.words[0]&Y)===0&&j<26;++j,Y<<=1);if(j>0)for(R.iushrn(j);j-- >0;)B.isOdd()&&B.iadd(q),B.iushrn(1);I.cmp(R)>=0?(I.isub(R),L.isub(B)):(R.isub(I),B.isub(L))}var Q;return I.cmpn(1)===0?Q=L:Q=B,Q.cmpn(0)<0&&Q.iadd(T),Q},s.prototype.gcd=function(T){if(this.isZero())return T.abs();if(T.isZero())return this.abs();var I=this.clone(),R=T.clone();I.negative=0,R.negative=0;for(var L=0;I.isEven()&&R.isEven();L++)I.iushrn(1),R.iushrn(1);do{for(;I.isEven();)I.iushrn(1);for(;R.isEven();)R.iushrn(1);var B=I.cmp(R);if(B<0){var q=I;I=R,R=q}else if(B===0||R.cmpn(1)===0)break;I.isub(R)}while(!0);return R.iushln(L)},s.prototype.invm=function(T){return this.egcd(T).a.umod(T)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(T){return this.words[0]&T},s.prototype.bincn=function(T){n(typeof T=="number");var I=T%26,R=(T-I)/26,L=1<<I;if(this.length<=R)return this._expand(R+1),this.words[R]|=L,this;for(var B=L,q=R;B!==0&&q<this.length;q++){var G=this.words[q]|0;G+=B,B=G>>>26,G&=67108863,this.words[q]=G}return B!==0&&(this.words[q]=B,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(T){var I=T<0;if(this.negative!==0&&!I)return-1;if(this.negative===0&&I)return 1;this._strip();var R;if(this.length>1)R=1;else{I&&(T=-T),n(T<=67108863,"Number is too big");var L=this.words[0]|0;R=L===T?0:L<T?-1:1}return this.negative!==0?-R|0:R},s.prototype.cmp=function(T){if(this.negative!==0&&T.negative===0)return-1;if(this.negative===0&&T.negative!==0)return 1;var I=this.ucmp(T);return this.negative!==0?-I|0:I},s.prototype.ucmp=function(T){if(this.length>T.length)return 1;if(this.length<T.length)return-1;for(var I=0,R=this.length-1;R>=0;R--){var L=this.words[R]|0,B=T.words[R]|0;if(L!==B){L<B?I=-1:L>B&&(I=1);break}}return I},s.prototype.gtn=function(T){return this.cmpn(T)===1},s.prototype.gt=function(T){return this.cmp(T)===1},s.prototype.gten=function(T){return this.cmpn(T)>=0},s.prototype.gte=function(T){return this.cmp(T)>=0},s.prototype.ltn=function(T){return this.cmpn(T)===-1},s.prototype.lt=function(T){return this.cmp(T)===-1},s.prototype.lten=function(T){return this.cmpn(T)<=0},s.prototype.lte=function(T){return this.cmp(T)<=0},s.prototype.eqn=function(T){return this.cmpn(T)===0},s.prototype.eq=function(T){return this.cmp(T)===0},s.red=function(T){return new U(T)},s.prototype.toRed=function(T){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),T.convertTo(this)._forceRed(T)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(T){return this.red=T,this},s.prototype.forceRed=function(T){return n(!this.red,"Already a number in reduction context"),this._forceRed(T)},s.prototype.redAdd=function(T){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,T)},s.prototype.redIAdd=function(T){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,T)},s.prototype.redSub=function(T){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,T)},s.prototype.redISub=function(T){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,T)},s.prototype.redShl=function(T){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,T)},s.prototype.redMul=function(T){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.mul(this,T)},s.prototype.redIMul=function(T){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.imul(this,T)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(T){return n(this.red&&!T.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,T)};var C={k256:null,p224:null,p192:null,p25519:null};function k(D,T){this.name=D,this.p=new s(T,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var T=new s(null);return T.words=new Array(Math.ceil(this.n/13)),T},k.prototype.ireduce=function(T){var I=T,R;do this.split(I,this.tmp),I=this.imulK(I),I=I.iadd(this.tmp),R=I.bitLength();while(R>this.n);var L=R<this.n?-1:I.ucmp(this.p);return L===0?(I.words[0]=0,I.length=1):L>0?I.isub(this.p):I.strip!==void 0?I.strip():I._strip(),I},k.prototype.split=function(T,I){T.iushrn(this.n,0,I)},k.prototype.imulK=function(T){return T.imul(this.k)};function P(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(P,k),P.prototype.split=function(T,I){for(var R=4194303,L=Math.min(T.length,9),B=0;B<L;B++)I.words[B]=T.words[B];if(I.length=L,T.length<=9){T.words[0]=0,T.length=1;return}var q=T.words[9];for(I.words[I.length++]=q&R,B=10;B<T.length;B++){var G=T.words[B]|0;T.words[B-10]=(G&R)<<4|q>>>22,q=G}q>>>=22,T.words[B-10]=q,q===0&&T.length>10?T.length-=10:T.length-=9},P.prototype.imulK=function(T){T.words[T.length]=0,T.words[T.length+1]=0,T.length+=2;for(var I=0,R=0;R<T.length;R++){var L=T.words[R]|0;I+=L*977,T.words[R]=I&67108863,I=L*64+(I/67108864|0)}return T.words[T.length-1]===0&&(T.length--,T.words[T.length-1]===0&&T.length--),T};function F(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(F,k);function N(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(N,k);function $(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i($,k),$.prototype.imulK=function(T){for(var I=0,R=0;R<T.length;R++){var L=(T.words[R]|0)*19+I,B=L&67108863;L>>>=26,T.words[R]=B,I=L}return I!==0&&(T.words[T.length++]=I),T},s._prime=function(T){if(C[T])return C[T];var I;if(T==="k256")I=new P;else if(T==="p224")I=new F;else if(T==="p192")I=new N;else if(T==="p25519")I=new $;else throw new Error("Unknown prime "+T);return C[T]=I,I};function U(D){if(typeof D=="string"){var T=s._prime(D);this.m=T.p,this.prime=T}else n(D.gtn(1),"modulus must be greater than 1"),this.m=D,this.prime=null}U.prototype._verify1=function(T){n(T.negative===0,"red works only with positives"),n(T.red,"red works only with red numbers")},U.prototype._verify2=function(T,I){n((T.negative|I.negative)===0,"red works only with positives"),n(T.red&&T.red===I.red,"red works only with red numbers")},U.prototype.imod=function(T){return this.prime?this.prime.ireduce(T)._forceRed(this):(u(T,T.umod(this.m)._forceRed(this)),T)},U.prototype.neg=function(T){return T.isZero()?T.clone():this.m.sub(T)._forceRed(this)},U.prototype.add=function(T,I){this._verify2(T,I);var R=T.add(I);return R.cmp(this.m)>=0&&R.isub(this.m),R._forceRed(this)},U.prototype.iadd=function(T,I){this._verify2(T,I);var R=T.iadd(I);return R.cmp(this.m)>=0&&R.isub(this.m),R},U.prototype.sub=function(T,I){this._verify2(T,I);var R=T.sub(I);return R.cmpn(0)<0&&R.iadd(this.m),R._forceRed(this)},U.prototype.isub=function(T,I){this._verify2(T,I);var R=T.isub(I);return R.cmpn(0)<0&&R.iadd(this.m),R},U.prototype.shl=function(T,I){return this._verify1(T),this.imod(T.ushln(I))},U.prototype.imul=function(T,I){return this._verify2(T,I),this.imod(T.imul(I))},U.prototype.mul=function(T,I){return this._verify2(T,I),this.imod(T.mul(I))},U.prototype.isqr=function(T){return this.imul(T,T.clone())},U.prototype.sqr=function(T){return this.mul(T,T)},U.prototype.sqrt=function(T){if(T.isZero())return T.clone();var I=this.m.andln(3);if(n(I%2===1),I===3){var R=this.m.add(new s(1)).iushrn(2);return this.pow(T,R)}for(var L=this.m.subn(1),B=0;!L.isZero()&&L.andln(1)===0;)B++,L.iushrn(1);n(!L.isZero());var q=new s(1).toRed(this),G=q.redNeg(),W=this.m.subn(1).iushrn(1),j=this.m.bitLength();for(j=new s(2*j*j).toRed(this);this.pow(j,W).cmp(G)!==0;)j.redIAdd(G);for(var Y=this.pow(j,L),Q=this.pow(T,L.addn(1).iushrn(1)),z=this.pow(T,L),Z=B;z.cmp(q)!==0;){for(var ee=z,te=0;ee.cmp(q)!==0;te++)ee=ee.redSqr();n(te<Z);var se=this.pow(Y,new s(1).iushln(Z-te-1));Q=Q.redMul(se),Y=se.redSqr(),z=z.redMul(Y),Z=te}return Q},U.prototype.invm=function(T){var I=T._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},U.prototype.pow=function(T,I){if(I.isZero())return new s(1).toRed(this);if(I.cmpn(1)===0)return T.clone();var R=4,L=new Array(1<<R);L[0]=new s(1).toRed(this),L[1]=T;for(var B=2;B<L.length;B++)L[B]=this.mul(L[B-1],T);var q=L[0],G=0,W=0,j=I.bitLength()%26;for(j===0&&(j=26),B=I.length-1;B>=0;B--){for(var Y=I.words[B],Q=j-1;Q>=0;Q--){var z=Y>>Q&1;if(q!==L[0]&&(q=this.sqr(q)),z===0&&G===0){W=0;continue}G<<=1,G|=z,W++,!(W!==R&&(B!==0||Q!==0))&&(q=this.mul(q,L[G]),W=0,G=0)}j=26}return q},U.prototype.convertTo=function(T){var I=T.umod(this.m);return I===T?I.clone():I},U.prototype.convertFrom=function(T){var I=T.clone();return I.red=null,I},s.mont=function(T){return new O(T)};function O(D){U.call(this,D),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(O,U),O.prototype.convertTo=function(T){return this.imod(T.ushln(this.shift))},O.prototype.convertFrom=function(T){var I=this.imod(T.mul(this.rinv));return I.red=null,I},O.prototype.imul=function(T,I){if(T.isZero()||I.isZero())return T.words[0]=0,T.length=1,T;var R=T.imul(I),L=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=R.isub(L).iushrn(this.shift),q=B;return B.cmp(this.m)>=0?q=B.isub(this.m):B.cmpn(0)<0&&(q=B.iadd(this.m)),q._forceRed(this)},O.prototype.mul=function(T,I){if(T.isZero()||I.isZero())return new s(0)._forceRed(this);var R=T.mul(I),L=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=R.isub(L).iushrn(this.shift),q=B;return B.cmp(this.m)>=0?q=B.isub(this.m):B.cmpn(0)<0&&(q=B.iadd(this.m)),q._forceRed(this)},O.prototype.invm=function(T){var I=this.imod(T._invmp(this.m).mul(this.r2));return I._forceRed(this)}})(t,mIe)})(P4)),P4.exports}var vIe=yIe();const dr=Mi(vIe),wIe="bytes/5.8.0",ni=new Ge(wIe);function Dle(t){return!!t.toHexString}function Ny(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ny(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function CD(t){return En(t)&&!(t.length%2)||R1(t)}function fH(t){return typeof t=="number"&&t==t&&t%1===0}function R1(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!fH(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!fH(r)||r<0||r>=256)return!1}return!0}function br(t,e){if(e||(e={}),typeof t=="number"){ni.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Ny(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Dle(t)&&(t=t.toHexString()),En(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":ni.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Ny(new Uint8Array(n))}return R1(t)?Ny(new Uint8Array(t)):ni.throwArgumentError("invalid arrayify value","value",t)}function y0(t){const e=t.map(i=>br(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Ny(n)}function t1(t){let e=br(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function bIe(t,e){t=br(t),t.length>e&&ni.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Ny(r)}function En(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const GA="0123456789abcdef";function wr(t,e){if(e||(e={}),typeof t=="number"){ni.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=GA[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Dle(t))return t.toHexString();if(En(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":ni.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(R1(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=GA[(i&240)>>4]+GA[i&15]}return r}return ni.throwArgumentError("invalid hexlify value","value",t)}function Y0(t){if(typeof t!="string")t=wr(t);else if(!En(t)||t.length%2)return null;return(t.length-2)/2}function Eo(t,e,r){return typeof t!="string"?t=wr(t):(!En(t)||t.length%2)&&ni.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Ha(t){let e="0x";return t.forEach(r=>{e+=wr(r).substring(2)}),e}function ED(t){const e=xIe(wr(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function xIe(t){typeof t!="string"&&(t=wr(t)),En(t)||ni.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function si(t,e){for(typeof t!="string"?t=wr(t):En(t)||ni.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&ni.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function ME(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(CD(t)){let r=br(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=wr(r.slice(0,32)),e.s=wr(r.slice(32,64))):r.length===65?(e.r=wr(r.slice(0,32)),e.s=wr(r.slice(32,64)),e.v=r[64]):ni.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:ni.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=wr(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=bIe(br(e._vs),32);e._vs=wr(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&ni.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=wr(i);e.s==null?e.s=o:e.s!==o&&ni.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?ni.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&ni.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!En(e.r)?ni.throwArgumentError("signature missing or invalid r","signature",t):e.r=si(e.r,32),e.s==null||!En(e.s)?ni.throwArgumentError("signature missing or invalid s","signature",t):e.s=si(e.s,32);const r=br(e.s);r[0]>=128&&ni.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=wr(r);e._vs&&(En(e._vs)||ni.throwArgumentError("signature invalid _vs","signature",t),e._vs=si(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&ni.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const Fle="bignumber/5.8.0";var A_=dr.BN;const Kd=new Ge(Fle),KA={},pH=9007199254740991;function _Ie(t){return t!=null&&(Rt.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||En(t)||typeof t=="bigint"||R1(t))}let gH=!1;class Rt{constructor(e,r){e!==KA&&Kd.throwError("cannot call constructor directly; use BigNumber.from",Ge.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Jo(Rr(this).fromTwos(e))}toTwos(e){return Jo(Rr(this).toTwos(e))}abs(){return this._hex[0]==="-"?Rt.from(this._hex.substring(1)):this}add(e){return Jo(Rr(this).add(Rr(e)))}sub(e){return Jo(Rr(this).sub(Rr(e)))}div(e){return Rt.from(e).isZero()&&yl("division-by-zero","div"),Jo(Rr(this).div(Rr(e)))}mul(e){return Jo(Rr(this).mul(Rr(e)))}mod(e){const r=Rr(e);return r.isNeg()&&yl("division-by-zero","mod"),Jo(Rr(this).umod(r))}pow(e){const r=Rr(e);return r.isNeg()&&yl("negative-power","pow"),Jo(Rr(this).pow(r))}and(e){const r=Rr(e);return(this.isNegative()||r.isNeg())&&yl("unbound-bitwise-result","and"),Jo(Rr(this).and(r))}or(e){const r=Rr(e);return(this.isNegative()||r.isNeg())&&yl("unbound-bitwise-result","or"),Jo(Rr(this).or(r))}xor(e){const r=Rr(e);return(this.isNegative()||r.isNeg())&&yl("unbound-bitwise-result","xor"),Jo(Rr(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&yl("negative-width","mask"),Jo(Rr(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&yl("negative-width","shl"),Jo(Rr(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&yl("negative-width","shr"),Jo(Rr(this).shrn(e))}eq(e){return Rr(this).eq(Rr(e))}lt(e){return Rr(this).lt(Rr(e))}lte(e){return Rr(this).lte(Rr(e))}gt(e){return Rr(this).gt(Rr(e))}gte(e){return Rr(this).gte(Rr(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Rr(this).isZero()}toNumber(){try{return Rr(this).toNumber()}catch{yl("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Kd.throwError("this platform does not support BigInt",Ge.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?gH||(gH=!0,Kd.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Kd.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Ge.errors.UNEXPECTED_ARGUMENT,{}):Kd.throwError("BigNumber.toString does not accept parameters",Ge.errors.UNEXPECTED_ARGUMENT,{})),Rr(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Rt)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Rt(KA,I2(e)):e.match(/^-?[0-9]+$/)?new Rt(KA,I2(new A_(e))):Kd.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&yl("underflow","BigNumber.from",e),(e>=pH||e<=-pH)&&yl("overflow","BigNumber.from",e),Rt.from(String(e));const r=e;if(typeof r=="bigint")return Rt.from(r.toString());if(R1(r))return Rt.from(wr(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Rt.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(En(n)||n[0]==="-"&&En(n.substring(1))))return Rt.from(n)}return Kd.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function I2(t){if(typeof t!="string")return I2(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Kd.throwArgumentError("invalid hex","value",t),t=I2(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Jo(t){return Rt.from(I2(t))}function Rr(t){const e=Rt.from(t).toHexString();return e[0]==="-"?new A_("-"+e.substring(3),16):new A_(e.substring(2),16)}function yl(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Kd.throwError(t,Ge.errors.NUMERIC_FAULT,n)}function CIe(t){return new A_(t,36).toString(16)}const Io=new Ge(Fle),cb={},Lle=Rt.from(0),Ule=Rt.from(-1);function Ble(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),Io.throwError(t,Ge.errors.NUMERIC_FAULT,i)}let ub="0";for(;ub.length<256;)ub+=ub;function kD(t){if(typeof t!="number")try{t=Rt.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+ub.substring(0,t):Io.throwArgumentError("invalid decimal size","decimals",t)}function YA(t,e){e==null&&(e=0);const r=kD(e);t=Rt.from(t);const n=t.lt(Lle);n&&(t=t.mul(Ule));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function Lu(t,e){e==null&&(e=0);const r=kD(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&Io.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&Io.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Io.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&Ble("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=Rt.from(s),l=Rt.from(o);let c=a.mul(r).add(l);return n&&(c=c.mul(Ule)),c}class Ry{constructor(e,r,n,i){e!==cb&&Io.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Ge.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=kD(i),Object.freeze(this)}static from(e){if(e instanceof Ry)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Io.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,l)=>e[o]==null?l:(typeof e[o]!==a&&Io.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&Io.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&Io.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Ry(cb,r,n,i)}}class Ps{constructor(e,r,n,i){e!==cb&&Io.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Ge.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Io.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=Lu(this._value,this.format.decimals),n=Lu(e._value,e.format.decimals);return Ps.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=Lu(this._value,this.format.decimals),n=Lu(e._value,e.format.decimals);return Ps.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=Lu(this._value,this.format.decimals),n=Lu(e._value,e.format.decimals);return Ps.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=Lu(this._value,this.format.decimals),n=Lu(e._value,e.format.decimals);return Ps.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=Ps.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(mH.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=Ps.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(mH.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&Io.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=Ps.from("1"+ub.substring(0,e),this.format),i=EIe.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Io.throwArgumentError("invalid byte width","width",e);const r=Rt.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return si(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Ps.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!_Ie(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),Ps.fromString(YA(e,r),Ry.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=Ry.from(r),i=Lu(e,n.decimals);!n.signed&&i.lt(Lle)&&Ble("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=si(s,n.width/8));const o=YA(i,n.decimals);return new Ps(cb,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=Ry.from(r);if(br(e).length>n.width/8)throw new Error("overflow");let i=Rt.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=YA(i,n.decimals);return new Ps(cb,s,o,n)}static from(e,r){if(typeof e=="string")return Ps.fromString(e,r);if(R1(e))return Ps.fromBytes(e,r);try{return Ps.fromValue(e,0,r)}catch(n){if(n.code!==Ge.errors.INVALID_ARGUMENT)throw n}return Io.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const mH=Ps.from(1),EIe=Ps.from("0.5"),kIe="abstract-provider/5.8.0";var SIe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const AIe=new Ge(kIe);class TIe extends uIe{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class SD{constructor(){AIe.checkAbstract(new.target,SD),Or(this,"_isProvider",!0)}getFeeData(){return SIe(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield Ns({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=Rt.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const IIe="networks/5.8.0",yH=new Ge(IIe);function PIe(t){return t&&typeof t.renetwork=="function"}function Oc(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(r.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new r.QuickNodeProvider(t,n.quicknode))}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return Oc(r)},e}function T_(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return T_(t,n)},r}const vH={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Oc("homestead")},wH={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Oc("ropsten")},bH={chainId:63,name:"classicMordor",_defaultProvider:T_("https://www.ethercluster.com/mordor","classicMordor")},J5={unspecified:{chainId:0,name:"unspecified"},homestead:vH,mainnet:vH,morden:{chainId:2,name:"morden"},ropsten:wH,testnet:wH,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Oc("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Oc("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Oc("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:Oc("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:Oc("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:T_("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:bH,classicTestnet:bH,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:T_("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Oc("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:Oc("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:Oc("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function $Ie(t){if(t==null)return null;if(typeof t=="number"){for(const n in J5){const i=J5[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=J5[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=J5[t.name];if(!e)return typeof t.chainId!="number"&&yH.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&yH.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(PIe(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}function zle(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return br(e)}function qle(t){t=br(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}class Wle{constructor(e){Or(this,"alphabet",e),Or(this,"base",e.length),Or(this,"_alphabetMap",{}),Or(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=br(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return br(new Uint8Array(r.reverse()))}}new Wle("abcdefghijklmnopqrstuvwxyz234567");const WN=new Wle("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),NIe="0x0000000000000000000000000000000000000000",RIe=Rt.from(0),OIe="0x0000000000000000000000000000000000000000000000000000000000000000";var JA={exports:{}};var xH;function jIe(){return xH||(xH=1,(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=ko:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],h=[4,1024,262144,67108864],f=[1,256,65536,16777216],p=[6,1536,393216,100663296],m=[0,8,16,24],v=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],w=[224,256,384,512],b=[128,256],E=["hex","buffer","arrayBuffer","array","digest"],_={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(z){return Object.prototype.toString.call(z)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(z){return typeof z=="object"&&z.buffer&&z.buffer.constructor===ArrayBuffer});for(var A=function(z,Z,ee){return function(te){return new j(z,Z,z).update(te)[ee]()}},C=function(z,Z,ee){return function(te,se){return new j(z,Z,se).update(te)[ee]()}},k=function(z,Z,ee){return function(te,se,ce,ge){return T["cshake"+z].update(te,se,ce,ge)[ee]()}},P=function(z,Z,ee){return function(te,se,ce,ge){return T["kmac"+z].update(te,se,ce,ge)[ee]()}},F=function(z,Z,ee,te){for(var se=0;se<E.length;++se){var ce=E[se];z[ce]=Z(ee,te,ce)}return z},N=function(z,Z){var ee=A(z,Z,"hex");return ee.create=function(){return new j(z,Z,z)},ee.update=function(te){return ee.create().update(te)},F(ee,A,z,Z)},$=function(z,Z){var ee=C(z,Z,"hex");return ee.create=function(te){return new j(z,Z,te)},ee.update=function(te,se){return ee.create(se).update(te)},F(ee,C,z,Z)},U=function(z,Z){var ee=_[z],te=k(z,Z,"hex");return te.create=function(se,ce,ge){return!ce&&!ge?T["shake"+z].create(se):new j(z,Z,se).bytepad([ce,ge],ee)},te.update=function(se,ce,ge,ae){return te.create(ce,ge,ae).update(se)},F(te,k,z,Z)},O=function(z,Z){var ee=_[z],te=P(z,Z,"hex");return te.create=function(se,ce,ge){return new Y(z,Z,ce).bytepad(["KMAC",ge],ee).bytepad([se],ee)},te.update=function(se,ce,ge,ae){return te.create(se,ge,ae).update(ce)},F(te,P,z,Z)},D=[{name:"keccak",padding:f,bits:w,createMethod:N},{name:"sha3",padding:p,bits:w,createMethod:N},{name:"shake",padding:u,bits:b,createMethod:$},{name:"cshake",padding:h,bits:b,createMethod:U},{name:"kmac",padding:h,bits:b,createMethod:O}],T={},I=[],R=0;R<D.length;++R)for(var L=D[R],B=L.bits,q=0;q<B.length;++q){var G=L.name+"_"+B[q];if(I.push(G),T[G]=L.createMethod(B[q],L.padding),L.name!=="sha3"){var W=L.name+B[q];I.push(W),T[W]=T[G]}}function j(z,Z,ee){this.blocks=[],this.s=[],this.padding=Z,this.outputBits=ee,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(z<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=ee>>5,this.extraBytes=(ee&31)>>3;for(var te=0;te<50;++te)this.s[te]=0}j.prototype.update=function(z){if(this.finalized)throw new Error(r);var Z,ee=typeof z;if(ee!=="string"){if(ee==="object"){if(z===null)throw new Error(e);if(l&&z.constructor===ArrayBuffer)z=new Uint8Array(z);else if(!Array.isArray(z)&&(!l||!ArrayBuffer.isView(z)))throw new Error(e)}else throw new Error(e);Z=!0}for(var te=this.blocks,se=this.byteCount,ce=z.length,ge=this.blockCount,ae=0,_e=this.s,Ee,Ie;ae<ce;){if(this.reset)for(this.reset=!1,te[0]=this.block,Ee=1;Ee<ge+1;++Ee)te[Ee]=0;if(Z)for(Ee=this.start;ae<ce&&Ee<se;++ae)te[Ee>>2]|=z[ae]<<m[Ee++&3];else for(Ee=this.start;ae<ce&&Ee<se;++ae)Ie=z.charCodeAt(ae),Ie<128?te[Ee>>2]|=Ie<<m[Ee++&3]:Ie<2048?(te[Ee>>2]|=(192|Ie>>6)<<m[Ee++&3],te[Ee>>2]|=(128|Ie&63)<<m[Ee++&3]):Ie<55296||Ie>=57344?(te[Ee>>2]|=(224|Ie>>12)<<m[Ee++&3],te[Ee>>2]|=(128|Ie>>6&63)<<m[Ee++&3],te[Ee>>2]|=(128|Ie&63)<<m[Ee++&3]):(Ie=65536+((Ie&1023)<<10|z.charCodeAt(++ae)&1023),te[Ee>>2]|=(240|Ie>>18)<<m[Ee++&3],te[Ee>>2]|=(128|Ie>>12&63)<<m[Ee++&3],te[Ee>>2]|=(128|Ie>>6&63)<<m[Ee++&3],te[Ee>>2]|=(128|Ie&63)<<m[Ee++&3]);if(this.lastByteIndex=Ee,Ee>=se){for(this.start=Ee-se,this.block=te[ge],Ee=0;Ee<ge;++Ee)_e[Ee]^=te[Ee];Q(_e),this.reset=!0}else this.start=Ee}return this},j.prototype.encode=function(z,Z){var ee=z&255,te=1,se=[ee];for(z=z>>8,ee=z&255;ee>0;)se.unshift(ee),z=z>>8,ee=z&255,++te;return Z?se.push(te):se.unshift(te),this.update(se),se.length},j.prototype.encodeString=function(z){var Z,ee=typeof z;if(ee!=="string"){if(ee==="object"){if(z===null)throw new Error(e);if(l&&z.constructor===ArrayBuffer)z=new Uint8Array(z);else if(!Array.isArray(z)&&(!l||!ArrayBuffer.isView(z)))throw new Error(e)}else throw new Error(e);Z=!0}var te=0,se=z.length;if(Z)te=se;else for(var ce=0;ce<z.length;++ce){var ge=z.charCodeAt(ce);ge<128?te+=1:ge<2048?te+=2:ge<55296||ge>=57344?te+=3:(ge=65536+((ge&1023)<<10|z.charCodeAt(++ce)&1023),te+=4)}return te+=this.encode(te*8),this.update(z),te},j.prototype.bytepad=function(z,Z){for(var ee=this.encode(Z),te=0;te<z.length;++te)ee+=this.encodeString(z[te]);var se=Z-ee%Z,ce=[];return ce.length=se,this.update(ce),this},j.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var z=this.blocks,Z=this.lastByteIndex,ee=this.blockCount,te=this.s;if(z[Z>>2]|=this.padding[Z&3],this.lastByteIndex===this.byteCount)for(z[0]=z[ee],Z=1;Z<ee+1;++Z)z[Z]=0;for(z[ee-1]|=2147483648,Z=0;Z<ee;++Z)te[Z]^=z[Z];Q(te)}},j.prototype.toString=j.prototype.hex=function(){this.finalize();for(var z=this.blockCount,Z=this.s,ee=this.outputBlocks,te=this.extraBytes,se=0,ce=0,ge="",ae;ce<ee;){for(se=0;se<z&&ce<ee;++se,++ce)ae=Z[se],ge+=c[ae>>4&15]+c[ae&15]+c[ae>>12&15]+c[ae>>8&15]+c[ae>>20&15]+c[ae>>16&15]+c[ae>>28&15]+c[ae>>24&15];ce%z===0&&(Q(Z),se=0)}return te&&(ae=Z[se],ge+=c[ae>>4&15]+c[ae&15],te>1&&(ge+=c[ae>>12&15]+c[ae>>8&15]),te>2&&(ge+=c[ae>>20&15]+c[ae>>16&15])),ge},j.prototype.arrayBuffer=function(){this.finalize();var z=this.blockCount,Z=this.s,ee=this.outputBlocks,te=this.extraBytes,se=0,ce=0,ge=this.outputBits>>3,ae;te?ae=new ArrayBuffer(ee+1<<2):ae=new ArrayBuffer(ge);for(var _e=new Uint32Array(ae);ce<ee;){for(se=0;se<z&&ce<ee;++se,++ce)_e[ce]=Z[se];ce%z===0&&Q(Z)}return te&&(_e[se]=Z[se],ae=ae.slice(0,ge)),ae},j.prototype.buffer=j.prototype.arrayBuffer,j.prototype.digest=j.prototype.array=function(){this.finalize();for(var z=this.blockCount,Z=this.s,ee=this.outputBlocks,te=this.extraBytes,se=0,ce=0,ge=[],ae,_e;ce<ee;){for(se=0;se<z&&ce<ee;++se,++ce)ae=ce<<2,_e=Z[se],ge[ae]=_e&255,ge[ae+1]=_e>>8&255,ge[ae+2]=_e>>16&255,ge[ae+3]=_e>>24&255;ce%z===0&&Q(Z)}return te&&(ae=ce<<2,_e=Z[se],ge[ae]=_e&255,te>1&&(ge[ae+1]=_e>>8&255),te>2&&(ge[ae+2]=_e>>16&255)),ge};function Y(z,Z,ee){j.call(this,z,Z,ee)}Y.prototype=new j,Y.prototype.finalize=function(){return this.encode(this.outputBits,!0),j.prototype.finalize.call(this)};var Q=function(z){var Z,ee,te,se,ce,ge,ae,_e,Ee,Ie,qe,me,ze,rt,Ae,Fe,nt,_t,Ye,wt,xt,Le,Ke,Qe,it,st,pt,Ze,Mt,yt,ue,we,Re,Ne,Ve,Se,Me,Je,Ue,vt,tr,$t,X,ne,oe,le,ve,be,Pe,Xe,gt,Pt,er,Nt,Et,Ct,Vt,Lt,_r,gr,Nr,vr,qr;for(te=0;te<48;te+=2)se=z[0]^z[10]^z[20]^z[30]^z[40],ce=z[1]^z[11]^z[21]^z[31]^z[41],ge=z[2]^z[12]^z[22]^z[32]^z[42],ae=z[3]^z[13]^z[23]^z[33]^z[43],_e=z[4]^z[14]^z[24]^z[34]^z[44],Ee=z[5]^z[15]^z[25]^z[35]^z[45],Ie=z[6]^z[16]^z[26]^z[36]^z[46],qe=z[7]^z[17]^z[27]^z[37]^z[47],me=z[8]^z[18]^z[28]^z[38]^z[48],ze=z[9]^z[19]^z[29]^z[39]^z[49],Z=me^(ge<<1|ae>>>31),ee=ze^(ae<<1|ge>>>31),z[0]^=Z,z[1]^=ee,z[10]^=Z,z[11]^=ee,z[20]^=Z,z[21]^=ee,z[30]^=Z,z[31]^=ee,z[40]^=Z,z[41]^=ee,Z=se^(_e<<1|Ee>>>31),ee=ce^(Ee<<1|_e>>>31),z[2]^=Z,z[3]^=ee,z[12]^=Z,z[13]^=ee,z[22]^=Z,z[23]^=ee,z[32]^=Z,z[33]^=ee,z[42]^=Z,z[43]^=ee,Z=ge^(Ie<<1|qe>>>31),ee=ae^(qe<<1|Ie>>>31),z[4]^=Z,z[5]^=ee,z[14]^=Z,z[15]^=ee,z[24]^=Z,z[25]^=ee,z[34]^=Z,z[35]^=ee,z[44]^=Z,z[45]^=ee,Z=_e^(me<<1|ze>>>31),ee=Ee^(ze<<1|me>>>31),z[6]^=Z,z[7]^=ee,z[16]^=Z,z[17]^=ee,z[26]^=Z,z[27]^=ee,z[36]^=Z,z[37]^=ee,z[46]^=Z,z[47]^=ee,Z=Ie^(se<<1|ce>>>31),ee=qe^(ce<<1|se>>>31),z[8]^=Z,z[9]^=ee,z[18]^=Z,z[19]^=ee,z[28]^=Z,z[29]^=ee,z[38]^=Z,z[39]^=ee,z[48]^=Z,z[49]^=ee,rt=z[0],Ae=z[1],le=z[11]<<4|z[10]>>>28,ve=z[10]<<4|z[11]>>>28,Ze=z[20]<<3|z[21]>>>29,Mt=z[21]<<3|z[20]>>>29,gr=z[31]<<9|z[30]>>>23,Nr=z[30]<<9|z[31]>>>23,$t=z[40]<<18|z[41]>>>14,X=z[41]<<18|z[40]>>>14,Ne=z[2]<<1|z[3]>>>31,Ve=z[3]<<1|z[2]>>>31,Fe=z[13]<<12|z[12]>>>20,nt=z[12]<<12|z[13]>>>20,be=z[22]<<10|z[23]>>>22,Pe=z[23]<<10|z[22]>>>22,yt=z[33]<<13|z[32]>>>19,ue=z[32]<<13|z[33]>>>19,vr=z[42]<<2|z[43]>>>30,qr=z[43]<<2|z[42]>>>30,Nt=z[5]<<30|z[4]>>>2,Et=z[4]<<30|z[5]>>>2,Se=z[14]<<6|z[15]>>>26,Me=z[15]<<6|z[14]>>>26,_t=z[25]<<11|z[24]>>>21,Ye=z[24]<<11|z[25]>>>21,Xe=z[34]<<15|z[35]>>>17,gt=z[35]<<15|z[34]>>>17,we=z[45]<<29|z[44]>>>3,Re=z[44]<<29|z[45]>>>3,Qe=z[6]<<28|z[7]>>>4,it=z[7]<<28|z[6]>>>4,Ct=z[17]<<23|z[16]>>>9,Vt=z[16]<<23|z[17]>>>9,Je=z[26]<<25|z[27]>>>7,Ue=z[27]<<25|z[26]>>>7,wt=z[36]<<21|z[37]>>>11,xt=z[37]<<21|z[36]>>>11,Pt=z[47]<<24|z[46]>>>8,er=z[46]<<24|z[47]>>>8,ne=z[8]<<27|z[9]>>>5,oe=z[9]<<27|z[8]>>>5,st=z[18]<<20|z[19]>>>12,pt=z[19]<<20|z[18]>>>12,Lt=z[29]<<7|z[28]>>>25,_r=z[28]<<7|z[29]>>>25,vt=z[38]<<8|z[39]>>>24,tr=z[39]<<8|z[38]>>>24,Le=z[48]<<14|z[49]>>>18,Ke=z[49]<<14|z[48]>>>18,z[0]=rt^~Fe&_t,z[1]=Ae^~nt&Ye,z[10]=Qe^~st&Ze,z[11]=it^~pt&Mt,z[20]=Ne^~Se&Je,z[21]=Ve^~Me&Ue,z[30]=ne^~le&be,z[31]=oe^~ve&Pe,z[40]=Nt^~Ct&Lt,z[41]=Et^~Vt&_r,z[2]=Fe^~_t&wt,z[3]=nt^~Ye&xt,z[12]=st^~Ze&yt,z[13]=pt^~Mt&ue,z[22]=Se^~Je&vt,z[23]=Me^~Ue&tr,z[32]=le^~be&Xe,z[33]=ve^~Pe&gt,z[42]=Ct^~Lt&gr,z[43]=Vt^~_r&Nr,z[4]=_t^~wt&Le,z[5]=Ye^~xt&Ke,z[14]=Ze^~yt&we,z[15]=Mt^~ue&Re,z[24]=Je^~vt&$t,z[25]=Ue^~tr&X,z[34]=be^~Xe&Pt,z[35]=Pe^~gt&er,z[44]=Lt^~gr&vr,z[45]=_r^~Nr&qr,z[6]=wt^~Le&rt,z[7]=xt^~Ke&Ae,z[16]=yt^~we&Qe,z[17]=ue^~Re&it,z[26]=vt^~$t&Ne,z[27]=tr^~X&Ve,z[36]=Xe^~Pt&ne,z[37]=gt^~er&oe,z[46]=gr^~vr&Nt,z[47]=Nr^~qr&Et,z[8]=Le^~rt&Fe,z[9]=Ke^~Ae&nt,z[18]=we^~Qe&st,z[19]=Re^~it&pt,z[28]=$t^~Ne&Se,z[29]=X^~Ve&Me,z[38]=Pt^~ne&le,z[39]=er^~oe&ve,z[48]=vr^~Nt&Ct,z[49]=qr^~Et&Vt,z[0]^=v[te],z[1]^=v[te+1]};if(a)t.exports=T;else for(R=0;R<I.length;++R)i[I[R]]=T[I[R]]})()})(JA)),JA.exports}var MIe=jIe();const DIe=Mi(MIe);function Ds(t){return"0x"+DIe.keccak_256(br(t))}const FIe="strings/5.8.0",Hle=new Ge(FIe);var P2;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(P2||(P2={}));var Ua;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Ua||(Ua={}));function LIe(t,e,r,n,i){return Hle.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Vle(t,e,r,n,i){if(t===Ua.BAD_PREFIX||t===Ua.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===Ua.OVERRUN?r.length-e-1:0}function UIe(t,e,r,n,i){return t===Ua.OVERLONG?(n.push(i),0):(n.push(65533),Vle(t,e,r))}const BIe=Object.freeze({error:LIe,ignore:Vle,replace:UIe});function Gle(t,e){e==null&&(e=BIe.error),t=br(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(Ua.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Ua.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Ua.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let c=t[n];if((c&192)!=128){n+=e(Ua.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|c&63,n++}if(a!==null){if(a>1114111){n+=e(Ua.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(Ua.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(Ua.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function _h(t,e=P2.current){e!=P2.current&&(Hle.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return br(r)}function zIe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function DE(t,e){return zIe(Gle(t,e))}function qIe(t,e=P2.current){return Gle(_h(t,e))}function Kle(t){return Ds(_h(t))}const Yle="hash/5.8.0";function Jle(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function WIe(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function HIe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let C=1;C<n;C++)s.push(i+=r());let o=r(),a=e;e+=o;let l=0,c=0;function u(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const h=31,f=Math.pow(2,h),p=f>>>1,m=p>>1,v=f-1;let w=0;for(let C=0;C<h;C++)w=w<<1|u();let b=[],E=0,_=f;for(;;){let C=Math.floor(((w-E+1)*i-1)/_),k=0,P=n;for(;P-k>1;){let $=k+P>>>1;C<s[$]?P=$:k=$}if(k==0)break;b.push(k);let F=E+Math.floor(_*s[k]/i),N=E+Math.floor(_*s[k+1]/i)-1;for(;((F^N)&p)==0;)w=w<<1&v|u(),F=F<<1&v,N=N<<1&v|1;for(;F&~N&m;)w=w&p|w<<1&v>>>1|u(),F=F<<1^p,N=(N^p)<<1|p|1;E=F,_=1+N-F}let A=n-4;return b.map(C=>{switch(C-A){case 3:return A+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return A+256+(t[a++]<<8|t[a++]);case 1:return A+t[a++];default:return C-1}})}function VIe(t){let e=0;return()=>t[e++]}function GIe(t){return VIe(HIe(t))}function KIe(t){return t&1?~t>>1:t>>1}function YIe(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function _H(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function JIe(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=KIe(e());return r}function I_(t,e){let r=_H(t(),t),n=t(),i=_H(n,t),s=YIe(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function XIe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(ZIe(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(ePe(r,t))}return WIe(Jle(e))}function QIe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function Xle(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)JIe(t,r).forEach((s,o)=>n[o].push(s));return n}function ZIe(t,e){let r=1+e(),n=e(),i=QIe(e),s=Xle(i.length,1+t,e);return Jle(s.map((o,a)=>{const l=o[0],c=o.slice(1);return Array(i[a]).fill(void 0).map((u,h)=>{let f=h*n;return[l+h*r,c.map(p=>p+f)]})}))}function ePe(t,e){let r=1+e();return Xle(r,1+t,e).map(i=>[i[0],i.slice(1)])}function tPe(t){let e=I_(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let c=I_(t,e);if(c.length==0)break;n.push({set:new Set(c),node:r()})}n.sort((c,u)=>u.set.size-c.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,l=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:l}}}function rPe(){return GIe(zle("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const FE=rPe(),nPe=new Set(I_(FE)),iPe=new Set(I_(FE)),sPe=XIe(FE),oPe=tPe(FE),CH=45,EH=95;function Qle(t){return qIe(t)}function aPe(t){return t.filter(e=>e!=65039)}function Zle(t){for(let e of t.split(".")){let r=Qle(e);try{for(let n=r.lastIndexOf(EH)-1;n>=0;n--)if(r[n]!==EH)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===CH&&r[3]===CH)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function lPe(t){return Zle(cPe(t,aPe))}function cPe(t,e){let r=Qle(t).reverse(),n=[];for(;r.length;){let i=dPe(r);if(i){n.push(...e(i));continue}let s=r.pop();if(nPe.has(s)){n.push(s);continue}if(iPe.has(s))continue;let o=sPe[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return Zle(uPe(String.fromCodePoint(...n)))}function uPe(t){return t.normalize("NFC")}function dPe(t,e){var r;let n=oPe,i,s,o=[],a=t.length;for(;a;){let l=t[--a];if(n=(r=n.branches.find(c=>c.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=l;else if(n.check&&l===s)break;o.push(l),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t.length=a)}return i}const hPe=new Ge(Yle),ece=new Uint8Array(32);ece.fill(0);function kH(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function tce(t){const e=_h(lPe(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(kH(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(kH(e.slice(n))),r}function $4(t){typeof t!="string"&&hPe.throwArgumentError("invalid ENS name; not a string","name",t);let e=ece;const r=tce(t);for(;r.length;)e=Ds(y0([e,Ds(r.pop())]));return wr(e)}function fPe(t){return wr(y0(tce(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const pPe="rlp/5.8.0",Gu=new Ge(pPe);function SH(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function AH(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function rce(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(rce(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=SH(n.length);return i.unshift(247+i.length),i.concat(n)}CD(t)||Gu.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(br(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=SH(e.length);return r.unshift(183+r.length),r.concat(e)}function LE(t){return wr(rce(t))}function TH(t,e,r,n){const i=[];for(;r<e+1+n;){const s=nce(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&Gu.throwError("child data too short",Ge.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function nce(t,e){if(t.length===0&&Gu.throwError("data too short",Ge.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Gu.throwError("data short segment too short",Ge.errors.BUFFER_OVERRUN,{});const n=AH(t,e+1,r);return e+1+r+n>t.length&&Gu.throwError("data long segment too short",Ge.errors.BUFFER_OVERRUN,{}),TH(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Gu.throwError("data array too short",Ge.errors.BUFFER_OVERRUN,{}),TH(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Gu.throwError("data array too short",Ge.errors.BUFFER_OVERRUN,{});const n=AH(t,e+1,r);e+1+r+n>t.length&&Gu.throwError("data array too short",Ge.errors.BUFFER_OVERRUN,{});const i=wr(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Gu.throwError("data too short",Ge.errors.BUFFER_OVERRUN,{});const n=wr(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:wr(t[e])}}function AD(t){const e=br(t),r=nce(e,0);return r.consumed!==e.length&&Gu.throwArgumentError("invalid rlp data","data",t),r.result}const gPe="address/5.8.0",py=new Ge(gPe);function IH(t){En(t,20)||py.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=br(Ds(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const mPe=9007199254740991;function yPe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const TD={};for(let t=0;t<10;t++)TD[String(t)]=String(t);for(let t=0;t<26;t++)TD[String.fromCharCode(65+t)]=String(10+t);const PH=Math.floor(yPe(mPe));function vPe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>TD[n]).join("");for(;e.length>=PH;){let n=e.substring(0,PH);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function tu(t){let e=null;if(typeof t!="string"&&py.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=IH(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&py.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==vPe(t)&&py.throwArgumentError("bad icap checksum","address",t),e=CIe(t.substring(4));e.length<40;)e="0"+e;e=IH("0x"+e)}else py.throwArgumentError("invalid address","address",t);return e}function wPe(t){let e=null;try{e=tu(t.from)}catch{py.throwArgumentError("missing from address","transaction",t)}const r=t1(br(Rt.from(t.nonce).toHexString()));return tu(Eo(Ds(LE([e,r])),12))}var bPe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Xn=new Ge(Yle),ice=new Uint8Array(32);ice.fill(0);const xPe=Rt.from(-1),sce=Rt.from(0),oce=Rt.from(1),_Pe=Rt.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function CPe(t){const e=br(t),r=e.length%32;return r?Ha([e,ice.slice(r)]):wr(e)}const EPe=si(oce.toHexString(),32),kPe=si(sce.toHexString(),32),$H={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},XA=["name","version","chainId","verifyingContract","salt"];function NH(t){return function(e){return typeof e!="string"&&Xn.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const SPe={name:NH("name"),version:NH("version"),chainId:function(t){try{return Rt.from(t).toString()}catch{}return Xn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return tu(t).toLowerCase()}catch{}return Xn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=br(t);if(e.length!==32)throw new Error("bad length");return wr(e)}catch{}return Xn.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function QA(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Xn.throwArgumentError("invalid numeric width","type",t);const i=_Pe.mask(r?n-1:n),s=r?i.add(oce).mul(xPe):sce;return function(o){const a=Rt.from(o);return(a.lt(s)||a.gt(i))&&Xn.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),si(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Xn.throwArgumentError("invalid bytes width","type",t),function(n){return br(n).length!==r&&Xn.throwArgumentError(`invalid length for ${t}`,"value",n),CPe(n)}}}switch(t){case"address":return function(e){return si(tu(e),32)};case"bool":return function(e){return e?EPe:kPe};case"bytes":return function(e){return Ds(e)};case"string":return function(e){return Kle(e)}}return null}function RH(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class Ma{constructor(e){Or(this,"types",Object.freeze(T2(e))),Or(this,"_encoderCache",{}),Or(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const l={};e[a].forEach(c=>{l[c.name]&&Xn.throwArgumentError(`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(a)}`,"types",e),l[c.name]=!0;const u=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&Xn.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!QA(u)&&(n[u]||Xn.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),r[a][u]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?Xn.throwArgumentError("missing primary type","types",e):s.length>1&&Xn.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),Or(this,"primaryType",s[0]);function o(a,l){l[a]&&Xn.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),l[a]=!0,Object.keys(r[a]).forEach(c=>{n[c]&&(o(c,l),Object.keys(l).forEach(u=>{i[u][c]=!0}))}),delete l[a]}o(this.primaryType,{});for(const a in i){const l=Object.keys(i[a]);l.sort(),this._types[a]=RH(a,e[a])+l.map(c=>RH(c,e[c])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=QA(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&Xn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let l=a.map(s);return this._types[i]&&(l=l.map(Ds)),Ds(Ha(l))}}const n=this.types[e];if(n){const i=Kle(this._types[e]);return s=>{const o=n.map(({name:a,type:l})=>{const c=this.getEncoder(l)(s[a]);return this._types[l]?Ds(c):c});return o.unshift(i),Ha(o)}}return Xn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Xn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return Ds(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(QA(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&Xn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(o,l,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,r[a],n),o),{}):Xn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Ma(e)}static getPrimaryType(e){return Ma.from(e).primaryType}static hashStruct(e,r,n){return Ma.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=$H[n];i||Xn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>XA.indexOf(n.name)-XA.indexOf(i.name)),Ma.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Ha(["0x1901",Ma.hashDomain(e),Ma.from(r).hash(n)])}static hash(e,r,n){return Ds(Ma.encode(e,r,n))}static resolveNames(e,r,n,i){return bPe(this,void 0,void 0,function*(){e=da(e);const s={};e.verifyingContract&&!En(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Ma.from(r);o.visit(n,(a,l)=>(a==="address"&&!En(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){Ma.hashDomain(e);const i={},s=[];XA.forEach(l=>{const c=e[l];c!=null&&(i[l]=SPe[l](c),s.push({name:l,type:$H[l]}))});const o=Ma.from(r),a=da(r);return a.EIP712Domain?Xn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(l,c)=>{if(l.match(/^bytes(\d*)/))return wr(br(c));if(l.match(/^u?int/))return Rt.from(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return typeof c!="string"&&Xn.throwArgumentError("invalid string","value",c),c}return Xn.throwArgumentError("unsupported type","type",l)})}}}var ZA={},pn={},e9,OH;function qx(){if(OH)return e9;OH=1,e9=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},e9}var X5={exports:{}},jH;function APe(){return jH||(jH=1,typeof Object.create=="function"?X5.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:X5.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),X5.exports}var MH;function yd(){if(MH)return pn;MH=1;var t=qx(),e=APe();pn.inherits=e;function r(O,D){return(O.charCodeAt(D)&64512)!==55296||D<0||D+1>=O.length?!1:(O.charCodeAt(D+1)&64512)===56320}function n(O,D){if(Array.isArray(O))return O.slice();if(!O)return[];var T=[];if(typeof O=="string")if(D){if(D==="hex")for(O=O.replace(/[^a-z0-9]+/ig,""),O.length%2!==0&&(O="0"+O),R=0;R<O.length;R+=2)T.push(parseInt(O[R]+O[R+1],16))}else for(var I=0,R=0;R<O.length;R++){var L=O.charCodeAt(R);L<128?T[I++]=L:L<2048?(T[I++]=L>>6|192,T[I++]=L&63|128):r(O,R)?(L=65536+((L&1023)<<10)+(O.charCodeAt(++R)&1023),T[I++]=L>>18|240,T[I++]=L>>12&63|128,T[I++]=L>>6&63|128,T[I++]=L&63|128):(T[I++]=L>>12|224,T[I++]=L>>6&63|128,T[I++]=L&63|128)}else for(R=0;R<O.length;R++)T[R]=O[R]|0;return T}pn.toArray=n;function i(O){for(var D="",T=0;T<O.length;T++)D+=a(O[T].toString(16));return D}pn.toHex=i;function s(O){var D=O>>>24|O>>>8&65280|O<<8&16711680|(O&255)<<24;return D>>>0}pn.htonl=s;function o(O,D){for(var T="",I=0;I<O.length;I++){var R=O[I];D==="little"&&(R=s(R)),T+=l(R.toString(16))}return T}pn.toHex32=o;function a(O){return O.length===1?"0"+O:O}pn.zero2=a;function l(O){return O.length===7?"0"+O:O.length===6?"00"+O:O.length===5?"000"+O:O.length===4?"0000"+O:O.length===3?"00000"+O:O.length===2?"000000"+O:O.length===1?"0000000"+O:O}pn.zero8=l;function c(O,D,T,I){var R=T-D;t(R%4===0);for(var L=new Array(R/4),B=0,q=D;B<L.length;B++,q+=4){var G;I==="big"?G=O[q]<<24|O[q+1]<<16|O[q+2]<<8|O[q+3]:G=O[q+3]<<24|O[q+2]<<16|O[q+1]<<8|O[q],L[B]=G>>>0}return L}pn.join32=c;function u(O,D){for(var T=new Array(O.length*4),I=0,R=0;I<O.length;I++,R+=4){var L=O[I];D==="big"?(T[R]=L>>>24,T[R+1]=L>>>16&255,T[R+2]=L>>>8&255,T[R+3]=L&255):(T[R+3]=L>>>24,T[R+2]=L>>>16&255,T[R+1]=L>>>8&255,T[R]=L&255)}return T}pn.split32=u;function h(O,D){return O>>>D|O<<32-D}pn.rotr32=h;function f(O,D){return O<<D|O>>>32-D}pn.rotl32=f;function p(O,D){return O+D>>>0}pn.sum32=p;function m(O,D,T){return O+D+T>>>0}pn.sum32_3=m;function v(O,D,T,I){return O+D+T+I>>>0}pn.sum32_4=v;function w(O,D,T,I,R){return O+D+T+I+R>>>0}pn.sum32_5=w;function b(O,D,T,I){var R=O[D],L=O[D+1],B=I+L>>>0,q=(B<I?1:0)+T+R;O[D]=q>>>0,O[D+1]=B}pn.sum64=b;function E(O,D,T,I){var R=D+I>>>0,L=(R<D?1:0)+O+T;return L>>>0}pn.sum64_hi=E;function _(O,D,T,I){var R=D+I;return R>>>0}pn.sum64_lo=_;function A(O,D,T,I,R,L,B,q){var G=0,W=D;W=W+I>>>0,G+=W<D?1:0,W=W+L>>>0,G+=W<L?1:0,W=W+q>>>0,G+=W<q?1:0;var j=O+T+R+B+G;return j>>>0}pn.sum64_4_hi=A;function C(O,D,T,I,R,L,B,q){var G=D+I+L+q;return G>>>0}pn.sum64_4_lo=C;function k(O,D,T,I,R,L,B,q,G,W){var j=0,Y=D;Y=Y+I>>>0,j+=Y<D?1:0,Y=Y+L>>>0,j+=Y<L?1:0,Y=Y+q>>>0,j+=Y<q?1:0,Y=Y+W>>>0,j+=Y<W?1:0;var Q=O+T+R+B+G+j;return Q>>>0}pn.sum64_5_hi=k;function P(O,D,T,I,R,L,B,q,G,W){var j=D+I+L+q+W;return j>>>0}pn.sum64_5_lo=P;function F(O,D,T){var I=D<<32-T|O>>>T;return I>>>0}pn.rotr64_hi=F;function N(O,D,T){var I=O<<32-T|D>>>T;return I>>>0}pn.rotr64_lo=N;function $(O,D,T){return O>>>T}pn.shr64_hi=$;function U(O,D,T){var I=O<<32-T|D>>>T;return I>>>0}return pn.shr64_lo=U,pn}var t9={},DH;function Wx(){if(DH)return t9;DH=1;var t=yd(),e=qx();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return t9.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var l=1;l<o;l++)a[l]=0;if(i<<=3,this.endian==="big"){for(var c=8;c<this.padLength;c++)a[l++]=0;a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=i>>>24&255,a[l++]=i>>>16&255,a[l++]=i>>>8&255,a[l++]=i&255}else for(a[l++]=i&255,a[l++]=i>>>8&255,a[l++]=i>>>16&255,a[l++]=i>>>24&255,a[l++]=0,a[l++]=0,a[l++]=0,a[l++]=0,c=8;c<this.padLength;c++)a[l++]=0;return a},t9}var zp={},Au={},FH;function ace(){if(FH)return Au;FH=1;var t=yd(),e=t.rotr32;function r(u,h,f,p){if(u===0)return n(h,f,p);if(u===1||u===3)return s(h,f,p);if(u===2)return i(h,f,p)}Au.ft_1=r;function n(u,h,f){return u&h^~u&f}Au.ch32=n;function i(u,h,f){return u&h^u&f^h&f}Au.maj32=i;function s(u,h,f){return u^h^f}Au.p32=s;function o(u){return e(u,2)^e(u,13)^e(u,22)}Au.s0_256=o;function a(u){return e(u,6)^e(u,11)^e(u,25)}Au.s1_256=a;function l(u){return e(u,7)^e(u,18)^u>>>3}Au.g0_256=l;function c(u){return e(u,17)^e(u,19)^u>>>10}return Au.g1_256=c,Au}var r9,LH;function TPe(){if(LH)return r9;LH=1;var t=yd(),e=Wx(),r=ace(),n=t.rotl32,i=t.sum32,s=t.sum32_5,o=r.ft_1,a=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function c(){if(!(this instanceof c))return new c;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(c,a),r9=c,c.blockSize=512,c.outSize=160,c.hmacStrength=80,c.padLength=64,c.prototype._update=function(h,f){for(var p=this.W,m=0;m<16;m++)p[m]=h[f+m];for(;m<p.length;m++)p[m]=n(p[m-3]^p[m-8]^p[m-14]^p[m-16],1);var v=this.h[0],w=this.h[1],b=this.h[2],E=this.h[3],_=this.h[4];for(m=0;m<p.length;m++){var A=~~(m/20),C=s(n(v,5),o(A,w,b,E),_,p[m],l[A]);_=E,E=b,b=n(w,30),w=v,v=C}this.h[0]=i(this.h[0],v),this.h[1]=i(this.h[1],w),this.h[2]=i(this.h[2],b),this.h[3]=i(this.h[3],E),this.h[4]=i(this.h[4],_)},c.prototype._digest=function(h){return h==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},r9}var n9,UH;function lce(){if(UH)return n9;UH=1;var t=yd(),e=Wx(),r=ace(),n=qx(),i=t.sum32,s=t.sum32_4,o=t.sum32_5,a=r.ch32,l=r.maj32,c=r.s0_256,u=r.s1_256,h=r.g0_256,f=r.g1_256,p=e.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;p.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}return t.inherits(v,p),n9=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(b,E){for(var _=this.W,A=0;A<16;A++)_[A]=b[E+A];for(;A<_.length;A++)_[A]=s(f(_[A-2]),_[A-7],h(_[A-15]),_[A-16]);var C=this.h[0],k=this.h[1],P=this.h[2],F=this.h[3],N=this.h[4],$=this.h[5],U=this.h[6],O=this.h[7];for(n(this.k.length===_.length),A=0;A<_.length;A++){var D=o(O,u(N),a(N,$,U),this.k[A],_[A]),T=i(c(C),l(C,k,P));O=U,U=$,$=N,N=i(F,D),F=P,P=k,k=C,C=i(D,T)}this.h[0]=i(this.h[0],C),this.h[1]=i(this.h[1],k),this.h[2]=i(this.h[2],P),this.h[3]=i(this.h[3],F),this.h[4]=i(this.h[4],N),this.h[5]=i(this.h[5],$),this.h[6]=i(this.h[6],U),this.h[7]=i(this.h[7],O)},v.prototype._digest=function(b){return b==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},n9}var i9,BH;function IPe(){if(BH)return i9;BH=1;var t=yd(),e=lce();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),i9=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},i9}var s9,zH;function cce(){if(zH)return s9;zH=1;var t=yd(),e=Wx(),r=qx(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,o=t.shr64_lo,a=t.sum64,l=t.sum64_hi,c=t.sum64_lo,u=t.sum64_4_hi,h=t.sum64_4_lo,f=t.sum64_5_hi,p=t.sum64_5_lo,m=e.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}t.inherits(w,m),s9=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(T,I){for(var R=this.W,L=0;L<32;L++)R[L]=T[I+L];for(;L<R.length;L+=2){var B=U(R[L-4],R[L-3]),q=O(R[L-4],R[L-3]),G=R[L-14],W=R[L-13],j=N(R[L-30],R[L-29]),Y=$(R[L-30],R[L-29]),Q=R[L-32],z=R[L-31];R[L]=u(B,q,G,W,j,Y,Q,z),R[L+1]=h(B,q,G,W,j,Y,Q,z)}},w.prototype._update=function(T,I){this._prepareBlock(T,I);var R=this.W,L=this.h[0],B=this.h[1],q=this.h[2],G=this.h[3],W=this.h[4],j=this.h[5],Y=this.h[6],Q=this.h[7],z=this.h[8],Z=this.h[9],ee=this.h[10],te=this.h[11],se=this.h[12],ce=this.h[13],ge=this.h[14],ae=this.h[15];r(this.k.length===R.length);for(var _e=0;_e<R.length;_e+=2){var Ee=ge,Ie=ae,qe=P(z,Z),me=F(z,Z),ze=b(z,Z,ee,te,se),rt=E(z,Z,ee,te,se,ce),Ae=this.k[_e],Fe=this.k[_e+1],nt=R[_e],_t=R[_e+1],Ye=f(Ee,Ie,qe,me,ze,rt,Ae,Fe,nt,_t),wt=p(Ee,Ie,qe,me,ze,rt,Ae,Fe,nt,_t);Ee=C(L,B),Ie=k(L,B),qe=_(L,B,q,G,W),me=A(L,B,q,G,W,j);var xt=l(Ee,Ie,qe,me),Le=c(Ee,Ie,qe,me);ge=se,ae=ce,se=ee,ce=te,ee=z,te=Z,z=l(Y,Q,Ye,wt),Z=c(Q,Q,Ye,wt),Y=W,Q=j,W=q,j=G,q=L,G=B,L=l(Ye,wt,xt,Le),B=c(Ye,wt,xt,Le)}a(this.h,0,L,B),a(this.h,2,q,G),a(this.h,4,W,j),a(this.h,6,Y,Q),a(this.h,8,z,Z),a(this.h,10,ee,te),a(this.h,12,se,ce),a(this.h,14,ge,ae)},w.prototype._digest=function(T){return T==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function b(D,T,I,R,L){var B=D&I^~D&L;return B<0&&(B+=4294967296),B}function E(D,T,I,R,L,B){var q=T&R^~T&B;return q<0&&(q+=4294967296),q}function _(D,T,I,R,L){var B=D&I^D&L^I&L;return B<0&&(B+=4294967296),B}function A(D,T,I,R,L,B){var q=T&R^T&B^R&B;return q<0&&(q+=4294967296),q}function C(D,T){var I=n(D,T,28),R=n(T,D,2),L=n(T,D,7),B=I^R^L;return B<0&&(B+=4294967296),B}function k(D,T){var I=i(D,T,28),R=i(T,D,2),L=i(T,D,7),B=I^R^L;return B<0&&(B+=4294967296),B}function P(D,T){var I=n(D,T,14),R=n(D,T,18),L=n(T,D,9),B=I^R^L;return B<0&&(B+=4294967296),B}function F(D,T){var I=i(D,T,14),R=i(D,T,18),L=i(T,D,9),B=I^R^L;return B<0&&(B+=4294967296),B}function N(D,T){var I=n(D,T,1),R=n(D,T,8),L=s(D,T,7),B=I^R^L;return B<0&&(B+=4294967296),B}function $(D,T){var I=i(D,T,1),R=i(D,T,8),L=o(D,T,7),B=I^R^L;return B<0&&(B+=4294967296),B}function U(D,T){var I=n(D,T,19),R=n(T,D,29),L=s(D,T,6),B=I^R^L;return B<0&&(B+=4294967296),B}function O(D,T){var I=i(D,T,19),R=i(T,D,29),L=o(D,T,6),B=I^R^L;return B<0&&(B+=4294967296),B}return s9}var o9,qH;function PPe(){if(qH)return o9;qH=1;var t=yd(),e=cce();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),o9=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},o9}var WH;function $Pe(){return WH||(WH=1,zp.sha1=TPe(),zp.sha224=IPe(),zp.sha256=lce(),zp.sha384=PPe(),zp.sha512=cce()),zp}var a9={},HH;function NPe(){if(HH)return a9;HH=1;var t=yd(),e=Wx(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(a,o),a9.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(w,b){for(var E=this.h[0],_=this.h[1],A=this.h[2],C=this.h[3],k=this.h[4],P=E,F=_,N=A,$=C,U=k,O=0;O<80;O++){var D=n(r(s(E,l(O,_,A,C),w[h[O]+b],c(O)),p[O]),k);E=k,k=C,C=r(A,10),A=_,_=D,D=n(r(s(P,l(79-O,F,N,$),w[f[O]+b],u(O)),m[O]),U),P=U,U=$,$=r(N,10),N=F,F=D}D=i(this.h[1],A,$),this.h[1]=i(this.h[2],C,U),this.h[2]=i(this.h[3],k,P),this.h[3]=i(this.h[4],E,F),this.h[4]=i(this.h[0],_,N),this.h[0]=D},a.prototype._digest=function(w){return w==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function l(v,w,b,E){return v<=15?w^b^E:v<=31?w&b|~w&E:v<=47?(w|~b)^E:v<=63?w&E|b&~E:w^(b|~E)}function c(v){return v<=15?0:v<=31?1518500249:v<=47?1859775393:v<=63?2400959708:2840853838}function u(v){return v<=15?1352829926:v<=31?1548603684:v<=47?1836072691:v<=63?2053994217:0}var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return a9}var l9,VH;function RPe(){if(VH)return l9;VH=1;var t=yd(),e=qx();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return l9=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},l9}var GH;function OPe(){return GH||(GH=1,(function(t){var e=t;e.utils=yd(),e.common=Wx(),e.sha=$Pe(),e.ripemd=NPe(),e.hmac=RPe(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(ZA)),ZA}var jPe=OPe();const Wu=Mi(jPe);function KH(t){return"0x"+Wu.sha256().update(br(t)).digest("hex")}const MPe="web/5.8.0";var DPe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function FPe(t,e){return DPe(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:br(new Uint8Array(i))}})}var LPe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Ac=new Ge(MPe);function YH(t){return new Promise(e=>{setTimeout(e,t)})}function nf(t,e){if(t==null)return null;if(typeof t=="string")return t;if(CD(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return DE(t)}catch{}return wr(t)}return t}function UPe(t){return _h(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function BPe(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Ac.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Ac.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let l=null;const c={method:"GET"};let u=!1,h=120*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Ac.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(h=t.timeout),t.headers)for(const b in t.headers)a[b.toLowerCase()]={key:b,value:String(t.headers[b])},["if-none-match","if-modified-since"].indexOf(b.toLowerCase())>=0&&(u=!0);if(c.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Ac.throwError("basic authentication requires a secure https url",Ge.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const b=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+qle(_h(b))}}t.skipFetchSetup!=null&&(c.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(c.fetchOptions=da(t.fetchOptions))}const f=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),p=l?l.match(f):null;if(p)try{const b={statusCode:200,statusMessage:"OK",headers:{"content-type":p[1]||"text/plain"},body:p[2]?zle(p[3]):UPe(p[3])};let E=b.body;return r&&(E=r(b.body,b)),Promise.resolve(E)}catch(b){Ac.throwError("processing response error",Ge.errors.SERVER_ERROR,{body:nf(p[1],p[2]),error:b,requestBody:null,requestMethod:"GET",url:l})}e&&(c.method="POST",c.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const m={};Object.keys(a).forEach(b=>{const E=a[b];m[E.key]=E.value}),c.headers=m;const v=(function(){let b=null;return{promise:new Promise(function(A,C){h&&(b=setTimeout(()=>{b!=null&&(b=null,C(Ac.makeError("timeout",Ge.errors.TIMEOUT,{requestBody:nf(c.body,m["content-type"]),requestMethod:c.method,timeout:h,url:l})))},h))}),cancel:function(){b!=null&&(clearTimeout(b),b=null)}}})(),w=(function(){return LPe(this,void 0,void 0,function*(){for(let b=0;b<n;b++){let E=null;try{if(E=yield FPe(l,c),b<n){if(E.statusCode===301||E.statusCode===302){const A=E.headers.location||"";if(c.method==="GET"&&A.match(/^https:/)){l=E.headers.location;continue}}else if(E.statusCode===429){let A=!0;if(i&&(A=yield i(b,l)),A){let C=0;const k=E.headers["retry-after"];typeof k=="string"&&k.match(/^[1-9][0-9]*$/)?C=parseInt(k)*1e3:C=s*parseInt(String(Math.random()*Math.pow(2,b))),yield YH(C);continue}}}}catch(A){E=A.response,E==null&&(v.cancel(),Ac.throwError("missing response",Ge.errors.SERVER_ERROR,{requestBody:nf(c.body,m["content-type"]),requestMethod:c.method,serverError:A,url:l}))}let _=E.body;if(u&&E.statusCode===304?_=null:!o&&(E.statusCode<200||E.statusCode>=300)&&(v.cancel(),Ac.throwError("bad response",Ge.errors.SERVER_ERROR,{status:E.statusCode,headers:E.headers,body:nf(_,E.headers?E.headers["content-type"]:null),requestBody:nf(c.body,m["content-type"]),requestMethod:c.method,url:l})),r)try{const A=yield r(_,E);return v.cancel(),A}catch(A){if(A.throttleRetry&&b<n){let C=!0;if(i&&(C=yield i(b,l)),C){const k=s*parseInt(String(Math.random()*Math.pow(2,b)));yield YH(k);continue}}v.cancel(),Ac.throwError("processing response error",Ge.errors.SERVER_ERROR,{body:nf(_,E.headers?E.headers["content-type"]:null),error:A,requestBody:nf(c.body,m["content-type"]),requestMethod:c.method,url:l})}return v.cancel(),_}return Ac.throwError("failed response",Ge.errors.SERVER_ERROR,{requestBody:nf(c.body,m["content-type"]),requestMethod:c.method,url:l})})})();return Promise.race([v.promise,w])}function ID(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(DE(s))}catch(l){Ac.throwError("invalid JSON",Ge.errors.SERVER_ERROR,{body:s,error:l})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=_h(e);const s=typeof t=="string"?{url:t}:da(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=da(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return BPe(t,i,n)}function Bw(t,e){return e||(e={}),e=da(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let l=0;function c(){return t().then(function(u){if(u!==void 0)o()&&r(u);else if(e.oncePoll)e.oncePoll.once("poll",c);else if(e.onceBlock)e.onceBlock.once("block",c);else if(!s){if(l++,l>a){o()&&n(new Error("retry limit reached"));return}let h=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));h<e.floor&&(h=e.floor),h>e.ceiling&&(h=e.ceiling),setTimeout(c,h)}return null},function(u){o()&&n(u)})}c()})}var c9,JH;function zPe(){if(JH)return c9;JH=1;for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={},r=0;r<t.length;r++){var n=t.charAt(r);if(e[n]!==void 0)throw new TypeError(n+" is ambiguous");e[n]=r}function i(v){var w=v>>25;return(v&33554431)<<5^-(w>>0&1)&996825010^-(w>>1&1)&642813549^-(w>>2&1)&513874426^-(w>>3&1)&1027748829^-(w>>4&1)&705979059}function s(v){for(var w=1,b=0;b<v.length;++b){var E=v.charCodeAt(b);if(E<33||E>126)return"Invalid prefix ("+v+")";w=i(w)^E>>5}for(w=i(w),b=0;b<v.length;++b){var _=v.charCodeAt(b);w=i(w)^_&31}return w}function o(v,w,b){if(b=b||90,v.length+7+w.length>b)throw new TypeError("Exceeds length limit");v=v.toLowerCase();var E=s(v);if(typeof E=="string")throw new Error(E);for(var _=v+"1",A=0;A<w.length;++A){var C=w[A];if(C>>5!==0)throw new Error("Non 5-bit word");E=i(E)^C,_+=t.charAt(C)}for(A=0;A<6;++A)E=i(E);for(E^=1,A=0;A<6;++A){var k=E>>(5-A)*5&31;_+=t.charAt(k)}return _}function a(v,w){if(w=w||90,v.length<8)return v+" too short";if(v.length>w)return"Exceeds length limit";var b=v.toLowerCase(),E=v.toUpperCase();if(v!==b&&v!==E)return"Mixed-case string "+v;v=b;var _=v.lastIndexOf("1");if(_===-1)return"No separator character for "+v;if(_===0)return"Missing prefix for "+v;var A=v.slice(0,_),C=v.slice(_+1);if(C.length<6)return"Data too short";var k=s(A);if(typeof k=="string")return k;for(var P=[],F=0;F<C.length;++F){var N=C.charAt(F),$=e[N];if($===void 0)return"Unknown character "+N;k=i(k)^$,!(F+6>=C.length)&&P.push($)}return k!==1?"Invalid checksum for "+v:{prefix:A,words:P}}function l(){var v=a.apply(null,arguments);if(typeof v=="object")return v}function c(v){var w=a.apply(null,arguments);if(typeof w=="object")return w;throw new Error(w)}function u(v,w,b,E){for(var _=0,A=0,C=(1<<b)-1,k=[],P=0;P<v.length;++P)for(_=_<<w|v[P],A+=w;A>=b;)A-=b,k.push(_>>A&C);if(E)A>0&&k.push(_<<b-A&C);else{if(A>=w)return"Excess padding";if(_<<b-A&C)return"Non-zero padding"}return k}function h(v){var w=u(v,8,5,!0);if(Array.isArray(w))return w}function f(v){var w=u(v,8,5,!0);if(Array.isArray(w))return w;throw new Error(w)}function p(v){var w=u(v,5,8,!1);if(Array.isArray(w))return w}function m(v){var w=u(v,5,8,!1);if(Array.isArray(w))return w;throw new Error(w)}return c9={decodeUnsafe:l,decode:c,encode:o,toWordsUnsafe:h,toWords:f,fromWordsUnsafe:p,fromWords:m},c9}var qPe=zPe();const XH=Mi(qPe),UE="providers/5.8.0";function O1(t,e,r){return r={path:e,exports:{},require:function(n,i){return WPe(n,i??r.path)}},t(r,r.exports),r.exports}function WPe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var PD=uce;function uce(t,e){if(!t)throw new Error(e||"Assertion failed")}uce.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var zc=O1(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var c=0;c<o.length;c++)l[c]=o[c]|0;return l}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var c=0;c<o.length;c+=2)l.push(parseInt(o[c]+o[c+1],16))}else for(var c=0;c<o.length;c++){var u=o.charCodeAt(c),h=u>>8,f=u&255;h?l.push(h,f):l.push(f)}return l}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",l=0;l<o.length;l++)a+=i(o[l].toString(16));return a}r.toHex=s,r.encode=function(a,l){return l==="hex"?s(a):a}}),nl=O1(function(t,e){var r=e;r.assert=PD,r.toArray=zc.toArray,r.zero2=zc.zero2,r.toHex=zc.toHex,r.encode=zc.encode;function n(l,c,u){var h=new Array(Math.max(l.bitLength(),u)+1),f;for(f=0;f<h.length;f+=1)h[f]=0;var p=1<<c+1,m=l.clone();for(f=0;f<h.length;f++){var v,w=m.andln(p-1);m.isOdd()?(w>(p>>1)-1?v=(p>>1)-w:v=w,m.isubn(v)):v=0,h[f]=v,m.iushrn(1)}return h}r.getNAF=n;function i(l,c){var u=[[],[]];l=l.clone(),c=c.clone();for(var h=0,f=0,p;l.cmpn(-h)>0||c.cmpn(-f)>0;){var m=l.andln(3)+h&3,v=c.andln(3)+f&3;m===3&&(m=-1),v===3&&(v=-1);var w;(m&1)===0?w=0:(p=l.andln(7)+h&7,(p===3||p===5)&&v===2?w=-m:w=m),u[0].push(w);var b;(v&1)===0?b=0:(p=c.andln(7)+f&7,(p===3||p===5)&&m===2?b=-v:b=v),u[1].push(b),2*h===w+1&&(h=1-h),2*f===b+1&&(f=1-f),l.iushrn(1),c.iushrn(1)}return u}r.getJSF=i;function s(l,c,u){var h="_"+c;l.prototype[c]=function(){return this[h]!==void 0?this[h]:this[h]=u.call(this)}}r.cachedProperty=s;function o(l){return typeof l=="string"?r.toArray(l,"hex"):l}r.parseBytes=o;function a(l){return new dr(l,"hex","le")}r.intFromLE=a}),P_=nl.getNAF,HPe=nl.getJSF,$_=nl.assert;function gp(t,e){this.type=t,this.p=new dr(e.p,16),this.red=e.prime?dr.red(e.prime):dr.mont(this.p),this.zero=new dr(0).toRed(this.red),this.one=new dr(1).toRed(this.red),this.two=new dr(2).toRed(this.red),this.n=e.n&&new dr(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var mg=gp;gp.prototype.point=function(){throw new Error("Not implemented")};gp.prototype.validate=function(){throw new Error("Not implemented")};gp.prototype._fixedNafMul=function(e,r){$_(e.precomputed);var n=e._getDoubles(),i=P_(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,l;for(a=0;a<i.length;a+=n.step){l=0;for(var c=a+n.step-1;c>=a;c--)l=(l<<1)+i[c];o.push(l)}for(var u=this.jpoint(null,null,null),h=this.jpoint(null,null,null),f=s;f>0;f--){for(a=0;a<o.length;a++)l=o[a],l===f?h=h.mixedAdd(n.points[a]):l===-f&&(h=h.mixedAdd(n.points[a].neg()));u=u.add(h)}return u.toP()};gp.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=P_(r,n,this._bitLength),a=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var c=0;l>=0&&o[l]===0;l--)c++;if(l>=0&&c++,a=a.dblp(c),l<0)break;var u=o[l];$_(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};gp.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,l=this._wnafT3,c=0,u,h,f;for(u=0;u<i;u++){f=r[u];var p=f._getNAFPoints(e);o[u]=p.wnd,a[u]=p.points}for(u=i-1;u>=1;u-=2){var m=u-1,v=u;if(o[m]!==1||o[v]!==1){l[m]=P_(n[m],o[m],this._bitLength),l[v]=P_(n[v],o[v],this._bitLength),c=Math.max(l[m].length,c),c=Math.max(l[v].length,c);continue}var w=[r[m],null,null,r[v]];r[m].y.cmp(r[v].y)===0?(w[1]=r[m].add(r[v]),w[2]=r[m].toJ().mixedAdd(r[v].neg())):r[m].y.cmp(r[v].y.redNeg())===0?(w[1]=r[m].toJ().mixedAdd(r[v]),w[2]=r[m].add(r[v].neg())):(w[1]=r[m].toJ().mixedAdd(r[v]),w[2]=r[m].toJ().mixedAdd(r[v].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],E=HPe(n[m],n[v]);for(c=Math.max(E[0].length,c),l[m]=new Array(c),l[v]=new Array(c),h=0;h<c;h++){var _=E[0][h]|0,A=E[1][h]|0;l[m][h]=b[(_+1)*3+(A+1)],l[v][h]=0,a[m]=w}}var C=this.jpoint(null,null,null),k=this._wnafT4;for(u=c;u>=0;u--){for(var P=0;u>=0;){var F=!0;for(h=0;h<i;h++)k[h]=l[h][u]|0,k[h]!==0&&(F=!1);if(!F)break;P++,u--}if(u>=0&&P++,C=C.dblp(P),u<0)break;for(h=0;h<i;h++){var N=k[h];N!==0&&(N>0?f=a[h][N-1>>1]:N<0&&(f=a[h][-N-1>>1].neg()),f.type==="affine"?C=C.mixedAdd(f):C=C.add(f))}}for(u=0;u<i;u++)a[u]=null;return s?C:C.toP()};function oc(t,e){this.curve=t,this.type=e,this.precomputed=null}gp.BasePoint=oc;oc.prototype.eq=function(){throw new Error("Not implemented")};oc.prototype.validate=function(){return this.curve.validate(this)};gp.prototype.decodePoint=function(e,r){e=nl.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?$_(e[e.length-1]%2===0):e[0]===7&&$_(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};oc.prototype.encodeCompressed=function(e){return this.encode(e,!0)};oc.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};oc.prototype.encode=function(e,r){return nl.encode(this._encode(r),e)};oc.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};oc.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};oc.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};oc.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};oc.prototype._getBeta=function(){return null};oc.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var $D=O1(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),VPe=nl.assert;function ac(t){mg.call(this,"short",t),this.a=new dr(t.a,16).toRed(this.red),this.b=new dr(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}$D(ac,mg);var GPe=ac;ac.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new dr(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new dr(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],VPe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new dr(a.a,16),b:new dr(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};ac.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:dr.mont(e),n=new dr(2).toRed(r).redInvm(),i=n.redNeg(),s=new dr(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};ac.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new dr(1),o=new dr(0),a=new dr(0),l=new dr(1),c,u,h,f,p,m,v,w=0,b,E;n.cmpn(0)!==0;){var _=i.div(n);b=i.sub(_.mul(n)),E=a.sub(_.mul(s));var A=l.sub(_.mul(o));if(!h&&b.cmp(r)<0)c=v.neg(),u=s,h=b.neg(),f=E;else if(h&&++w===2)break;v=b,i=n,n=b,a=s,s=E,l=o,o=A}p=b.neg(),m=E;var C=h.sqr().add(f.sqr()),k=p.sqr().add(m.sqr());return k.cmp(C)>=0&&(p=c,m=u),h.negative&&(h=h.neg(),f=f.neg()),p.negative&&(p=p.neg(),m=m.neg()),[{a:h,b:f},{a:p,b:m}]};ac.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),l=o.mul(i.a),c=s.mul(n.b),u=o.mul(i.b),h=e.sub(a).sub(l),f=c.add(u).neg();return{k1:h,k2:f}};ac.prototype.pointFromX=function(e,r){e=new dr(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};ac.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};ac.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),l=e[o],c=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=l,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),h=0;h<o*2;h++)i[h]=null,s[h]=null;return u};function ys(t,e,r,n){mg.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new dr(e,16),this.y=new dr(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}$D(ys,mg.BasePoint);ac.prototype.point=function(e,r,n){return new ys(this,e,r,n)};ac.prototype.pointFromJSON=function(e,r){return ys.fromJSON(this,e,r)};ys.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};ys.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};ys.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};ys.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};ys.prototype.isInfinity=function(){return this.inf};ys.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};ys.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};ys.prototype.getX=function(){return this.x.fromRed()};ys.prototype.getY=function(){return this.y.fromRed()};ys.prototype.mul=function(e){return e=new dr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};ys.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};ys.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};ys.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};ys.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};ys.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function zs(t,e,r,n){mg.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new dr(0)):(this.x=new dr(e,16),this.y=new dr(r,16),this.z=new dr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}$D(zs,mg.BasePoint);ac.prototype.jpoint=function(e,r,n){return new zs(this,e,r,n)};zs.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};zs.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};zs.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),l=i.redSub(s),c=o.redSub(a);if(l.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=l.redSqr(),h=u.redMul(l),f=i.redMul(u),p=c.redSqr().redIAdd(h).redISub(f).redISub(f),m=c.redMul(f.redISub(p)).redISub(o.redMul(h)),v=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(p,m,v)};zs.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),l=s.redSub(o);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),h=n.redMul(c),f=l.redSqr().redIAdd(u).redISub(h).redISub(h),p=l.redMul(h.redISub(f)).redISub(s.redMul(u)),m=this.z.redMul(a);return this.curve.jpoint(f,p,m)};zs.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,l=this.z,c=l.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var h=o.redSqr(),f=u.redSqr(),p=f.redSqr(),m=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(c)),v=o.redMul(f),w=m.redSqr().redISub(v.redAdd(v)),b=v.redISub(w),E=m.redMul(b);E=E.redIAdd(E).redISub(p);var _=u.redMul(l);r+1<e&&(c=c.redMul(p)),o=w,l=_,u=E}return this.curve.jpoint(o,u.redMul(s),l)};zs.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};zs.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i),c=l.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=c,r=l.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),f=this.y.redSqr(),p=f.redSqr(),m=this.x.redAdd(f).redSqr().redISub(h).redISub(p);m=m.redIAdd(m);var v=h.redAdd(h).redIAdd(h),w=v.redSqr(),b=p.redIAdd(p);b=b.redIAdd(b),b=b.redIAdd(b),e=w.redISub(m).redISub(m),r=v.redMul(m.redISub(e)).redISub(b),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};zs.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=l.redSqr().redISub(a).redISub(a);e=c;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=l.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),f=this.y.redSqr(),p=this.x.redMul(f),m=this.x.redSub(h).redMul(this.x.redAdd(h));m=m.redAdd(m).redIAdd(m);var v=p.redIAdd(p);v=v.redIAdd(v);var w=v.redAdd(v);e=m.redSqr().redISub(w),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(h);var b=f.redSqr();b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b),r=m.redMul(v.redISub(e)).redISub(b)}return this.curve.jpoint(e,r,n)};zs.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=r.redAdd(r);c=c.redIAdd(c);var u=c.redMul(a),h=l.redSqr().redISub(u.redAdd(u)),f=u.redISub(h),p=a.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var m=l.redMul(f).redISub(p),v=n.redAdd(n).redMul(i);return this.curve.jpoint(h,m,v)};zs.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var l=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var u=s.redIAdd(a).redSqr().redISub(o).redISub(l).redISub(c),h=r.redMul(u);h=h.redIAdd(h),h=h.redIAdd(h);var f=this.x.redMul(l).redISub(h);f=f.redIAdd(f),f=f.redIAdd(f);var p=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(l)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var m=this.z.redAdd(a).redSqr().redISub(n).redISub(l);return this.curve.jpoint(f,p,m)};zs.prototype.mul=function(e,r){return e=new dr(e,r),this.curve._wnafMul(this,e)};zs.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};zs.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};zs.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};zs.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var N4=O1(function(t,e){var r=e;r.base=mg,r.short=GPe,r.mont=null,r.edwards=null}),R4=O1(function(t,e){var r=e,n=nl.assert;function i(a){a.type==="short"?this.curve=new N4.short(a):a.type==="edwards"?this.curve=new N4.edwards(a):this.curve=new N4.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,l){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var c=new i(l);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:c}),c}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Wu.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Wu.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Wu.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Wu.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Wu.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Wu.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Wu.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Wu.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function tp(t){if(!(this instanceof tp))return new tp(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=zc.toArray(t.entropy,t.entropyEnc||"hex"),r=zc.toArray(t.nonce,t.nonceEnc||"hex"),n=zc.toArray(t.pers,t.persEnc||"hex");PD(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var dce=tp;tp.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};tp.prototype._hmac=function(){return new Wu.hmac(this.hash,this.K)};tp.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};tp.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=zc.toArray(e,r),n=zc.toArray(n,i),PD(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};tp.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=zc.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,zc.encode(o,r)};var HN=nl.assert;function fo(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var ND=fo;fo.fromPublic=function(e,r,n){return r instanceof fo?r:new fo(e,{pub:r,pubEnc:n})};fo.fromPrivate=function(e,r,n){return r instanceof fo?r:new fo(e,{priv:r,privEnc:n})};fo.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};fo.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};fo.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};fo.prototype._importPrivate=function(e,r){this.priv=new dr(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};fo.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?HN(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&HN(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};fo.prototype.derive=function(e){return e.validate()||HN(e.validate(),"public point not validated"),e.mul(this.priv).getX()};fo.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};fo.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};fo.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var KPe=nl.assert;function BE(t,e){if(t instanceof BE)return t;this._importDER(t,e)||(KPe(t.r&&t.s,"Signature without r or s"),this.r=new dr(t.r,16),this.s=new dr(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var zE=BE;function YPe(){this.place=0}function u9(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function QH(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}BE.prototype._importDER=function(e,r){e=nl.toArray(e,r);var n=new YPe;if(e[n.place++]!==48)return!1;var i=u9(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=u9(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=u9(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var l=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new dr(o),this.s=new dr(l),this.recoveryParam=null,!0};function d9(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}BE.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=QH(r),n=QH(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];d9(i,r.length),i=i.concat(r),i.push(2),d9(i,n.length);var s=i.concat(n),o=[48];return d9(o,s.length),o=o.concat(s),nl.encode(o,e)};var JPe=(function(){throw new Error("unsupported")}),o0=nl.assert;function Gl(t){if(!(this instanceof Gl))return new Gl(t);typeof t=="string"&&(o0(Object.prototype.hasOwnProperty.call(R4,t),"Unknown curve "+t),t=R4[t]),t instanceof R4.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var XPe=Gl;Gl.prototype.keyPair=function(e){return new ND(this,e)};Gl.prototype.keyFromPrivate=function(e,r){return ND.fromPrivate(this,e,r)};Gl.prototype.keyFromPublic=function(e,r){return ND.fromPublic(this,e,r)};Gl.prototype.genKeyPair=function(e){e||(e={});for(var r=new dce({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||JPe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new dr(2));;){var s=new dr(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Gl.prototype._truncateToN=function(e,r,n){var i;if(dr.isBN(e)||typeof e=="number")e=new dr(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new dr(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new dr(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Gl.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!dr.isBN(e)){o0(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),o0(e.length>>>0===e.length);for(var s=0;s<e.length;s++)o0((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),o0(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),l=e.toArray("be",o);o0(new dr(l).eq(e),"Can not sign message");for(var c=new dce({hash:this.hash,entropy:a,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new dr(1)),h=0;;h++){var f=i.k?i.k(h):new dr(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),v=m.umod(this.n);if(v.cmpn(0)!==0){var w=f.invm(this.n).mul(v.mul(r.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var b=(p.getY().isOdd()?1:0)|(m.cmp(v)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),b^=1),new zE({r:v,s:w,recoveryParam:b})}}}}}};Gl.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new zE(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var l=a.invm(this.n),c=l.mul(e).umod(this.n),u=l.mul(o).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(c,n.getPublic(),u),h.isInfinity()?!1:h.eqXToP(o)):(h=this.g.mulAdd(c,n.getPublic(),u),h.isInfinity()?!1:h.getX().umod(this.n).cmp(o)===0)};Gl.prototype.recoverPubKey=function(t,e,r,n){o0((3&r)===r,"The recovery param is more than two bits"),e=new zE(e,n);var i=this.n,s=new dr(t),o=e.r,a=e.s,l=r&1,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var u=e.r.invm(i),h=i.sub(s).mul(u).umod(i),f=a.mul(u).umod(i);return this.g.mulAdd(h,o,f)};Gl.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new zE(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var QPe=O1(function(t,e){var r=e;r.version="6.6.1",r.utils=nl,r.rand=(function(){throw new Error("unsupported")}),r.curve=N4,r.curves=R4,r.ec=XPe,r.eddsa=null}),ZPe=QPe.ec;const e$e="signing-key/5.8.0",VN=new Ge(e$e);let h9=null;function Cf(){return h9||(h9=new ZPe("secp256k1")),h9}class t$e{constructor(e){Or(this,"curve","secp256k1"),Or(this,"privateKey",wr(e)),Y0(this.privateKey)!==32&&VN.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Cf().keyFromPrivate(br(this.privateKey));Or(this,"publicKey","0x"+r.getPublic(!1,"hex")),Or(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Or(this,"_isSigningKey",!0)}_addPoint(e){const r=Cf().keyFromPublic(br(this.publicKey)),n=Cf().keyFromPublic(br(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Cf().keyFromPrivate(br(this.privateKey)),n=br(e);n.length!==32&&VN.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return ME({recoveryParam:i.recoveryParam,r:si("0x"+i.r.toString(16),32),s:si("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Cf().keyFromPrivate(br(this.privateKey)),n=Cf().keyFromPublic(br(hce(e)));return si("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function r$e(t,e){const r=ME(e),n={r:br(r.r),s:br(r.s)};return"0x"+Cf().recoverPubKey(br(t),n,r.recoveryParam).encode("hex",!1)}function hce(t,e){const r=br(t);return r.length===32?new t$e(r).publicKey:r.length===33?"0x"+Cf().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?wr(r):VN.throwArgumentError("invalid public or private key","key","[REDACTED]")}const n$e="transactions/5.8.0",jh=new Ge(n$e);var ZH;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(ZH||(ZH={}));function RD(t){return t==="0x"?null:tu(t)}function oo(t){return t==="0x"?RIe:Rt.from(t)}function i$e(t){const e=hce(t);return tu(Eo(Ds(Eo(e,1)),12))}function fce(t,e){return i$e(r$e(br(t),e))}function Ba(t,e){const r=t1(Rt.from(t).toHexString());return r.length>32&&jh.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function f9(t,e){return{address:tu(t),storageKeys:(e||[]).map((r,n)=>(Y0(r)!==32&&jh.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Hx(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&jh.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),f9(r[0],r[1])):f9(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return f9(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function pce(t){return Hx(t).map(e=>[e.address,e.storageKeys])}function s$e(t,e){if(t.gasPrice!=null){const n=Rt.from(t.gasPrice),i=Rt.from(t.maxFeePerGas||0);n.eq(i)||jh.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Ba(t.chainId||0,"chainId"),Ba(t.nonce||0,"nonce"),Ba(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ba(t.maxFeePerGas||0,"maxFeePerGas"),Ba(t.gasLimit||0,"gasLimit"),t.to!=null?tu(t.to):"0x",Ba(t.value||0,"value"),t.data||"0x",pce(t.accessList||[])];if(e){const n=ME(e);r.push(Ba(n.recoveryParam,"recoveryParam")),r.push(t1(n.r)),r.push(t1(n.s))}return Ha(["0x02",LE(r)])}function o$e(t,e){const r=[Ba(t.chainId||0,"chainId"),Ba(t.nonce||0,"nonce"),Ba(t.gasPrice||0,"gasPrice"),Ba(t.gasLimit||0,"gasLimit"),t.to!=null?tu(t.to):"0x",Ba(t.value||0,"value"),t.data||"0x",pce(t.accessList||[])];if(e){const n=ME(e);r.push(Ba(n.recoveryParam,"recoveryParam")),r.push(t1(n.r)),r.push(t1(n.s))}return Ha(["0x01",LE(r)])}function gce(t,e,r){try{const n=oo(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{jh.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=si(e[1],32),t.s=si(e[2],32);try{const n=Ds(r(t));t.from=fce(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function a$e(t){const e=AD(t.slice(1));e.length!==9&&e.length!==12&&jh.throwArgumentError("invalid component count for transaction type: 2","payload",wr(t));const r=oo(e[2]),n=oo(e[3]),i={type:2,chainId:oo(e[0]).toNumber(),nonce:oo(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:oo(e[4]),to:RD(e[5]),value:oo(e[6]),data:e[7],accessList:Hx(e[8])};return e.length===9||(i.hash=Ds(t),gce(i,e.slice(9),s$e)),i}function l$e(t){const e=AD(t.slice(1));e.length!==8&&e.length!==11&&jh.throwArgumentError("invalid component count for transaction type: 1","payload",wr(t));const r={type:1,chainId:oo(e[0]).toNumber(),nonce:oo(e[1]).toNumber(),gasPrice:oo(e[2]),gasLimit:oo(e[3]),to:RD(e[4]),value:oo(e[5]),data:e[6],accessList:Hx(e[7])};return e.length===8||(r.hash=Ds(t),gce(r,e.slice(8),o$e)),r}function c$e(t){const e=AD(t);e.length!==9&&e.length!==6&&jh.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:oo(e[0]).toNumber(),gasPrice:oo(e[1]),gasLimit:oo(e[2]),to:RD(e[3]),value:oo(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=Rt.from(e[6]).toNumber()}catch{return r}if(r.r=si(e[7],32),r.s=si(e[8],32),Rt.from(r.r).isZero()&&Rt.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(wr(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=Ds(LE(i));try{r.from=fce(s,{r:wr(r.r),s:wr(r.s),recoveryParam:n})}catch{}r.hash=Ds(t)}return r.type=null,r}function u$e(t){const e=br(t);if(e[0]>127)return c$e(e);switch(e[0]){case 1:return l$e(e);case 2:return a$e(e)}return jh.throwError(`unsupported transaction type: ${e[0]}`,Ge.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const Gv=new Ge(UE);class Kt{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),l=this.number.bind(this),c=this.type.bind(this),u=h=>this.data(h,!0);return e.transaction={hash:o,type:c,accessList:Kt.allowNull(this.accessList.bind(this),null),blockHash:Kt.allowNull(o,null),blockNumber:Kt.allowNull(l,null),transactionIndex:Kt.allowNull(l,null),confirmations:Kt.allowNull(l,null),from:r,gasPrice:Kt.allowNull(n),maxPriorityFeePerGas:Kt.allowNull(n),maxFeePerGas:Kt.allowNull(n),gasLimit:n,to:Kt.allowNull(r,null),value:n,nonce:l,data:s,r:Kt.allowNull(this.uint256),s:Kt.allowNull(this.uint256),v:Kt.allowNull(l),creates:Kt.allowNull(r,null),raw:Kt.allowNull(s)},e.transactionRequest={from:Kt.allowNull(r),nonce:Kt.allowNull(l),gasLimit:Kt.allowNull(n),gasPrice:Kt.allowNull(n),maxPriorityFeePerGas:Kt.allowNull(n),maxFeePerGas:Kt.allowNull(n),to:Kt.allowNull(r),value:Kt.allowNull(n),data:Kt.allowNull(u),type:Kt.allowNull(l),accessList:Kt.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:o,address:r,topics:Kt.arrayOf(o),data:s,logIndex:l,blockHash:o},e.receipt={to:Kt.allowNull(this.address,null),from:Kt.allowNull(this.address,null),contractAddress:Kt.allowNull(r,null),transactionIndex:l,root:Kt.allowNull(a),gasUsed:n,logsBloom:Kt.allowNull(s),blockHash:o,transactionHash:o,logs:Kt.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:Kt.allowNull(l,null),cumulativeGasUsed:n,effectiveGasPrice:Kt.allowNull(n),status:Kt.allowNull(l),type:c},e.block={hash:Kt.allowNull(o),parentHash:o,number:l,timestamp:l,nonce:Kt.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Kt.allowNull(r),extraData:s,transactions:Kt.allowNull(Kt.arrayOf(o)),baseFeePerGas:Kt.allowNull(n)},e.blockWithTransactions=da(e.block),e.blockWithTransactions.transactions=Kt.allowNull(Kt.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Kt.allowNull(i,void 0),toBlock:Kt.allowNull(i,void 0),blockHash:Kt.allowNull(o,void 0),address:Kt.allowNull(r,void 0),topics:Kt.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Kt.allowNull(l),blockHash:Kt.allowNull(o),transactionIndex:l,removed:Kt.allowNull(this.boolean.bind(this)),address:r,data:Kt.allowFalsish(s,"0x"),topics:Kt.arrayOf(o),transactionHash:o,logIndex:l},e}accessList(e){return Hx(e||[])}number(e){return e==="0x"?0:Rt.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Rt.from(e).toNumber()}bigNumber(e){return Rt.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),En(e))?e.toLowerCase():Gv.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return tu(e)}callAddress(e){if(!En(e,32))return null;const r=tu(Eo(e,12));return r===NIe?null:r}contractAddress(e){return wPe(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||En(e))return ED(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Y0(n)!==32?Gv.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=Rt.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!En(e))throw new Error("invalid uint256");return si(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=Kt.check(r,e);return i._difficulty=n==null?null:Rt.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Kt.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Rt.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=Kt.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;En(n)&&(n=Rt.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),En(n)&&(n=Rt.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return u$e(e)}receiptLog(e){return Kt.check(this.formats.receiptLog,e)}receipt(e){const r=Kt.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=Rt.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&Gv.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):Gv.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&Gv.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return Kt.check(this.formats.filter,e)}filterLog(e){return Kt.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return(function(n){return n==null?r:e(n)})}static allowFalsish(e,r){return(function(n){return n?e(n):r})}static arrayOf(e){return(function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n})}}var pr=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Tr=new Ge(UE),d$e=10;function eV(t){return t==null?"null":(Y0(t)!==32&&Tr.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function tV(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[eV(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return eV(e)}).join("&")}function h$e(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function gm(t){if(typeof t=="string"){if(t=t.toLowerCase(),Y0(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+tV(t);if(TIe.isForkEvent(t))throw Tr.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+tV(t.topics||[])}throw new Error("invalid event - "+t)}function Kv(){return new Date().getTime()}function rV(t){return new Promise(e=>{setTimeout(e,t)})}const f$e=["block","network","pending","poll"];let p$e=class{constructor(e,r,n){Or(this,"tag",e),Or(this,"listener",r),Or(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=h$e(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||f$e.indexOf(this.tag)>=0}};const g$e={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function p9(t){return si(Rt.from(t).toHexString(),32)}function nV(t){return WN.encode(y0([t,Eo(KH(KH(t)),0,4)]))}const mce=new RegExp("^(ipfs)://(.*)$","i"),iV=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),mce,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function O4(t,e){try{return DE($2(t,e))}catch{}return null}function $2(t,e){if(t==="0x")return null;const r=Rt.from(Eo(t,e,e+32)).toNumber(),n=Rt.from(Eo(t,r,r+32)).toNumber();return Eo(t,r+32,r+32+n)}function g9(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Tr.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function sV(t){const e=br(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function m$e(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function yce(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=br(t[n]);e[n]=sV(r),e.push(sV(i.length)),e.push(m$e(i)),r+=32+Math.ceil(i.length/32)*32}return Ha(e)}let oV=class{constructor(e,r,n,i){Or(this,"provider",e),Or(this,"name",n),Or(this,"address",e.formatter.address(r)),Or(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>Rt.from(e).eq(1)).catch(e=>{if(e.code===Ge.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return pr(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Ha([e,$4(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=Ha(["0x9061b923",yce([fPe(this.name),n.data])]));try{let s=yield this.provider.call(n);return br(s).length%32===4&&Tr.throwError("resolver threw error",Ge.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=$2(s,0)),s}catch(s){if(s.code===Ge.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return pr(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?$2(n,0):null})}_getAddress(e,r){const n=g$e[String(e)];if(n==null&&Tr.throwError(`unsupported coin type: ${e}`,Ge.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=br(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return nV(y0([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return nV(y0([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=XH.toWords(i.slice(2));return a.unshift(o),XH.encode(n.prefix,a)}}return null}getAddress(e){return pr(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===OIe?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===Ge.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",p9(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&Tr.throwError("invalid or unsupported coin data",Ge.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return pr(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<iV.length;n++){const i=r.match(iV[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:g9(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const a=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const c=yield this.provider.formatter.address(l[0]),u=si(Rt.from(l[1]).toHexString(),32);if(s==="erc721"){const v=this.provider.formatter.callAddress(yield this.provider.call({to:c,data:Ha(["0x6352211e",u])}));if(a!==v)return null;e.push({type:"owner",content:v})}else if(s==="erc1155"){const v=Rt.from(yield this.provider.call({to:c,data:Ha(["0x00fdd58e",si(a,32),u])}));if(v.isZero())return null;e.push({type:"balance",content:v.toString()})}const h={to:this.provider.formatter.address(l[0]),data:Ha([o,u])};let f=O4(yield this.provider.call(h),0);if(f==null)return null;e.push({type:"metadata-url-base",content:f}),s==="erc1155"&&(f=f.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:f})),f.match(/^ipfs:/i)&&(f=g9(f)),e.push({type:"metadata-url",content:f});const p=yield ID(f);if(!p)return null;e.push({type:"metadata",content:JSON.stringify(p)});let m=p.image;if(typeof m!="string")return null;if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(mce)==null)return null;e.push({type:"url-ipfs",content:m}),m=g9(m)}return e.push({type:"url",content:m}),{linkage:e,url:m}}}}}catch{}return null})}getContentHash(){return pr(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+WN.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+WN.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===68){const o={"=":"","+":"-","/":"_"};return"sia://"+qle("0x"+s[1]).replace(/[=+\/]/g,l=>o[l])}return Tr.throwError("invalid or unsupported content hash data",Ge.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return pr(this,void 0,void 0,function*(){let r=_h(e);r=y0([p9(64),p9(r.length),r]),r.length%32!==0&&(r=y0([r,si("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",wr(r));return n==null||n==="0x"?null:DE(n)})}},m9=null,y$e=1;class v$e extends SD{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Or(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Uw(new.target,"getNetwork")(e);r?(Or(this,"_network",r),this.emit("network",r,null)):Tr.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return pr(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Tr.throwError("no network detected",Ge.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Or(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Bw(()=>this._ready().then(e=>e,e=>{if(!(e.code===Ge.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return m9==null&&(m9=new Kt),m9}static getNetwork(e){return $Ie(e??"homestead")}ccipReadFetch(e,r,n){return pr(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const l=n[a],c=l.replace("{sender}",i).replace("{data}",s),u=l.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),h=yield ID({url:c,errorPassThrough:!0},u,(p,m)=>(p.status=m.statusCode,p));if(h.data)return h.data;const f=h.message||"unknown error";if(h.status>=400&&h.status<500)return Tr.throwError(`response not found during CCIP fetch: ${f}`,Ge.errors.SERVER_ERROR,{url:l,errorMessage:f});o.push(f)}return Tr.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,Ge.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return pr(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(Kv()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=Kv(),n=Ns({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=Kv();return i=Rt.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return pr(this,void 0,void 0,function*(){const e=y$e++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Tr.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Tr.makeError("network block skew detected",Ge.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(c=>{c.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=c.blockNumber),this._emitted["b:"+c.blockHash]=c.blockNumber,this._emitted["t:"+c.transactionHash]=c.blockNumber,this.emit(s,c)})}).catch(l=>{this.emit("error",l),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return pr(this,void 0,void 0,function*(){return Tr.throwError("provider does not support network detection",Ge.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return pr(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield rV(0),this._network;const n=Tr.makeError("underlying network changed",Ge.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Kv();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Kv(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return pr(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return pr(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,a)=>{const l=[];let c=!1;const u=function(){return c?!0:(c=!0,l.forEach(f=>{f()}),!1)},h=f=>{f.confirmations<r||u()||o(f)};if(this.on(e,h),l.push(()=>{this.removeListener(e,h)}),i){let f=i.startBlock,p=null;const m=v=>pr(this,void 0,void 0,function*(){c||(yield rV(1e3),this.getTransactionCount(i.from).then(w=>pr(this,void 0,void 0,function*(){if(!c){if(w<=i.nonce)f=v;else{{const b=yield this.getTransaction(e);if(b&&b.blockNumber!=null)return}for(p==null&&(p=f-3,p<i.startBlock&&(p=i.startBlock));p<=v;){if(c)return;const b=yield this.getBlockWithTransactions(p);for(let E=0;E<b.transactions.length;E++){const _=b.transactions[E];if(_.hash===e)return;if(_.from===i.from&&_.nonce===i.nonce){if(c)return;const A=yield this.waitForTransaction(_.hash,r);if(u())return;let C="replaced";_.data===i.data&&_.to===i.to&&_.value.eq(i.value)?C="repriced":_.data==="0x"&&_.from===_.to&&_.value.isZero()&&(C="cancelled"),a(Tr.makeError("transaction was replaced",Ge.errors.TRANSACTION_REPLACED,{cancelled:C==="replaced"||C==="cancelled",reason:C,replacement:this._wrapTransaction(_),hash:e,receipt:A}));return}}p++}}c||this.once("block",m)}}),w=>{c||this.once("block",m)}))});if(c)return;this.once("block",m),l.push(()=>{this.removeListener("block",m)})}if(typeof n=="number"&&n>0){const f=setTimeout(()=>{u()||a(Tr.makeError("timeout exceeded",Ge.errors.TIMEOUT,{timeout:n}))},n);f.unref&&f.unref(),l.push(()=>{clearTimeout(f)})}})})}getBlockNumber(){return pr(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return pr(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Rt.from(e)}catch(r){return Tr.throwError("bad result from backend",Ge.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return pr(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ns({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return Rt.from(i)}catch(s){return Tr.throwError("bad result from backend",Ge.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return pr(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ns({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return Rt.from(i).toNumber()}catch(s){return Tr.throwError("bad result from backend",Ge.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return pr(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ns({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return wr(i)}catch(s){return Tr.throwError("bad result from backend",Ge.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return pr(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Ns({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>ED(o))}),s=yield this.perform("getStorageAt",i);try{return wr(s)}catch(o){return Tr.throwError("bad result from backend",Ge.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&Y0(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&Tr.throwError("Transaction hash mismatch from Provider.sendTransaction.",Ge.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>pr(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const l=yield this._waitForTransaction(e.hash,s,o,a);return l==null&&s===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&Tr.throwError("transaction failed",Ge.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return pr(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>wr(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return pr(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?Rt.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?wr(s):null))}),this.formatter.transactionRequest(yield Ns(n))})}_getFilter(e){return pr(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield Ns(r))})}_call(e,r,n){return pr(this,void 0,void 0,function*(){n>=d$e&&Tr.throwError("CCIP read exceeded maximum redirections",Ge.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&Y0(s)%32===4)try{const o=Eo(s,4),a=Eo(o,0,32);Rt.from(a).eq(i)||Tr.throwError("CCIP Read sender did not match",Ge.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const l=[],c=Rt.from(Eo(o,32,64)).toNumber(),u=Rt.from(Eo(o,c,c+32)).toNumber(),h=Eo(o,c+32);for(let b=0;b<u;b++){const E=O4(h,b*32);E==null&&Tr.throwError("CCIP Read contained corrupt URL string",Ge.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),l.push(E)}const f=$2(o,64);Rt.from(Eo(o,100,128)).isZero()||Tr.throwError("CCIP Read callback selector included junk",Ge.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const p=Eo(o,96,100),m=$2(o,128),v=yield this.ccipReadFetch(e,f,l);v==null&&Tr.throwError("CCIP Read disabled or provided no URLs",Ge.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const w={to:i,data:Ha([p,yce([v,m])])};return this._call(w,r,n+1)}catch(o){if(o.code===Ge.errors.SERVER_ERROR)throw o}try{return wr(s)}catch(o){return Tr.throwError("bad result from backend",Ge.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return pr(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Ns({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return pr(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ns({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return Rt.from(n)}catch(i){return Tr.throwError("bad result from backend",Ge.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return pr(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Tr.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&Tr.throwError("ENS name not configured",Ge.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return pr(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(En(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),En(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{Tr.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Bw(()=>pr(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let l=0;l<s.transactions.length;l++){const c=s.transactions[l];if(c.blockNumber==null)c.confirmations=0;else if(c.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-c.blockNumber+1;u<=0&&(u=1),c.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(l=>this._wrapTransaction(l)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return pr(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Bw(()=>pr(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return pr(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return Bw(()=>pr(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return pr(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Ns({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Kt.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return pr(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return pr(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Tr.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return pr(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new oV(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return pr(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||Tr.throwError("network does not support ENS",Ge.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+$4(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return pr(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(En(e))throw n}typeof e!="string"&&Tr.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return pr(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=O4(yield this.call({to:n,data:"0x691f3431"+$4(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return pr(this,void 0,void 0,function*(){let r=null;if(En(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new oV(this,o,s);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==Ge.errors.CALL_EXCEPTION)throw a}try{const a=O4(yield this.call({to:o,data:"0x691f3431"+$4(s).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==Ge.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return Tr.throwError(e+" not implemented",Ge.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new p$e(gm(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=gm(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=gm(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=gm(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=gm(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=gm(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var Yd=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Si=new Ge(UE),w$e=["call","estimateGas"];function db(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=En(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=db(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return db(JSON.parse(t),e)}catch{}return null}function vce(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=db(e,!0);if(s)return s.data;Si.throwError("missing revert data in call exception; Transaction reverted without a reason string",Ge.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=db(e.body,!1);s==null&&(s=db(e,!1)),s&&Si.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Ge.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===Ge.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Si.throwError("insufficient funds for intrinsic transaction cost",Ge.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&Si.throwError("nonce has already been used",Ge.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Si.throwError("replacement fee too low",Ge.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&Si.throwError("legacy pre-eip-155 transactions not supported",Ge.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),w$e.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Si.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Ge.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function aV(t){return new Promise(function(e){setTimeout(e,t)})}function b$e(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Yv(t){return t&&t.toLowerCase()}const GN={};class wce extends jE{constructor(e,r,n){if(super(),e!==GN)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Or(this,"provider",r),n==null&&(n=0),typeof n=="string"?(Or(this,"_address",this.provider.formatter.address(n)),Or(this,"_index",null)):typeof n=="number"?(Or(this,"_index",n),Or(this,"_address",null)):Si.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return Si.throwError("cannot alter JSON-RPC Signer connection",Ge.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new x$e(GN,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Si.throwError("unknown account #"+this._index,Ge.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=da(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=da(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>Yd(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&Si.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),Ns({tx:Ns(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&Si.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&Si.throwError("user rejected transaction",Ge.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),vce("sendTransaction",o,s)))})}signTransaction(e){return Si.throwError("signing transactions is unsupported",Ge.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Yd(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield Bw(()=>Yd(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return Yd(this,void 0,void 0,function*(){const r=typeof e=="string"?_h(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[wr(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Si.throwError("user rejected signing",Ge.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return Yd(this,void 0,void 0,function*(){const r=typeof e=="string"?_h(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),wr(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Si.throwError("user rejected signing",Ge.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return Yd(this,void 0,void 0,function*(){const i=yield Ma.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Ma.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&Si.throwError("user rejected signing",Ge.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return Yd(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class x$e extends wce{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const _$e={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class C$e extends v$e{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=Uw(this.constructor,"defaultUrl")()),typeof e=="string"?Or(this,"connection",Object.freeze({url:e})):Or(this,"connection",Object.freeze(da(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Yd(this,void 0,void 0,function*(){yield aV(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Uw(this.constructor,"getNetwork");try{return r(Rt.from(e).toNumber())}catch(n){return Si.throwError("could not detect network",Ge.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return Si.throwError("could not detect network",Ge.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new wce(GN,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:T2(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=ID(this.connection,JSON.stringify(n),b$e).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Yv(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Yv(r.address),r.blockTag]];case"getCode":return["eth_getCode",[Yv(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Yv(r.address),si(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Uw(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Uw(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=Yv(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return Yd(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&Rt.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=da(r),r.transaction=da(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&Si.throwError(e+" not implemented",Ge.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return vce(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(l){return e.emit("pending",l),null})})}),o.then(function(){return aV(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=da(_$e);if(r)for(const s in r)r[s]&&(n[s]=!0);aIe(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=ED(Rt.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=wr(e[s]))}),e.accessList&&(i.accessList=Hx(e.accessList)),i}}var E$e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const k$e=new Ge(UE);class S$e extends C$e{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return E$e(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||k$e.throwError("no network detected",Ge.errors.UNKNOWN_ERROR,{}),this._network==null&&(Or(this,"_network",r),this.emit("network",r,null))),r})}}function KN(t){if(typeof t=="number"||typeof t=="bigint"||typeof t=="string")return t;if(typeof t.toHexString=="function")return t.toHexString();throw Error(`Expected numeric value but received ${t}`)}const bce=t=>[nc.id,$E.id].includes(t),A$e=async(t,e)=>{if(!bce(t.chainId))throw Error("Invalid chain ID for Arbitrum gas estimation.");if(t.type===void 0&&(t.type=2),t.maxFeePerGas)return t;try{let{lastBaseFeePerGas:r}=await e.getFeeData();if(r){let n=r.mul(Rt.from(120)).div(Rt.from(100));t.maxFeePerGas=KN(n),t.maxPriorityFeePerGas=KN(Rt.from(0))}}catch(r){throw Error(`Failed to set gas price for Arbitrum transaction: ${r}.`)}return t},xce=t=>[56,97].includes(t),T$e=async(t,e)=>{if(!xce(t.chainId))throw Error("Invalid chain ID for BSC gas estimation.");if(t.type===void 0?t.type=0:(t.type==1||t.type==2)&&console.warn("Transaction request type specified is incompatible for chain and will result in undefined behavior.  Please use transaction type 0."),!t.gasPrice){let r=await e.getFeeData();t.gasPrice=r.gasPrice?.toHexString()}return t},_ce=t=>[ic.id,NE.id,md.id,OE.id,wD.id,$le.id,Ple.id,81457,168587773].includes(t),I$e=async(t,e)=>{if(!_ce(t.chainId))throw Error("Invalid chain ID for OP Stack gas estimation.");if(t.type===void 0&&(t.type=2),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{if(!t.maxPriorityFeePerGas){let r=await e.send("eth_maxPriorityFeePerGas",[]);t.maxPriorityFeePerGas=r}if(t.maxFeePerGas&&(console.warn("maxFeePerGas is specified without maxPriorityFeePerGas - this can result in hung transactions."),t.maxPriorityFeePerGas>=t.maxFeePerGas))throw Error("Overridden maxFeePerGas is less than or equal to the calculated maxPriorityFeePerGas. Please set both values or maxPriorityFeePerGas alone for correct gas estimation.");if(!t.maxFeePerGas){let{lastBaseFeePerGas:r}=await e.getFeeData();if(!r)throw Error("Unable to fetch baseFee for last block.");let n=Rt.from(r).mul(Rt.from(126)).div(Rt.from(100)).add(Rt.from(t.maxPriorityFeePerGas));t.maxFeePerGas=KN(n)}}catch(r){throw Error(`Failed to set gas price for OP stack transaction: ${r}.`)}return t},P$e="units/5.8.0",$$e=new Ge(P$e),N$e=["wei","kwei","mwei","gwei","szabo","finney","ether"];function lV(t,e){if(typeof t!="string"&&$$e.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=N$e.indexOf(e);r!==-1&&(e=3*r)}return Lu(t,e??18)}var j4={exports:{}},R$e=j4.exports,cV;function O$e(){return cV||(cV=1,(function(t,e){(function(r,n){t.exports=n()})(R$e,(function(){var r=function(s,o){if(o=o||{},typeof s!="function")throw new i("fetch must be a function");if(typeof o!="object")throw new i("defaults must be an object");if(o.retries!==void 0&&!n(o.retries))throw new i("retries must be a positive integer");if(o.retryDelay!==void 0&&!n(o.retryDelay)&&typeof o.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(o.retryOn!==void 0&&!Array.isArray(o.retryOn)&&typeof o.retryOn!="function")throw new i("retryOn property expects an array or function");var a={retries:3,retryDelay:1e3,retryOn:[]};return o=Object.assign(a,o),function(c,u){var h=o.retries,f=o.retryDelay,p=o.retryOn;if(u&&u.retries!==void 0)if(n(u.retries))h=u.retries;else throw new i("retries must be a positive integer");if(u&&u.retryDelay!==void 0)if(n(u.retryDelay)||typeof u.retryDelay=="function")f=u.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(u&&u.retryOn)if(Array.isArray(u.retryOn)||typeof u.retryOn=="function")p=u.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(m,v){var w=function(E){var _=typeof Request<"u"&&c instanceof Request?c.clone():c;s(_,u).then(function(A){if(Array.isArray(p)&&p.indexOf(A.status)===-1)m(A);else if(typeof p=="function")try{return Promise.resolve(p(E,null,A)).then(function(C){C?b(E,null,A):m(A)}).catch(v)}catch(C){v(C)}else E<h?b(E,null,A):m(A)}).catch(function(A){if(typeof p=="function")try{Promise.resolve(p(E,A,null)).then(function(C){C?b(E,A,null):v(A)}).catch(function(C){v(C)})}catch(C){v(C)}else E<h?b(E,A,null):v(A)})};function b(E,_,A){var C=typeof f=="function"?f(E,_,A):f;setTimeout(function(){w(++E)},C)}w(0)})}};function n(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return r}))})(j4)),j4.exports}var j$e=O$e();const OD=Mi(j$e);let M$e=OD(fetch,{retries:3,retryDelay:500});const Cce=t=>[ba.id,Bx.id].includes(t);let y9=t=>({maxPriorityFee:lV(t.maxPriorityFee.toFixed(9),"gwei").toHexString(),maxFee:lV(t.maxFee.toFixed(9),"gwei").toHexString()}),D$e=t=>({safeLow:y9(t.safeLow),standard:y9(t.standard),fast:y9(t.fast)});const F$e=async t=>{let e="";switch(t){case ba.id:e="https://gasstation.polygon.technology/v2";break;case Bx.id:e="https://gasstation.polygon.technology/amoy";break;default:throw Error(`chainId ${t} does not support polygon gas stations`)}let r=await M$e(e),n=await r.json();if(r.status>399)throw n;return D$e(n)};async function L$e(t){if(!Cce(t.chainId))throw Error("Invalid chain ID for Polygon gas estimation.");if(t.type===void 0&&(t.type=2),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{let{standard:e}=await F$e(t.chainId);t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=e.maxPriorityFee),t.maxFeePerGas||(t.maxFeePerGas=e.maxFee),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice)}catch(e){throw Error(`Failed to set gas prices from Polygon gas station with error: ${e}.`)}return t}const U$e=async(t,e)=>{if(t.type===void 0&&(t.type=2),t.type===2){if(!t.maxFeePerGas||!t.maxPriorityFeePerGas){let r=await e.getFeeData();t.maxFeePerGas||(t.maxFeePerGas=r.maxFeePerGas?.toHexString()),t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=r.maxPriorityFeePerGas?.toHexString())}}else if(!t.gasPrice){let r=await e.getFeeData();t.gasPrice=r.gasPrice?.toHexString()}return t};async function B$e(t,e){try{return(await e.estimateGas(t)).toHexString()}catch(r){let n;if("message"in r&&r.message.includes("insufficient funds")&&(console.warn(`Gas estimation failed with error: ${r}. Retrying gas estimation by omitting the 'value'`),n=await(async function({txRequest:i,provider:s}){try{let o={...i,value:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'value'`),null}})({txRequest:t,provider:e})),n||(console.warn(`Gas estimation failed with error: ${r}. Retrying gas estimation by omitting the 'from'`),n=await(async function({txRequest:i,provider:s}){try{let o={...i,from:void 0};return(await s.estimateGas(o)).toHexString()}catch(o){return console.warn(`Gas estimation failed with error: ${o} when omitting the 'from' address`),null}})({txRequest:t,provider:e})),!n)throw r;return n}}const uV=(t,e,r,n)=>{let i=Number(t),s=e.find((o=>o.id===i));if(!s)throw new Ole(`Unsupported chainId ${t}`,4901);return new S$e(s.rpcUrls.privyWalletOverride&&s.rpcUrls.privyWalletOverride.http[0]?s.rpcUrls.privyWalletOverride.http[0]:r.rpcUrls&&r.rpcUrls[i]?r.rpcUrls[i]:s.rpcUrls.privy?.http[0]?{url:s.rpcUrls.privy.http[0],headers:{"privy-app-id":n.appId}}:s.rpcUrls.public?.http[0]?s.rpcUrls.public?.http[0]:s.rpcUrls.default?.http[0])},z$e=(t,e,r)=>{let n,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])n=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])n=e.rpcUrls[s];else if(t.rpcUrls.privy?.http[0]){let o=new URL(t.rpcUrls.privy.http[0]);o.searchParams.append("privyAppId",r),n=o.toString()}else n=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!n)throw new Ole(`No RPC url found for ${i}`);return n};function Ece(t){return/^-?0x[a-f0-9]+$/i.test(t)}function q$e(t){for(let e of["gasLimit","gasPrice","value","maxPriorityFeePerGas","maxFeePerGas"]){let r=t[e];if(r!==void 0&&!(function(n){let i=typeof n=="number",s=typeof n=="bigint",o=typeof n=="string"&&Ece(n);return i||s||o})(r))throw Error(`Transaction request property '${e}' must be a valid number, bigint, or hex string representing a quantity`)}if(typeof t.chainId!="number")throw Error("Transaction request property 'chainId' must be a number")}async function dV(t,e,r){if(e.chainId=Number(e.chainId),q$e(e),e.from||(e.from=t),!e.nonce){let n=new _D(t,r);e.nonce=await n.getTransactionCount("pending")}return e.gasLimit||(e.gas?(e.gasLimit=e.gas,delete e.gas):e.gasLimit=await B$e(e,r)),typeof e.type=="string"&&Ece(e.type)&&(e.type=Number(e.type)),[23294,23295].includes(e.chainId)&&(e.type=0),(e=Cce(e.chainId)?await L$e(e):bce(e.chainId)?await A$e(e,r):_ce(e.chainId)?await I$e(e,r):xce(e.chainId)?await T$e(e,r):await U$e(e,r)).type===0&&delete e.accessList,e.type!==2&&(delete e.maxPriorityFeePerGas,delete e.maxFeePerGas),e}function W$e({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function kce(t){return new Promise((e=>{setTimeout((()=>{e()}),t)}))}let H$e=class{enqueue(e,r){this.callbacks[e]=r}dequeue(e,r){let n=this.callbacks[r];if(!n)throw Error(`cannot dequeue ${e} event: no event found for id ${r}`);switch(delete this.callbacks[r],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return n;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function V$e(t,e,r,n,i=!1,s,o){let a=i,l=async u=>{if(a){u===(i?0:1)?n():r.current?.reject(new T4("missing_or_invalid_mfa","MFA verification failed, retry."));let h=await new Promise(((f,p)=>{e.current={resolve:f,reject:p},setTimeout((()=>{let m=new T4("mfa_timeout","Timed out waiting for MFA code");r.current?.reject(m),p(m)}),o)}));return await t(h)}return await t()},c=null;for(let u=0;u<s;u++)try{c=await l(u),r.current?.resolve(void 0);break}catch(h){if(h.type!=="missing_or_invalid_mfa")throw r.current?.resolve(void 0),h;a=!0}if(c===null){let u=new T4("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw r.current?.reject(u),u}return c}var hV;let G$e=(hV=0,()=>"id-"+hV++),K$e=(t,e)=>typeof e=="bigint"?e.toString():e,sf=(t,{ms:e,msg:r})=>Promise.race([t,kce(e??15e3).then((()=>Promise.reject(Error(r))))]),fV=new H$e,pV=class{invokeWithMfa(e,r){return sf(V$e((n=>sf(this.waitForReady().then((()=>e(n))),{msg:r.timeoutMsg,ms:r.timeoutMs})),this.mfa.rootPromise,this.mfa.submitPromise,(()=>this.mfa.emit("mfaRequired")),r.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return sf(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return sf(this.waitForReady().then((()=>this.invoke("privy:wallet:create",e))),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa((r=>this.invoke("privy:wallet:rpc",{...r,...e})),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa((r=>this.invoke("privy:solana-wallet:create",{...r,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return sf(this.waitForReady().then((()=>this.invoke("privy:solana-wallet:create-additional",e))),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa((r=>this.invoke("privy:solana-wallet:rpc",{...r,...e})),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa((r=>this.invoke("privy:delegated-actions:consent",{...r,...e})),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa((r=>this.invoke("privy:mfa:verify",{...r,...e})),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa((r=>this.invoke("privy:mfa:init-enrollment",{...r,...e})),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa((r=>this.invoke("privy:mfa:submit-enrollment",{...r,...e})),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa((r=>this.invoke("privy:mfa:unenroll",{...r,...e})),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return sf(this.waitForReady().then((()=>this.invoke("privy:mfa:clear",e))),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa((r=>this.invoke("privy:wallets:create",{...r,...e})),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa((r=>this.invoke("privy:user-signer:sign",{...r,...e})),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return sf(this.waitForReady().then((()=>this.invoke("privy:wallets:add",e))),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa((r=>this.invoke("privy:wallets:set-recovery",{...r,...e})),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return sf(this.waitForReady().then((()=>this.invoke("privy:wallets:connect",e))),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa((r=>this.invoke("privy:wallets:recover",{...r,...e})),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa((r=>this.invoke("privy:wallets:rpc",{...r,...e})),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){let{reject:r,resolve:n}=fV.dequeue(e.event,e.id);return e.error!==void 0?r(new T4(e.error.type,e.error.message)):n(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise((async(e,r)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then((()=>{this.ready=!0,e()})).catch(r),await kce(150)}))}invoke(e,r){let n=((s,o)=>`${s}${JSON.stringify(o,K$e)}`)(e,r);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let s=this.cache.get(n);if(s)return s}let i=new Promise(((s,o)=>{let a=G$e();fV.enqueue(a,{resolve:s,reject:o}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:a,event:e,data:r}),"*")})).finally((()=>{this.cache.delete(n)}));return this.cache.set(n,i),i}constructor(e,r){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=r}};var v9={exports:{}},gV;function Y$e(){return gV||(gV=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,f),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)e.call(u,h)&&c.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=r?r+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},a.prototype.listenerCount=function(c){var u=r?r+c:c,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(c,u,h,f,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var w=this._events[v],b=arguments.length,E,_;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),b){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,h),!0;case 4:return w.fn.call(w.context,u,h,f),!0;case 5:return w.fn.call(w.context,u,h,f,p),!0;case 6:return w.fn.call(w.context,u,h,f,p,m),!0}for(_=1,E=new Array(b-1);_<b;_++)E[_-1]=arguments[_];w.fn.apply(w.context,E)}else{var A=w.length,C;for(_=0;_<A;_++)switch(w[_].once&&this.removeListener(c,w[_].fn,void 0,!0),b){case 1:w[_].fn.call(w[_].context);break;case 2:w[_].fn.call(w[_].context,u);break;case 3:w[_].fn.call(w[_].context,u,h);break;case 4:w[_].fn.call(w[_].context,u,h,f);break;default:if(!E)for(C=1,E=new Array(b-1);C<b;C++)E[C-1]=arguments[C];w[_].fn.apply(w[_].context,E)}}return!0},a.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},a.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},a.prototype.removeListener=function(c,u,h,f){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!h||m.context===h)&&o(this,p);else{for(var v=0,w=[],b=m.length;v<b;v++)(m[v].fn!==u||f&&!m[v].once||h&&m[v].context!==h)&&w.push(m[v]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&o(this,u)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(v9)),v9.exports}var J$e=Y$e();const mo=Mi(J$e);let X$e=["eth_sign","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];const Q$e=t=>X$e.includes(t),N_=t=>/^0x[0-9a-fA-F]*$/.test(t),R_=t=>Buffer.from(t,"utf8"),N2=t=>`0x${t.toString("hex")}`;var w9,mV;function Z$e(){return mV||(mV=1,w9=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,s,o)=>`${i}${o===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((n,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return n;const s=n.length===0?"":",";return`${n}${s}${t(i)}:${t(e[i])}`},"")}}`}),w9}var eNe=Z$e();const tNe=Mi(eNe);async function rNe(t,e){let r=tNe(e);if(r===void 0)throw new Qr({error:"Failed to prepare the payload for signing",code:"invalid_input"});let n=Buffer.from(r).toString("base64"),{signature:i}=await t({message:n});return{signature:i}}async function Ao(t,e,{wallet_id:r,...n}){let i={version:1,url:t.getCompiledPath(jA,{params:{wallet_id:r}}),method:jA.method,headers:{"privy-app-id":t.app.appId},body:{...n}},{signature:s}=await rNe(e,i);return await t.fetchPrivyRoute(jA,{body:n,params:{wallet_id:r},headers:{"privy-authorization-signature":s}})}function nNe(t){return{from:t.from,to:t.to,nonce:qp(t.nonce),chain_id:qp(t.chainId),data:(function(e){if(e!==void 0)return typeof e=="string"?N_(e)?e:N2(R_(e)):N2(Buffer.from(Uint8Array.from(e)))})(t.data),value:qp(t.value),type:t.type,gas_limit:qp(t.gasLimit),gas_price:qp(t.gasPrice),max_fee_per_gas:qp(t.maxFeePerGas),max_priority_fee_per_gas:qp(t.maxPriorityFeePerGas)}}function qp(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return N_(t)?t:N2(R_(t))}function iNe(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function Sce({context:t,account:e,rpcRequest:r}){switch(r.chainType){case"ethereum":return(async function({context:n,account:i,rpcRequest:s}){switch(s.method){case"personal_sign":{let[o]=s.params,a=await Ao(n,n.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:o.startsWith("0x")?{message:o.slice(2),encoding:"hex"}:{message:o,encoding:"utf-8"}});if(a.method!=="personal_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"eth_signTransaction":{let[o]=s.params,a=await Ao(n,n.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:nNe(o)}});if(a.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:a.data.signed_transaction}}case"eth_signTypedData_v4":{let[,o]=s.params,a=await Ao(n,n.signRequest,{chain_type:"ethereum",method:s.method,wallet_id:i.id,params:{typed_data:iNe(o)}});if(a.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:a.data.signature}}case"eth_sign":{let[,o]=s.params,a=await Ao(n,n.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:N_(o)?o:N2(R_(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"secp256k1_sign":{let[o]=s.params,a=await Ao(n,n.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:N_(o)?o:N2(R_(o))}});if(a.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:a.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${s.method}`)}})({context:t,account:e,rpcRequest:r.request});case"solana":return(async function({context:n,account:i,rpcRequest:s}){if(s.method==="signMessage"){let{message:o}=s.params,a=await Ao(n,n.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:o,encoding:"base64"}});if(a.method!=="signMessage")throw Error("Unable to sign message");return{data:a.data.signature}}})({context:t,account:e,rpcRequest:r.request})}}let b9=class extends mo{async request(e){if(Q$e(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":{let r=e.params?.[0];return this.handleSendTransaction(r)}case"eth_populateTransactionRequest":{let r=e.params?.[0];return this.handlePopulateTransaction(r)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let r={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(r.chainId),r}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._jsonRpcProvider=uV(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let r=this.ensureChainId(e);return dV(this._account.address,r,this._jsonRpcProvider)}async handleSendTransaction(e){let r=this.ensureChainId(e),n=await dV(this._account.address,r,this._jsonRpcProvider),i=await this.handleIFrameRpc({method:"eth_signTransaction",params:[n]});return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[i]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let r={...e.params[0],chainId:`0x${this._chainId.toString(16)}`};this.internalSwitchEthereumChain(r.chainId);try{return await this._jsonRpcProvider.send("eth_estimateGas",[r])}catch(n){console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'from' address`);try{return delete r.from,await this._jsonRpcProvider.send("eth_estimateGas",[r])}catch(i){throw console.warn(`Gas estimation failed with error: ${i} when omitting the 'from' address`),n}}}handleSwitchEthereumChain(e){let r;if(!e.params||!Array.isArray(e.params))throw new oH(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")r=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new oH(`Invalid params for ${e.method}`,4200);r=e.params[0].chainId}this.internalSwitchEthereumChain(r)}async handleIFrameRpc(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let n=this._account;if($f(n)){let{data:i}=await Sce({context:{app:this._appApi,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._walletProxy.signWithUserSigner({accessToken:r,message:s})},account:n,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:r})}catch(i){let s=xD(i);if(s&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:r});else{if(!s||!this._onNeedsRecovery)throw i;{let o;await new Promise((async(a,l)=>{o=setTimeout((()=>l(new Qr({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>a(!0)})})).finally((()=>clearTimeout(o)))}}}return(await this._walletProxy.rpcWallet({accessToken:r,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new Qr({code:"embedded_wallet_request_error",error:n})}}async handleJsonRpc(e){return this._jsonRpcProvider.send(e.method,e.params??[])}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:r,account:n,entropyId:i,entropyIdVerifier:s,chains:o,onNeedsRecovery:a,chainId:l=o[0].id,appApi:c}){super(),this._walletProxy=e,this._privyInternal=r,this._account=n,this._entropyId=i,this._entropyIdVerifier=s,this._chainId=l,this._chains=o,this._onNeedsRecovery=a,this._jsonRpcProvider=uV(l,o,{rpcUrls:[]},{appId:c.appId}),this._appApi=c}};function YN(t){return"version"in t}function yV(t,e){let r=(YN(t)?t.message:t.compileMessage()).staticAccountKeys.find((n=>n.toBase58()===e));if(!r)throw Error(`Transaction does not contain public key ${e}`);return r}let sNe=class{async request(e){if(!await this._privyInternal.getAccessToken())throw new Qr({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(r){let n=xD(r);if(n&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!n||!this._onNeedsRecovery)throw r;{let i;await new Promise((async(s,o)=>{i=setTimeout((()=>o(new Qr({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"}))),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>s(!0)})})).finally((()=>clearTimeout(i)))}}}}async signMessageRpc(e,r){let n=this._account;if(!$f(n))return(await this._proxy.rpcWallet({accessToken:r,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await Sce({context:{app:this._app,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._proxy.signWithUserSigner({accessToken:r,message:s})},account:n,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(r),await this.signMessageRpc(e,r)}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new Qr({code:"embedded_wallet_request_error",error:n})}}async handleSignAndSendTransaction(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(r);let{transaction:n,connection:i,options:s}=e.params,o=yV(n,this._account.address),a=YN(n)?Buffer.from(n.message.serialize()):n.serializeMessage(),{signature:l}=await this.signMessageRpc({method:"signMessage",params:{message:a.toString("base64")}},r);return n.addSignature(o,Buffer.from(l,"base64")),{signature:await i.sendRawTransaction(n.serialize(),s)}}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new Qr({code:"embedded_wallet_request_error",error:n})}}async handleSignTransaction(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(r);let{transaction:n}=e.params,i=yV(n,this._account.address),s=YN(n)?Buffer.from(n.message.serialize()):n.serializeMessage(),{signature:o}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},r);return n.addSignature(i,Buffer.from(o,"base64")),{signedTransaction:n}}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:n}),new Qr({code:"embedded_wallet_request_error",error:n})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:r,account:n,entropyId:i,entropyIdVerifier:s,onNeedsRecovery:o,app:a}){this._proxy=e,this._privyInternal=r,this._account=n,this._entropyId=i,this._entropyIdVerifier=s,this._onNeedsRecovery=o,this._app=a}},oNe=class{setMessagePoster(e){this._proxy=new pV(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let r=await this._privyInternal.getAccessToken();if(!r)throw new Qr({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:n}=await this._proxy.signWithUserSigner({accessToken:r,message:e.message});return{signature:n}}async add(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await HA({context:{app:this._appApi,fetchPrivyRoute:(...n)=>this._privyInternal.fetch(...n),getCompiledPath:(...n)=>this._privyInternal.getPath(...n)},chainType:e.chainType});else{let n=await this._privyInternal.getAccessToken();if(!n)throw new Qr({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:n,...e})}let{user:r}=await this._privyInternal.refreshSession();return{user:r}}async getBitcoinProvider({wallet:e,entropyId:r,entropyIdVerifier:n,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return $f(e)||await this._load({entropyId:r,entropyIdVerifier:n,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new Z7e({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:r,entropyIdVerifier:n})}async create({password:e,recoveryMethod:r,recoveryToken:n,recoveryKey:i,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAccount:a,skipCallbacks:l}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only"){if(r&&!r.startsWith("privy"))throw new Qr({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await HA({context:{app:this._appApi,fetchPrivyRoute:(...c)=>this._privyInternal.fetch(...c),getCompiledPath:(...c)=>this._privyInternal.getPath(...c)},chainType:"ethereum"})}else{let c;if(c=r||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(c==="privy"&&this._privyInternal.config?.embedded_wallet_config.require_user_password_on_create)throw Error("Password not provided yet is required by App configuration");let u=await this._privyInternal.getAccessToken();if(!u)throw Error("User must be logged in to create an embedded wallet");let{address:h}=await this._proxy.create({accessToken:u,recoveryMethod:c,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:n,recoverySecretOverride:s,iCloudRecordNameOverride:o,solanaAddress:a?.address});if(!h)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(l)}async createSolana(e){if(!this._proxy)throw new Qr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(this._privyInternal.config?.embedded_wallet_config.mode==="user-controlled-server-wallets-only")await HA({context:{app:this._appApi,fetchPrivyRoute:(...r)=>this._privyInternal.fetch(...r),getCompiledPath:(...r)=>this._privyInternal.getPath(...r)},chainType:"solana"});else{let r=await this._privyInternal.getAccessToken();if(!r)throw new Qr({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e?.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:n}=await this._proxy.createSolana({accessToken:r,ethereumAddress:e?.ethereumAccount?.address});if(!n)throw new Qr({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:r}){if(!this._proxy)throw new Qr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let n=await this._privyInternal.getAccessToken();if(!n)throw new Qr({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:n,delegatedWallets:e,rootWallet:r})}async getProvider(e,r,n,i,s){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return $f(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:r,recoveryKey:s,recoveryAccessToken:n,recoverySecretOverride:i}),new b9({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:r,entropyIdVerifier:n,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a,onNeedsRecovery:l}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return $f(e)||(!l||i||s||o||a)&&await this._load({entropyId:r,entropyIdVerifier:n,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o,recoveryKey:a}),new b9({account:e,entropyId:r,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:l,appApi:this._appApi})}async getSolanaProvider(e,r,n,i,s,o,a){if(!this._proxy)throw new Qr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return $f(e)||(!a||i||s||o)&&await this._load({wallet:e,entropyId:r,entropyIdVerifier:n,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:o}),new sNe({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:r,entropyIdVerifier:n,onNeedsRecovery:a,app:this._appApi})}async setRecovery(e){let{wallet:r,...n}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if($f(r))throw new Qr({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});W$e({currentRecoveryMethod:r.recovery_method,upgradeToRecoveryMethod:n.recoveryMethod==="icloud-native"?"icloud":n.recoveryMethod}),await this._load(r.chain_type==="solana"?{wallet:r,entropyId:r.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:r,entropyId:r.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessToken();if(!i)throw Error("User must be logged in to interact with embedded wallets");let s=r.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:r.address,target_recovery_method:n.recoveryMethod,existing_recovery_method:s});try{let o;if(n.recoveryMethod==="user-passcode")o={recoveryMethod:"user-passcode",recoveryPassword:n.password};else if(n.recoveryMethod==="google-drive")o={recoveryMethod:"google-drive",recoveryAccessToken:n.recoveryAccessToken};else if(n.recoveryMethod==="icloud")o={recoveryMethod:"icloud",recoveryAccessToken:n.recoveryAccessToken};else if(n.recoveryMethod==="icloud-native")o={recoveryMethod:"icloud-native",iCloudRecordNameOverride:n.iCloudRecordNameOverride,recoverySecretOverride:n.recoverySecretOverride};else if(n.recoveryMethod==="recovery-encryption-key")o={recoveryMethod:"recovery-encryption-key",recoveryKey:n.recoveryKey};else{if(n.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${n.recoveryMethod}`);o={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:r.address,entropyIdVerifier:r.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...o}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:r.address,target_recovery_method:n.recoveryMethod,existing_recovery_method:s});let{user:a}=await this._privyInternal.refreshSession();return{user:a,provider:r.chain_type!=="ethereum"?null:new b9({account:r,entropyId:r.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(o){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:o instanceof Error?o.message:"Unable to recover wallet"}),o}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(r){return console.error(r),!1}}async _load({entropyId:e,entropyIdVerifier:r,wallet:n,recoveryPassword:i,recoveryKey:s,recoveryAccessToken:o,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let l=await this._privyInternal.getAccessToken();if(!l)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:l,entropyId:e,entropyIdVerifier:r}),e}catch(c){if(xD(c))try{if(n.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let u=await this._proxy.recover({accessToken:l,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),u.entropyId}if(n.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryPassword:i,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),u.entropyId}if(["google-drive","icloud"].includes(n.recovery_method)&&o){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryAccessToken:o,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),u.entropyId}if(n.recovery_method==="icloud"&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:"icloud-native"});let u=await this._proxy.recover({accessToken:l,recoverySecretOverride:a,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:"icloud-native"}),u.entropyId}if(n.recovery_method==="recovery-encryption-key"&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let u=await this._proxy.recover({accessToken:l,recoveryKey:s,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),u.entropyId}}catch(u){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:u instanceof Error?u.message:`Unable to recover wallet: ${e}`}),u}throw c}}constructor(e,r,n,i,s,o){if(this._chains=Array.from(zx),this._privyInternal=e,r&&(this._proxy=new pV(r,s),i.setProxy(this._proxy)),n){let a=Rle(n);this._chains=a}this._mfa=i,this._mfaPromises=s,this._appApi=o}},aNe=class extends mo{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}},Q5;const lNe=new Uint8Array(16);function cNe(){if(!Q5&&(Q5=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Q5))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Q5(lNe)}const Ts=[];for(let t=0;t<256;++t)Ts.push((t+256).toString(16).slice(1));function uNe(t,e=0){return Ts[t[e+0]]+Ts[t[e+1]]+Ts[t[e+2]]+Ts[t[e+3]]+"-"+Ts[t[e+4]]+Ts[t[e+5]]+"-"+Ts[t[e+6]]+Ts[t[e+7]]+"-"+Ts[t[e+8]]+Ts[t[e+9]]+"-"+Ts[t[e+10]]+Ts[t[e+11]]+Ts[t[e+12]]+Ts[t[e+13]]+Ts[t[e+14]]+Ts[t[e+15]]}const dNe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),vV={randomUUID:dNe};function O_(t,e,r){if(vV.randomUUID&&!t)return vV.randomUUID();t=t||{};const n=t.random||(t.rng||cNe)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,uNe(n)}function Z5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}var hNe={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function JN(t,e){function r(i,s,o){if(!(typeof document>"u")){o=Z5({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var l=s[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=t.read(c,u),i===u)break}catch{}}return i?o[i]:o}}return Object.create({set:r,get:n,remove:function(i,s){r(i,"",Z5({},s,{expires:-1}))},withAttributes:function(i){return JN(this.converter,Z5({},this.attributes,i))},withConverter:function(i){return JN(Z5({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var fi=JN(hNe,{path:"/"});const wV=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map((e=>e.then((r=>({status:"fulfilled",value:r}))).catch((r=>({status:"rejected",reason:r})))))));let mm="privy:token",x9="privy-token",e6="privy:refresh_token",_9="privy-refresh-token",ym="privy:id-token",C9="privy-id-token",t6="privy-session",Ace=class extends mo{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getToken(){let e=await this._storage.get(mm);try{return typeof e=="string"?new Lw(e).value:null}catch(r){return console.error(r),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(e6);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(ym);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=fi.get(t6);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,r){return this.mightHaveServerCookies||typeof e=="string"&&typeof r=="string"}tokenIsActive(e){if(!e)return!1;let r=Lw.parse(e);return r!==null&&!r.isExpired(30)}async destroyLocalState(e){await wV([this._storage.del(mm),this._storage.del(e6),this._storage.del(ym),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),fi.remove(x9),fi.remove(_9),fi.remove(C9),fi.remove(t6),e?.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeToken(e){if(typeof e=="string"){let r=await this._storage.get(mm);if(await this._storage.put(mm,e),!this._isUsingServerCookies){let n=Lw.parse(e)?.expiration;fi.set(x9,e,{sameSite:"Strict",secure:!0,expires:n?new Date(1e3*n):void 0})}r!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let r=await this._storage.get(mm);await this._storage.del(mm),fi.remove(x9),r!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(e6,e),this._isUsingServerCookies||(fi.set(t6,"t",{sameSite:"Strict",secure:!0,expires:30}),fi.set(_9,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(e6),fi.remove(_9),fi.remove(t6),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let r=(await wV([this.storeToken(e.token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter((n=>n.status==="rejected"));r.length>0&&this.emit("error_storing_tokens",r.map((n=>String(n.reason))).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){if(typeof e=="string"){let r=await this._storage.get(ym);if(await this._storage.put(ym,e),!this._isUsingServerCookies){let n=Lw.parse(e)?.expiration;fi.set(C9,e,{sameSite:"Strict",secure:!0,expires:n?new Date(1e3*n):void 0})}r!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let r=await this._storage.get(ym);await this._storage.del(ym),fi.remove(C9),r!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let r=K0(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,r),r}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};Ace.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var fNe=t=>{let e=new AbortController;return setTimeout((()=>e.abort()),t),e.signal};function pNe(t){let e=new URLSearchParams;for(let r in t)t[r]!=null&&e.append(r,String(t[r]));return Array.from(e).length?"?"+e.toString():""}const r6=()=>{};let of={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const gNe=({level:t}={level:"ERROR"})=>({get level(){return t},error:of[t]>=of.ERROR?console.error:r6,warn:of[t]>=of.WARN?console.warn:r6,info:of[t]>=of.INFO?console.info:r6,debug:of[t]>=of.DEBUG?console.debug:r6});let E9="privy:caid",mNe=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){if(this.isReady)this.callbacks?.setIsReady?.(!0);else{if(!await this.isStorageAccessible())throw new Qr({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),this._config?.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),this.callbacks?.setIsReady?.(!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:r,query:n}){return`${this.baseUrl}${oke(e.path,r)}${pNe(n)}`}async fetch(e,{body:r,params:n,query:i,headers:s,onRequest:o=this._beforeRequest.bind(this)}){let a=new Request(this.getPath(e,{params:n,query:i}),{method:e.method,body:JSON.stringify(r),headers:s}),l=await o(a),c=await this._fetch(a,l),u=await c.json();if(c.status>299)throw new WA(u);return u}async _beforeRequestWithoutInitialize(e){let r=await this.session.getToken(),n=new Headers(e.headers);n.set("privy-app-id",this.appId),this.appClientId&&n.set("privy-client-id",this.appClientId),n.set("privy-client",this._sdkVersion),r&&n.set("Authorization",`Bearer ${r}`),n.set("Content-Type","application/json"),n.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&n.set("privy-ca-id",i),this.nativeAppIdentifier&&n.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:fNe(2e4),headers:n,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessToken(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(b8e,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(E9);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=O_()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(!this._analyticsId)return null;try{await this._storage.put(E9,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}async destroyClientAnalyticsId(){try{return await this._storage.del(E9)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,r){try{await this.fetch(w8e,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:r},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new Qr({code:"storage_error",error:"Unable to access storage"});let r=await this.session.getRefreshToken()??void 0,n=r??"key",i=this._cache.get(n);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let s=this._refreshSession(r,e);this._cache.set(n,s);try{return await s}finally{this._cache.delete(n)}}async _refreshSession(e,r){let n=await this.session.getToken();if(!this.session.hasRefreshCredentials(n,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new WA({code:_W.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${xW.path}`);let i=await this.fetch(xW,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),s=i.session_update_action;return this.logger.debug(`[privy:refresh] response: ${s}`),r||this.callbacks?.setUser?.(i.user),s==="set"&&(await this.session.updateWithTokensResponse(i),this.logger.debug("[privy:refresh] tokens stored")),s==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),r||this.callbacks?.setUser?.(null)),s==="ignore"&&i.token&&(await this.session.storeToken(i.token),this.logger.debug("[privy:refresh] access token stored"),i.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(i.identity_token))),this.logger.debug("[privy:refresh] returning response"),i}catch(i){throw this.logger.debug(`[privy:refresh] error: ${i.message??"unknown error"}`),i instanceof WA&&i.code===_W.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),r||this.callbacks?.setUser?.(null)),i}}async getAccessToken(){let[e,r]=await Promise.all([this.session.getToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,r)){let n=await this.refreshSession(),i=await this.session.getToken();return n.token||this.logger.debug("[privy:getAccessToken] expected token received null"),n.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),n.token??i}return e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${O_()}`,r="blobby";await this._storage.put(e,r);let n=await this._storage.get(e);return await this._storage.del(e),n===r}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.55.0",this._cache=new Map,this.logger=gNe({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new Ace({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=OD(globalThis.fetch,{retries:3,retryDelay:r=>3**r*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",(r=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:r})}))}},yNe=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(yke,{})}}constructor(e){this._privyInternal=e}};const Tce=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",Ice=t=>t?t.linked_accounts.filter(Tce).filter((e=>e.chain_type==="ethereum")).sort(((e,r)=>e.wallet_index-r.wallet_index)):[],bV=t=>Ice(t).find((e=>e.wallet_index===0))??null,Pce=t=>t?t.linked_accounts.filter(Tce).filter((e=>e.chain_type==="solana")).sort(((e,r)=>e.wallet_index-r.wallet_index)):[],vNe=t=>Pce(t).find((e=>e.wallet_index===0))??null,wNe=(t,e)=>!(e==="off"||Ice(t).length>0||t.linked_accounts.filter((r=>r.type==="wallet"&&r.chain_type==="ethereum")).length>0&&e!=="all-users"),bNe=(t,e)=>!(e==="off"||Pce(t).length>0||t.linked_accounts.filter((r=>r.type==="wallet"&&r.chain_type==="solana")).length>0&&e!=="all-users"),ru=async(t,e,r)=>{let n=wNe(e.user,r?.ethereum?.createOnLogin??"off"),i=bNe(e.user,r?.solana?.createOnLogin??"off");if(n&&i){let s=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:bV(s.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return n?{...await t.create({recoveryMethod:"privy",solanaAccount:vNe(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:bV(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let xNe=class{async syncWithToken(e,r,n){let i=await this._privyInternal.fetch(E8e,{body:{token:e,mode:n}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await ru(this._embedded,i,r?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}constructor(e,r){this._privyInternal=e,this._embedded=r}},_Ne=class{async sendCode(e,r){return this._privyInternal.fetch(V8e,{body:{email:e,token:r}})}async loginWithCode(e,r,n,i){let s=await this._privyInternal.fetch(H8e,{body:{email:e,code:r,mode:n}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await ru(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(o.user),o}async linkWithCode(e,r){await this._privyInternal.fetch(G8e,{body:{email:e,code:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:r,code:n}){await this._privyInternal.fetch(Y8e,{body:{oldAddress:e,newAddress:r,code:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(K8e,{body:{address:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,r){this._privyInternal=e,this._embedded=r}},CNe=class{async initializeAuth({relyingParty:e,redirectUrl:r,token:n}){return await this._privyInternal.fetch(k8e,{body:{relying_party:e,redirect_url:r,token:n}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(I8e,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:r,signature:n,fid:i,mode:s},o){let a=await this._privyInternal.fetch(S8e,{body:{channel_token:e,message:r,signature:n,fid:i,mode:s}});await this._privyInternal.session.updateWithTokensResponse(a);let l=await ru(this._embedded,a,o?.embedded);return this._privyInternal.callbacks?.setUser?.(l.user),l}async link({channel_token:e,message:r,signature:n,fid:i}){await this._privyInternal.fetch(A8e,{body:{channel_token:e,message:r,signature:n,fid:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(T8e,{body:{fid:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,r){this._privyInternal=e,this._embedded=r}},ENe=class{async initializeAuth(){return await this._privyInternal.fetch(P8e,{body:{}})}async authenticate({message:e,signature:r,fid:n},i){let s=await this._privyInternal.fetch($8e,{body:{message:e,signature:r,fid:n}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await ru(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(o.user),o}constructor(e,r){this._privyInternal=e,this._embedded=r}},kNe=class{async create(e){let r=await this._privyInternal.session.getOrCreateGuestCredential(),n=await this._privyInternal.fetch(N8e,{body:{guest_credential:r}});await this._privyInternal.session.updateWithTokensResponse(n);let i=await ru(this._embedded,n,e?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}constructor(e,r){this._privyInternal=e,this._embedded=r}};const Nf="privy:state_code",Rf="privy:code_verifier";async function SNe(t,e){let r=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",r))}function ANe(t){return crypto.getRandomValues(new Uint8Array(t))}function jD(){return K0(ANe(36))}function $ce(){return jD()}async function Nce({codeVerifier:t,method:e="S256",digest:r=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let n=await SNe(t,r);return K0(n)}}let TNe=class{async generateURL(e,r){let n=jD(),i=$ce(),s=await Nce({codeVerifier:n,digest:this._crypto?.digest});return await Promise.all([this._storage.put(Rf,n),this._storage.put(Nf,i)]),this._privyInternal.fetch(M8e,{body:{redirect_to:r,provider:e,code_challenge:s,state_code:i}})}async loginWithCode(e,r,n,i,s,o){let[a,l]=await Promise.all([this._storage.get(Rf),this._storage.get(Nf)]);if(l!==r)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:n,storedStateCode:l??"",returnedStateCode:r??""}),new Qr({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let c=await this._privyInternal.fetch(j8e,{body:{authorization_code:e,code_type:i,state_code:l,code_verifier:a,mode:s}});await this._privyInternal.session.updateWithTokensResponse(c);let u=await ru(this._embedded,c,o?.embedded);return await Promise.all([this._storage.del(Rf),this._storage.del(Nf)]),this._privyInternal.callbacks?.setUser?.(u.user),u}async linkWithCode(e,r,n,i){let[s,o]=await Promise.all([this._storage.get(Rf),this._storage.get(Nf)]);if(o!==r)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:n,storedStateCode:o??"",returnedStateCode:r??""}),new Qr({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let a=await this._privyInternal.fetch(D8e,{body:{authorization_code:e,code_type:i,state_code:o,code_verifier:s}});await this._privyInternal.session.processOAuthTokens(a.oauth_tokens);let l=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(Rf),this._storage.del(Nf)]),{user:l.user,identity_token:l.identity_token}}async unlink(e,r){await this._privyInternal.fetch(F8e,{body:{provider:e,subject:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,r,n,i){this._privyInternal=e,this._embedded=r,this._storage=n,this._crypto=i}},INe=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch(W8e,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(z8e,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(q8e,{body:{relying_party:e}})}async loginWithPasskey(e,r,n,i){let s=await this._privyInternal.fetch(U8e,{body:{relying_party:n,challenge:r,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await ru(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(o.user),o}async signupWithPasskey(e,r,n){let i=await this._privyInternal.fetch(B8e,{body:{relying_party:r,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await ru(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async linkWithPasskey(e,r){await this._privyInternal.fetch(L8e,{body:{relying_party:r,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,r){this._privyInternal=e,this._embedded=r}},PNe=class{async sendCode(e,r){return this._privyInternal.fetch(X8e,{body:{phoneNumber:e,token:r}})}async loginWithCode(e,r,n,i){let s=await this._privyInternal.fetch(J8e,{body:{phoneNumber:e,code:r,mode:n}});await this._privyInternal.session.updateWithTokensResponse(s);let o=await ru(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(o.user),o}async linkWithCode(e,r){await this._privyInternal.fetch(Q8e,{body:{phoneNumber:e,code:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:r,code:n}){await this._privyInternal.fetch(eke,{body:{old_phone_number:e,new_phone_number:r,code:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(Z8e,{body:{phoneNumber:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,r){this._privyInternal=e,this._embedded=r}},$Ne=class{async unlinkWallet(e){await this._privyInternal.fetch(hke,{body:{address:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async linkWithSiwe(e,r,n){let i=r||this._wallet,s=n||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(uke,{body:{message:s,signature:e,chainId:i.chainId,walletClientType:i.walletClientType,connectorType:i.connectorType}});let o=await this._privyInternal.refreshSession();return{user:o.user,identity_token:o.identity_token}}async loginWithSiwe(e,r,n,i,s){let o=r||this._wallet,a=n||this._preparedMessage;if(!o)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!a)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let l=await this._privyInternal.fetch(cke,{body:{signature:e,message:a,chainId:o.chainId,walletClientType:o.walletClientType,connectorType:o.connectorType,mode:i}});await this._privyInternal.session.updateWithTokensResponse(l);let c=await ru(this._embedded,l,s?.embedded);return this._privyInternal.callbacks?.setUser?.(c.user),c}async init(e,r,n){var i;this._wallet=e;let{nonce:s}=await this._privyInternal.fetch(jae,{body:{address:e.address}}),o=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:r,nonce:s,uri:n}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=o,{nonce:s,message:o}}constructor(e,r){this._wallet=void 0,this._privyInternal=e,this._embedded=r}},NNe=class{async unlink({address:e}){await this._privyInternal.fetch(mke,{body:{address:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async link({message:e,signature:r,walletClientType:n,connectorType:i}){await this._privyInternal.fetch(gke,{body:{message:e,signature:r,walletClientType:n,connectorType:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async login({mode:e,message:r,signature:n,walletClientType:i,connectorType:s,opts:o}){let a=await this._privyInternal.fetch(pke,{body:{signature:n,message:r,walletClientType:i,connectorType:s,mode:e}});await this._privyInternal.session.updateWithTokensResponse(a);let l=await ru(this._embedded,a,o?.embedded);return this._privyInternal.callbacks?.setUser?.(l.user),l}async fetchNonce({address:e}){let{nonce:r}=await this._privyInternal.fetch(fke,{body:{address:e}});return{nonce:r}}constructor(e,r){this._privyInternal=e,this._embedded=r}},RNe=class{async link(e,r,n,i){await this._privyInternal.fetch(dke,{body:{message:e,signature:r,smart_wallet_type:n,smart_wallet_version:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async init(e){var r;let{nonce:n}=await this._privyInternal.fetch(jae,{body:{address:e.address}});return{nonce:n,message:`${(r={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:n}).domain} wants you to sign in with your Ethereum account:
${r.address}

${r.statement}

URI: ${r.uri}
Version: 1
Chain ID: ${r.chainId}
Nonce: ${r.nonce}
Issued At: ${r.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},ONe=class{async logout(){try{let e=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(ake,{body:{refresh_token:e}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId()]),this._privyInternal.callbacks?.setUser?.(null)}constructor(e,r,n,i){this._privyInternal=e,this.customProvider=new xNe(this._privyInternal,r),this.phone=new PNe(this._privyInternal,r),this.email=new _Ne(this._privyInternal,r),this.oauth=new TNe(this._privyInternal,r,n,i),this.guest=new kNe(this._privyInternal,r),this.siwe=new $Ne(this._privyInternal,r),this.siws=new NNe(this._privyInternal,r),this.smartWallet=new RNe(this._privyInternal),this.passkey=new INe(this._privyInternal,r),this.farcaster=new CNe(this._privyInternal,r),this.farcasterV2=new ENe(this._privyInternal,r)}},jNe=class{async initOnRampSession(e){return await this._privyInternal.fetch(x8e,{body:e})}async getStatus(e){return await this._privyInternal.fetch(_8e,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const MNe={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let DNe=new Set([sc.id,nc.id,ic.id,ba.id,N1.id,RE.id]),FNe=new Set([sc.id,nc.id,md.id,ic.id,ba.id]);function LNe(t,e){switch(e){case"native-currency":return DNe.has(t);case"USDC":return FNe.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function UNe(t,e){switch(t){case nc.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case N1.id:return"AVAX_CCHAIN";case ic.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case RE.id:return"CELO_CELO";case ba.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case sc.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let BNe=class{async sign(e){return await this._privyInternal.fetch(vke,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:r}){let{url:n,key:i}=MNe[r?"sandbox":"prod"],s=await OD(fetch,{retries:3,retryDelay:500})(`${n}/transactions/ext/${e}?apiKey=${i}`);if(!s.ok)throw new Q7e({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let o=await s.json();return Array.isArray(o)?o.at(0):void 0}constructor(e){this._privyInternal=e}},zNe=class{constructor(e){this.moonpay=new BNe(e),this.coinbase=new jNe(e)}},qNe=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(R8e,{body:e})}constructor(e){this._privyInternal=e}},WNe=class{async sendCode(e){return await this._privyInternal.fetch(O8e,{body:e})}constructor(e){this._privyInternal=e}},HNe=class{setProxy(e){this.proxy=e}async getAccessToken(){let e=await this.privyInternal.getAccessToken();if(!e)throw new Qr({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new Qr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessToken()})}async initEnrollMfa(e){if(!this.proxy)throw new Qr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessToken()})}async submitEnrollMfa(e){if(!this.proxy)throw new Qr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let r=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),r}async unenrollMfa(e){if(!this.proxy)throw new Qr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let r=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),r}async clearMfa(e){if(!this.proxy)throw new Qr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,r){this.proxy=r,this.privyInternal=e,this.sms=new WNe(e),this.passkey=new qNe(e)}},VNe=class{async init(e){return this._privyInternal.fetch(ike,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(ske,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},GNe=class{async generateURL(e){let r=jD(),n=$ce(),i=await Nce({codeVerifier:r,digest:this._crypto?.digest});return await Promise.all([this._storage.put(Rf,r),this._storage.put(Nf,n)]),this._privyInternal.fetch(rke,{body:{redirect_to:e,code_challenge:i,state_code:n}})}async authorize(e,r){let[n,i]=await Promise.all([this._storage.get(Rf),this._storage.get(Nf)]);if(i!==r)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:r??""}),new Qr({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(nke,{body:{authorization_code:e,state_code:i,code_verifier:n}});return await Promise.all([this._storage.del(Rf),this._storage.del(Nf)]),s}constructor(e,r,n){this._privyInternal=e,this._storage=r,this._crypto=n}},KNe=class{async getRecoveryKeyMaterial(e,r){return this._privyInternal.fetch(tke,{body:{chain_type:r},params:{address:e}})}constructor(e,r,n){this._privyInternal=e,this.auth=new GNe(this._privyInternal,r,n),this.icloudAuth=new VNe(this._privyInternal)}},YNe=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,r){return this._privyInternal.getPath(e,r)}async fetchPrivyRoute(e,r){return this._privyInternal.fetch(e,r)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...r}){this._privyInternal=new mNe({...r,appClientId:e}),this.mfa=new HNe(this._privyInternal),this.mfaPromises=new aNe,this.app=new $7e(this._privyInternal),this.embeddedWallet=new oNe(this._privyInternal,r.embeddedWalletMessagePoster,r.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new yNe(this._privyInternal),this.auth=new ONe(this._privyInternal,this.embeddedWallet,r.storage,r.crypto),this.recovery=new KNe(this._privyInternal,r.storage,r.crypto),this.funding=new zNe(this._privyInternal),this.delegated=new B7e(this._privyInternal),this.crossApp=new Tle(this._privyInternal,r.storage)}};const JNe={AC:"40123",AD:"312345",AE:"501234567",AF:"701234567",AG:"2684641234",AI:"2642351234",AL:"672123456",AM:"77123456",AO:"923123456",AR:"91123456789",AS:"6847331234",AT:"664123456",AU:"412345678",AW:"5601234",AX:"412345678",AZ:"401234567",BA:"61123456",BB:"2462501234",BD:"1812345678",BE:"470123456",BF:"70123456",BG:"43012345",BH:"36001234",BI:"79561234",BJ:"0195123456",BL:"690001234",BM:"4413701234",BN:"7123456",BO:"71234567",BQ:"3181234",BR:"11961234567",BS:"2423591234",BT:"17123456",BW:"71123456",BY:"294911911",BZ:"6221234",CA:"5062345678",CC:"412345678",CD:"991234567",CF:"70012345",CG:"061234567",CH:"781234567",CI:"0123456789",CK:"71234",CL:"221234567",CM:"671234567",CN:"13123456789",CO:"3211234567",CR:"83123456",CU:"51234567",CV:"9911234",CW:"95181234",CX:"412345678",CY:"96123456",CZ:"601123456",DE:"15123456789",DJ:"77831001",DK:"34412345",DM:"7672251234",DO:"8092345678",DZ:"551234567",EC:"991234567",EE:"51234567",EG:"1001234567",EH:"650123456",ER:"7123456",ES:"612345678",ET:"911234567",FI:"412345678",FJ:"7012345",FK:"51234",FM:"3501234",FO:"211234",FR:"612345678",GA:"06031234",GB:"7400123456",GD:"4734031234",GE:"555123456",GF:"694201234",GG:"7781123456",GH:"231234567",GI:"57123456",GL:"221234",GM:"3012345",GN:"601123456",GP:"690001234",GQ:"222123456",GR:"6912345678",GT:"51234567",GU:"6713001234",GW:"955012345",GY:"6091234",HK:"51234567",HN:"91234567",HR:"921234567",HT:"34101234",HU:"201234567",ID:"812345678",IE:"850123456",IL:"502345678",IM:"7924123456",IN:"8123456789",IO:"3801234",IQ:"7912345678",IR:"9123456789",IS:"6111234",IT:"3123456789",JE:"7797712345",JM:"8762101234",JO:"790123456",JP:"9012345678",KE:"712123456",KG:"700123456",KH:"91234567",KI:"72001234",KM:"3212345",KN:"8697652917",KP:"1921234567",KR:"1020000000",KW:"50012345",KY:"3453231234",KZ:"7710009998",LA:"2023123456",LB:"71123456",LC:"7582845678",LI:"660234567",LK:"712345678",LR:"770123456",LS:"50123456",LT:"61234567",LU:"628123456",LV:"21234567",LY:"912345678",MA:"650123456",MC:"612345678",MD:"62112345",ME:"60123456",MF:"690001234",MG:"321234567",MH:"2351234",MK:"72345678",ML:"65012345",MM:"92123456",MN:"88123456",MO:"66123456",MP:"6702345678",MQ:"696201234",MR:"22123456",MS:"6644923456",MT:"96961234",MU:"52512345",MV:"7712345",MW:"991234567",MX:"2221234567",MY:"123456789",MZ:"821234567",NA:"811234567",NC:"751234",NE:"93123456",NF:"381234",NG:"8021234567",NI:"81234567",NL:"612345678",NO:"40612345",NP:"9841234567",NR:"5551234",NU:"8884012",NZ:"211234567",OM:"92123456",PA:"61234567",PE:"912345678",PF:"87123456",PG:"70123456",PH:"9051234567",PK:"3012345678",PL:"512345678",PM:"551234",PR:"7872345678",PS:"599123456",PT:"912345678",PW:"6201234",PY:"961456789",QA:"33123456",RE:"692123456",RO:"712034567",RS:"601234567",RU:"9123456789",RW:"720123456",SA:"512345678",SB:"7421234",SC:"2510123",SD:"911231234",SE:"701234567",SG:"81234567",SH:"51234",SI:"31234567",SJ:"41234567",SK:"912123456",SL:"25123456",SM:"66661212",SN:"701234567",SO:"71123456",SR:"7412345",SS:"977123456",ST:"9812345",SV:"70123456",SX:"7215205678",SY:"944567890",SZ:"76123456",TA:"8999",TC:"6492311234",TD:"63012345",TG:"90112345",TH:"812345678",TJ:"917123456",TK:"7290",TL:"77212345",TM:"66123456",TN:"20123456",TO:"7715123",TR:"5012345678",TT:"8682911234",TV:"901234",TW:"912345678",TZ:"621234567",UA:"501234567",UG:"712345678",US:"2015550123",UY:"94231234",UZ:"912345678",VA:"3123456789",VC:"7844301234",VE:"4121234567",VG:"2843001234",VI:"3406421234",VN:"912345678",VU:"5912345",WF:"821234",WS:"7212345",XK:"43201234",YE:"712345678",YT:"639012345",ZA:"711234567",ZM:"955123456",ZW:"712345678"},Rce={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:241|349)0\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|91(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79]))))\\d{3}|(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8])|8(?:55|6[0-8]|[78]\\d|9[02-9]))\\d{6}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|8)\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|8(?:28[235-7]|3))|73179|807(?:1|9[1-3])|(?:1552|6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689])\\d|8(?:[14-6]\\d|2[0-79]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["16|[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["18[06]","18[06]0"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:[19]|2[2-46-9]|3[3-9])|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:(?:18|4[0679]|5[03])\\d|2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9]))\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[016-8]\\d|2[0-8]|5[0-5]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|[67]\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[67]"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[25-7]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[25-7]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:[0-57-9]\\d|66)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["\\d"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-3]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function qE(t,e){var r=Array.prototype.slice.call(e);return r.push(Rce),t.apply(this,r)}function XNe(){return qE(SAe,arguments)}function R2(t){return Jae.call(this,t,Rce)}R2.prototype=Object.create(Jae.prototype,{});R2.prototype.constructor=R2;function QNe(){return qE(W9e,arguments)}function MD(){return qE(xE,arguments)}function ZNe(){return qE(H9e,arguments)}const n6=(t,e)=>XNe(String(t),e),k9=(t,e)=>`+${MD(e)} ${t}`,eRe=t=>`*${t.replaceAll("-","").slice(-4)}`,tRe=t=>new R2(t),rRe=QNe().map((t=>({code:t,callCode:MD(t)}))),nRe=t=>{let e=ZNe(t,JNe)?.formatInternational();return e?.substring(e.indexOf(" ")+1)},iRe=t=>{let e=new R2;e.input(t);let r=e.getCountry()||"US",n=e.getCallingCode()||"1";return{countryCode:r,phone:t.replace("+"+n,"")}},sRe=(t,e=!0)=>t.reduce(((r,n)=>({...r,[n]:e})),{}),oRe={[sc.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[vD.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[md.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[OE.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[ba.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[Bx.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[ic.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[NE.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[N1.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[yD.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[nc.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[$E.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},M4={"mainnet-beta":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",devnet:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",testnet:""};let aRe=new Set([sc.id,ic.id,md.id,ba.id,nc.id]),lRe=new Set([sc.id,ic.id,ba.id,md.id,nc.id]),cRe={buy:"CARD",send:"CRYPTO_ACCOUNT"},uRe={USDC:"2b92315d-eab7-5bef-84fa-089a131333f5",ETH:"d85dce9b-5b73-5c3c-8978-522ce1d1c1b4",BTC:"5b71fc48-3dd3-540c-809b-f8c94d0e68b5",SOL:"4f039497-3af8-5bb3-951c-6df9afa9be1c",POL:"026bcc1e-9163-591c-a709-34dd18b2e7a1"};sc.id+"",ic.id+"",md.id+"",ba.id+"",nc.id+"";function dRe({appId:t,input:e,amount:r,blockchain:n,asset:i,experience:s}){let o=new URL("https://pay.coinbase.com/buy/select-asset");return o.searchParams.set("appId",e.app_id),o.searchParams.set("sessionToken",e.session_token),o.searchParams.set("endPartnerName",`privy:${t}`),o.searchParams.set("defaultExperience",s),o.searchParams.set("presetCryptoAmount",r.startsWith(".")?`0${r}`:r),o.searchParams.set("defaultNetwork",n),o.searchParams.set("defaultPaymentMethod",cRe[s]),o.searchParams.set("defaultAsset",uRe[i]),o.searchParams.set("partnerUserId",e.partner_user_id),{url:o}}const hRe=(t,e)=>{switch(e){case"native-currency":return aRe.has(t);case"USDC":return lRe.has(t);default:return console.warn("Unknown asset passed to Coinbase Onramp"),!1}};function fRe(t,e){return t===ba.id?"POL":"ETH"}let pRe=class{async invokeRpc({method:e,params:r}){return await(await fetch(this.cluster.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:O_(),method:e,params:r})})).json()}async getBalance(e){try{let r=await this.invokeRpc({method:"getBalance",params:[e]});return r.error?null:BigInt(r.result.value)}catch{return null}}async getTokenAccountsByOwner(e,r){try{let n=await this.invokeRpc({method:"getTokenAccountsByOwner",params:[e,{mint:r},{encoding:"jsonParsed"}]});if(n.error)return null;let i=n.result.value.at(0)?.account?.data?.parsed?.info?.tokenAmount;return i?{amount:BigInt(i.amount),decimals:i.decimals}:null}catch{return null}}async getAccountInfo(e){try{let r=await this.invokeRpc({method:"getAccountInfo",params:[e,{encoding:"jsonParsed"}]});if(r.error)return null;let n=r.result.value?.data?.parsed?.info;return n?{decimals:n.decimals}:null}catch{return null}}constructor(e){this.cluster=e}};function xV(t){return t?`${t.slice(0,5)}${t.slice(-4)}`:""}function gRe({wei:t,precision:e=3}){return parseFloat(gg(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"")}function Co({amount:t,decimals:e}){return Ni(BigInt(t),e)}const mRe=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,yRe=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,vRe=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function wRe(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){bRe(t);return}return e}function bRe(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function zw(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!vRe.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(mRe.test(t)||yRe.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,wRe)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}const xRe=/#/g,_Re=/&/g,CRe=/\//g,ERe=/=/g,DD=/\+/g,kRe=/%5e/gi,SRe=/%60/gi,ARe=/%7c/gi,TRe=/%20/gi;function IRe(t){return encodeURI(""+t).replace(ARe,"|")}function XN(t){return IRe(typeof t=="string"?t:JSON.stringify(t)).replace(DD,"%2B").replace(TRe,"+").replace(xRe,"%23").replace(_Re,"%26").replace(SRe,"`").replace(kRe,"^").replace(CRe,"%2F")}function S9(t){return XN(t).replace(ERe,"%3D")}function Oce(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function PRe(t){return Oce(t.replace(DD," "))}function $Re(t){return Oce(t.replace(DD," "))}function NRe(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const r of t.split("&")){const n=r.match(/([^=]+)=?(.*)/)||[];if(n.length<2)continue;const i=PRe(n[1]);if(i==="__proto__"||i==="constructor")continue;const s=$Re(n[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function RRe(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(r=>`${S9(t)}=${XN(r)}`).join("&"):`${S9(t)}=${XN(e)}`:S9(t)}function ORe(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>RRe(e,t[e])).filter(Boolean).join("&")}const jRe=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,MRe=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,DRe=/^([/\\]\s*){2,}[^/\\]/,FRe=/^\.?\//;function jce(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?jRe.test(t):MRe.test(t)||(e.acceptRelative?DRe.test(t):!1)}function LRe(t="",e){return t.endsWith("/")}function URe(t="",e){return(LRe(t)?t.slice(0,-1):t)||"/"}function BRe(t="",e){return t.endsWith("/")?t:t+"/"}function zRe(t,e){if(WRe(e)||jce(t))return t;const r=URe(e);if(t.startsWith(r)){const n=t[r.length];if(!n||n==="/"||n==="?")return t}return VRe(r,t)}function qRe(t,e){const r=GRe(t),n={...NRe(r.search),...e};return r.search=ORe(n),KRe(r)}function WRe(t){return!t||t==="/"}function HRe(t){return t&&t!=="/"}function VRe(t,...e){let r=t||"";for(const n of e.filter(i=>HRe(i)))if(r){const i=n.replace(FRe,"");r=BRe(r)+i}else r=n;return r}const Mce=Symbol.for("ufo:protocolRelative");function GRe(t="",e){const r=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(r){const[,h,f=""]=r;return{protocol:h.toLowerCase(),pathname:f,href:h+f,auth:"",host:"",search:"",hash:""}}if(!jce(t,{acceptRelative:!0}))return _V(t);const[,n="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=s.match(/([^#/?]*)(.*)?/)||[];n==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:c,hash:u}=_V(a);return{protocol:n.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:l,search:c,hash:u,[Mce]:!n}}function _V(t=""){const[e="",r="",n=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:r,hash:n}}function KRe(t){const e=t.pathname||"",r=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",n=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[Mce]?(t.protocol||"")+"//":"")+i+s+e+r+n}class Dce extends Error{constructor(e,r){super(e,r),this.name="FetchError",r?.cause&&!this.cause&&(this.cause=r.cause)}}function YRe(t){const e=t.error?.message||t.error?.toString()||"",r=t.request?.method||t.options?.method||"GET",n=t.request?.url||String(t.request)||"/",i=`[${r}] ${JSON.stringify(n)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${i}: ${s}${e?` ${e}`:""}`,a=new Dce(o,t.error?{cause:t.error}:void 0);for(const l of["request","options","response"])Object.defineProperty(a,l,{get(){return t[l]}});for(const[l,c]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,l,{get(){return t.response&&t.response[c]}});return a}const JRe=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function CV(t="GET"){return JRe.has(t.toUpperCase())}function XRe(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer||t instanceof FormData||t instanceof URLSearchParams?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const QRe=new Set(["image/svg","application/xml","application/xhtml","application/html"]),ZRe=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function eOe(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return ZRe.test(e)?"json":e==="text/event-stream"?"stream":QRe.has(e)||e.startsWith("text/")?"text":"blob"}function tOe(t,e,r,n){const i=rOe(e?.headers??t?.headers,r?.headers,n);let s;return(r?.query||r?.params||e?.params||e?.query)&&(s={...r?.params,...r?.query,...e?.params,...e?.query}),{...r,...e,query:s,params:s,headers:i}}function rOe(t,e,r){if(!e)return new r(t);const n=new r(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new r(t))n.set(i,s);return n}async function i6(t,e){if(e)if(Array.isArray(e))for(const r of e)await r(t);else await e(t)}const nOe=new Set([408,409,425,429,500,502,503,504]),iOe=new Set([101,204,205,304]);function Fce(t={}){const{fetch:e=globalThis.fetch,Headers:r=globalThis.Headers,AbortController:n=globalThis.AbortController}=t;async function i(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let u;typeof a.options.retry=="number"?u=a.options.retry:u=CV(a.options.method)?0:1;const h=a.response&&a.response.status||500;if(u>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(h):nOe.has(h))){const f=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return f>0&&await new Promise(p=>setTimeout(p,f)),s(a.request,{...a.options,retry:u-1})}}const c=YRe(a);throw Error.captureStackTrace&&Error.captureStackTrace(c,s),c}const s=async function(l,c={}){const u={request:l,options:tOe(l,c,t.defaults,r),response:void 0,error:void 0};if(u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&(await i6(u,u.options.onRequest),u.options.headers instanceof r||(u.options.headers=new r(u.options.headers||{}))),typeof u.request=="string"&&(u.options.baseURL&&(u.request=zRe(u.request,u.options.baseURL)),u.options.query&&(u.request=qRe(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&CV(u.options.method))if(XRe(u.options.body)){const p=u.options.headers.get("content-type");typeof u.options.body!="string"&&(u.options.body=p==="application/x-www-form-urlencoded"?new URLSearchParams(u.options.body).toString():JSON.stringify(u.options.body)),p||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")}else("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half"));let h;if(!u.options.signal&&u.options.timeout){const p=new n;h=setTimeout(()=>{const m=new Error("[TimeoutError]: The operation was aborted due to timeout");m.name="TimeoutError",m.code=23,p.abort(m)},u.options.timeout),u.options.signal=p.signal}try{u.response=await e(u.request,u.options)}catch(p){return u.error=p,u.options.onRequestError&&await i6(u,u.options.onRequestError),await i(u)}finally{h&&clearTimeout(h)}if((u.response.body||u.response._bodyInit)&&!iOe.has(u.response.status)&&u.options.method!=="HEAD"){const p=(u.options.parseResponse?"json":u.options.responseType)||eOe(u.response.headers.get("content-type")||"");switch(p){case"json":{const m=await u.response.text(),v=u.options.parseResponse||zw;u.response._data=v(m);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[p]()}}return u.options.onResponse&&await i6(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await i6(u,u.options.onResponseError),await i(u)):u.response},o=async function(l,c){return(await s(l,c))._data};return o.raw=s,o.native=(...a)=>e(...a),o.create=(a={},l={})=>Fce({...t,...l,defaults:{...t.defaults,...l.defaults,...a}}),o}const j_=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),sOe=j_.fetch?(...t)=>j_.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),oOe=j_.Headers,aOe=j_.AbortController,Lce=Fce({fetch:sOe,Headers:oOe,AbortController:aOe});var sr;let po=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,r,n){super(e),r instanceof Error&&(this.cause=r),this.privyErrorCode=n}},za=class extends po{constructor(e,r,n,i,s,o){super(n,i,s),this.type=e,this.status=r,this.data=o}},fe=class extends po{constructor(e,r,n){super(e,r,n),this.type="client_error"}},lOe=class extends fe{constructor(){super("Request timed out",void 0,"client_request_timeout")}},kn=class extends po{constructor(e,r,n){super(e,r,n),this.type="connector_error"}};const jr=t=>{if(t instanceof po)return t;if(!(t instanceof Dce))return jn(t);if(!t.response)return new za("api_error",null,t.message,t);let{type:e,message:r,error:n,code:i}=t.data;return new za(e||"ApiError",t.response.status,r||n,t,i,t.data)},jn=t=>t instanceof po?t:t instanceof Error?new fe(t.message,t):new fe(`Internal error: ${t}`);var ye=((sr={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",sr.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",sr.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",sr.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",sr.INVALID_DATA="invalid_data",sr.INVALID_CAPTCHA="invalid_captcha",sr.LINKED_TO_ANOTHER_USER="linked_to_another_user",sr.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",sr.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",sr.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",sr.USER_EXITED_UPDATE_FLOW="exited_update_flow",sr.ALLOWLIST_REJECTED="allowlist_rejected",sr.OAUTH_USER_DENIED="oauth_user_denied",sr.OAUTH_UNEXPECTED="oauth_unexpected",sr.UNKNOWN_AUTH_ERROR="unknown_auth_error",sr.USER_EXITED_AUTH_FLOW="exited_auth_flow",sr.USER_EXITED_LINK_FLOW="exited_link_flow",sr.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",sr.MUST_BE_AUTHENTICATED="must_be_authenticated",sr.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",sr.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",sr.CLIENT_REQUEST_TIMEOUT="client_request_timeout",sr.INVALID_CREDENTIALS="invalid_credentials",sr.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",sr.UNKNOWN_MFA_ERROR="unknown_mfa_error",sr.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",sr.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",sr.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",sr.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",sr.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",sr.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",sr.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",sr.TRANSACTION_FAILURE="transaction_failure",sr.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",sr.NOT_SUPPORTED="not_supported",sr.CAPTCHA_TIMEOUT="captcha_timeout",sr.INVALID_MESSAGE="invalid_message",sr.UNABLE_TO_SIGN="unable_to_sign",sr.CAPTCHA_FAILURE="captcha_failure",sr.CAPTCHA_DISABLED="captcha_disabled",sr.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",sr.TOO_MANY_REQUESTS="too_many_requests",sr.USER_LIMIT_REACHED="max_accounts_reached",sr.DISALLOWED_LOGIN_METHOD="disallowed_login_method",sr.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",sr.PASSKEY_NOT_ALLOWED="passkey_not_allowed",sr.USER_DOES_NOT_EXIST="user_does_not_exist",sr.INSUFFICIENT_BALANCE="insufficient_balance",sr.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",sr.BUFFER_NOT_DEFINED="buffer_not_defined",sr.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",sr);let Wp=class extends fe{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},Gf=class extends fe{constructor(e="Embedded wallet error",r){super(e,r,"unknown_embedded_wallet_error")}},cOe=class extends fe{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},Vx=class extends fe{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}};const Uce="/api/v1/sessions",Bce="/api/v1/sessions/logout",uOe="/api/v1/siwe/init",dOe="/api/v1/siwe/authenticate",hOe="/api/v1/siwe/link",fOe="/api/v1/siwe/link_smart_wallet",pOe="/api/v1/siwe/unlink",gOe="/api/v1/siwe/transfer",mOe="/api/v1/siws/init",yOe="/api/v1/siws/authenticate",vOe="/api/v1/siws/link",wOe="/api/v1/siws/unlink",bOe="/api/v1/siws/transfer",xOe="/api/v1/farcaster/init",_Oe="/api/v1/farcaster/authenticate",COe="/api/v1/farcaster/link",EOe="/api/v1/farcaster/status",kOe="/api/v1/farcaster/unlink",SOe="/api/v1/farcaster/transfer",AOe="/api/v1/passwordless/init",TOe="/api/v1/passwordless/authenticate",IOe="/api/v1/passwordless/link",POe="/api/v1/passwordless/unlink",$Oe="/api/v1/passwordless/update",NOe="/api/v1/passwordless/transfer",ROe="/api/v1/passwordless_sms/init",OOe="/api/v1/passwordless_sms/link",jOe="/api/v1/passwordless_sms/unlink",MOe="/api/v1/passwordless_sms/authenticate",DOe="/api/v1/passwordless_sms/update",FOe="/api/v1/passwordless_sms/transfer",zce="/api/v1/oauth/init",qce="/api/v1/oauth/authenticate",Wce="/api/v1/oauth/link",LOe="/api/v1/oauth/unlink",UOe="/api/v1/oauth/transfer",BOe="/api/v1/recovery/oauth/init",zOe="/api/v1/recovery/oauth/init_icloud",qOe="/api/v1/recovery/oauth/authenticate",WOe="/api/v1/passkeys/link/init",HOe="/api/v1/passkeys/authenticate/init",VOe="/api/v1/passkeys/register/init",GOe="/api/v1/passkeys/link",KOe="/api/v1/passkeys/authenticate",YOe="/api/v1/passkeys/register",JOe="/api/v1/telegram/authenticate",XOe="/api/v1/telegram/link",QOe="/api/v1/telegram/unlink",ZOe="/api/v1/telegram/transfer",eje="/api/v1/mfa/passwordless_sms/init",tje="/api/v1/mfa/passkeys/init",rje="/api/v1/users/me/accept_terms",Hce="/api/v1/analytics_events",nje="/api/v1/custom_jwt_account/authenticate",ije="/api/v1/custom_jwt_account/link",sje="/api/v1/guest/authenticate",oje="/api/v1/plugins/moonpay_on_ramp/sign",aje="/api/v1/funding/coinbase_on_ramp/init",lje="/api/v1/funding/coinbase_on_ramp/status",cje="/api/v1/wallets/revoke",uje="/api/v1/users/me",dje="/api/v1/scan/transaction",De=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},Jv=t=>()=>{throw Error(t.trim())},Vce=x.createContext({setAuthenticated:De,setUser:De,setIsNewUser:De,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:De,connectors:[],solanaWallets:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:De,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:De,initializeWalletProxy:De,getAuthMeta:De,getAuthFlow:De,closePrivyModal:De,openPrivyModal:De,connectWallet:De,initLoginWithWallet:De,loginWithWallet:De,initLoginWithFarcaster:De,loginWithFarcaster:De,loginWithCode:De,initLoginWithEmail:De,initLoginWithSms:De,initUpdateEmail:De,initUpdatePhone:De,resendEmailCode:De,resendSmsCode:De,initLoginWithHeadlessOAuth:De,loginWithHeadlessOAuth:De,crossAppAuthFlow:De,initLoginWithOAuth:De,loginWithOAuth:De,passkeyAuthState:{status:"initial"},setPasskeyAuthState:De,initSignupWithPasskey:De,signupWithPasskey:De,initLoginWithPasskey:De,loginWithPasskey:De,initLinkWithPasskey:De,linkWithPasskey:De,refreshSessionAndUser:De,walletProxy:null,createAnalyticsEvent:De,acceptTerms:De,getUsdTokenPrice:De,getUsdPriceForSol:De,getSplTokenMetadata:De,recoverEmbeddedWallet:De,updateWallets:De,fundWallet:De,openModal:De,setReadyToTrue:De,requestFarcasterSignerStatus:De,initLoginWithTelegram:De,loginWithTelegram:De,generateSiweMessage:De,generateSiweMessageForSmartWallet:De,loginWithSiwe:De,linkWithSiwe:De,linkSmartWallet:De,delegateWallet:De,revokeDelegatedWallets:De,exportSolanaWallet:De,connectCoinbaseSmartWallet:De,connectBaseAccount:De,initiateAccountTransfer:De,emailOtpState:{status:"initial"},setEmailOtpState:De,smsOtpState:{status:"initial"},setSmsOtpState:De,siweState:{status:"initial"},setSiweState:De,oAuthState:{status:"initial"},setOAuthState:De,telegramAuthState:{status:"initial"},setTelegramAuthState:De,isHeadlessOAuthLoading:!1,isHeadlessSigning:De,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:De}),bt=()=>x.useContext(Vce);function Qt(t){return t?new Date(1e3*t):null}function Xs(t,e){return t.slice().sort(((r,n)=>(r.firstVerifiedAt??r.verifiedAt).getTime()-(n.firstVerifiedAt??n.verifiedAt).getTime())).find((r=>r.type===e))}const Yu=t=>t?Gce(t).find((e=>e.walletIndex===0))??null:null,Gce=t=>t?Kce(t,"ethereum"):[],Kce=(t,e)=>t.linkedAccounts.filter((r=>r.type==="wallet"&&r.walletClientType==="privy"&&!r.imported&&r.chainType===e)),Yce=t=>t?Kce(t,"solana"):[],yg=t=>t?Yce(t).find((e=>e.walletIndex===0))??null:null,QN=t=>t?.linkedAccounts.find((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum"))||null,WE=t=>t?.linkedAccounts.find((e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana"))||null;let Jce=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&pi(t)===pi(e);const Pl=(t,e)=>t?.linkedAccounts.find((r=>r.type==="wallet"&&r.walletClientType==="privy"&&Jce(r.address,e)))||null,A9=(t,e)=>t.find((r=>Jce(r.address,e)))||null,Kl=t=>Yu(t)??yg(t);function $s(t){if(!t)return null;let e=(function(_){let A=[];for(let C of _){let k=C.type;switch(C.type){case"wallet":let P={id:C.id,address:C.address,type:C.type,imported:C.imported,delegated:C.delegated,verifiedAt:Qt(C.verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at),chainType:C.chain_type,walletClientType:C.wallet_client_type,connectorType:C.connector_type,recoveryMethod:C.recovery_method,walletIndex:C.wallet_index};A.push(P);break;case"smart_wallet":let F={address:C.address,type:C.type,verifiedAt:Qt(C.verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at),smartWalletType:C.smart_wallet_type,smartWalletVersion:C.smart_wallet_version};A.push(F);break;case"cross_app":let N={type:C.type,subject:C.subject,embeddedWallets:C.embedded_wallets,smartWallets:C.smart_wallets,providerApp:{id:C.provider_app_id},verifiedAt:Qt(C.verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at)};A.push(N);break;case"email":let $={address:C.address,type:C.type,verifiedAt:Qt(C.verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at)};A.push($);break;case"phone":let U={number:C.phoneNumber,type:C.type,verifiedAt:Qt(C.verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at)};A.push(U);break;case"google_oauth":let O={subject:C.subject,email:C.email,name:C.name,type:C.type,verifiedAt:Qt(C.verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at)};A.push(O);break;case"spotify_oauth":let D={subject:C.subject,email:C.email,name:C.name,type:C.type,verifiedAt:Qt(C.verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at)};A.push(D);break;case"instagram_oauth":let T={subject:C.subject,username:C.username,type:C.type,verifiedAt:Qt(C.verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at)};A.push(T);break;case"twitter_oauth":let I={subject:C.subject,username:C.username,name:C.name,type:C.type,profilePictureUrl:C.profile_picture_url,verifiedAt:Qt(C.verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at)};A.push(I);break;case"discord_oauth":let R={subject:C.subject,username:C.username,email:C.email,type:C.type,verifiedAt:Qt(C.verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at)};A.push(R);break;case"github_oauth":let L={subject:C.subject,username:C.username,name:C.name,email:C.email,type:C.type,verifiedAt:Qt(C.verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at)};A.push(L);break;case"tiktok_oauth":let B={subject:C.subject,username:C.username,name:C.name,type:C.type,verifiedAt:Qt(C.verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at)};A.push(B);break;case"line_oauth":let q={subject:C.subject,name:C.name,email:C.email,profilePictureUrl:C.profile_picture_url,type:C.type,verifiedAt:Qt(C.verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at)};A.push(q);break;case"linkedin_oauth":let G={subject:C.subject,name:C.name,email:C.email,vanityName:C.vanity_name,type:C.type,verifiedAt:Qt(C.verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at)};A.push(G);break;case"apple_oauth":let W={subject:C.subject,email:C.email,type:C.type,verifiedAt:Qt(C.verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at)};A.push(W);break;case"custom_auth":A.push({type:C.type,customUserId:C.custom_user_id,verifiedAt:Qt(C.verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at)});break;case"farcaster":let j={type:C.type,fid:C.fid,ownerAddress:C.owner_address,displayName:C.display_name,username:C.username,bio:C.bio,pfp:C.profile_picture_url,url:C.homepage_url,verifiedAt:Qt(C.verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at),signerPublicKey:C.signer_public_key};A.push(j);break;case"passkey":let Y={type:C.type,enrolledInMfa:C.enrolled_in_mfa,credentialId:C.credential_id,publicKey:C.public_key,authenticatorName:C.authenticator_name,createdWithDevice:C.created_with_device,createdWithOs:C.created_with_os,createdWithBrowser:C.created_with_browser,verifiedAt:Qt(C.verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at)};A.push(Y);break;case"telegram":let Q={type:C.type,telegramUserId:C.telegram_user_id,firstName:C.first_name,lastName:C.last_name,username:C.username,photoUrl:C.photo_url,verifiedAt:Qt(C.first_verified_at),firstVerifiedAt:Qt(C.first_verified_at),latestVerifiedAt:Qt(C.latest_verified_at)};A.push(Q);break;default:console.warn(`Unrecognized account type: ${k}. Please consider upgrading the Privy SDK.`)}}return A})(t.linked_accounts),r=Xs(e,"wallet"),n=Xs(e,"smart_wallet"),i=Xs(e,"email"),s=Xs(e,"phone"),o=Xs(e,"google_oauth"),a=Xs(e,"twitter_oauth"),l=Xs(e,"discord_oauth"),c=Xs(e,"github_oauth"),u=Xs(e,"spotify_oauth"),h=Xs(e,"instagram_oauth"),f=Xs(e,"tiktok_oauth"),p=Xs(e,"line_oauth"),m=Xs(e,"linkedin_oauth"),v=Xs(e,"apple_oauth"),w=Xs(e,"farcaster"),b=Xs(e,"telegram"),E=t.mfa_methods.map((({type:_,verified_at:A})=>({type:_,verifiedAt:Qt(A)})));return{id:t.id,createdAt:Qt(t.created_at),linkedAccounts:e,email:i&&{address:i?.address},phone:s&&{number:s?.number},wallet:r&&{id:r.id,address:r.address,chainType:r.chainType,walletClientType:r.walletClientType,connectorType:r.connectorType,recoveryMethod:r.recoveryMethod,imported:r.imported,delegated:r.delegated,walletIndex:r.walletIndex},smartWallet:n&&{address:n.address,smartWalletType:n.smartWalletType,smartWalletVersion:n.smartWalletVersion},google:o&&{subject:o.subject,email:o.email,name:o.name},twitter:a&&{subject:a.subject,username:a.username,name:a.name,profilePictureUrl:a.profilePictureUrl},discord:l&&{subject:l.subject,username:l.username,email:l.email},github:c&&{subject:c.subject,username:c.username,name:c.name,email:c.email},spotify:u&&{subject:u.subject,email:u.email,name:u.name},instagram:h&&{subject:h.subject,username:h.username},tiktok:f&&{subject:f.subject,username:f.username,name:f.name},line:p&&{subject:p.subject,name:p.name,email:p.email,profilePictureUrl:p.profilePictureUrl},linkedin:m&&{subject:m.subject,name:m.name,email:m.email,vanityName:m.vanityName},apple:v&&{subject:v.subject,email:v.email},farcaster:w&&{fid:w.fid,ownerAddress:w.ownerAddress,displayName:w.displayName,username:w.username,bio:w.bio,pfp:w.pfp,url:w.url,signerPublicKey:w.signerPublicKey},telegram:b&&{telegramUserId:b.telegramUserId,firstName:b.firstName,lastName:b.lastName,username:b.username,photoUrl:b.photoUrl},delegatedWallets:[],mfaMethods:E.map((_=>_.type)),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}const as=t=>!!t.id&&t.recoveryMethod==="privy-v2",j1=x.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:De,login:De,connectOrCreateWallet:De,linkEmail:De,linkPhone:De,linkFarcaster:De,linkWallet:De,startCrossAppAuthFlow:De,linkGoogle:De,linkTwitter:De,linkDiscord:De,linkGithub:De,linkSpotify:De,linkInstagram:De,linkTelegram:De,linkTiktok:De,linkLine:De,linkLinkedIn:De,linkApple:De,linkPasskey:De,updateEmail:De,updatePhone:De,logout:De,getAccessToken:De,unlinkEmail:De,unlinkPhone:De,unlinkWallet:De,unlinkGoogle:De,unlinkTwitter:De,unlinkDiscord:De,unlinkGithub:De,unlinkSpotify:De,unlinkInstagram:De,unlinkTiktok:De,unlinkLine:De,unlinkLinkedIn:De,unlinkApple:De,unlinkCrossAppAccount:De,unlinkFarcaster:De,unlinkTelegram:De,unlinkPasskey:De,signMessage:De,signTypedData:De,enrollInMfa:De,initEnrollmentWithSms:De,initEnrollmentWithTotp:De,initEnrollmentWithPasskey:De,promptMfa:De,init:De,submitEnrollmentWithSms:De,submitEnrollmentWithTotp:De,submitEnrollmentWithPasskey:De,unenroll:De,submit:De,cancel:De,sendTransaction:De,signTransaction:De,exportWallet:De,setWalletPassword:De,setWalletRecovery:De,requestFarcasterSignerFromWarpcast:De,getFarcasterSignerPublicKey:De,signFarcasterMessage:De,signMessageWithCrossAppWallet:De,signTypedDataWithCrossAppWallet:De,sendTransactionWithCrossAppWallet:De,signTransactionWithCrossAppWallet:De,isModalOpen:!1,mfaMethods:[]}),Pr=()=>x.useContext(j1),FD=()=>{let{walletProxy:t,client:e}=bt();return x.useMemo((()=>({signWithUserSigner:async({message:r})=>{if(!t)throw Error("Wallet proxy not initialized");let n=await e.getAccessToken();if(!n)throw Error("User must be authenticated");let{signature:i}=await t.signWithUserSigner({accessToken:n,message:r});return{signature:i}}})),[t,e])};class ud{constructor(e,r){this.scope=e,this.module=r}storeObject(e,r){this.setItem(e,JSON.stringify(r))}loadObject(e){const r=this.getItem(e);return r?JSON.parse(r):void 0}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new ud("CBWSDK").clear(),new ud("walletlink").clear()}}const hi={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},ZN={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},Xce="Unspecified error message.",hje="Unspecified server error.";function LD(t,e=Xce){if(t&&Number.isInteger(t)){const r=t.toString();if(eR(ZN,r))return ZN[r].message;if(Qce(t))return hje}return e}function fje(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(ZN[e]||Qce(t))}function pje(t,{shouldIncludeStack:e=!1}={}){const r={};if(t&&typeof t=="object"&&!Array.isArray(t)&&eR(t,"code")&&fje(t.code)){const n=t;r.code=n.code,n.message&&typeof n.message=="string"?(r.message=n.message,eR(n,"data")&&(r.data=n.data)):(r.message=LD(r.code),r.data={originalError:EV(t)})}else r.code=hi.rpc.internal,r.message=kV(t,"message")?t.message:Xce,r.data={originalError:EV(t)};return e&&(r.stack=kV(t,"stack")?t.stack:void 0),r}function Qce(t){return t>=-32099&&t<=-32e3}function EV(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function eR(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function kV(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const Hr={rpc:{parse:t=>vl(hi.rpc.parse,t),invalidRequest:t=>vl(hi.rpc.invalidRequest,t),invalidParams:t=>vl(hi.rpc.invalidParams,t),methodNotFound:t=>vl(hi.rpc.methodNotFound,t),internal:t=>vl(hi.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return vl(e,t)},invalidInput:t=>vl(hi.rpc.invalidInput,t),resourceNotFound:t=>vl(hi.rpc.resourceNotFound,t),resourceUnavailable:t=>vl(hi.rpc.resourceUnavailable,t),transactionRejected:t=>vl(hi.rpc.transactionRejected,t),methodNotSupported:t=>vl(hi.rpc.methodNotSupported,t),limitExceeded:t=>vl(hi.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>vm(hi.provider.userRejectedRequest,t),unauthorized:t=>vm(hi.provider.unauthorized,t),unsupportedMethod:t=>vm(hi.provider.unsupportedMethod,t),disconnected:t=>vm(hi.provider.disconnected,t),chainDisconnected:t=>vm(hi.provider.chainDisconnected,t),unsupportedChain:t=>vm(hi.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new tue(e,r,n)}}};function vl(t,e){const[r,n]=Zce(e);return new eue(t,r||LD(t),n)}function vm(t,e){const[r,n]=Zce(e);return new tue(t,r||LD(t),n)}function Zce(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}class eue extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}}class tue extends eue{constructor(e,r,n){if(!gje(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}function gje(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function UD(){return t=>t}const O2=UD(),mje=UD(),yje=UD();function eh(t){return Math.floor(t)}const rue=/^[0-9]*$/,nue=/^[a-f0-9]*$/;function a0(t){return BD(crypto.getRandomValues(new Uint8Array(t)))}function BD(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function D4(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function hb(t,e=!1){const r=t.toString("hex");return O2(e?`0x${r}`:r)}function T9(t){return hb(tR(t),!0)}function Tu(t){return yje(t.toString(10))}function Lf(t){return O2(`0x${BigInt(t).toString(16)}`)}function iue(t){return t.startsWith("0x")||t.startsWith("0X")}function zD(t){return iue(t)?t.slice(2):t}function sue(t){return iue(t)?`0x${t.slice(2)}`:`0x${t}`}function HE(t){if(typeof t!="string")return!1;const e=zD(t).toLowerCase();return nue.test(e)}function vje(t,e=!1){if(typeof t=="string"){const r=zD(t).toLowerCase();if(nue.test(r))return O2(e?`0x${r}`:r)}throw Hr.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function qD(t,e=!1){let r=vje(t,!1);return r.length%2===1&&(r=O2(`0${r}`)),e?O2(`0x${r}`):r}function af(t){if(typeof t=="string"){const e=zD(t).toLowerCase();if(HE(e)&&e.length===40)return mje(sue(e))}throw Hr.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function tR(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(HE(t)){const e=qD(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw Hr.rpc.invalidParams(`Not binary data: ${String(t)}`)}function fb(t){if(typeof t=="number"&&Number.isInteger(t))return eh(t);if(typeof t=="string"){if(rue.test(t))return eh(Number(t));if(HE(t))return eh(Number(BigInt(qD(t,!0))))}throw Hr.rpc.invalidParams(`Not an integer: ${String(t)}`)}function Xv(t){if(t!==null&&(typeof t=="bigint"||bje(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(fb(t));if(typeof t=="string"){if(rue.test(t))return BigInt(t);if(HE(t))return BigInt(qD(t,!0))}throw Hr.rpc.invalidParams(`Not an integer: ${String(t)}`)}function wje(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Hr.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function bje(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function xje(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function _je(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function Cje(t,e){const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},t,new TextEncoder().encode(e));return{iv:r,cipherText:n}}async function Eje(t,{iv:e,cipherText:r}){const n=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,r);return new TextDecoder().decode(n)}function oue(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function aue(t,e){const r=oue(t),n=await crypto.subtle.exportKey(r,e);return BD(new Uint8Array(n))}async function lue(t,e){const r=oue(t),n=D4(e).buffer;return await crypto.subtle.importKey(r,new Uint8Array(n),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function kje(t,e){const r=JSON.stringify(t,(n,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return Cje(e,r)}async function Sje(t,e){return JSON.parse(await Eje(e,t))}const I9={storageKey:"ownPrivateKey",keyType:"private"},P9={storageKey:"ownPublicKey",keyType:"public"},$9={storageKey:"peerPublicKey",keyType:"public"};class Aje{constructor(){this.storage=new ud("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey($9,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(P9.storageKey),this.storage.removeItem(I9.storageKey),this.storage.removeItem($9.storageKey)}async generateKeyPair(){const e=await xje();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(I9,e.privateKey),await this.storeKey(P9,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(I9)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(P9)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey($9)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await _je(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const r=this.storage.getItem(e.storageKey);return r?lue(e.keyType,r):null}async storeKey(e,r){const n=await aue(e.keyType,r);this.storage.setItem(e.storageKey,n)}}const Gx="4.3.2",cue="@coinbase/wallet-sdk";async function WD(t,e){const r=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),n=await window.fetch(e,{method:"POST",body:JSON.stringify(r),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":Gx,"X-Cbw-Sdk-Platform":cue}}),{result:i,error:s}=await n.json();if(s)throw s;return i}function Tje(){return globalThis.coinbaseWalletExtension}function Ije(){var t,e;try{const r=globalThis;return(t=r.ethereum)!==null&&t!==void 0?t:(e=r.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function Pje({metadata:t,preference:e}){var r,n;const{appName:i,appLogoUrl:s,appChainIds:o}=t;if(e.options!=="smartWalletOnly"){const l=Tje();if(l)return(r=l.setAppInfo)===null||r===void 0||r.call(l,i,s,o,e),l}const a=Ije();if(a?.isCoinbaseBrowser)return(n=a.setAppInfo)===null||n===void 0||n.call(a,i,s,o,e),a}function $je(t){if(!t||typeof t!="object"||Array.isArray(t))throw Hr.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:r}=t;if(typeof e!="string"||e.length===0)throw Hr.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw Hr.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw Hr.provider.unsupportedMethod()}}const SV="accounts",AV="activeChain",TV="availableChains",IV="walletCapabilities";class Nje{constructor(e){var r,n,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new Aje,this.storage=new ud("CBWSDK","SCWStateManager"),this.accounts=(r=this.storage.loadObject(SV))!==null&&r!==void 0?r:[],this.chain=this.storage.loadObject(AV)||{id:(i=(n=e.metadata.appChainIds)===null||n===void 0?void 0:n[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var r,n,i,s;await((n=(r=this.communicator).waitForPopupLoaded)===null||n===void 0?void 0:n.call(r));const o=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),a=await this.communicator.postRequestAndWaitForResponse(o);if("failure"in a.content)throw a.content.failure;const l=await lue("public",a.sender);await this.keyManager.setPeerPublicKey(l);const u=(await this.decryptResponseMessage(a)).result;if("error"in u)throw u.error;if(e.method==="eth_requestAccounts"){const h=u.value;this.accounts=h,this.storage.storeObject(SV,h),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",h)}}async request(e){var r;if(this.accounts.length===0){if(e.method==="wallet_sendCalls")return this.sendRequestToPopup(e);throw Hr.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(r=this.callback)===null||r===void 0||r.call(this,"connect",{chainId:Lf(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Lf(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(IV);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw Hr.rpc.internal("No RPC URL set for chain");return WD(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var r,n;await((n=(r=this.communicator).waitForPopupLoaded)===null||n===void 0?void 0:n.call(r));const i=await this.sendEncryptedRequest(e),o=(await this.decryptResponseMessage(i)).result;if("error"in o)throw o.error;return o.value}async cleanup(){var e,r;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(r=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&r!==void 0?r:1}}async handleSwitchChainRequest(e){var r;const n=e.params;if(!n||!(!((r=n[0])===null||r===void 0)&&r.chainId))throw Hr.rpc.invalidParams();const i=fb(n[0].chainId);if(this.updateChain(i))return null;const o=await this.sendRequestToPopup(e);return o===null&&this.updateChain(i),o}async sendEncryptedRequest(e){const r=await this.keyManager.getSharedSecret();if(!r)throw Hr.provider.unauthorized("No valid session found, try requestAccounts before other methods");const n=await kje({action:e,chainId:this.chain.id},r),i=await this.createRequestMessage({encrypted:n});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const r=await aue("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:r,content:e,timestamp:new Date}}async decryptResponseMessage(e){var r,n;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw Hr.provider.unauthorized("Invalid session");const o=await Sje(i.encrypted,s),a=(r=o.data)===null||r===void 0?void 0:r.chains;if(a){const c=Object.entries(a).map(([u,h])=>({id:Number(u),rpcUrl:h}));this.storage.storeObject(TV,c),this.updateChain(this.chain.id,c)}const l=(n=o.data)===null||n===void 0?void 0:n.capabilities;return l&&this.storage.storeObject(IV,l),o}updateChain(e,r){var n;const i=r??this.storage.loadObject(TV),s=i?.find(o=>o.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(AV,s),(n=this.callback)===null||n===void 0||n.call(this,"chainChanged",Lf(s.id))),!0):!1}}var vn={},is={},PV;function uue(){if(PV)return is;PV=1,Object.defineProperty(is,"__esModule",{value:!0}),is.output=is.exists=is.hash=is.bytes=is.bool=is.number=is.isBytes=void 0;function t(l){if(!Number.isSafeInteger(l)||l<0)throw new Error(`positive integer expected, not ${l}`)}is.number=t;function e(l){if(typeof l!="boolean")throw new Error(`boolean expected, not ${l}`)}is.bool=e;function r(l){return l instanceof Uint8Array||l!=null&&typeof l=="object"&&l.constructor.name==="Uint8Array"}is.isBytes=r;function n(l,...c){if(!r(l))throw new Error("Uint8Array expected");if(c.length>0&&!c.includes(l.length))throw new Error(`Uint8Array expected of length ${c}, not of length=${l.length}`)}is.bytes=n;function i(l){if(typeof l!="function"||typeof l.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(l.outputLen),t(l.blockLen)}is.hash=i;function s(l,c=!0){if(l.destroyed)throw new Error("Hash instance has been destroyed");if(c&&l.finished)throw new Error("Hash#digest() has already been called")}is.exists=s;function o(l,c){n(l);const u=c.outputLen;if(l.length<u)throw new Error(`digestInto() expects output buffer of length at least ${u}`)}is.output=o;const a={number:t,bool:e,bytes:n,hash:i,exists:s,output:o};return is.default=a,is}var cr={},$V;function Rje(){if($V)return cr;$V=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.add5L=cr.add5H=cr.add4H=cr.add4L=cr.add3H=cr.add3L=cr.add=cr.rotlBL=cr.rotlBH=cr.rotlSL=cr.rotlSH=cr.rotr32L=cr.rotr32H=cr.rotrBL=cr.rotrBH=cr.rotrSL=cr.rotrSH=cr.shrSL=cr.shrSH=cr.toBig=cr.split=cr.fromBig=void 0;const t=BigInt(2**32-1),e=BigInt(32);function r(N,$=!1){return $?{h:Number(N&t),l:Number(N>>e&t)}:{h:Number(N>>e&t)|0,l:Number(N&t)|0}}cr.fromBig=r;function n(N,$=!1){let U=new Uint32Array(N.length),O=new Uint32Array(N.length);for(let D=0;D<N.length;D++){const{h:T,l:I}=r(N[D],$);[U[D],O[D]]=[T,I]}return[U,O]}cr.split=n;const i=(N,$)=>BigInt(N>>>0)<<e|BigInt($>>>0);cr.toBig=i;const s=(N,$,U)=>N>>>U;cr.shrSH=s;const o=(N,$,U)=>N<<32-U|$>>>U;cr.shrSL=o;const a=(N,$,U)=>N>>>U|$<<32-U;cr.rotrSH=a;const l=(N,$,U)=>N<<32-U|$>>>U;cr.rotrSL=l;const c=(N,$,U)=>N<<64-U|$>>>U-32;cr.rotrBH=c;const u=(N,$,U)=>N>>>U-32|$<<64-U;cr.rotrBL=u;const h=(N,$)=>$;cr.rotr32H=h;const f=(N,$)=>N;cr.rotr32L=f;const p=(N,$,U)=>N<<U|$>>>32-U;cr.rotlSH=p;const m=(N,$,U)=>$<<U|N>>>32-U;cr.rotlSL=m;const v=(N,$,U)=>$<<U-32|N>>>64-U;cr.rotlBH=v;const w=(N,$,U)=>N<<U-32|$>>>64-U;cr.rotlBL=w;function b(N,$,U,O){const D=($>>>0)+(O>>>0);return{h:N+U+(D/2**32|0)|0,l:D|0}}cr.add=b;const E=(N,$,U)=>(N>>>0)+($>>>0)+(U>>>0);cr.add3L=E;const _=(N,$,U,O)=>$+U+O+(N/2**32|0)|0;cr.add3H=_;const A=(N,$,U,O)=>(N>>>0)+($>>>0)+(U>>>0)+(O>>>0);cr.add4L=A;const C=(N,$,U,O,D)=>$+U+O+D+(N/2**32|0)|0;cr.add4H=C;const k=(N,$,U,O,D)=>(N>>>0)+($>>>0)+(U>>>0)+(O>>>0)+(D>>>0);cr.add5L=k;const P=(N,$,U,O,D,T)=>$+U+O+D+T+(N/2**32|0)|0;cr.add5H=P;const F={fromBig:r,split:n,toBig:i,shrSH:s,shrSL:o,rotrSH:a,rotrSL:l,rotrBH:c,rotrBL:u,rotr32H:h,rotr32L:f,rotlSH:p,rotlSL:m,rotlBH:v,rotlBL:w,add:b,add3L:E,add3H:_,add4L:A,add4H:C,add5H:P,add5L:k};return cr.default=F,cr}var N9={},Qv={},NV;function Oje(){return NV||(NV=1,Object.defineProperty(Qv,"__esModule",{value:!0}),Qv.crypto=void 0,Qv.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Qv}var RV;function jje(){return RV||(RV=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;const e=Oje(),r=uue();function n(O){return O instanceof Uint8Array||O!=null&&typeof O=="object"&&O.constructor.name==="Uint8Array"}t.isBytes=n;const i=O=>new Uint8Array(O.buffer,O.byteOffset,O.byteLength);t.u8=i;const s=O=>new Uint32Array(O.buffer,O.byteOffset,Math.floor(O.byteLength/4));t.u32=s;const o=O=>new DataView(O.buffer,O.byteOffset,O.byteLength);t.createView=o;const a=(O,D)=>O<<32-D|O>>>D;t.rotr=a;const l=(O,D)=>O<<D|O>>>32-D>>>0;t.rotl=l,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const c=O=>O<<24&4278190080|O<<8&16711680|O>>>8&65280|O>>>24&255;t.byteSwap=c,t.byteSwapIfBE=t.isLE?O=>O:O=>(0,t.byteSwap)(O);function u(O){for(let D=0;D<O.length;D++)O[D]=(0,t.byteSwap)(O[D])}t.byteSwap32=u;const h=Array.from({length:256},(O,D)=>D.toString(16).padStart(2,"0"));function f(O){(0,r.bytes)(O);let D="";for(let T=0;T<O.length;T++)D+=h[O[T]];return D}t.bytesToHex=f;const p={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function m(O){if(O>=p._0&&O<=p._9)return O-p._0;if(O>=p._A&&O<=p._F)return O-(p._A-10);if(O>=p._a&&O<=p._f)return O-(p._a-10)}function v(O){if(typeof O!="string")throw new Error("hex string expected, got "+typeof O);const D=O.length,T=D/2;if(D%2)throw new Error("padded hex string expected, got unpadded hex of length "+D);const I=new Uint8Array(T);for(let R=0,L=0;R<T;R++,L+=2){const B=m(O.charCodeAt(L)),q=m(O.charCodeAt(L+1));if(B===void 0||q===void 0){const G=O[L]+O[L+1];throw new Error('hex string expected, got non-hex character "'+G+'" at index '+L)}I[R]=B*16+q}return I}t.hexToBytes=v;const w=async()=>{};t.nextTick=w;async function b(O,D,T){let I=Date.now();for(let R=0;R<O;R++){T(R);const L=Date.now()-I;L>=0&&L<D||(await(0,t.nextTick)(),I+=L)}}t.asyncLoop=b;function E(O){if(typeof O!="string")throw new Error(`utf8ToBytes expected string, got ${typeof O}`);return new Uint8Array(new TextEncoder().encode(O))}t.utf8ToBytes=E;function _(O){return typeof O=="string"&&(O=E(O)),(0,r.bytes)(O),O}t.toBytes=_;function A(...O){let D=0;for(let I=0;I<O.length;I++){const R=O[I];(0,r.bytes)(R),D+=R.length}const T=new Uint8Array(D);for(let I=0,R=0;I<O.length;I++){const L=O[I];T.set(L,R),R+=L.length}return T}t.concatBytes=A;class C{clone(){return this._cloneInto()}}t.Hash=C;const k={}.toString;function P(O,D){if(D!==void 0&&k.call(D)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(O,D)}t.checkOpts=P;function F(O){const D=I=>O().update(_(I)).digest(),T=O();return D.outputLen=T.outputLen,D.blockLen=T.blockLen,D.create=()=>O(),D}t.wrapConstructor=F;function N(O){const D=(I,R)=>O(R).update(_(I)).digest(),T=O({});return D.outputLen=T.outputLen,D.blockLen=T.blockLen,D.create=I=>O(I),D}t.wrapConstructorWithOpts=N;function $(O){const D=(I,R)=>O(R).update(_(I)).digest(),T=O({});return D.outputLen=T.outputLen,D.blockLen=T.blockLen,D.create=I=>O(I),D}t.wrapXOFConstructorWithOpts=$;function U(O=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(O));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=U})(N9)),N9}var OV;function Mje(){if(OV)return vn;OV=1,Object.defineProperty(vn,"__esModule",{value:!0}),vn.shake256=vn.shake128=vn.keccak_512=vn.keccak_384=vn.keccak_256=vn.keccak_224=vn.sha3_512=vn.sha3_384=vn.sha3_256=vn.sha3_224=vn.Keccak=vn.keccakP=void 0;const t=uue(),e=Rje(),r=jje(),n=[],i=[],s=[],o=BigInt(0),a=BigInt(1),l=BigInt(2),c=BigInt(7),u=BigInt(256),h=BigInt(113);for(let A=0,C=a,k=1,P=0;A<24;A++){[k,P]=[P,(2*k+3*P)%5],n.push(2*(5*P+k)),i.push((A+1)*(A+2)/2%64);let F=o;for(let N=0;N<7;N++)C=(C<<a^(C>>c)*h)%u,C&l&&(F^=a<<(a<<BigInt(N))-a);s.push(F)}const[f,p]=(0,e.split)(s,!0),m=(A,C,k)=>k>32?(0,e.rotlBH)(A,C,k):(0,e.rotlSH)(A,C,k),v=(A,C,k)=>k>32?(0,e.rotlBL)(A,C,k):(0,e.rotlSL)(A,C,k);function w(A,C=24){const k=new Uint32Array(10);for(let P=24-C;P<24;P++){for(let $=0;$<10;$++)k[$]=A[$]^A[$+10]^A[$+20]^A[$+30]^A[$+40];for(let $=0;$<10;$+=2){const U=($+8)%10,O=($+2)%10,D=k[O],T=k[O+1],I=m(D,T,1)^k[U],R=v(D,T,1)^k[U+1];for(let L=0;L<50;L+=10)A[$+L]^=I,A[$+L+1]^=R}let F=A[2],N=A[3];for(let $=0;$<24;$++){const U=i[$],O=m(F,N,U),D=v(F,N,U),T=n[$];F=A[T],N=A[T+1],A[T]=O,A[T+1]=D}for(let $=0;$<50;$+=10){for(let U=0;U<10;U++)k[U]=A[$+U];for(let U=0;U<10;U++)A[$+U]^=~k[(U+2)%10]&k[(U+4)%10]}A[0]^=f[P],A[1]^=p[P]}k.fill(0)}vn.keccakP=w;class b extends r.Hash{constructor(C,k,P,F=!1,N=24){if(super(),this.blockLen=C,this.suffix=k,this.outputLen=P,this.enableXOF=F,this.rounds=N,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.number)(P),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,r.u32)(this.state)}keccak(){r.isLE||(0,r.byteSwap32)(this.state32),w(this.state32,this.rounds),r.isLE||(0,r.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(C){(0,t.exists)(this);const{blockLen:k,state:P}=this;C=(0,r.toBytes)(C);const F=C.length;for(let N=0;N<F;){const $=Math.min(k-this.pos,F-N);for(let U=0;U<$;U++)P[this.pos++]^=C[N++];this.pos===k&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:C,suffix:k,pos:P,blockLen:F}=this;C[P]^=k,(k&128)!==0&&P===F-1&&this.keccak(),C[F-1]^=128,this.keccak()}writeInto(C){(0,t.exists)(this,!1),(0,t.bytes)(C),this.finish();const k=this.state,{blockLen:P}=this;for(let F=0,N=C.length;F<N;){this.posOut>=P&&this.keccak();const $=Math.min(P-this.posOut,N-F);C.set(k.subarray(this.posOut,this.posOut+$),F),this.posOut+=$,F+=$}return C}xofInto(C){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(C)}xof(C){return(0,t.number)(C),this.xofInto(new Uint8Array(C))}digestInto(C){if((0,t.output)(C,this),this.finished)throw new Error("digest() was already called");return this.writeInto(C),this.destroy(),C}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(C){const{blockLen:k,suffix:P,outputLen:F,rounds:N,enableXOF:$}=this;return C||(C=new b(k,P,F,$,N)),C.state32.set(this.state32),C.pos=this.pos,C.posOut=this.posOut,C.finished=this.finished,C.rounds=N,C.suffix=P,C.outputLen=F,C.enableXOF=$,C.destroyed=this.destroyed,C}}vn.Keccak=b;const E=(A,C,k)=>(0,r.wrapConstructor)(()=>new b(C,A,k));vn.sha3_224=E(6,144,224/8),vn.sha3_256=E(6,136,256/8),vn.sha3_384=E(6,104,384/8),vn.sha3_512=E(6,72,512/8),vn.keccak_224=E(1,144,224/8),vn.keccak_256=E(1,136,256/8),vn.keccak_384=E(1,104,384/8),vn.keccak_512=E(1,72,512/8);const _=(A,C,k)=>(0,r.wrapXOFConstructorWithOpts)((P={})=>new b(C,A,P.dkLen===void 0?k:P.dkLen,!0));return vn.shake128=_(31,168,128/8),vn.shake256=_(31,136,256/8),vn}var R9,jV;function due(){if(jV)return R9;jV=1;const{keccak_256:t}=Mje();function e(p){return Buffer.allocUnsafe(p).fill(0)}function r(p){return p.toString(2).length}function n(p,m){let v=p.toString(16);v.length%2!==0&&(v="0"+v);const w=v.match(/.{1,2}/g).map(b=>parseInt(b,16));for(;w.length<m;)w.unshift(0);return Buffer.from(w)}function i(p,m){const v=p<0n;let w;if(v){const b=(1n<<BigInt(m))-1n;w=(~p&b)+1n}else w=p;return w&=(1n<<BigInt(m))-1n,w}function s(p,m,v){const w=e(m);return p=a(p),v?p.length<m?(p.copy(w),w):p.slice(0,m):p.length<m?(p.copy(w,m-p.length),w):p.slice(-m)}function o(p,m){return s(p,m,!0)}function a(p){if(!Buffer.isBuffer(p))if(Array.isArray(p))p=Buffer.from(p);else if(typeof p=="string")h(p)?p=Buffer.from(u(f(p)),"hex"):p=Buffer.from(p);else if(typeof p=="number")p=intToBuffer(p);else if(p==null)p=Buffer.allocUnsafe(0);else if(typeof p=="bigint")p=n(p);else if(p.toArray)p=Buffer.from(p.toArray());else throw new Error("invalid type");return p}function l(p){return p=a(p),"0x"+p.toString("hex")}function c(p,m){if(p=a(p),m||(m=256),m!==256)throw new Error("unsupported");return Buffer.from(t(new Uint8Array(p)))}function u(p){return p.length%2?"0"+p:p}function h(p){return typeof p=="string"&&p.match(/^0x[0-9A-Fa-f]*$/)}function f(p){return typeof p=="string"&&p.startsWith("0x")?p.slice(2):p}return R9={zeros:e,setLength:s,setLengthRight:o,isHexString:h,stripHexPrefix:f,toBuffer:a,bufferToHex:l,keccak:c,bitLengthFromBigInt:r,bufferBEFromBigInt:n,twosFromBigInt:i},R9}var O9,MV;function Dje(){if(MV)return O9;MV=1;const t=due();function e(f){return f.startsWith("int[")?"int256"+f.slice(3):f==="int"?"int256":f.startsWith("uint[")?"uint256"+f.slice(4):f==="uint"?"uint256":f.startsWith("fixed[")?"fixed128x128"+f.slice(5):f==="fixed"?"fixed128x128":f.startsWith("ufixed[")?"ufixed128x128"+f.slice(6):f==="ufixed"?"ufixed128x128":f}function r(f){return Number.parseInt(/^\D+(\d+)$/.exec(f)[1],10)}function n(f){var p=/^\D+(\d+)x(\d+)$/.exec(f);return[Number.parseInt(p[1],10),Number.parseInt(p[2],10)]}function i(f){var p=f.match(/(.*)\[(.*?)\]$/);return p?p[2]===""?"dynamic":Number.parseInt(p[2],10):null}function s(f){var p=typeof f;if(p==="string"||p==="number")return BigInt(f);if(p==="bigint")return f;throw new Error("Argument is not a number")}function o(f,p){var m,v,w,b;if(f==="address")return o("uint160",s(p));if(f==="bool")return o("uint8",p?1:0);if(f==="string")return o("bytes",new Buffer(p,"utf8"));if(l(f)){if(typeof p.length>"u")throw new Error("Not an array?");if(m=i(f),m!=="dynamic"&&m!==0&&p.length>m)throw new Error("Elements exceed array size: "+m);w=[],f=f.slice(0,f.lastIndexOf("[")),typeof p=="string"&&(p=JSON.parse(p));for(b in p)w.push(o(f,p[b]));if(m==="dynamic"){var E=o("uint256",p.length);w.unshift(E)}return Buffer.concat(w)}else{if(f==="bytes")return p=new Buffer(p),w=Buffer.concat([o("uint256",p.length),p]),p.length%32!==0&&(w=Buffer.concat([w,t.zeros(32-p.length%32)])),w;if(f.startsWith("bytes")){if(m=r(f),m<1||m>32)throw new Error("Invalid bytes<N> width: "+m);return t.setLengthRight(p,32)}else if(f.startsWith("uint")){if(m=r(f),m%8||m<8||m>256)throw new Error("Invalid uint<N> width: "+m);v=s(p);const _=t.bitLengthFromBigInt(v);if(_>m)throw new Error("Supplied uint exceeds width: "+m+" vs "+_);if(v<0)throw new Error("Supplied uint is negative");return t.bufferBEFromBigInt(v,32)}else if(f.startsWith("int")){if(m=r(f),m%8||m<8||m>256)throw new Error("Invalid int<N> width: "+m);v=s(p);const _=t.bitLengthFromBigInt(v);if(_>m)throw new Error("Supplied int exceeds width: "+m+" vs "+_);const A=t.twosFromBigInt(v,256);return t.bufferBEFromBigInt(A,32)}else if(f.startsWith("ufixed")){if(m=n(f),v=s(p),v<0)throw new Error("Supplied ufixed is negative");return o("uint256",v*BigInt(2)**BigInt(m[1]))}else if(f.startsWith("fixed"))return m=n(f),o("int256",s(p)*BigInt(2)**BigInt(m[1]))}throw new Error("Unsupported or invalid type: "+f)}function a(f){return f==="string"||f==="bytes"||i(f)==="dynamic"}function l(f){return f.lastIndexOf("]")===f.length-1}function c(f,p){var m=[],v=[],w=32*f.length;for(var b in f){var E=e(f[b]),_=p[b],A=o(E,_);a(E)?(m.push(o("uint256",w)),v.push(A),w+=A.length):m.push(A)}return Buffer.concat(m.concat(v))}function u(f,p){if(f.length!==p.length)throw new Error("Number of types are not matching the values");for(var m,v,w=[],b=0;b<f.length;b++){var E=e(f[b]),_=p[b];if(E==="bytes")w.push(_);else if(E==="string")w.push(new Buffer(_,"utf8"));else if(E==="bool")w.push(new Buffer(_?"01":"00","hex"));else if(E==="address")w.push(t.setLength(_,20));else if(E.startsWith("bytes")){if(m=r(E),m<1||m>32)throw new Error("Invalid bytes<N> width: "+m);w.push(t.setLengthRight(_,m))}else if(E.startsWith("uint")){if(m=r(E),m%8||m<8||m>256)throw new Error("Invalid uint<N> width: "+m);v=s(_);const A=t.bitLengthFromBigInt(v);if(A>m)throw new Error("Supplied uint exceeds width: "+m+" vs "+A);w.push(t.bufferBEFromBigInt(v,m/8))}else if(E.startsWith("int")){if(m=r(E),m%8||m<8||m>256)throw new Error("Invalid int<N> width: "+m);v=s(_);const A=t.bitLengthFromBigInt(v);if(A>m)throw new Error("Supplied int exceeds width: "+m+" vs "+A);const C=t.twosFromBigInt(v,m);w.push(t.bufferBEFromBigInt(C,m/8))}else throw new Error("Unsupported or invalid type: "+E)}return Buffer.concat(w)}function h(f,p){return t.keccak(u(f,p))}return O9={rawEncode:c,solidityPack:u,soliditySHA3:h},O9}var j9,DV;function Fje(){if(DV)return j9;DV=1;const t=due(),e=Dje(),r={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},n={encodeData(s,o,a,l=!0){const c=["bytes32"],u=[this.hashType(s,a)];if(l){const h=(f,p,m)=>{if(a[p]!==void 0)return["bytes32",m==null?"0x0000000000000000000000000000000000000000000000000000000000000000":t.keccak(this.encodeData(p,m,a,l))];if(m===void 0)throw new Error(`missing value for field ${f} of type ${p}`);if(p==="bytes")return["bytes32",t.keccak(m)];if(p==="string")return typeof m=="string"&&(m=Buffer.from(m,"utf8")),["bytes32",t.keccak(m)];if(p.lastIndexOf("]")===p.length-1){const v=p.slice(0,p.lastIndexOf("[")),w=m.map(b=>h(f,v,b));return["bytes32",t.keccak(e.rawEncode(w.map(([b])=>b),w.map(([,b])=>b)))]}return[p,m]};for(const f of a[s]){const[p,m]=h(f.name,f.type,o[f.name]);c.push(p),u.push(m)}}else for(const h of a[s]){let f=o[h.name];if(f!==void 0)if(h.type==="bytes")c.push("bytes32"),f=t.keccak(f),u.push(f);else if(h.type==="string")c.push("bytes32"),typeof f=="string"&&(f=Buffer.from(f,"utf8")),f=t.keccak(f),u.push(f);else if(a[h.type]!==void 0)c.push("bytes32"),f=t.keccak(this.encodeData(h.type,f,a,l)),u.push(f);else{if(h.type.lastIndexOf("]")===h.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");c.push(h.type),u.push(f)}}return e.rawEncode(c,u)},encodeType(s,o){let a="",l=this.findTypeDependencies(s,o).filter(c=>c!==s);l=[s].concat(l.sort());for(const c of l){if(!o[c])throw new Error("No type definition specified: "+c);a+=c+"("+o[c].map(({name:h,type:f})=>f+" "+h).join(",")+")"}return a},findTypeDependencies(s,o,a=[]){if(s=s.match(/^\w*/)[0],a.includes(s)||o[s]===void 0)return a;a.push(s);for(const l of o[s])for(const c of this.findTypeDependencies(l.type,o,a))!a.includes(c)&&a.push(c);return a},hashStruct(s,o,a,l=!0){return t.keccak(this.encodeData(s,o,a,l))},hashType(s,o){return t.keccak(this.encodeType(s,o))},sanitizeData(s){const o={};for(const a in r.properties)s[a]&&(o[a]=s[a]);return o.types&&(o.types=Object.assign({EIP712Domain:[]},o.types)),o},hash(s,o=!0){const a=this.sanitizeData(s),l=[Buffer.from("1901","hex")];return l.push(this.hashStruct("EIP712Domain",a.domain,a.types,o)),a.primaryType!=="EIP712Domain"&&l.push(this.hashStruct(a.primaryType,a.message,a.types,o)),t.keccak(Buffer.concat(l))}};j9={TYPED_MESSAGE_SCHEMA:r,TypedDataUtils:n,hashForSignTypedDataLegacy:function(s){return i(s.data)},hashForSignTypedData_v3:function(s){return n.hash(s.data,!1)},hashForSignTypedData_v4:function(s){return n.hash(s.data)}};function i(s){const o=new Error("Expect argument to be non-empty array");if(typeof s!="object"||!s.length)throw o;const a=s.map(function(u){return u.type==="bytes"?t.toBuffer(u.value):u.value}),l=s.map(function(u){return u.type}),c=s.map(function(u){if(!u.name)throw o;return u.type+" "+u.name});return e.soliditySHA3(["bytes32","bytes32"],[e.soliditySHA3(new Array(s.length).fill("string"),c),e.soliditySHA3(l,a)])}return j9}var Lje=Fje();const s6=Mi(Lje),Uje="walletUsername",rR="Addresses",Bje="AppVersion";function Rs(t){return t.errorMessage!==void 0}class zje{constructor(e){this.secret=e}async encrypt(e){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",D4(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},i,s.encode(e)),a=16,l=o.slice(o.byteLength-a),c=o.slice(0,o.byteLength-a),u=new Uint8Array(l),h=new Uint8Array(c),f=new Uint8Array([...n,...u,...h]);return BD(f)}async decrypt(e){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");return new Promise((n,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",D4(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=D4(e),a=o.slice(0,12),l=o.slice(12,28),c=o.slice(28),u=new Uint8Array([...c,...l]),h={name:"AES-GCM",iv:new Uint8Array(a)};try{const f=await window.crypto.subtle.decrypt(h,s,u),p=new TextDecoder;n(p.decode(f))}catch(f){i(f)}})()})}}class qje{constructor(e,r,n){this.linkAPIUrl=e,this.sessionId=r;const i=`${r}:${n}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(r=>fetch(`${this.linkAPIUrl}/events/${r.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(r=>console.error("Unabled to mark event as failed:",r))}async fetchUnseenEvents(){var e;const r=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(r.ok){const{events:n,error:i}=await r.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=n?.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${r.status}`)}}var oh;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(oh||(oh={}));class Wje{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,r)=>{var n;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){r(s);return}(n=this.connectionStateListener)===null||n===void 0||n.call(this,oh.CONNECTING),i.onclose=s=>{var o;this.clearWebSocket(),r(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,oh.DISCONNECTED)},i.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,oh.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(l=>this.sendData(l)),this.pendingData=[])},i.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const l=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,l)}catch{}}})}disconnect(){var e;const{webSocket:r}=this;if(r){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,oh.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch{}}}sendData(e){const{webSocket:r}=this;if(!r){this.pendingData.push(e),this.connect();return}r.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const FV=1e4,Hje=6e4;class Vje{constructor({session:e,linkAPIUrl:r,listener:n}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=eh(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",a=>s.JsonRpcUrl&&this.handleChainUpdated(a,s.JsonRpcUrl)]]).forEach((a,l)=>{const c=s[l];c!==void 0&&a(c)})},this.handleDestroyed=s=>{var o;s==="1"&&((o=this.listener)===null||o===void 0||o.resetAndReload())},this.handleAccountUpdated=async s=>{var o;const a=await this.cipher.decrypt(s);(o=this.listener)===null||o===void 0||o.accountUpdated(a)},this.handleMetadataUpdated=async(s,o)=>{var a;const l=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.metadataUpdated(s,l)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(Uje,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(Bje,s)},this.handleChainUpdated=async(s,o)=>{var a;const l=await this.cipher.decrypt(s),c=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.chainUpdated(l,c)},this.session=e,this.cipher=new zje(e.secret),this.listener=n;const i=new Wje(`${r}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let o=!1;switch(s){case oh.DISCONNECTED:if(!this.destroyed){const a=async()=>{await new Promise(l=>setTimeout(l,5e3)),this.destroyed||i.connect().catch(()=>{a()})};a()}break;case oh.CONNECTED:o=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},FV),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case oh.CONNECTING:break}this.connected!==o&&(this.connected=o)}),i.setIncomingDataListener(s=>{var o;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const a=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=a||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((o=this.requestResolutions.get(s.id))===null||o===void 0||o(s))}),this.ws=i,this.http=new qje(r,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:eh(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var r,n;this._linked=e,e&&((r=this.onceLinked)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.linkedUpdated(e)}setOnceLinked(e){return new Promise(r=>{this.linked?e().then(r):this.onceLinked=()=>{e().then(r),this.onceLinked=void 0}})}async handleIncomingEvent(e){var r;if(e.type!=="Event"||e.event!=="Web3Response")return;const n=await this.cipher.decrypt(e.data),i=JSON.parse(n);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:o}=i;(r=this.listener)===null||r===void 0||r.handleWeb3ResponseMessage(s,o)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(r=>this.handleIncomingEvent(r))}async publishEvent(e,r,n=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:eh(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:n};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>FV*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,r={timeout:Hje}){const n=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,o)=>{i=window.setTimeout(()=>{o(new Error(`request ${n} timed out`))},r.timeout)}),new Promise(s=>{this.requestResolutions.set(n,o=>{clearTimeout(i),s(o),this.requestResolutions.delete(n)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:eh(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:eh(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:eh(this.nextReqId++),sessionId:this.session.id}),!0)}}class Gje{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=sue(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}function Kje(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function HD(t,...e){if(!Kje(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function LV(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Yje(t,e){HD(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const M9=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Iu=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];const Jje=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Xje(t){HD(t);let e="";for(let r=0;r<t.length;r++)e+=Jje[t[r]];return e}function Qje(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function hue(t){return typeof t=="string"&&(t=Qje(t)),HD(t),t}let Zje=class{clone(){return this._cloneInto()}};function eMe(t){const e=n=>t().update(hue(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function tMe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,c=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+c,a,n)}const rMe=(t,e,r)=>t&e^~t&r,nMe=(t,e,r)=>t&e^t&r^e&r;class iMe extends Zje{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=M9(this.buffer)}update(e){LV(this);const{view:r,buffer:n,blockLen:i}=this;e=hue(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=M9(e);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){LV(this),Yje(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;tMe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=M9(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const sMe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),lf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),cf=new Uint32Array(64);class oMe extends iMe{constructor(){super(64,32,8,!1),this.A=lf[0]|0,this.B=lf[1]|0,this.C=lf[2]|0,this.D=lf[3]|0,this.E=lf[4]|0,this.F=lf[5]|0,this.G=lf[6]|0,this.H=lf[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:l}=this;return[e,r,n,i,s,o,a,l]}set(e,r,n,i,s,o,a,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,r){for(let h=0;h<16;h++,r+=4)cf[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const f=cf[h-15],p=cf[h-2],m=Iu(f,7)^Iu(f,18)^f>>>3,v=Iu(p,17)^Iu(p,19)^p>>>10;cf[h]=v+cf[h-7]+m+cf[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Iu(a,6)^Iu(a,11)^Iu(a,25),p=u+f+rMe(a,l,c)+sMe[h]+cf[h]|0,v=(Iu(n,2)^Iu(n,13)^Iu(n,22))+nMe(n,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=n,n=p+v|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,l,c,u)}roundClean(){cf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const aMe=eMe(()=>new oMe),UV="session:id",BV="session:secret",zV="session:linked";class Oy{constructor(e,r,n,i=!1){this.storage=e,this.id=r,this.secret=n,this.key=Xje(aMe(`${r}, ${n} WalletLink`)),this._linked=!!i}static create(e){const r=a0(16),n=a0(32);return new Oy(e,r,n).save()}static load(e){const r=e.getItem(UV),n=e.getItem(zV),i=e.getItem(BV);return r&&i?new Oy(e,r,i,n==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(UV,this.id),this.storage.setItem(BV,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(zV,this._linked?"1":"0")}}function lMe(){try{return window.frameElement!==null}catch{return!1}}function cMe(){try{return lMe()&&window.top?window.top.location:window.location}catch{return window.location}}function uMe(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window?.navigator)===null||t===void 0?void 0:t.userAgent)}function fue(){var t,e;return(e=(t=window?.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const dMe='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function pue(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(dMe)),document.documentElement.appendChild(t)}function gue(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=gue(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function pb(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=gue(t))&&(n&&(n+=" "),n+=e);return n}var VE,Ln,mue,l0,qV,yue,nR,VD,iR,sR,j2={},vue=[],hMe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,GD=Array.isArray;function Uf(t,e){for(var r in e)t[r]=e[r];return t}function wue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function gn(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?VE.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return F4(t,o,n,i,null)}function F4(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++mue,__i:-1,__u:0};return i==null&&Ln.vnode!=null&&Ln.vnode(s),s}function GE(t){return t.children}function L4(t,e){this.props=t,this.context=e}function r1(t,e){if(e==null)return t.__?r1(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?r1(t):null}function bue(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return bue(t)}}function WV(t){(!t.__d&&(t.__d=!0)&&l0.push(t)&&!M_.__r++||qV!==Ln.debounceRendering)&&((qV=Ln.debounceRendering)||yue)(M_)}function M_(){var t,e,r,n,i,s,o,a;for(l0.sort(nR);t=l0.shift();)t.__d&&(e=l0.length,n=void 0,s=(i=(r=t).__v).__e,o=[],a=[],r.__P&&((n=Uf({},i)).__v=i.__v+1,Ln.vnode&&Ln.vnode(n),KD(r.__P,n,i,r.__n,r.__P.namespaceURI,32&i.__u?[s]:null,o,s??r1(i),!!(32&i.__u),a),n.__v=i.__v,n.__.__k[n.__i]=n,Cue(o,n,a),n.__e!=s&&bue(n)),l0.length>e&&l0.sort(nR));M_.__r=0}function xue(t,e,r,n,i,s,o,a,l,c,u){var h,f,p,m,v,w=n&&n.__k||vue,b=e.length;for(r.__d=l,fMe(r,e,w),l=r.__d,h=0;h<b;h++)(p=r.__k[h])!=null&&(f=p.__i===-1?j2:w[p.__i]||j2,p.__i=h,KD(t,p,f,i,s,o,a,l,c,u),m=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&YD(f.ref,null,p),u.push(p.ref,p.__c||m,p)),v==null&&m!=null&&(v=m),65536&p.__u||f.__k===p.__k?l=_ue(p,l,t):typeof p.type=="function"&&p.__d!==void 0?l=p.__d:m&&(l=m.nextSibling),p.__d=void 0,p.__u&=-196609);r.__d=l,r.__e=v}function fMe(t,e,r){var n,i,s,o,a,l=e.length,c=r.length,u=c,h=0;for(t.__k=[],n=0;n<l;n++)(i=e[n])!=null&&typeof i!="boolean"&&typeof i!="function"?(o=n+h,(i=t.__k[n]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?F4(null,i,null,null,null):GD(i)?F4(GE,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?F4(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=t,i.__b=t.__b+1,s=null,(a=i.__i=pMe(i,r,o,u))!==-1&&(u--,(s=r[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&h--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a==o-1?h--:a==o+1?h++:(a>o?h--:h++,i.__u|=65536))):i=t.__k[n]=null;if(u)for(n=0;n<c;n++)(s=r[n])!=null&&(131072&s.__u)==0&&(s.__e==t.__d&&(t.__d=r1(s)),Eue(s,s))}function _ue(t,e,r){var n,i;if(typeof t.type=="function"){for(n=t.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=t,e=_ue(n[i],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=r1(t)),r.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function pMe(t,e,r,n){var i=t.key,s=t.type,o=r-1,a=r+1,l=e[r];if(l===null||l&&i==l.key&&s===l.type&&(131072&l.__u)==0)return r;if(n>(l!=null&&(131072&l.__u)==0?1:0))for(;o>=0||a<e.length;){if(o>=0){if((l=e[o])&&(131072&l.__u)==0&&i==l.key&&s===l.type)return o;o--}if(a<e.length){if((l=e[a])&&(131072&l.__u)==0&&i==l.key&&s===l.type)return a;a++}}return-1}function HV(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||hMe.test(e)?r:r+"px"}function o6(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||HV(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||HV(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=VD,t.addEventListener(e,s?sR:iR,s)):t.removeEventListener(e,s?sR:iR,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function VV(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=VD++;else if(e.t<r.u)return;return r(Ln.event?Ln.event(e):e)}}}function KD(t,e,r,n,i,s,o,a,l,c){var u,h,f,p,m,v,w,b,E,_,A,C,k,P,F,N,$=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(l=!!(32&r.__u),s=[a=e.__e=r.__e]),(u=Ln.__b)&&u(e);e:if(typeof $=="function")try{if(b=e.props,E="prototype"in $&&$.prototype.render,_=(u=$.contextType)&&n[u.__c],A=u?_?_.props.value:u.__:n,r.__c?w=(h=e.__c=r.__c).__=h.__E:(E?e.__c=h=new $(b,A):(e.__c=h=new L4(b,A),h.constructor=$,h.render=mMe),_&&_.sub(h),h.props=b,h.state||(h.state={}),h.context=A,h.__n=n,f=h.__d=!0,h.__h=[],h._sb=[]),E&&h.__s==null&&(h.__s=h.state),E&&$.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Uf({},h.__s)),Uf(h.__s,$.getDerivedStateFromProps(b,h.__s))),p=h.props,m=h.state,h.__v=e,f)E&&$.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),E&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(E&&$.getDerivedStateFromProps==null&&b!==p&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(b,A),!h.__e&&(h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(b,h.__s,A)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(h.props=b,h.state=h.__s,h.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(U){U&&(U.__=e)}),C=0;C<h._sb.length;C++)h.__h.push(h._sb[C]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(b,h.__s,A),E&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(p,m,v)})}if(h.context=A,h.props=b,h.__P=t,h.__e=!1,k=Ln.__r,P=0,E){for(h.state=h.__s,h.__d=!1,k&&k(e),u=h.render(h.props,h.state,h.context),F=0;F<h._sb.length;F++)h.__h.push(h._sb[F]);h._sb=[]}else do h.__d=!1,k&&k(e),u=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++P<25);h.state=h.__s,h.getChildContext!=null&&(n=Uf(Uf({},n),h.getChildContext())),E&&!f&&h.getSnapshotBeforeUpdate!=null&&(v=h.getSnapshotBeforeUpdate(p,m)),xue(t,GD(N=u!=null&&u.type===GE&&u.key==null?u.props.children:u)?N:[N],e,r,n,i,s,o,a,l,c),h.base=e.__e,e.__u&=-161,h.__h.length&&o.push(h),w&&(h.__E=h.__=null)}catch(U){if(e.__v=null,l||s!=null){for(e.__u|=l?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else e.__e=r.__e,e.__k=r.__k;Ln.__e(U,e,r)}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=gMe(r.__e,e,r,n,i,s,o,l,c);(u=Ln.diffed)&&u(e)}function Cue(t,e,r){e.__d=void 0;for(var n=0;n<r.length;n++)YD(r[n],r[++n],r[++n]);Ln.__c&&Ln.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){Ln.__e(s,i.__v)}})}function gMe(t,e,r,n,i,s,o,a,l){var c,u,h,f,p,m,v,w=r.props,b=e.props,E=e.type;if(E==="svg"?i="http://www.w3.org/2000/svg":E==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((p=s[c])&&"setAttribute"in p==!!E&&(E?p.localName===E:p.nodeType===3)){t=p,s[c]=null;break}}if(t==null){if(E===null)return document.createTextNode(b);t=document.createElementNS(i,E,b.is&&b),a&&(Ln.__m&&Ln.__m(e,s),a=!1),s=null}if(E===null)w===b||a&&t.data===b||(t.data=b);else{if(s=s&&VE.call(t.childNodes),w=r.props||j2,!a&&s!=null)for(w={},c=0;c<t.attributes.length;c++)w[(p=t.attributes[c]).name]=p.value;for(c in w)if(p=w[c],c!="children"){if(c=="dangerouslySetInnerHTML")h=p;else if(!(c in b)){if(c=="value"&&"defaultValue"in b||c=="checked"&&"defaultChecked"in b)continue;o6(t,c,null,p,i)}}for(c in b)p=b[c],c=="children"?f=p:c=="dangerouslySetInnerHTML"?u=p:c=="value"?m=p:c=="checked"?v=p:a&&typeof p!="function"||w[c]===p||o6(t,c,p,w[c],i);if(u)a||h&&(u.__html===h.__html||u.__html===t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(h&&(t.innerHTML=""),xue(t,GD(f)?f:[f],e,r,n,E==="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,o,s?s[0]:r.__k&&r1(r,0),a,l),s!=null)for(c=s.length;c--;)wue(s[c]);a||(c="value",E==="progress"&&m==null?t.removeAttribute("value"):m!==void 0&&(m!==t[c]||E==="progress"&&!m||E==="option"&&m!==w[c])&&o6(t,c,m,w[c],i),c="checked",v!==void 0&&v!==t[c]&&o6(t,c,v,w[c],i))}return t}function YD(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(i){Ln.__e(i,r)}}function Eue(t,e,r){var n,i;if(Ln.unmount&&Ln.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||YD(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){Ln.__e(s,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Eue(n[i],e,r||typeof t.type!="function");r||wue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function mMe(t,e,r){return this.constructor(t,r)}function oR(t,e,r){var n,i,s,o;Ln.__&&Ln.__(t,e),i=(n=!1)?null:e.__k,s=[],o=[],KD(e,t=e.__k=gn(GE,null,[t]),i||j2,j2,e.namespaceURI,i?null:e.firstChild?VE.call(e.childNodes):null,s,i?i.__e:e.firstChild,n,o),Cue(s,t,o)}VE=vue.slice,Ln={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},mue=0,L4.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Uf({},this.state),typeof t=="function"&&(t=t(Uf({},r),this.props)),t&&Uf(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),WV(this))},L4.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),WV(this))},L4.prototype.render=GE,l0=[],yue=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,nR=function(t,e){return t.__v.__b-e.__v.__b},M_.__r=0,VD=0,iR=VV(!1),sR=VV(!0);var M2,mi,D9,GV,aR=0,kue=[],Ai=Ln,KV=Ai.__b,YV=Ai.__r,JV=Ai.diffed,XV=Ai.__c,QV=Ai.unmount,ZV=Ai.__;function JD(t,e){Ai.__h&&Ai.__h(mi,t,aR||e),aR=0;var r=mi.__H||(mi.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function eG(t){return aR=1,yMe(Aue,t)}function yMe(t,e,r){var n=JD(M2++,2);if(n.t=t,!n.__c&&(n.__=[Aue(void 0,e),function(a){var l=n.__N?n.__N[0]:n.__[0],c=n.t(l,a);l!==c&&(n.__N=[c,n.__[1]],n.__c.setState({}))}],n.__c=mi,!mi.u)){var i=function(a,l,c){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(f){return!!f.__c});if(u.every(function(f){return!f.__N}))return!s||s.call(this,a,l,c);var h=!1;return u.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(h=!0)}}),!(!h&&n.__c.props===a)&&(!s||s.call(this,a,l,c))};mi.u=!0;var s=mi.shouldComponentUpdate,o=mi.componentWillUpdate;mi.componentWillUpdate=function(a,l,c){if(this.__e){var u=s;s=void 0,i(a,l,c),s=u}o&&o.call(this,a,l,c)},mi.shouldComponentUpdate=i}return n.__N||n.__}function vMe(t,e){var r=JD(M2++,3);!Ai.__s&&Sue(r.__H,e)&&(r.__=t,r.i=e,mi.__H.__h.push(r))}function hRt(t,e){var r=JD(M2++,7);return Sue(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function wMe(){for(var t;t=kue.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(U4),t.__H.__h.forEach(lR),t.__H.__h=[]}catch(e){t.__H.__h=[],Ai.__e(e,t.__v)}}Ai.__b=function(t){mi=null,KV&&KV(t)},Ai.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),ZV&&ZV(t,e)},Ai.__r=function(t){YV&&YV(t),M2=0;var e=(mi=t.__c).__H;e&&(D9===mi?(e.__h=[],mi.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.i=r.__N=void 0})):(e.__h.forEach(U4),e.__h.forEach(lR),e.__h=[],M2=0)),D9=mi},Ai.diffed=function(t){JV&&JV(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(kue.push(e)!==1&&GV===Ai.requestAnimationFrame||((GV=Ai.requestAnimationFrame)||bMe)(wMe)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.i=void 0})),D9=mi=null},Ai.__c=function(t,e){e.some(function(r){try{r.__h.forEach(U4),r.__h=r.__h.filter(function(n){return!n.__||lR(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Ai.__e(n,r.__v)}}),XV&&XV(t,e)},Ai.unmount=function(t){QV&&QV(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{U4(n)}catch(i){e=i}}),r.__H=void 0,e&&Ai.__e(e,r.__v))};var tG=typeof requestAnimationFrame=="function";function bMe(t){var e,r=function(){clearTimeout(n),tG&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);tG&&(e=requestAnimationFrame(r))}function U4(t){var e=mi,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),mi=e}function lR(t){var e=mi;t.__c=t.__(),mi=e}function Sue(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Aue(t,e){return typeof e=="function"?e(t):e}const xMe=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",_Me="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",CMe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class Tue{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=fue()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const r=this.nextItemKey++;return this.items.set(r,e),this.render(),()=>{this.items.delete(r),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&oR(gn("div",null,gn(Iue,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,r])=>gn(EMe,Object.assign({},r,{key:e}))))),this.root)}}const Iue=t=>gn("div",{class:pb("-cbwsdk-snackbar-container")},gn("style",null,xMe),gn("div",{class:"-cbwsdk-snackbar"},t.children)),EMe=({autoExpand:t,message:e,menuItems:r})=>{const[n,i]=eG(!0),[s,o]=eG(t??!1);vMe(()=>{const l=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{o(!0)},1e4)];return()=>{l.forEach(window.clearTimeout)}});const a=()=>{o(!s)};return gn("div",{class:pb("-cbwsdk-snackbar-instance",n&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},gn("div",{class:"-cbwsdk-snackbar-instance-header",onClick:a},gn("img",{src:_Me,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",gn("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),gn("div",{class:"-gear-container"},!s&&gn("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},gn("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),gn("img",{src:CMe,class:"-gear-icon",title:"Expand"}))),r&&r.length>0&&gn("div",{class:"-cbwsdk-snackbar-instance-menu"},r.map((l,c)=>gn("div",{class:pb("-cbwsdk-snackbar-instance-menu-item",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:l.onClick,key:c},gn("svg",{width:l.svgWidth,height:l.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},gn("path",{"fill-rule":l.defaultFillRule,"clip-rule":l.defaultClipRule,d:l.path,fill:"#AAAAAA"})),gn("span",{class:pb("-cbwsdk-snackbar-instance-menu-item-info",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},l.info)))))},Pue="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class kMe{constructor(){this.attached=!1,this.snackbar=new Tue}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.snackbar.attach(r),this.attached=!0,pue()}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:Pue,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}}const SMe=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class AMe{constructor(){this.root=null,this.darkMode=fue()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),pue()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(oR(null,this.root),e&&oR(gn(TMe,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const TMe=({title:t,buttonText:e,darkMode:r,onButtonClick:n,onDismiss:i})=>{const s=r?"dark":"light";return gn(Iue,{darkMode:r},gn("div",{class:"-cbwsdk-redirect-dialog"},gn("style",null,SMe),gn("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),gn("div",{class:pb("-cbwsdk-redirect-dialog-box",s)},gn("p",null,t),gn("button",{onClick:n},e))))},IMe="https://keys.coinbase.com/connect",PMe="https://rpc.wallet.coinbase.com",rG="https://www.walletlink.org",$Me="https://go.cb-w.com/walletlink";class nG{constructor(){this.attached=!1,this.redirectDialog=new AMe}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const r=new URL($Me);r.searchParams.append("redirect_url",cMe().href),e&&r.searchParams.append("wl_url",e);const n=document.createElement("a");n.target="cbw-opener",n.href=r.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class th{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=uMe(),this.linkedUpdated=s=>{this.isLinked=s;const o=this.storage.getItem(rR);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),l=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!s&&this._session.linked&&!l&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,o)=>{this.storage.setItem(s,o)},this.chainUpdated=(s,o)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===o||(this.chainCallbackParams={chainId:s,jsonRpcUrl:o},this.chainCallback&&this.chainCallback(o,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),th.accountRequestCallbackIds.size>0&&(Array.from(th.accountRequestCallbackIds.values()).forEach(o=>{this.invokeCallback(o,{method:"requestEthereumAccounts",result:[s]})}),th.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:r,ui:n,connection:i}=this.subscribe();this._session=r,this.connection=i,this.relayEventManager=new Gje,this.ui=n,this.ui.attach()}subscribe(){const e=Oy.load(this.storage)||Oy.create(this.storage),{linkAPIUrl:r}=this,n=new Vje({session:e,linkAPIUrl:r,listener:this}),i=this.isMobileWeb?new nG:new kMe;return n.connect(),{session:e,ui:i,connection:n}}resetAndReload(){this.connection.destroy().then(()=>{const e=Oy.load(this.storage);e?.id===this._session.id&&ud.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Tu(e.weiValue),data:hb(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Tu(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?Tu(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?Tu(e.gasPriceInWei):null,gasLimit:e.gasLimit?Tu(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Tu(e.weiValue),data:hb(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Tu(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?Tu(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?Tu(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?Tu(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:hb(e,!0),chainId:r}})}getWalletLinkSession(){return this._session}sendRequest(e){let r=null;const n=a0(8),i=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,s),r?.()};return new Promise((s,o)=>{r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(n,a=>{if(r?.(),Rs(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(n,e)})}publishWeb3RequestEvent(e,r){const n={type:"WEB3_REQUEST",id:e,request:r};this.publishEvent("Web3Request",n,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(n.id,{method:r.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(r.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof nG)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const r={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",r,!1).then()}publishEvent(e,r,n){return this.connection.publishEvent(e,r,n)}handleWeb3ResponseMessage(e,r){if(r.method==="requestEthereumAccounts"){th.accountRequestCallbackIds.forEach(n=>this.invokeCallback(n,r)),th.accountRequestCallbackIds.clear();return}this.invokeCallback(e,r)}handleErrorResponse(e,r,n){var i;const s=(i=n?.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:r,errorMessage:s})}invokeCallback(e,r){const n=this.relayEventManager.callbacks.get(e);n&&(n(r),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:r}=this.metadata,n={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:r}},i=a0(8);return new Promise((s,o)=>{this.relayEventManager.callbacks.set(i,a=>{if(Rs(a))return o(new Error(a.errorMessage));s(a)}),th.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,n)})}watchAsset(e,r,n,i,s,o){const a={method:"watchAsset",params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let l=null;const c=a0(8),u=h=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,h),l?.()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((h,f)=>{this.relayEventManager.callbacks.set(c,p=>{if(l?.(),Rs(p))return f(new Error(p.errorMessage));h(p)}),this.publishWeb3RequestEvent(c,a)})}addEthereumChain(e,r,n,i,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let l=null;const c=a0(8),u=h=>{this.publishWeb3RequestCanceledEvent(c),this.handleErrorResponse(c,a.method,h),l?.()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((h,f)=>{this.relayEventManager.callbacks.set(c,p=>{if(l?.(),Rs(p))return f(new Error(p.errorMessage));h(p)}),this.publishWeb3RequestEvent(c,a)})}switchEthereumChain(e,r){const n={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:r})};let i=null;const s=a0(8),o=a=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,n.method,a),i?.()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:o,onResetConnection:this.resetAndReload}),new Promise((a,l)=>{this.relayEventManager.callbacks.set(s,c=>{if(i?.(),Rs(c)&&c.errorCode)return l(Hr.provider.custom({code:c.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(Rs(c))return l(new Error(c.errorMessage));a(c)}),this.publishWeb3RequestEvent(s,n)})}}th.accountRequestCallbackIds=new Set;const iG="DefaultChainId",sG="DefaultJsonRpcUrl";class $ue{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new ud("walletlink",rG),this.callback=e.callback||null;const r=this._storage.getItem(rR);if(r){const n=r.split(" ");n[0]!==""&&(this._addresses=n.map(i=>af(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:r,secret:n}=e.getWalletLinkSession();return{id:r,secret:n}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(sG))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(sG,e)}updateProviderInfo(e,r){var n;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(iG,r.toString(10)),fb(r)!==i&&((n=this.callback)===null||n===void 0||n.call(this,"chainChanged",Lf(r)))}async watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw Hr.rpc.invalidParams("Type is required");if(r?.type!=="ERC20")throw Hr.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!r?.options)throw Hr.rpc.invalidParams("Options are required");if(!r?.options.address)throw Hr.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options,c=await this.initializeRelay().watchAsset(r.type,i,s,a,o,n?.toString());return Rs(c)?!1:!!c.result}async addEthereumChain(e){var r,n;const i=e[0];if(((r=i.rpcUrls)===null||r===void 0?void 0:r.length)===0)throw Hr.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw Hr.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw Hr.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const o=this.initializeRelay(),{rpcUrls:a=[],blockExplorerUrls:l=[],chainName:c,iconUrls:u=[],nativeCurrency:h}=i,f=await o.addEthereumChain(s.toString(),a,u,l,c,h);if(Rs(f))return!1;if(((n=f.result)===null||n===void 0?void 0:n.isApproved)===!0)return this.updateProviderInfo(a[0],s),null;throw Hr.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const r=e[0],n=Number.parseInt(r.chainId,16),s=await this.initializeRelay().switchEthereumChain(n.toString(10),this.selectedAddress||void 0);if(Rs(s))throw s;const o=s.result;return o.isApproved&&o.rpcUrl.length>0&&this.updateProviderInfo(o.rpcUrl,n),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,r){var n;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>af(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(n=this.callback)===null||n===void 0||n.call(this,"accountsChanged",i),this._storage.setItem(rR,i.join(" ")))}async request(e){const r=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Lf(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(r);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(r);case"eth_sendTransaction":return this._eth_sendTransaction(r);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(r);case"wallet_switchEthereumChain":return this.switchEthereumChain(r);case"wallet_watchAsset":return this.watchAsset(r);default:if(!this.jsonRpcUrl)throw Hr.rpc.internal("No RPC URL set for chain");return WD(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const r=af(e);if(!this._addresses.map(i=>af(i)).includes(r))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?af(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?af(e.to):null,i=e.value!=null?Xv(e.value):BigInt(0),s=e.data?tR(e.data):Buffer.alloc(0),o=e.nonce!=null?fb(e.nonce):null,a=e.gasPrice!=null?Xv(e.gasPrice):null,l=e.maxFeePerGas!=null?Xv(e.maxFeePerGas):null,c=e.maxPriorityFeePerGas!=null?Xv(e.maxPriorityFeePerGas):null,u=e.gas!=null?Xv(e.gas):null,h=e.chainId?fb(e.chainId):this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:l,maxPriorityFeePerGas:c,gasLimit:u,chainId:h}}async ecRecover(e){const{method:r,params:n}=e;if(!Array.isArray(n))throw Hr.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:T9(n[0]),signature:T9(n[1]),addPrefix:r==="personal_ecRecover"}});if(Rs(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(iG))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,r;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:Lf(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(Rs(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(r=this.callback)===null||r===void 0||r.call(this,"connect",{chainId:Lf(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw Hr.rpc.invalidParams();const r=e[1],n=e[0];this._ensureKnownAddress(r);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:af(r),message:T9(n),addPrefix:!0,typedDataJson:null}});if(Rs(s))throw s;return s.result}async _eth_signTransaction(e){const r=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(r);if(Rs(i))throw i;return i.result}async _eth_sendRawTransaction(e){const r=tR(e[0]),i=await this.initializeRelay().submitEthereumTransaction(r,this.getChainId());if(Rs(i))throw i;return i.result}async _eth_sendTransaction(e){const r=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(r);if(Rs(i))throw i;return i.result}async signTypedData(e){const{method:r,params:n}=e;if(!Array.isArray(n))throw Hr.rpc.invalidParams();const i=c=>{const u={eth_signTypedData_v1:s6.hashForSignTypedDataLegacy,eth_signTypedData_v3:s6.hashForSignTypedData_v3,eth_signTypedData_v4:s6.hashForSignTypedData_v4,eth_signTypedData:s6.hashForSignTypedData_v4};return hb(u[r]({data:wje(c)}),!0)},s=n[r==="eth_signTypedData_v1"?1:0],o=n[r==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const l=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:af(s),message:i(o),typedDataJson:JSON.stringify(o,null,2),addPrefix:!1}});if(Rs(l))throw l;return l.result}initializeRelay(){return this._relay||(this._relay=new th({linkAPIUrl:rG,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const Nue="SignerType",Rue=new ud("CBWSDK","SignerConfigurator");function NMe(){return Rue.getItem(Nue)}function RMe(t){Rue.setItem(Nue,t)}async function OMe(t){const{communicator:e,metadata:r,handshakeRequest:n,callback:i}=t;MMe(e,r,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:n})},{data:o}=await e.postRequestAndWaitForResponse(s);return o}function jMe(t){const{signerType:e,metadata:r,communicator:n,callback:i}=t;switch(e){case"scw":return new Nje({metadata:r,callback:i,communicator:n});case"walletlink":return new $ue({metadata:r,callback:i})}}async function MMe(t,e,r){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const n=new $ue({metadata:e,callback:r});t.postMessage({event:"WalletLinkUpdate",data:{session:n.getSession()}}),await n.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const DMe=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,FMe=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,r=await fetch(e,{method:"HEAD"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=r.headers.get("Cross-Origin-Opener-Policy");t=n??"null",t==="same-origin"&&console.error(DMe)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:LMe,getCrossOriginOpenerPolicy:UMe}=FMe(),oG=420,aG=540,BMe={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:Pue,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},zMe="Popup was blocked. Try again.";let a6=null;function qMe(t){const e=(window.innerWidth-oG)/2+window.screenX,r=(window.innerHeight-aG)/2+window.screenY;HMe(t);function n(){const s=`wallet_${crypto.randomUUID()}`,o=window.open(t,s,`width=${oG}, height=${aG}, left=${e}, top=${r}`);return o?.focus(),o||null}let i=n();if(!i){const s=VMe();return new Promise((o,a)=>{s.presentItem({autoExpand:!0,message:zMe,menuItems:[Object.assign(Object.assign({},BMe),{onClick:()=>{i=n(),i?o(i):a(Hr.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function WMe(t){t&&!t.closed&&t.close()}function HMe(t){const e={sdkName:cue,sdkVersion:Gx,origin:window.location.origin,coop:UMe()};for(const[r,n]of Object.entries(e))t.searchParams.append(r,n.toString())}function VMe(){if(!a6){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),a6=new Tue,a6.attach(t)}return a6}class GMe{constructor({url:e=IMe,metadata:r,preference:n}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:o})=>o===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,o)=>{const a=l=>{if(l.origin!==this.url.origin)return;const c=l.data;i(c)&&(s(c),window.removeEventListener("message",a),this.listeners.delete(a))};window.addEventListener("message",a),this.listeners.set(a,{reject:o})}),this.disconnect=()=>{WMe(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i(Hr.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await qMe(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:Gx,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw Hr.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=r,this.preference=n}}function KMe(t){const e=pje(YMe(t),{shouldIncludeStack:!0}),r=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return r.searchParams.set("version",Gx),r.searchParams.set("code",e.code.toString()),r.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:r.href})}function YMe(t){var e;if(typeof t=="string")return{message:t,code:hi.rpc.internal};if(Rs(t)){const r=t.errorMessage,n=(e=t.errorCode)!==null&&e!==void 0?e:r.match(/(denied|rejected)/i)?hi.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:r,code:n,data:{method:t.method}})}return t}class JMe extends mo{}var XMe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class QMe extends JMe{constructor(e){var{metadata:r}=e,n=e.preference,{keysUrl:i}=n,s=XMe(n,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=r,this.preference=s,this.communicator=new GMe({url:i,metadata:r,preference:s});const o=NMe();o&&(this.signer=this.initSigner(o))}async request(e){try{if($je(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const r=await this.requestSignerSelection(e),n=this.initSigner(r);await n.handshake(e),this.signer=n,RMe(r);break}case"wallet_sendCalls":{const r=this.initSigner("scw");await r.handshake({method:"handshake"});const n=await r.request(e);return await r.cleanup(),n}case"wallet_getCallsStatus":return WD(e,PMe);case"net_version":return 1;case"eth_chainId":return Lf(1);default:throw Hr.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(r){const{code:n}=r;return n===hi.provider.unauthorized&&this.disconnect(),Promise.reject(KMe(r))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,ud.clearAll(),this.emit("disconnect",Hr.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return OMe({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return jMe({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function ZMe(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function eDe(t){var e;const r={metadata:t.metadata,preference:t.preference};return(e=Pje(r))!==null&&e!==void 0?e:new QMe(r)}const tDe={options:"all"};function lG(t){var e;new ud("CBWSDK").setItem("VERSION",Gx),LMe();const n={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(tDe,(e=t.preference)!==null&&e!==void 0?e:{})};ZMe(n.preference);let i=null;return{getProvider:()=>(i||(i=eDe(n)),i)}}let F9={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const rDe={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let wm=t=>t!==void 0?BigInt(t):void 0;function Oue(t){let e,{type:r=2,...n}=typeof t=="string"?JSON.parse(t):t;n.accessList&&Array.isArray(n.accessList)?e=n.accessList.map((c=>Array.isArray(c)?{address:c[0],storageKeys:c[1]}:c)):n.accessList&&(e=Object.entries(n.accessList).map((c=>({address:c[0],storageKeys:c[1]}))));let i=Number(n.chainId??1),s=Bs(n.data)?n.data:n.data?Fn(Uint8Array.from(n.data)):void 0,o=n.nonce?Number(n.nonce):void 0,a={chainId:i,data:s,nonce:o,value:wm(n.value),gas:wm(n.gas??n.gasLimit)},l=Number(r);if(l===0)return{...n,type:F9[l],...a,gasPrice:wm(n.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===1)return{...n,type:F9[l],...a,gasPrice:wm(n.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===2)return{...n,type:F9[l],...a,nonce:o,accessList:e,maxFeePerGas:wm(n.maxFeePerGas),maxPriorityFeePerGas:wm(n.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${r}`)}const nDe=({as:t="div",...e},r)=>d.jsx(t,{...e,ref:r}),iDe=x.forwardRef(nDe),sDe="https://challenges.cloudflare.com/turnstile/v0/api.js",D_="cf-turnstile-script",oDe="cf-turnstile",jue="onloadTurnstileCallback",F_=t=>!!document.getElementById(t),aDe=({render:t="explicit",onLoadCallbackName:e=jue,scriptOptions:{nonce:r="",defer:n=!0,async:i=!0,id:s="",appendTo:o,onError:a,crossOrigin:l=""}={}})=>{const c=s||D_;if(F_(c))return;const u=document.createElement("script");if(u.id=c,u.src=`${sDe}?onload=${e}&render=${t}`,document.querySelector(`script[src="${u.src}"]`))return;u.defer=!!n,u.async=!!i,r&&(u.nonce=r),l&&(u.crossOrigin=l),a&&(u.onerror=a),(o==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(u)},Pu={normal:{width:300,height:65},compact:{width:130,height:120},invisible:{width:0,height:0,overflow:"hidden"},interactionOnly:{width:"fit-content",height:"auto"}};function lDe(t){let e;return t!=="invisible"&&(e=t),e}function cDe(t=D_){const[e,r]=x.useState(!1);return x.useEffect(()=>{const n=()=>{F_(t)&&r(!0)},i=new MutationObserver(n);return i.observe(document,{childList:!0,subtree:!0}),n(),()=>{i.disconnect()}},[t]),e}const Mue=x.forwardRef((t,e)=>{const{scriptOptions:r,options:n={},siteKey:i,onWidgetLoad:s,onSuccess:o,onExpire:a,onError:l,onBeforeInteractive:c,onAfterInteractive:u,onUnsupported:h,onLoadScript:f,id:p,style:m,as:v="div",injectScript:w=!0,...b}=t,E=n.size??"normal",[_,A]=x.useState(n.execution==="execute"?Pu.invisible:n.appearance==="interaction-only"?Pu.interactionOnly:Pu[E]),C=x.useRef(null),k=x.useRef(!1),[P,F]=x.useState(),[N,$]=x.useState(!1),U=p??oDe,O=w?r?.id||`${D_}__${U}`:r?.id||D_,D=cDe(O),T=r?.onLoadCallbackName?`${r.onLoadCallbackName}__${U}`:`${jue}__${U}`,I=x.useMemo(()=>({sitekey:i,action:n.action,cData:n.cData,callback:o,"error-callback":l,"expired-callback":a,"before-interactive-callback":c,"after-interactive-callback":u,"unsupported-callback":h,theme:n.theme??"auto",language:n.language??"auto",tabindex:n.tabIndex,"response-field":n.responseField,"response-field-name":n.responseFieldName,size:lDe(E),retry:n.retry??"auto","retry-interval":n.retryInterval??8e3,"refresh-expired":n.refreshExpired??"auto",execution:n.execution??"render",appearance:n.appearance??"always"}),[i,n,o,l,a,E,c,u,h]),R=x.useMemo(()=>JSON.stringify(I),[I]);return x.useImperativeHandle(e,()=>{if(typeof window>"u"||!D)return;const{turnstile:L}=window;return{getResponse(){if(!L?.getResponse||!P){console.warn("Turnstile has not been loaded");return}return L.getResponse(P)},reset(){if(!L?.reset||!P){console.warn("Turnstile has not been loaded");return}n.execution==="execute"&&A(Pu.invisible);try{L.reset(P)}catch(B){console.warn(`Failed to reset Turnstile widget ${P}`,B)}},remove(){if(!L?.remove||!P){console.warn("Turnstile has not been loaded");return}F(""),A(Pu.invisible),L.remove(P)},render(){if(!L?.render||!C.current||P){console.warn("Turnstile has not been loaded or widget already rendered");return}const B=L.render(C.current,I);return F(B),n.execution!=="execute"&&A(Pu[E]),B},execute(){if(n.execution==="execute"){if(!L?.execute||!C.current||!P){console.warn("Turnstile has not been loaded or widget has not been rendered");return}L.execute(C.current,I),A(Pu[E])}},isExpired(){if(!L?.isExpired||!P){console.warn("Turnstile has not been loaded");return}return L.isExpired(P)}}},[D,P,n.execution,E,I,C]),x.useEffect(()=>(window[T]=()=>$(!0),()=>{delete window[T]}),[T]),x.useEffect(()=>{w&&!N&&aDe({onLoadCallbackName:T,scriptOptions:{...r,id:O}})},[w,N,T,r,O]),x.useEffect(()=>{D&&!N&&window.turnstile&&$(!0)},[N,D]),x.useEffect(()=>{if(!i){console.warn("sitekey was not provided");return}if(!D||!C.current||!N||k.current)return;const L=window.turnstile.render(C.current,I);F(L),k.current=!0},[D,i,I,k,N]),x.useEffect(()=>{if(window.turnstile&&C.current&&P){F_(P)&&window.turnstile.remove(P);const L=window.turnstile.render(C.current,I);F(L),k.current=!0}},[R,i]),x.useEffect(()=>{if(window.turnstile&&P&&F_(P))return s?.(P),()=>{window.turnstile.remove(P)}},[P,s]),x.useEffect(()=>{A(n.execution==="execute"?Pu.invisible:I.appearance==="interaction-only"?Pu.interactionOnly:Pu[E])},[n.execution,E,I.appearance]),x.useEffect(()=>{!D||typeof f!="function"||f()},[D,f]),d.jsx(iDe,{ref:C,as:v,id:U,style:{..._,...m},...b})});Mue.displayName="Turnstile";var co=function(){return co=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},co.apply(this,arguments)};function n1(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var On="-ms-",gb="-moz-",rn="-webkit-",Due="comm",KE="rule",XD="decl",uDe="@import",dDe="@namespace",Fue="@keyframes",hDe="@layer",Lue=Math.abs,QD=String.fromCharCode,cR=Object.assign;function fDe(t,e){return Gi(t,0)^45?(((e<<2^Gi(t,0))<<2^Gi(t,1))<<2^Gi(t,2))<<2^Gi(t,3):0}function Uue(t){return t.trim()}function Jd(t,e){return(t=e.exec(t))?t[0]:t}function kr(t,e,r){return t.replace(e,r)}function B4(t,e,r){return t.indexOf(e,r)}function Gi(t,e){return t.charCodeAt(e)|0}function J0(t,e,r){return t.slice(e,r)}function Mc(t){return t.length}function Bue(t){return t.length}function qw(t,e){return e.push(t),t}function pDe(t,e){return t.map(e).join("")}function cG(t,e){return t.filter(function(r){return!Jd(r,e)})}var YE=1,i1=1,zue=0,Yl=0,$i=0,M1="";function JE(t,e,r,n,i,s,o,a){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:YE,column:i1,length:o,return:"",siblings:a}}function _f(t,e){return cR(JE("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function bm(t){for(;t.root;)t=_f(t.root,{children:[t]});qw(t,t.siblings)}function gDe(){return $i}function mDe(){return $i=Yl>0?Gi(M1,--Yl):0,i1--,$i===10&&(i1=1,YE--),$i}function Vc(){return $i=Yl<zue?Gi(M1,Yl++):0,i1++,$i===10&&(i1=1,YE++),$i}function Bf(){return Gi(M1,Yl)}function z4(){return Yl}function XE(t,e){return J0(M1,t,e)}function D2(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yDe(t){return YE=i1=1,zue=Mc(M1=t),Yl=0,[]}function vDe(t){return M1="",t}function L9(t){return Uue(XE(Yl-1,uR(t===91?t+2:t===40?t+1:t)))}function wDe(t){for(;($i=Bf())&&$i<33;)Vc();return D2(t)>2||D2($i)>3?"":" "}function bDe(t,e){for(;--e&&Vc()&&!($i<48||$i>102||$i>57&&$i<65||$i>70&&$i<97););return XE(t,z4()+(e<6&&Bf()==32&&Vc()==32))}function uR(t){for(;Vc();)switch($i){case t:return Yl;case 34:case 39:t!==34&&t!==39&&uR($i);break;case 40:t===41&&uR(t);break;case 92:Vc();break}return Yl}function xDe(t,e){for(;Vc()&&t+$i!==57;)if(t+$i===84&&Bf()===47)break;return"/*"+XE(e,Yl-1)+"*"+QD(t===47?t:Vc())}function _De(t){for(;!D2(Bf());)Vc();return XE(t,Yl)}function CDe(t){return vDe(q4("",null,null,null,[""],t=yDe(t),0,[0],t))}function q4(t,e,r,n,i,s,o,a,l){for(var c=0,u=0,h=o,f=0,p=0,m=0,v=1,w=1,b=1,E=0,_="",A=i,C=s,k=n,P=_;w;)switch(m=E,E=Vc()){case 40:if(m!=108&&Gi(P,h-1)==58){B4(P+=kr(L9(E),"&","&\f"),"&\f",Lue(c?a[c-1]:0))!=-1&&(b=-1);break}case 34:case 39:case 91:P+=L9(E);break;case 9:case 10:case 13:case 32:P+=wDe(m);break;case 92:P+=bDe(z4()-1,7);continue;case 47:switch(Bf()){case 42:case 47:qw(EDe(xDe(Vc(),z4()),e,r,l),l),(D2(m||1)==5||D2(Bf()||1)==5)&&Mc(P)&&J0(P,-1,void 0)!==" "&&(P+=" ");break;default:P+="/"}break;case 123*v:a[c++]=Mc(P)*b;case 125*v:case 59:case 0:switch(E){case 0:case 125:w=0;case 59+u:b==-1&&(P=kr(P,/\f/g,"")),p>0&&(Mc(P)-h||v===0&&m===47)&&qw(p>32?dG(P+";",n,r,h-1,l):dG(kr(P," ","")+";",n,r,h-2,l),l);break;case 59:P+=";";default:if(qw(k=uG(P,e,r,c,u,i,a,_,A=[],C=[],h,s),s),E===123)if(u===0)q4(P,e,k,k,A,s,h,a,C);else{switch(f){case 99:if(Gi(P,3)===110)break;case 108:if(Gi(P,2)===97)break;default:u=0;case 100:case 109:case 115:}u?q4(t,k,k,n&&qw(uG(t,k,k,0,0,i,a,_,i,A=[],h,C),C),i,C,h,a,n?A:C):q4(P,k,k,k,[""],C,0,a,C)}}c=u=p=0,v=b=1,_=P="",h=o;break;case 58:h=1+Mc(P),p=m;default:if(v<1){if(E==123)--v;else if(E==125&&v++==0&&mDe()==125)continue}switch(P+=QD(E),E*v){case 38:b=u>0?1:(P+="\f",-1);break;case 44:a[c++]=(Mc(P)-1)*b,b=1;break;case 64:Bf()===45&&(P+=L9(Vc())),f=Bf(),u=h=Mc(_=P+=_De(z4())),E++;break;case 45:m===45&&Mc(P)==2&&(v=0)}}return s}function uG(t,e,r,n,i,s,o,a,l,c,u,h){for(var f=i-1,p=i===0?s:[""],m=Bue(p),v=0,w=0,b=0;v<n;++v)for(var E=0,_=J0(t,f+1,f=Lue(w=o[v])),A=t;E<m;++E)(A=Uue(w>0?p[E]+" "+_:kr(_,/&\f/g,p[E])))&&(l[b++]=A);return JE(t,e,r,i===0?KE:a,l,c,u,h)}function EDe(t,e,r,n){return JE(t,e,r,Due,QD(gDe()),J0(t,2,-2),0,n)}function dG(t,e,r,n,i){return JE(t,e,r,XD,J0(t,0,n),J0(t,n+1,-1),n,i)}function que(t,e,r){switch(fDe(t,e)){case 5103:return rn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:case 6391:case 5879:case 5623:case 6135:case 4599:return rn+t+t;case 4855:return rn+t.replace("add","source-over").replace("substract","source-out").replace("intersect","source-in").replace("exclude","xor")+t;case 4789:return gb+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return rn+t+gb+t+On+t+t;case 5936:switch(Gi(t,e+11)){case 114:return rn+t+On+kr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return rn+t+On+kr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return rn+t+On+kr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return rn+t+On+t+t;case 6165:return rn+t+On+"flex-"+t+t;case 5187:return rn+t+kr(t,/(\w+).+(:[^]+)/,rn+"box-$1$2"+On+"flex-$1$2")+t;case 5443:return rn+t+On+"flex-item-"+kr(t,/flex-|-self/g,"")+(Jd(t,/flex-|baseline/)?"":On+"grid-row-"+kr(t,/flex-|-self/g,""))+t;case 4675:return rn+t+On+"flex-line-pack"+kr(t,/align-content|flex-|-self/g,"")+t;case 5548:return rn+t+On+kr(t,"shrink","negative")+t;case 5292:return rn+t+On+kr(t,"basis","preferred-size")+t;case 6060:return rn+"box-"+kr(t,"-grow","")+rn+t+On+kr(t,"grow","positive")+t;case 4554:return rn+kr(t,/([^-])(transform)/g,"$1"+rn+"$2")+t;case 6187:return kr(kr(kr(t,/(zoom-|grab)/,rn+"$1"),/(image-set)/,rn+"$1"),t,"")+t;case 5495:case 3959:return kr(t,/(image-set\([^]*)/,rn+"$1$`$1");case 4968:return kr(kr(t,/(.+:)(flex-)?(.*)/,rn+"box-pack:$3"+On+"flex-pack:$3"),/space-between/,"justify")+rn+t+t;case 4200:if(!Jd(t,/flex-|baseline/))return On+"grid-column-align"+J0(t,e)+t;break;case 2592:case 3360:return On+kr(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(n,i){return e=i,Jd(n.props,/grid-\w+-end/)})?~B4(t+(r=r[e].value),"span",0)?t:On+kr(t,"-start","")+t+On+"grid-row-span:"+(~B4(r,"span",0)?Jd(r,/\d+/):+Jd(r,/\d+/)-+Jd(t,/\d+/))+";":On+kr(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(n){return Jd(n.props,/grid-\w+-start/)})?t:On+kr(kr(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return kr(t,/(.+)-inline(.+)/,rn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mc(t)-1-e>6)switch(Gi(t,e+1)){case 109:if(Gi(t,e+4)!==45)break;case 102:return kr(t,/(.+:)(.+)-([^]+)/,"$1"+rn+"$2-$3$1"+gb+(Gi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~B4(t,"stretch",0)?que(kr(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return kr(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,s,o,a,l,c){return On+i+":"+s+c+(o?On+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(Gi(t,e+6)===121)return kr(t,":",":"+rn)+t;break;case 6444:switch(Gi(t,Gi(t,14)===45?18:11)){case 120:return kr(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+rn+(Gi(t,14)===45?"inline-":"")+"box$3$1"+rn+"$2$3$1"+On+"$2box$3")+t;case 100:return kr(t,":",":"+On)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return kr(t,"scroll-","scroll-snap-")+t}return t}function L_(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function kDe(t,e,r,n){switch(t.type){case hDe:if(t.children.length)break;case uDe:case dDe:case XD:return t.return=t.return||t.value;case Due:return"";case Fue:return t.return=t.value+"{"+L_(t.children,n)+"}";case KE:if(!Mc(t.value=t.props.join(",")))return""}return Mc(r=L_(t.children,n))?t.return=t.value+"{"+r+"}":""}function SDe(t){var e=Bue(t);return function(r,n,i,s){for(var o="",a=0;a<e;a++)o+=t[a](r,n,i,s)||"";return o}}function ADe(t){return function(e){e.root||(e=e.return)&&t(e)}}function TDe(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case XD:t.return=que(t.value,t.length,r);return;case Fue:return L_([_f(t,{value:kr(t.value,"@","@"+rn)})],n);case KE:if(t.length)return pDe(r=t.props,function(i){switch(Jd(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":bm(_f(t,{props:[kr(i,/:(read-\w+)/,":"+gb+"$1")]})),bm(_f(t,{props:[i]})),cR(t,{props:cG(r,n)});break;case"::placeholder":bm(_f(t,{props:[kr(i,/:(plac\w+)/,":"+rn+"input-$1")]})),bm(_f(t,{props:[kr(i,/:(plac\w+)/,":"+gb+"$1")]})),bm(_f(t,{props:[kr(i,/:(plac\w+)/,On+"input-$1")]})),bm(_f(t,{props:[i]})),cR(t,{props:cG(r,n)});break}return""})}}var IDe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Da={},s1=typeof process<"u"&&Da!==void 0&&(Da.REACT_APP_SC_ATTR||Da.SC_ATTR)||"data-styled",Wue="active",Hue="data-styled-version",QE="6.2.0",ZD=`/*!sc*/
`,U_=typeof window<"u"&&typeof document<"u",PDe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Da!==void 0&&Da.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Da.REACT_APP_SC_DISABLE_SPEEDY!==""?Da.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Da.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Da!==void 0&&Da.SC_DISABLE_SPEEDY!==void 0&&Da.SC_DISABLE_SPEEDY!==""&&Da.SC_DISABLE_SPEEDY!=="false"&&Da.SC_DISABLE_SPEEDY),$De={},ZE=Object.freeze([]),o1=Object.freeze({});function Vue(t,e,r){return r===void 0&&(r=o1),t.theme!==r.theme&&t.theme||e||r.theme}var Gue=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),NDe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,RDe=/(^-|-$)/g;function hG(t){return t.replace(NDe,"-").replace(RDe,"")}var ODe=/(a)(d)/gi,l6=52,fG=function(t){return String.fromCharCode(t+(t>25?39:97))};function dR(t){var e,r="";for(e=Math.abs(t);e>l6;e=e/l6|0)r=fG(e%l6)+r;return(fG(e%l6)+r).replace(ODe,"$1-$2")}var U9,Kue=5381,gy=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},Yue=function(t){return gy(Kue,t)};function eF(t){return dR(Yue(t)>>>0)}function jDe(t){return t.displayName||t.name||"Component"}function B9(t){return typeof t=="string"&&!0}var Jue=typeof Symbol=="function"&&Symbol.for,Xue=Jue?Symbol.for("react.memo"):60115,MDe=Jue?Symbol.for("react.forward_ref"):60112,DDe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},FDe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Que={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},LDe=((U9={})[MDe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},U9[Xue]=Que,U9);function pG(t){return("type"in(e=t)&&e.type.$$typeof)===Xue?Que:"$$typeof"in t?LDe[t.$$typeof]:DDe;var e}var UDe=Object.defineProperty,BDe=Object.getOwnPropertyNames,gG=Object.getOwnPropertySymbols,zDe=Object.getOwnPropertyDescriptor,qDe=Object.getPrototypeOf,mG=Object.prototype;function Zue(t,e,r){if(typeof e!="string"){if(mG){var n=qDe(e);n&&n!==mG&&Zue(t,n,r)}var i=BDe(e);gG&&(i=i.concat(gG(e)));for(var s=pG(t),o=pG(e),a=0;a<i.length;++a){var l=i[a];if(!(l in FDe||r&&r[l]||o&&l in o||s&&l in s)){var c=zDe(e,l);try{UDe(t,l,c)}catch{}}}}return t}function a1(t){return typeof t=="function"}function tF(t){return typeof t=="object"&&"styledComponentId"in t}function v0(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function B_(t,e){if(t.length===0)return"";for(var r=t[0],n=1;n<t.length;n++)r+=t[n];return r}function F2(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function hR(t,e,r){if(r===void 0&&(r=!1),!r&&!F2(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=hR(t[n],e[n]);else if(F2(e))for(var n in e)t[n]=hR(t[n],e[n]);return t}function rF(t,e){Object.defineProperty(t,"toString",{value:e})}function Kx(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var WDe=(function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,n=0;n<e;n++)r+=this.groupSizes[n];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,s=i;e>=s;)if((s<<=1)<0)throw Kx(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(n),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,r.length);o<l;o++)this.tag.insertRule(a,r[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r;this.groupSizes[e]=0;for(var s=n;s<i;s++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),s=i+n,o=i;o<s;o++)r+="".concat(this.tag.getRule(o)).concat(ZD);return r},t})(),W4=new Map,z_=new Map,H4=1,c6=function(t){if(W4.has(t))return W4.get(t);for(;z_.has(H4);)H4++;var e=H4++;return W4.set(t,e),z_.set(e,t),e},HDe=function(t,e){H4=e+1,W4.set(t,e),z_.set(e,t)},VDe="style[".concat(s1,"][").concat(Hue,'="').concat(QE,'"]'),GDe=new RegExp("^".concat(s1,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),KDe=function(t,e,r){for(var n,i=r.split(","),s=0,o=i.length;s<o;s++)(n=i[s])&&t.registerName(e,n)},YDe=function(t,e){for(var r,n=((r=e.textContent)!==null&&r!==void 0?r:"").split(ZD),i=[],s=0,o=n.length;s<o;s++){var a=n[s].trim();if(a){var l=a.match(GDe);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(HDe(u,c),KDe(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},yG=function(t){for(var e=document.querySelectorAll(VDe),r=0,n=e.length;r<n;r++){var i=e[r];i&&i.getAttribute(s1)!==Wue&&(YDe(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function JDe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var ede=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=(function(a){var l=Array.from(a.querySelectorAll("style[".concat(s1,"]")));return l[l.length-1]})(r),s=i!==void 0?i.nextSibling:null;n.setAttribute(s1,Wue),n.setAttribute(Hue,QE);var o=JDe();return o&&n.setAttribute("nonce",o),r.insertBefore(n,s),n},XDe=(function(){function t(e){this.element=ede(e),this.element.appendChild(document.createTextNode("")),this.sheet=(function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,i=0,s=n.length;i<s;i++){var o=n[i];if(o.ownerNode===r)return o}throw Kx(17)})(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t})(),QDe=(function(){function t(e){this.element=ede(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t})(),ZDe=(function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t})(),vG=U_,eFe={isServer:!U_,useCSSOMInjection:!PDe},q_=(function(){function t(e,r,n){e===void 0&&(e=o1),r===void 0&&(r={});var i=this;this.options=co(co({},eFe),e),this.gs=r,this.names=new Map(n),this.server=!!e.isServer,!this.server&&U_&&vG&&(vG=!1,yG(this)),rF(this,function(){return(function(s){for(var o=s.getTag(),a=o.length,l="",c=function(h){var f=(function(b){return z_.get(b)})(h);if(f===void 0)return"continue";var p=s.names.get(f),m=o.getGroup(h);if(p===void 0||!p.size||m.length===0)return"continue";var v="".concat(s1,".g").concat(h,'[id="').concat(f,'"]'),w="";p!==void 0&&p.forEach(function(b){b.length>0&&(w+="".concat(b,","))}),l+="".concat(m).concat(v,'{content:"').concat(w,'"}').concat(ZD)},u=0;u<a;u++)c(u);return l})(i)})}return t.registerId=function(e){return c6(e)},t.prototype.rehydrate=function(){!this.server&&U_&&yG(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t(co(co({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=(function(r){var n=r.useCSSOMInjection,i=r.target;return r.isServer?new ZDe(i):n?new XDe(i):new QDe(i)})(this.options),new WDe(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(c6(e),this.names.has(e))this.names.get(e).add(r);else{var n=new Set;n.add(r),this.names.set(e,n)}},t.prototype.insertRules=function(e,r,n){this.registerName(e,r),this.getTag().insertRules(c6(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(c6(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t})(),tFe=/&/g,rFe=/^\s*\/\/.*$/gm;function tde(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=tde(r.children,e)),r})}function nFe(t){var e,r,n,i=o1,s=i.options,o=s===void 0?o1:s,a=i.plugins,l=a===void 0?ZE:a,c=function(f,p,m){return m.startsWith(r)&&m.endsWith(r)&&m.replaceAll(r,"").length>0?".".concat(e):f},u=l.slice();u.push(function(f){f.type===KE&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(tFe,r).replace(n,c))}),o.prefix&&u.push(TDe),u.push(kDe);var h=function(f,p,m,v){p===void 0&&(p=""),m===void 0&&(m=""),v===void 0&&(v="&"),e=v,r=p,n=new RegExp("\\".concat(r,"\\b"),"g");var w=f.replace(rFe,""),b=CDe(m||p?"".concat(m," ").concat(p," { ").concat(w," }"):w);o.namespace&&(b=tde(b,o.namespace));var E=[];return L_(b,SDe(u.concat(ADe(function(_){return E.push(_)})))),E};return h.hash=l.length?l.reduce(function(f,p){return p.name||Kx(15),gy(f,p.name)},Kue).toString():"",h}var iFe=new q_,fR=nFe(),rde=ht.createContext({shouldForwardProp:void 0,styleSheet:iFe,stylis:fR});rde.Consumer;ht.createContext(void 0);function pR(){return x.useContext(rde)}var nde=(function(){function t(e,r){var n=this;this.inject=function(i,s){s===void 0&&(s=fR);var o=n.name+s.hash;i.hasNameForId(n.id,o)||i.insertRules(n.id,o,s(n.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,rF(this,function(){throw Kx(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=fR),this.name+e.hash},t})(),sFe=function(t){return t>="A"&&t<="Z"};function wG(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(r===1&&n==="-"&&t[0]==="-")return t;sFe(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var ide=function(t){return t==null||t===!1||t===""},sde=function(t){var e,r,n=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!ide(s)&&(Array.isArray(s)&&s.isCss||a1(s)?n.push("".concat(wG(i),":"),s,";"):F2(s)?n.push.apply(n,n1(n1(["".concat(i," {")],sde(s),!1),["}"],!1)):n.push("".concat(wG(i),": ").concat((e=i,(r=s)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in IDe||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function Kf(t,e,r,n){if(ide(t))return[];if(tF(t))return[".".concat(t.styledComponentId)];if(a1(t)){if(!a1(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Kf(i,e,r,n)}var s;return t instanceof nde?r?(t.inject(r,n),[t.getName(n)]):[t]:F2(t)?sde(t):Array.isArray(t)?Array.prototype.concat.apply(ZE,t.map(function(o){return Kf(o,e,r,n)})):[t.toString()]}function ode(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(a1(r)&&!tF(r))return!1}return!0}var oFe=Yue(QE),aFe=(function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&ode(e),this.componentId=r,this.baseHash=gy(oFe,r),this.baseStyle=n,q_.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))i=v0(i,this.staticRulesId);else{var s=B_(Kf(this.rules,e,r,n)),o=dR(gy(this.baseHash,s)>>>0);if(!r.hasNameForId(this.componentId,o)){var a=n(s,".".concat(o),void 0,this.componentId);r.insertRules(this.componentId,o,a)}i=v0(i,o),this.staticRulesId=o}else{for(var l=gy(this.baseHash,n.hash),c="",u=0;u<this.rules.length;u++){var h=this.rules[u];if(typeof h=="string")c+=h;else if(h){var f=B_(Kf(h,e,r,n));l=gy(l,f+u),c+=f}}if(c){var p=dR(l>>>0);r.hasNameForId(this.componentId,p)||r.insertRules(this.componentId,p,n(c,".".concat(p),void 0,this.componentId)),i=v0(i,p)}}return i},t})(),nF=ht.createContext(void 0);nF.Consumer;var z9={};function lFe(t,e,r){var n=tF(t),i=t,s=!B9(t),o=e.attrs,a=o===void 0?ZE:o,l=e.componentId,c=l===void 0?(function(A,C){var k=typeof A!="string"?"sc":hG(A);z9[k]=(z9[k]||0)+1;var P="".concat(k,"-").concat(eF(QE+k+z9[k]));return C?"".concat(C,"-").concat(P):P})(e.displayName,e.parentComponentId):l,u=e.displayName,h=u===void 0?(function(A){return B9(A)?"styled.".concat(A):"Styled(".concat(jDe(A),")")})(t):u,f=e.displayName&&e.componentId?"".concat(hG(e.displayName),"-").concat(e.componentId):e.componentId||c,p=n&&i.attrs?i.attrs.concat(a).filter(Boolean):a,m=e.shouldForwardProp;if(n&&i.shouldForwardProp){var v=i.shouldForwardProp;if(e.shouldForwardProp){var w=e.shouldForwardProp;m=function(A,C){return v(A,C)&&w(A,C)}}else m=v}var b=new aFe(r,f,n?i.componentStyle:void 0);function E(A,C){return(function(k,P,F){var N=k.attrs,$=k.componentStyle,U=k.defaultProps,O=k.foldedComponentIds,D=k.styledComponentId,T=k.target,I=ht.useContext(nF),R=pR(),L=k.shouldForwardProp||R.shouldForwardProp,B=Vue(P,I,U)||o1,q=(function(z,Z,ee){for(var te,se=co(co({},Z),{className:void 0,theme:ee}),ce=0;ce<z.length;ce+=1){var ge=a1(te=z[ce])?te(se):te;for(var ae in ge)ae==="className"?se.className=v0(se.className,ge[ae]):ae==="style"?se.style=co(co({},se.style),ge[ae]):se[ae]=ge[ae]}return"className"in Z&&typeof Z.className=="string"&&(se.className=v0(se.className,Z.className)),se})(N,P,B),G=q.as||T,W={};for(var j in q)q[j]===void 0||j[0]==="$"||j==="as"||j==="theme"&&q.theme===B||(j==="forwardedAs"?W.as=q.forwardedAs:L&&!L(j,G)||(W[j]=q[j]));var Y=(function(z,Z){var ee=pR(),te=z.generateAndInjectStyles(Z,ee.styleSheet,ee.stylis);return te})($,q),Q=v0(O,D);return Y&&(Q+=" "+Y),q.className&&(Q+=" "+q.className),W[B9(G)&&!Gue.has(G)?"class":"className"]=Q,F&&(W.ref=F),x.createElement(G,W)})(_,A,C)}E.displayName=h;var _=ht.forwardRef(E);return _.attrs=p,_.componentStyle=b,_.displayName=h,_.shouldForwardProp=m,_.foldedComponentIds=n?v0(i.foldedComponentIds,i.styledComponentId):"",_.styledComponentId=f,_.target=n?i.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(A){this._foldedDefaultProps=n?(function(C){for(var k=[],P=1;P<arguments.length;P++)k[P-1]=arguments[P];for(var F=0,N=k;F<N.length;F++)hR(C,N[F],!0);return C})({},i.defaultProps,A):A}}),rF(_,function(){return".".concat(_.styledComponentId)}),s&&Zue(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function bG(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r}var xG=function(t){return Object.assign(t,{isCss:!0})};function Zi(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(a1(t)||F2(t))return xG(Kf(bG(ZE,n1([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?Kf(n):xG(Kf(bG(n,e)))}function gR(t,e,r){if(r===void 0&&(r=o1),!e)throw Kx(1,e);var n=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,r,Zi.apply(void 0,n1([i],s,!1)))};return n.attrs=function(i){return gR(t,e,co(co({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},n.withConfig=function(i){return gR(t,e,co(co({},r),i))},n}var ade=function(t){return gR(lFe,t)},ie=ade;Gue.forEach(function(t){ie[t]=ade(t)});var cFe=(function(){function t(e,r){this.rules=e,this.componentId=r,this.isStatic=ode(e),q_.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,r,n,i){var s=i(B_(Kf(this.rules,r,n,i)),""),o=this.componentId+e;n.insertRules(o,o,s)},t.prototype.removeStyles=function(e,r){r.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,r,n,i){e>2&&q_.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,r,n,i)},t})();function uFe(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Zi.apply(void 0,n1([t],e,!1)),i="sc-global-".concat(eF(JSON.stringify(n))),s=new cFe(n,i),o=function(l){var c=pR(),u=ht.useContext(nF),h=ht.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&a(h,l,c.styleSheet,u,c.stylis),ht.useLayoutEffect(function(){if(!c.styleSheet.server)return a(h,l,c.styleSheet,u,c.stylis),function(){return s.removeStyles(h,c.styleSheet)}},[h,l,c.styleSheet,u,c.stylis]),null};function a(l,c,u,h,f){if(s.isStatic)s.renderStyles(l,$De,u,f);else{var p=co(co({},c),{theme:Vue(c,h,o.defaultProps)});s.renderStyles(l,p,u,f)}}return ht.memo(o)}function lde(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=B_(Zi.apply(void 0,n1([t],e,!1))),i=eF(n);return new nde(i,n)}function W_(t){"@babel/helpers - typeof";return W_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W_(t)}var dFe=/^\s+/,hFe=/\s+$/;function Ft(t,e){if(t=t||"",e=e||{},t instanceof Ft)return t;if(!(this instanceof Ft))return new Ft(t,e);var r=fFe(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}Ft.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,n,i,s,o,a;return r=e.r/255,n=e.g/255,i=e.b/255,r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=cde(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=CG(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=CG(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+i+"%)":"hsva("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=_G(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=_G(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+i+"%)":"hsla("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return EG(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return yFe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Wn(this._r,255)*100)+"%",g:Math.round(Wn(this._g,255)*100)+"%",b:Math.round(Wn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Wn(this._r,255)*100)+"%, "+Math.round(Wn(this._g,255)*100)+"%, "+Math.round(Wn(this._b,255)*100)+"%)":"rgba("+Math.round(Wn(this._r,255)*100)+"%, "+Math.round(Wn(this._g,255)*100)+"%, "+Math.round(Wn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:IFe[EG(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+kG(this._r,this._g,this._b,this._a),n=r,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Ft(e);n="#"+kG(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+n+")"},toString:function(e){var r=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0,s=!r&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return Ft(this.toString())},_applyModification:function(e,r){var n=e.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(xFe,arguments)},brighten:function(){return this._applyModification(_Fe,arguments)},darken:function(){return this._applyModification(CFe,arguments)},desaturate:function(){return this._applyModification(vFe,arguments)},saturate:function(){return this._applyModification(wFe,arguments)},greyscale:function(){return this._applyModification(bFe,arguments)},spin:function(){return this._applyModification(EFe,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(AFe,arguments)},complement:function(){return this._applyCombination(kFe,arguments)},monochromatic:function(){return this._applyCombination(TFe,arguments)},splitcomplement:function(){return this._applyCombination(SFe,arguments)},triad:function(){return this._applyCombination(SG,[3])},tetrad:function(){return this._applyCombination(SG,[4])}};Ft.fromRatio=function(t,e){if(W_(t)=="object"){var r={};for(var n in t)t.hasOwnProperty(n)&&(n==="a"?r[n]=t[n]:r[n]=Ww(t[n]));t=r}return Ft(t,e)};function fFe(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=RFe(t)),W_(t)=="object"&&(Nd(t.r)&&Nd(t.g)&&Nd(t.b)?(e=pFe(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Nd(t.h)&&Nd(t.s)&&Nd(t.v)?(n=Ww(t.s),i=Ww(t.v),e=mFe(t.h,n,i),o=!0,a="hsv"):Nd(t.h)&&Nd(t.s)&&Nd(t.l)&&(n=Ww(t.s),s=Ww(t.l),e=gFe(t.h,n,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=cde(r),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function pFe(t,e,r){return{r:Wn(t,255)*255,g:Wn(e,255)*255,b:Wn(r,255)*255}}function _G(t,e,r){t=Wn(t,255),e=Wn(e,255),r=Wn(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),s,o,a=(n+i)/2;if(n==i)s=o=0;else{var l=n-i;switch(o=a>.5?l/(2-n-i):l/(n+i),n){case t:s=(e-r)/l+(e<r?6:0);break;case e:s=(r-t)/l+2;break;case r:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function gFe(t,e,r){var n,i,s;t=Wn(t,360),e=Wn(e,100),r=Wn(r,100);function o(c,u,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?c+(u-c)*6*h:h<1/2?u:h<2/3?c+(u-c)*(2/3-h)*6:c}if(e===0)n=i=s=r;else{var a=r<.5?r*(1+e):r+e-r*e,l=2*r-a;n=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:n*255,g:i*255,b:s*255}}function CG(t,e,r){t=Wn(t,255),e=Wn(e,255),r=Wn(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),s,o,a=n,l=n-i;if(o=n===0?0:l/n,n==i)s=0;else{switch(n){case t:s=(e-r)/l+(e<r?6:0);break;case e:s=(r-t)/l+2;break;case r:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function mFe(t,e,r){t=Wn(t,360)*6,e=Wn(e,100),r=Wn(r,100);var n=Math.floor(t),i=t-n,s=r*(1-e),o=r*(1-i*e),a=r*(1-(1-i)*e),l=n%6,c=[r,o,s,s,a,r][l],u=[a,r,r,o,s,s][l],h=[s,s,a,r,r,o][l];return{r:c*255,g:u*255,b:h*255}}function EG(t,e,r,n){var i=[qc(Math.round(t).toString(16)),qc(Math.round(e).toString(16)),qc(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function yFe(t,e,r,n,i){var s=[qc(Math.round(t).toString(16)),qc(Math.round(e).toString(16)),qc(Math.round(r).toString(16)),qc(ude(n))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function kG(t,e,r,n){var i=[qc(ude(n)),qc(Math.round(t).toString(16)),qc(Math.round(e).toString(16)),qc(Math.round(r).toString(16))];return i.join("")}Ft.equals=function(t,e){return!t||!e?!1:Ft(t).toRgbString()==Ft(e).toRgbString()};Ft.random=function(){return Ft.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function vFe(t,e){e=e===0?0:e||10;var r=Ft(t).toHsl();return r.s-=e/100,r.s=e8(r.s),Ft(r)}function wFe(t,e){e=e===0?0:e||10;var r=Ft(t).toHsl();return r.s+=e/100,r.s=e8(r.s),Ft(r)}function bFe(t){return Ft(t).desaturate(100)}function xFe(t,e){e=e===0?0:e||10;var r=Ft(t).toHsl();return r.l+=e/100,r.l=e8(r.l),Ft(r)}function _Fe(t,e){e=e===0?0:e||10;var r=Ft(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),Ft(r)}function CFe(t,e){e=e===0?0:e||10;var r=Ft(t).toHsl();return r.l-=e/100,r.l=e8(r.l),Ft(r)}function EFe(t,e){var r=Ft(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,Ft(r)}function kFe(t){var e=Ft(t).toHsl();return e.h=(e.h+180)%360,Ft(e)}function SG(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=Ft(t).toHsl(),n=[Ft(t)],i=360/e,s=1;s<e;s++)n.push(Ft({h:(r.h+s*i)%360,s:r.s,l:r.l}));return n}function SFe(t){var e=Ft(t).toHsl(),r=e.h;return[Ft(t),Ft({h:(r+72)%360,s:e.s,l:e.l}),Ft({h:(r+216)%360,s:e.s,l:e.l})]}function AFe(t,e,r){e=e||6,r=r||30;var n=Ft(t).toHsl(),i=360/r,s=[Ft(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,s.push(Ft(n));return s}function TFe(t,e){e=e||6;for(var r=Ft(t).toHsv(),n=r.h,i=r.s,s=r.v,o=[],a=1/e;e--;)o.push(Ft({h:n,s:i,v:s})),s=(s+a)%1;return o}Ft.mix=function(t,e,r){r=r===0?0:r||50;var n=Ft(t).toRgb(),i=Ft(e).toRgb(),s=r/100,o={r:(i.r-n.r)*s+n.r,g:(i.g-n.g)*s+n.g,b:(i.b-n.b)*s+n.b,a:(i.a-n.a)*s+n.a};return Ft(o)};Ft.readability=function(t,e){var r=Ft(t),n=Ft(e);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};Ft.isReadable=function(t,e,r){var n=Ft.readability(t,e),i,s;switch(s=!1,i=OFe(r),i.level+i.size){case"AAsmall":case"AAAlarge":s=n>=4.5;break;case"AAlarge":s=n>=3;break;case"AAAsmall":s=n>=7;break}return s};Ft.mostReadable=function(t,e,r){var n=null,i=0,s,o,a,l;r=r||{},o=r.includeFallbackColors,a=r.level,l=r.size;for(var c=0;c<e.length;c++)s=Ft.readability(t,e[c]),s>i&&(i=s,n=Ft(e[c]));return Ft.isReadable(t,n,{level:a,size:l})||!o?n:(r.includeFallbackColors=!1,Ft.mostReadable(t,["#fff","#000"],r))};var mR=Ft.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},IFe=Ft.hexNames=PFe(mR);function PFe(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function cde(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Wn(t,e){$Fe(t)&&(t="100%");var r=NFe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function e8(t){return Math.min(1,Math.max(0,t))}function Na(t){return parseInt(t,16)}function $Fe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function NFe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function qc(t){return t.length==1?"0"+t:""+t}function Ww(t){return t<=1&&(t=t*100+"%"),t}function ude(t){return Math.round(parseFloat(t)*255).toString(16)}function AG(t){return Na(t)/255}var Tc=(function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function Nd(t){return!!Tc.CSS_UNIT.exec(t)}function RFe(t){t=t.replace(dFe,"").replace(hFe,"").toLowerCase();var e=!1;if(mR[t])t=mR[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Tc.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=Tc.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Tc.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=Tc.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Tc.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=Tc.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Tc.hex8.exec(t))?{r:Na(r[1]),g:Na(r[2]),b:Na(r[3]),a:AG(r[4]),format:e?"name":"hex8"}:(r=Tc.hex6.exec(t))?{r:Na(r[1]),g:Na(r[2]),b:Na(r[3]),format:e?"name":"hex"}:(r=Tc.hex4.exec(t))?{r:Na(r[1]+""+r[1]),g:Na(r[2]+""+r[2]),b:Na(r[3]+""+r[3]),a:AG(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=Tc.hex3.exec(t))?{r:Na(r[1]+""+r[1]),g:Na(r[2]+""+r[2]),b:Na(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function OFe(t){var e,r;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}function jFe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const t8=x.forwardRef(jFe);function MFe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const iF=x.forwardRef(MFe);function DFe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const rp=x.forwardRef(DFe);function FFe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const X0=x.forwardRef(FFe);function LFe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const UFe=x.forwardRef(LFe);function BFe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const zFe=x.forwardRef(BFe);function qFe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const jy=x.forwardRef(qFe);function WFe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const HFe=x.forwardRef(WFe);function VFe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const GFe=x.forwardRef(VFe);function KFe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const vg=x.forwardRef(KFe);function YFe({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const r8=x.forwardRef(YFe),TG=t=>{let e;const r=new Set,n=(c,u)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const f=e;e=u??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(p=>p(e,f))}},i=()=>e,a={setState:n,getState:i,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=e=t(n,i,a);return a},JFe=(t=>t?TG(t):TG),XFe=t=>t;function QFe(t,e=XFe){const r=ht.useSyncExternalStore(t.subscribe,ht.useCallback(()=>e(t.getState()),[t,e]),ht.useCallback(()=>e(t.getInitialState()),[t,e]));return ht.useDebugValue(r),r}const IG=t=>{const e=JFe(t),r=n=>QFe(e,n);return Object.assign(r,e),r},D1=(t=>t?IG(t):IG),ZFe=typeof document<"u"?ht.useLayoutEffect:()=>{},mp=t=>{var e;return(e=t?.ownerDocument)!==null&&e!==void 0?e:document},w0=t=>t&&"window"in t&&t.window===t?t:mp(t).defaultView||window;function eLe(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function tLe(t){return eLe(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let rLe=!1;function sF(){return rLe}function dde(t,e){if(!sF())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let r=e;for(;r!==null;){if(r===t)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:tLe(r)?r=r.host:r=r.parentNode}return!1}const yR=(t=document)=>{var e;if(!sF())return t.activeElement;let r=t.activeElement;for(;r&&"shadowRoot"in r&&(!((e=r.shadowRoot)===null||e===void 0)&&e.activeElement);)r=r.shadowRoot.activeElement;return r};function hde(t){return sF()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function nLe(t){if(iLe())t.focus({preventScroll:!0});else{let e=sLe(t);t.focus(),oLe(e)}}let u6=null;function iLe(){if(u6==null){u6=!1;try{document.createElement("div").focus({get preventScroll(){return u6=!0,!0}})}catch{}}return u6}function sLe(t){let e=t.parentNode,r=[],n=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==n;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&r.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function oLe(t){for(let{element:e,scrollTop:r,scrollLeft:n}of t)e.scrollTop=r,e.scrollLeft=n}function n8(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let r=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(r)&&r.some(n=>t.test(n.brand))||t.test(window.navigator.userAgent)}function fde(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function F1(t){let e=null;return()=>(e==null&&(e=t()),e)}const H_=F1(function(){return fde(/^Mac/i)}),aLe=F1(function(){return fde(/^iPad/i)||H_()&&navigator.maxTouchPoints>1}),lLe=F1(function(){return n8(/AppleWebKit/i)&&!cLe()}),cLe=F1(function(){return n8(/Chrome/i)}),uLe=F1(function(){return n8(/Android/i)}),dLe=F1(function(){return n8(/Firefox/i)});function L2(t,e,r=!0){var n,i;let{metaKey:s,ctrlKey:o,altKey:a,shiftKey:l}=e;dLe()&&(!((i=window.event)===null||i===void 0||(n=i.type)===null||n===void 0)&&n.startsWith("key"))&&t.target==="_blank"&&(H_()?s=!0:o=!0);let c=lLe()&&H_()&&!aLe()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:s,ctrlKey:o,altKey:a,shiftKey:l}):new MouseEvent("click",{metaKey:s,ctrlKey:o,altKey:a,shiftKey:l,detail:1,bubbles:!0,cancelable:!0});L2.isOpening=r,nLe(t),t.dispatchEvent(c),L2.isOpening=!1}L2.isOpening=!1;function pde(){let t=x.useRef(new Map),e=x.useCallback((i,s,o,a)=>{let l=a?.once?(...c)=>{t.current.delete(o),o(...c)}:o;t.current.set(o,{type:s,eventTarget:i,fn:l,options:a}),i.addEventListener(s,l,a)},[]),r=x.useCallback((i,s,o,a)=>{var l;let c=((l=t.current.get(o))===null||l===void 0?void 0:l.fn)||o;i.removeEventListener(s,c,a),t.current.delete(o)},[]),n=x.useCallback(()=>{t.current.forEach((i,s)=>{r(i.eventTarget,i.type,s,i.options)})},[r]);return x.useEffect(()=>n,[n]),{addGlobalListener:e,removeGlobalListener:r,removeAllGlobalListeners:n}}function hLe(t){return t.pointerType===""&&t.isTrusted?!0:uLe()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function gde(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function fLe(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function mde(t){let e=x.useRef({isFocused:!1,observer:null});return ZFe(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]),x.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let n=r.target,i=s=>{if(e.current.isFocused=!1,n.disabled){let o=gde(s);t?.(o)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};n.addEventListener("focusout",i,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&n.disabled){var s;(s=e.current.observer)===null||s===void 0||s.disconnect();let o=n===document.activeElement?null:document.activeElement;n.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),n.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),e.current.observer.observe(n,{attributes:!0,attributeFilter:["disabled"]})}},[t])}let pLe=!1,Yx=null,vR=new Set,mb=new Map,Q0=!1,wR=!1;const gLe={Tab:!0,Escape:!0};function oF(t,e){for(let r of vR)r(t,e)}function mLe(t){return!(t.metaKey||!H_()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function V_(t){Q0=!0,!L2.isOpening&&mLe(t)&&(Yx="keyboard",oF("keyboard",t))}function My(t){Yx="pointer","pointerType"in t&&t.pointerType,(t.type==="mousedown"||t.type==="pointerdown")&&(Q0=!0,oF("pointer",t))}function yde(t){!L2.isOpening&&hLe(t)&&(Q0=!0,Yx="virtual")}function vde(t){t.target===window||t.target===document||pLe||!t.isTrusted||(!Q0&&!wR&&(Yx="virtual",oF("virtual",t)),Q0=!1,wR=!1)}function wde(){Q0=!1,wR=!0}function bR(t){if(typeof window>"u"||typeof document>"u"||mb.get(w0(t)))return;const e=w0(t),r=mp(t);let n=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Q0=!0,n.apply(this,arguments)},r.addEventListener("keydown",V_,!0),r.addEventListener("keyup",V_,!0),r.addEventListener("click",yde,!0),e.addEventListener("focus",vde,!0),e.addEventListener("blur",wde,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",My,!0),r.addEventListener("pointermove",My,!0),r.addEventListener("pointerup",My,!0)),e.addEventListener("beforeunload",()=>{bde(t)},{once:!0}),mb.set(e,{focus:n})}const bde=(t,e)=>{const r=w0(t),n=mp(t);e&&n.removeEventListener("DOMContentLoaded",e),mb.has(r)&&(r.HTMLElement.prototype.focus=mb.get(r).focus,n.removeEventListener("keydown",V_,!0),n.removeEventListener("keyup",V_,!0),n.removeEventListener("click",yde,!0),r.removeEventListener("focus",vde,!0),r.removeEventListener("blur",wde,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",My,!0),n.removeEventListener("pointermove",My,!0),n.removeEventListener("pointerup",My,!0)),mb.delete(r))};function yLe(t){const e=mp(t);let r;return e.readyState!=="loading"?bR(t):(r=()=>{bR(t)},e.addEventListener("DOMContentLoaded",r)),()=>bde(t,r)}typeof document<"u"&&yLe();function xde(){return Yx!=="pointer"}const vLe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function wLe(t,e,r){let n=mp(r?.target);const i=typeof window<"u"?w0(r?.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?w0(r?.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?w0(r?.target).HTMLElement:HTMLElement,a=typeof window<"u"?w0(r?.target).KeyboardEvent:KeyboardEvent;return t=t||n.activeElement instanceof i&&!vLe.has(n.activeElement.type)||n.activeElement instanceof s||n.activeElement instanceof o&&n.activeElement.isContentEditable,!(t&&e==="keyboard"&&r instanceof a&&!gLe[r.key])}function bLe(t,e,r){bR(),x.useEffect(()=>{let n=(i,s)=>{wLe(!!r?.isTextInput,i,s)&&t(xde())};return vR.add(n),()=>{vR.delete(n)}},e)}function xLe(t){let{isDisabled:e,onFocus:r,onBlur:n,onFocusChange:i}=t;const s=x.useCallback(l=>{if(l.target===l.currentTarget)return n&&n(l),i&&i(!1),!0},[n,i]),o=mde(s),a=x.useCallback(l=>{const c=mp(l.target),u=c?yR(c):yR();l.target===l.currentTarget&&u===hde(l.nativeEvent)&&(r&&r(l),i&&i(!0),o(l))},[i,r,o]);return{focusProps:{onFocus:!e&&(r||i||n)?a:void 0,onBlur:!e&&(n||i)?s:void 0}}}function _Le(t){let{isDisabled:e,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=t,s=x.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:a}=pde(),l=x.useCallback(h=>{h.currentTarget.contains(h.target)&&s.current.isFocusWithin&&!h.currentTarget.contains(h.relatedTarget)&&(s.current.isFocusWithin=!1,a(),r&&r(h),i&&i(!1))},[r,i,s,a]),c=mde(l),u=x.useCallback(h=>{if(!h.currentTarget.contains(h.target))return;const f=mp(h.target),p=yR(f);if(!s.current.isFocusWithin&&p===hde(h.nativeEvent)){n&&n(h),i&&i(!0),s.current.isFocusWithin=!0,c(h);let m=h.currentTarget;o(f,"focus",v=>{if(s.current.isFocusWithin&&!dde(m,v.target)){let w=new f.defaultView.FocusEvent("blur",{relatedTarget:v.target});fLe(w,m);let b=gde(w);l(b)}},{capture:!0})}},[n,i,c,o,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:l}}}let xR=!1,d6=0;function CLe(){xR=!0,setTimeout(()=>{xR=!1},50)}function PG(t){t.pointerType==="touch"&&CLe()}function ELe(){if(!(typeof document>"u"))return d6===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",PG),d6++,()=>{d6--,!(d6>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",PG)}}function kLe(t){let{onHoverStart:e,onHoverChange:r,onHoverEnd:n,isDisabled:i}=t,[s,o]=x.useState(!1),a=x.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;x.useEffect(ELe,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=pde(),{hoverProps:u,triggerHoverEnd:h}=x.useMemo(()=>{let f=(v,w)=>{if(a.pointerType=w,i||w==="touch"||a.isHovered||!v.currentTarget.contains(v.target))return;a.isHovered=!0;let b=v.currentTarget;a.target=b,l(mp(v.target),"pointerover",E=>{a.isHovered&&a.target&&!dde(a.target,E.target)&&p(E,E.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:b,pointerType:w}),r&&r(!0),o(!0)},p=(v,w)=>{let b=a.target;a.pointerType="",a.target=null,!(w==="touch"||!a.isHovered||!b)&&(a.isHovered=!1,c(),n&&n({type:"hoverend",target:b,pointerType:w}),r&&r(!1),o(!1))},m={};return typeof PointerEvent<"u"&&(m.onPointerEnter=v=>{xR&&v.pointerType==="mouse"||f(v,v.pointerType)},m.onPointerLeave=v=>{!i&&v.currentTarget.contains(v.target)&&p(v,v.pointerType)}),{hoverProps:m,triggerHoverEnd:p}},[e,r,n,i,a,l,c]);return x.useEffect(()=>{i&&h({currentTarget:a.target},a.pointerType)},[i]),{hoverProps:u,isHovered:s}}function SLe(t={}){let{autoFocus:e=!1,isTextInput:r,within:n}=t,i=x.useRef({isFocused:!1,isFocusVisible:e||xde()}),[s,o]=x.useState(!1),[a,l]=x.useState(()=>i.current.isFocused&&i.current.isFocusVisible),c=x.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),u=x.useCallback(p=>{i.current.isFocused=p,o(p),c()},[c]);bLe(p=>{i.current.isFocusVisible=p,c()},[],{isTextInput:r});let{focusProps:h}=xLe({isDisabled:n,onFocusChange:u}),{focusWithinProps:f}=_Le({isDisabled:!n,onFocusWithinChange:u});return{isFocused:s,isFocusVisible:a,focusProps:n?f:h}}var ALe=Object.defineProperty,TLe=(t,e,r)=>e in t?ALe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,q9=(t,e,r)=>(TLe(t,typeof e!="symbol"?e+"":e,r),r);let ILe=class{constructor(){q9(this,"current",this.detect()),q9(this,"handoffState","pending"),q9(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},nd=new ILe;function wg(t){var e;return nd.isServer?null:t==null?document:(e=t?.ownerDocument)!=null?e:document}function G_(t){var e,r;return nd.isServer?null:t==null?document:(r=(e=t?.getRootNode)==null?void 0:e.call(t))!=null?r:document}function aF(t){var e,r;return(r=(e=G_(t))==null?void 0:e.activeElement)!=null?r:null}function _de(t){return aF(t)===t}function i8(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function xa(){let t=[],e={addEventListener(r,n,i,s){return r.addEventListener(n,i,s),e.add(()=>r.removeEventListener(n,i,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return i8(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,i){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=xa();return r(n),this.add(()=>n.dispose())},add(r){return t.includes(r)||t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let i of t.splice(n,1))i()}},dispose(){for(let r of t.splice(0))r()}};return e}function bg(){let[t]=x.useState(xa);return x.useEffect(()=>()=>t.dispose(),[t]),t}let Un=(t,e)=>{nd.isServer?x.useEffect(t,e):x.useLayoutEffect(t,e)};function xg(t){let e=x.useRef(t);return Un(()=>{e.current=t},[t]),e}let lr=function(t){let e=xg(t);return ht.useCallback((...r)=>e.current(...r),[e])};function PLe(t){let e=t.width/2,r=t.height/2;return{top:t.clientY-r,right:t.clientX+e,bottom:t.clientY+r,left:t.clientX-e}}function $Le(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function NLe({disabled:t=!1}={}){let e=x.useRef(null),[r,n]=x.useState(!1),i=bg(),s=lr(()=>{e.current=null,n(!1),i.dispose()}),o=lr(a=>{if(i.dispose(),e.current===null){e.current=a.currentTarget,n(!0);{let l=wg(a.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",c=>{if(e.current){let u=PLe(c);n($Le(u,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:r,pressProps:t?{}:{onPointerDown:o,onPointerUp:s,onClick:s}}}function vd(t){return x.useMemo(()=>t,Object.values(t))}let RLe=x.createContext(void 0);function Cde(){return x.useContext(RLe)}function _R(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function nu(t,e,...r){if(t in e){let i=e[t];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,nu),n}var l1=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(l1||{}),zf=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(zf||{});function Di(){let t=jLe();return x.useCallback(e=>OLe({mergeRefs:t,...e}),[t])}function OLe({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??MLe;let l=Ede(e,t);if(s)return h6(l,r,n,o,a);let c=i??0;if(c&2){let{static:u=!1,...h}=l;if(u)return h6(h,r,n,o,a)}if(c&1){let{unmount:u=!0,...h}=l;return nu(u?0:1,{0(){return null},1(){return h6({...h,hidden:!0,style:{display:"none"}},r,n,o,a)}})}return h6(l,r,n,o,a)}function h6(t,e={},r,n,i){let{as:s=r,children:o,refName:a="ref",...l}=W9(t,["unmount","static"]),c=t.ref!==void 0?{[a]:t.ref}:{},u=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(e){let f=!1,p=[];for(let[m,v]of Object.entries(e))typeof v=="boolean"&&(f=!0),v===!0&&p.push(m.replace(/([A-Z])/g,w=>`-${w.toLowerCase()}`));if(f){h["data-headlessui-state"]=p.join(" ");for(let m of p)h[`data-${m}`]=""}}if(yb(s)&&(Object.keys(Qp(l)).length>0||Object.keys(Qp(h)).length>0))if(!x.isValidElement(u)||Array.isArray(u)&&u.length>1||FLe(u)){if(Object.keys(Qp(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Qp(l)).concat(Object.keys(Qp(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=u.props,p=f?.className,m=typeof p=="function"?(...b)=>_R(p(...b),l.className):_R(p,l.className),v=m?{className:m}:{},w=Ede(u.props,Qp(W9(l,["ref"])));for(let b in h)b in w&&delete h[b];return x.cloneElement(u,Object.assign({},w,h,c,{ref:i(DLe(u),c.ref)},v))}return x.createElement(s,Object.assign({},W9(l,["ref"]),!yb(s)&&c,!yb(s)&&h),u)}function jLe(){let t=x.useRef([]),e=x.useCallback(r=>{for(let n of t.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return t.current=r,e}}function MLe(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function Ede(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];if(e.disabled||e["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[i=>{var s;return(s=i?.preventDefault)==null?void 0:s.call(i)}]);for(let n in r)Object.assign(e,{[n](i,...s){let o=r[n];for(let a of o){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function kde(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];for(let n in r)Object.assign(e,{[n](...i){let s=r[n];for(let o of s)o?.(...i)}});return e}function ai(t){var e;return Object.assign(x.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Qp(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function W9(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function DLe(t){return ht.version.split(".")[0]>="19"?t.props.ref:t.ref}function yb(t){return t===x.Fragment||t===Symbol.for("react.fragment")}function FLe(t){return yb(t.type)}let LLe="span";var K_=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(K_||{});function ULe(t,e){var r;let{features:n=1,...i}=t,s={ref:e,"aria-hidden":(n&2)===2?!0:(r=i["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Di()({ourProps:s,theirProps:i,slot:{},defaultTag:LLe,name:"Hidden"})}let CR=ai(ULe),BLe=x.createContext(void 0);function zLe(){return x.useContext(BLe)}function Sde(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function hh(t){return Sde(t)&&"tagName"in t}function Za(t){return hh(t)&&"accessKey"in t}function Zu(t){return hh(t)&&"tabIndex"in t}function qLe(t){return hh(t)&&"style"in t}function WLe(t){return Za(t)&&t.nodeName==="IFRAME"}function Ade(t){return Za(t)&&t.nodeName==="INPUT"}function $G(t){return Za(t)&&t.nodeName==="LABEL"}function HLe(t){return Za(t)&&t.nodeName==="FIELDSET"}function Tde(t){return Za(t)&&t.nodeName==="LEGEND"}function VLe(t){return hh(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function NG(t){let e=t.parentElement,r=null;for(;e&&!HLe(e);)Tde(e)&&(r=e),e=e.parentElement;let n=e?.getAttribute("disabled")==="";return n&&GLe(r)?!1:n}function GLe(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(Tde(e))return!1;e=e.previousElementSibling}return!0}let Ide=Symbol();function KLe(t,e=!0){return Object.assign(t,{[Ide]:e})}function Bo(...t){let e=x.useRef(t);x.useEffect(()=>{e.current=t},[t]);let r=lr(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return t.every(n=>n==null||n?.[Ide])?void 0:r}let lF=x.createContext(null);lF.displayName="DescriptionContext";function Pde(){let t=x.useContext(lF);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Pde),e}return t}function $de(){let[t,e]=x.useState([]);return[t.length>0?t.join(" "):void 0,x.useMemo(()=>function(r){let n=lr(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=x.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return ht.createElement(lF.Provider,{value:i},r.children)},[e])]}let YLe="p";function JLe(t,e){let r=x.useId(),n=Cde(),{id:i=`headlessui-description-${r}`,...s}=t,o=Pde(),a=Bo(e);Un(()=>o.register(i),[i,o.register]);let l=vd({...o.slot,disabled:n||!1}),c={ref:a,...o.props,id:i};return Di()({ourProps:c,theirProps:s,slot:l,defaultTag:YLe,name:o.name||"Description"})}let XLe=ai(JLe),QLe=Object.assign(XLe,{});var cs=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(cs||{});let s8=x.createContext(null);s8.displayName="LabelContext";function cF(){let t=x.useContext(s8);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,cF),e}return t}function ZLe(t){var e,r,n;let i=(r=(e=x.useContext(s8))==null?void 0:e.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[i,...t].filter(Boolean).join(" "):i}function Nde({inherit:t=!1}={}){let e=ZLe(),[r,n]=x.useState([]),i=t?[e,...r].filter(Boolean):r;return[i.length>0?i.join(" "):void 0,x.useMemo(()=>function(s){let o=lr(l=>(n(c=>[...c,l]),()=>n(c=>{let u=c.slice(),h=u.indexOf(l);return h!==-1&&u.splice(h,1),u}))),a=x.useMemo(()=>({register:o,slot:s.slot,name:s.name,props:s.props,value:s.value}),[o,s.slot,s.name,s.props,s.value]);return ht.createElement(s8.Provider,{value:a},s.children)},[n])]}let eUe="label";function tUe(t,e){var r;let n=x.useId(),i=cF(),s=zLe(),o=Cde(),{id:a=`headlessui-label-${n}`,htmlFor:l=s??((r=i.props)==null?void 0:r.htmlFor),passive:c=!1,...u}=t,h=Bo(e);Un(()=>i.register(a),[a,i.register]);let f=lr(v=>{let w=v.currentTarget;if(!(v.target!==v.currentTarget&&VLe(v.target))&&($G(w)&&v.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(v),$G(w))){let b=document.getElementById(w.htmlFor);if(b){let E=b.getAttribute("disabled");if(E==="true"||E==="")return;let _=b.getAttribute("aria-disabled");if(_==="true"||_==="")return;(Ade(b)&&(b.type==="file"||b.type==="radio"||b.type==="checkbox")||b.role==="radio"||b.role==="checkbox"||b.role==="switch")&&b.click(),b.focus({preventScroll:!0})}}}),p=vd({...i.slot,disabled:o||!1}),m={ref:h,...i.props,id:a,htmlFor:l,onClick:f};return c&&("onClick"in m&&(delete m.htmlFor,delete m.onClick),"onClick"in u&&delete u.onClick),Di()({ourProps:m,theirProps:u,slot:p,defaultTag:l?eUe:"div",name:i.name||"Label"})}let rUe=ai(tUe);Object.assign(rUe,{});let nUe=x.createContext(()=>{});function iUe({value:t,children:e}){return ht.createElement(nUe.Provider,{value:t},e)}function xm(t,e,r){let n=r.initialDeps??[],i,s=!0;function o(){var a,l,c;let u;r.key&&((a=r.debug)!=null&&a.call(r))&&(u=Date.now());const h=t();if(!(h.length!==n.length||h.some((m,v)=>n[v]!==m)))return i;n=h;let p;if(r.key&&((l=r.debug)!=null&&l.call(r))&&(p=Date.now()),i=e(...h),r.key&&((c=r.debug)!=null&&c.call(r))){const m=Math.round((Date.now()-u)*100)/100,v=Math.round((Date.now()-p)*100)/100,w=v/16,b=(E,_)=>{for(E=String(E);E.length<_;)E=" "+E;return E};console.info(`%c ${b(v,5)} /${b(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*w,120))}deg 100% 31%);`,r?.key)}return r?.onChange&&!(s&&r.skipInitialOnChange)&&r.onChange(i),s=!1,i}return o.updateDeps=a=>{n=a},o}function RG(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const sUe=(t,e)=>Math.abs(t-e)<1.01,oUe=(t,e,r)=>{let n;return function(...i){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,i),r)}},OG=t=>{const{offsetWidth:e,offsetHeight:r}=t;return{width:e,height:r}},aUe=t=>t,lUe=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let i=e;i<=r;i++)n.push(i);return n},cUe=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const i=o=>{const{width:a,height:l}=o;e({width:Math.round(a),height:Math.round(l)})};if(i(OG(r)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(o=>{const a=()=>{const l=o[0];if(l?.borderBoxSize){const c=l.borderBoxSize[0];if(c){i({width:c.inlineSize,height:c.blockSize});return}}i(OG(r))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},jG={passive:!0},MG=typeof window>"u"?!0:"onscrollend"in window,uUe=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let i=0;const s=t.options.useScrollendEvent&&MG?()=>{}:oUe(n,()=>{e(i,!1)},t.options.isScrollingResetDelay),o=u=>()=>{const{horizontal:h,isRtl:f}=t.options;i=h?r.scrollLeft*(f&&-1||1):r.scrollTop,s(),e(i,u)},a=o(!0),l=o(!1);r.addEventListener("scroll",a,jG);const c=t.options.useScrollendEvent&&MG;return c&&r.addEventListener("scrollend",l,jG),()=>{r.removeEventListener("scroll",a),c&&r.removeEventListener("scrollend",l)}},dUe=(t,e,r)=>{if(e?.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return t[r.options.horizontal?"offsetWidth":"offsetHeight"]},hUe=(t,{adjustments:e=0,behavior:r},n)=>{var i,s;const o=t+e;(s=(i=n.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[n.options.horizontal?"left":"top"]:o,behavior:r})};class fUe{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.currentScrollToIndex=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const o=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var i;(i=n())==null||i.disconnect(),r=null},observe:i=>{var s;return(s=n())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=n())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,i])=>{typeof i>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:aUe,rangeExtractor:lUe,onChange:()=>{},measureElement:dUe,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,i;(i=(n=this.options).onChange)==null||i.call(n,this,r)},this.maybeNotify=xm(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()})),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0})}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const i=new Map,s=new Map;for(let o=n-1;o>=0;o--){const a=r[o];if(i.has(a.lane))continue;const l=s.get(a.lane);if(l==null||a.end>l.end?s.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((o,a)=>o.end===a.end?o.index-a.index:o.end-a.end)[0]:void 0},this.getMeasurementOptions=xm(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(r,n,i,s,o,a)=>(this.prevLanes!==void 0&&this.prevLanes!==a&&(this.lanesChangedFlag=!0),this.prevLanes=a,this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:i,getItemKey:s,enabled:o,lanes:a}),{key:!1}),this.getMeasurements=xm(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:i,getItemKey:s,enabled:o,lanes:a},l)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>r)for(const f of this.laneAssignments.keys())f>=r&&this.laneAssignments.delete(f);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&!this.lanesSettling&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const c=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===r&&(this.lanesSettling=!1);const u=this.measurementsCache.slice(0,c),h=new Array(a).fill(void 0);for(let f=0;f<c;f++){const p=u[f];p&&(h[p.lane]=f)}for(let f=c;f<r;f++){const p=s(f),m=this.laneAssignments.get(f);let v,w;if(m!==void 0&&this.options.lanes>1){v=m;const A=h[v],C=A!==void 0?u[A]:void 0;w=C?C.end+this.options.gap:n+i}else{const A=this.options.lanes===1?u[f-1]:this.getFurthestMeasurement(u,f);w=A?A.end+this.options.gap:n+i,v=A?A.lane:f%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(f,v)}const b=l.get(p),E=typeof b=="number"?b:this.options.estimateSize(f),_=w+E;u[f]={index:f,start:w,size:E,end:_,key:p,lane:v},h[v]=f}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=xm(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,i,s)=>this.range=r.length>0&&n>0?pUe({measurements:r,outerSize:n,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=xm(()=>{let r=null,n=null;const i=this.calculateRange();return i&&(r=i.startIndex,n=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,i,s,o)=>s===null||o===null?[]:r({startIndex:s,endIndex:o,overscan:n,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,i=r.getAttribute(n);return i?parseInt(i,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const i=this.indexFromElement(r),s=this.measurementsCache[i];if(!s)return;const o=s.key,a=this.elementsCache.get(o);a!==r&&(a&&this.observer.unobserve(a),this.observer.observe(r),this.elementsCache.set(o,r)),r.isConnected&&this.resizeItem(i,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const i=this.measurementsCache[r];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,o=n-s;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,i)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(i))});return}this._measureElement(r,void 0)},this.getVirtualItems=xm(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const i=[];for(let s=0,o=r.length;s<o;s++){const a=r[s],l=n[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return RG(n[Rde(0,n.length-1,i=>RG(n[i]).start,r)])},this.getMaxScrollOffset=()=>{if(!this.scrollElement)return 0;if("scrollHeight"in this.scrollElement)return this.options.horizontal?this.scrollElement.scrollWidth-this.scrollElement.clientWidth:this.scrollElement.scrollHeight-this.scrollElement.clientHeight;{const r=this.scrollElement.document.documentElement;return this.options.horizontal?r.scrollWidth-this.scrollElement.innerWidth:r.scrollHeight-this.scrollElement.innerHeight}},this.getOffsetForAlignment=(r,n,i=0)=>{if(!this.scrollElement)return 0;const s=this.getSize(),o=this.getScrollOffset();n==="auto"&&(n=r>=o+s?"end":"start"),n==="center"?r+=(i-s)/2:n==="end"&&(r-=s);const a=this.getMaxScrollOffset();return Math.max(Math.min(a,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const i=this.measurementsCache[r];if(!i)return;const s=this.getSize(),o=this.getScrollOffset();if(n==="auto")if(i.end>=o+s-this.options.scrollPaddingEnd)n="end";else if(i.start<=o+this.options.scrollPaddingStart)n="start";else return[o,n];if(n==="end"&&r===this.options.count-1)return[this.getMaxScrollOffset(),n];const a=n==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,n,i.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:n="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:i})},this.scrollToIndex=(r,{align:n="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1)),this.currentScrollToIndex=r;let s=0;const o=10,a=c=>{if(!this.targetWindow)return;const u=this.getOffsetForIndex(r,c);if(!u){console.warn("Failed to get offset for index:",r);return}const[h,f]=u;this._scrollToOffset(h,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const p=()=>{if(this.currentScrollToIndex!==r)return;const m=this.getScrollOffset(),v=this.getOffsetForIndex(r,f);if(!v){console.warn("Failed to get offset for index:",r);return}sUe(v[0],m)||l(f)};this.isDynamicMode()?this.targetWindow.requestAnimationFrame(p):p()})},l=c=>{this.targetWindow&&this.currentScrollToIndex===r&&(s++,s<o?this.targetWindow.requestAnimationFrame(()=>a(c)):console.warn(`Failed to scroll to index ${r} after ${o} attempts.`))};a(n)},this.scrollBy=(r,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let i;if(n.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((r=n[n.length-1])==null?void 0:r.end)??0;else{const s=Array(this.options.lanes).fill(null);let o=n.length-1;for(;o>=0&&s.some(a=>a===null);){const a=n[o];s[a.lane]===null&&(s[a.lane]=a.end),o--}i=Math.max(...s.filter(a=>a!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:i})=>{this.options.scrollToFn(r,{behavior:i,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(e)}}const Rde=(t,e,r,n)=>{for(;t<=e;){const i=(t+e)/2|0,s=r(i);if(s<n)t=i+1;else if(s>n)e=i-1;else return i}return t>0?t-1:0};function pUe({measurements:t,outerSize:e,scrollOffset:r,lanes:n}){const i=t.length-1,s=l=>t[l].start;if(t.length<=n)return{startIndex:0,endIndex:i};let o=Rde(0,i,s,r),a=o;if(n===1)for(;a<i&&t[a].end<r+e;)a++;else if(n>1){const l=Array(n).fill(0);for(;a<i&&l.some(u=>u<r+e);){const u=t[a];l[u.lane]=u.end,a++}const c=Array(n).fill(r+e);for(;o>=0&&c.some(u=>u>=r);){const u=t[o];c[u.lane]=u.start,o--}o=Math.max(0,o-o%n),a=Math.min(i,a+(n-1-a%n))}return{startIndex:o,endIndex:a}}const DG=typeof document<"u"?x.useLayoutEffect:x.useEffect;function gUe({useFlushSync:t=!0,...e}){const r=x.useReducer(()=>({}),{})[1],n={...e,onChange:(s,o)=>{var a;t&&o?Ls.flushSync(r):r(),(a=e.onChange)==null||a.call(e,s,o)}},[i]=x.useState(()=>new fUe(n));return i.setOptions(n),DG(()=>i._didMount(),[]),DG(()=>i._willUpdate()),i}function mUe(t){return gUe({observeElementRect:cUe,observeElementOffset:uUe,scrollToFn:hUe,...t})}function FG(t){if(t===null)return{width:0,height:0};let{width:e,height:r}=t.getBoundingClientRect();return{width:e,height:r}}function yUe(t,e,r=!1){let[n,i]=x.useState(()=>FG(e));return Un(()=>{if(!e||!t)return;let s=xa();return s.requestAnimationFrame(function o(){s.requestAnimationFrame(o),i(a=>{let l=FG(e);return l.width===a.width&&l.height===a.height?a:l})}),()=>{s.dispose()}},[e,t]),r?{width:`${n.width}px`,height:`${n.height}px`}:n}var Ode=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(Ode||{});function vUe(t){let e=x.useRef(null),r=lr(i=>{e.current=i.pointerType,!NG(i.currentTarget)&&i.pointerType==="mouse"&&i.button===Ode.Left&&(i.preventDefault(),t(i))}),n=lr(i=>{e.current!=="mouse"&&(NG(i.currentTarget)||t(i))});return{onPointerDown:r,onClick:n}}let jde=class extends Map{constructor(e){super(),this.factory=e}get(e){let r=super.get(e);return r===void 0&&(r=this.factory(e),this.set(e,r)),r}};var wUe=Object.defineProperty,bUe=(t,e,r)=>e in t?wUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xUe=(t,e,r)=>(bUe(t,e+"",r),r),Mde=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},wl=(t,e,r)=>(Mde(t,e,"read from private field"),r?r.call(t):e.get(t)),H9=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},LG=(t,e,r,n)=>(Mde(t,e,"write to private field"),e.set(t,r),r),Uu,Hw,Vw;let Dde=class{constructor(e){H9(this,Uu,{}),H9(this,Hw,new jde(()=>new Set)),H9(this,Vw,new Set),xUe(this,"disposables",xa()),LG(this,Uu,e),nd.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return wl(this,Uu)}subscribe(e,r){if(nd.isServer)return()=>{};let n={selector:e,callback:r,current:e(wl(this,Uu))};return wl(this,Vw).add(n),this.disposables.add(()=>{wl(this,Vw).delete(n)})}on(e,r){return nd.isServer?()=>{}:(wl(this,Hw).get(e).add(r),this.disposables.add(()=>{wl(this,Hw).get(e).delete(r)}))}send(e){let r=this.reduce(wl(this,Uu),e);if(r!==wl(this,Uu)){LG(this,Uu,r);for(let n of wl(this,Vw)){let i=n.selector(wl(this,Uu));Fde(n.current,i)||(n.current=i,n.callback(i))}for(let n of wl(this,Hw).get(e.type))n(wl(this,Uu),e)}}};Uu=new WeakMap,Hw=new WeakMap,Vw=new WeakMap;function Fde(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:V9(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:V9(t.entries(),e.entries()):UG(t)&&UG(e)?V9(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function V9(t,e){do{let r=t.next(),n=e.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function UG(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function BG(t){let[e,r]=t(),n=xa();return(...i)=>{e(...i),n.dispose(),n.microTask(r)}}var _Ue=Object.defineProperty,CUe=(t,e,r)=>e in t?_Ue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,zG=(t,e,r)=>(CUe(t,typeof e!="symbol"?e+"":e,r),r),Lde=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(Lde||{});let EUe={0(t,e){let r=e.id,n=t.stack,i=t.stack.indexOf(r);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(r),n=s,{...t,stack:n}}return{...t,stack:[...t.stack,r]}},1(t,e){let r=e.id,n=t.stack.indexOf(r);if(n===-1)return t;let i=t.stack.slice();return i.splice(n,1),{...t,stack:i}}},kUe=class Ude extends Dde{constructor(){super(...arguments),zG(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),zG(this,"selectors",{isTop:(e,r)=>e.stack[e.stack.length-1]===r,inStack:(e,r)=>e.stack.includes(r)})}static new(){return new Ude({stack:[]})}reduce(e,r){return nu(r.type,EUe,e,r)}};const o8=new jde(()=>kUe.new());var G9={exports:{}},K9={};var qG;function SUe(){if(qG)return K9;qG=1;var t=b1();function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,o=t.useMemo,a=t.useDebugValue;return K9.useSyncExternalStoreWithSelector=function(l,c,u,h,f){var p=i(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=o(function(){function w(C){if(!b){if(b=!0,E=C,C=h(C),f!==void 0&&m.hasValue){var k=m.value;if(f(k,C))return _=k}return _=C}if(k=_,r(E,C))return k;var P=h(C);return f!==void 0&&f(k,P)?(E=C,k):(E=C,_=P)}var b=!1,E,_,A=u===void 0?null:u;return[function(){return w(c())},A===null?void 0:function(){return w(A())}]},[c,u,h,f]);var v=n(l,p[0],p[1]);return s(function(){m.hasValue=!0,m.value=v},[v]),a(v),v},K9}var WG;function AUe(){return WG||(WG=1,G9.exports=SUe()),G9.exports}var TUe=AUe();function jl(t,e,r=Fde){return TUe.useSyncExternalStoreWithSelector(lr(n=>t.subscribe(IUe,n)),lr(()=>t.state),lr(()=>t.state),lr(e),r)}function IUe(t){return t}function Jx(t,e){let r=x.useId(),n=o8.get(e),[i,s]=jl(n,x.useCallback(o=>[n.selectors.isTop(o,r),n.selectors.inStack(o,r)],[n,r]));return Un(()=>{if(t)return n.actions.push(r),()=>n.actions.pop(r)},[n,t,r]),t?s?i:!0:!1}let ER=new Map,vb=new Map;function HG(t){var e;let r=(e=vb.get(t))!=null?e:0;return vb.set(t,r+1),r!==0?()=>VG(t):(ER.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>VG(t))}function VG(t){var e;let r=(e=vb.get(t))!=null?e:1;if(r===1?vb.delete(t):vb.set(t,r-1),r!==1)return;let n=ER.get(t);n&&(n["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",n["aria-hidden"]),t.inert=n.inert,ER.delete(t))}function Bde(t,{allowed:e,disallowed:r}={}){let n=Jx(t,"inert-others");Un(()=>{var i,s;if(!n)return;let o=xa();for(let l of(i=r?.())!=null?i:[])l&&o.add(HG(l));let a=(s=e?.())!=null?s:[];for(let l of a){if(!l)continue;let c=wg(l);if(!c)continue;let u=l.parentElement;for(;u&&u!==c.body;){for(let h of u.children)a.some(f=>h.contains(f))||o.add(HG(h));u=u.parentElement}}return o.dispose},[n,e,r])}function zde(t,e,r){let n=xg(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&r()});x.useEffect(()=>{if(!t)return;let i=e===null?null:Za(e)?e:e.current;if(!i)return;let s=xa();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>n.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>n.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,n,t])}let Y_=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),PUe=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Uc=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Uc||{}),kR=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(kR||{}),$Ue=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))($Ue||{});function qde(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Y_)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function NUe(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(PUe)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var uF=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(uF||{});function dF(t,e=0){var r;return t===((r=wg(t))==null?void 0:r.body)?!1:nu(e,{0(){return t.matches(Y_)},1(){let n=t;for(;n!==null;){if(n.matches(Y_))return!0;n=n.parentElement}return!1}})}function Wde(t){xa().nextFrame(()=>{let e=aF(t);e&&Zu(e)&&!dF(e,0)&&id(t)})}var RUe=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(RUe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function id(t){t?.focus({preventScroll:!0})}let OUe=["textarea","input"].join(",");function jUe(t){var e,r;return(r=(e=t?.matches)==null?void 0:e.call(t,OUe))!=null?r:!1}function Hde(t,e=r=>r){return t.slice().sort((r,n)=>{let i=e(r),s=e(n);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function MUe(t,e,r=t===null?document.body:G_(t)){return Dy(qde(r),e,{relativeTo:t})}function Dy(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?G_(t[0]):document:G_(t),o=Array.isArray(t)?r?Hde(t):t:e&64?NUe(t):qde(t);i.length>0&&o.length>1&&(o=o.filter(p=>!i.some(m=>m!=null&&"current"in m?m?.current===p:m===p))),n=n??s?.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(n))-1;if(e&4)return Math.max(0,o.indexOf(n))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,h=o.length,f;do{if(u>=h||u+h<=0)return 0;let p=l+u;if(e&16)p=(p+h)%h;else{if(p<0)return 3;if(p>=h)return 1}f=o[p],f?.focus(c),u+=a}while(f!==aF(f));return e&6&&jUe(f)&&f.select(),2}function Vde(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function DUe(){return/Android/gi.test(window.navigator.userAgent)}function GG(){return Vde()||DUe()}function my(t,e,r,n){let i=xg(r);x.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,n),()=>document.removeEventListener(e,s,n)},[t,e,n])}function Gde(t,e,r,n){let i=xg(r);x.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,n),()=>window.removeEventListener(e,s,n)},[t,e,n])}const KG=30;function Kde(t,e,r){let n=xg(r),i=x.useCallback(function(a,l){if(a.defaultPrevented)return;let c=l(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=(function h(f){return typeof f=="function"?h(f()):Array.isArray(f)||f instanceof Set?f:[f]})(e);for(let h of u)if(h!==null&&(h.contains(c)||a.composed&&a.composedPath().includes(h)))return;return!dF(c,uF.Loose)&&c.tabIndex!==-1&&a.preventDefault(),n.current(a,c)},[n,e]),s=x.useRef(null);my(t,"pointerdown",a=>{var l,c;GG()||(s.current=((c=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:c[0])||a.target)},!0),my(t,"pointerup",a=>{if(GG()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=x.useRef({x:0,y:0});my(t,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),my(t,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=KG||Math.abs(l.y-o.current.y)>=KG))return i(a,()=>Zu(a.target)?a.target:null)},!0),Gde(t,"blur",a=>i(a,()=>WLe(window.document.activeElement)?window.document.activeElement:null),!0)}function U2(...t){return x.useMemo(()=>wg(...t),[...t])}var FUe=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(FUe||{});const f6={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},LUe=200,YG=5;function UUe(t,{trigger:e,action:r,close:n,select:i}){let s=x.useRef(null),o=x.useRef(null),a=x.useRef(null);my(t&&e!==null,"pointerdown",l=>{Sde(l?.target)&&e!=null&&e.contains(l.target)&&(o.current=l.x,a.current=l.y,s.current=l.timeStamp)}),my(t&&e!==null,"pointerup",l=>{var c,u;let h=s.current;if(h===null||(s.current=null,!Zu(l.target))||Math.abs(l.x-((c=o.current)!=null?c:l.x))<YG&&Math.abs(l.y-((u=a.current)!=null?u:l.y))<YG)return;let f=r(l);switch(f.kind){case 0:return;case 1:{l.timeStamp-h>LUe&&(i(f.target),n());break}case 2:{n();break}}},{capture:!0})}function Yde(t,e,r,n){let i=xg(r);x.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)},[t,e,n])}function BUe(t,e){return x.useMemo(()=>{var r;if(t.type)return t.type;let n=(r=t.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||e?.tagName==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function zUe(t){return x.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function qUe(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...s){let o=e[i].call(r,...s);o&&(r=o,n.forEach(a=>a()))}}}function WUe(){let t;return{before({doc:e}){var r;let n=e.documentElement,i=(r=e.defaultView)!=null?r:window;t=Math.max(0,i.innerWidth-n.clientWidth)},after({doc:e,d:r}){let n=e.documentElement,i=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,t-i);r.style(n,"paddingRight",`${s}px`)}}}function HUe(){return Vde()?{before({doc:t,d:e,meta:r}){function n(i){for(let s of r().containers)for(let o of s())if(o.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=xa();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(Zu(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);Zu(u)&&!n(u)&&(o=u)}catch{}},!0),e.group(a=>{e.addEventListener(t,"touchstart",l=>{if(a.dispose(),Zu(l.target)&&qLe(l.target))if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;a.style(c,"overscrollBehavior","contain")}else a.style(l.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",a=>{if(Zu(a.target)){if(Ade(a.target))return;if(n(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function VUe(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function JG(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let b0=qUe(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:xa(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(e),n.computedMeta=JG(n.meta),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e),r.computedMeta=JG(r.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},r=[HUe(),WUe(),VUe()];r.forEach(({before:n})=>n?.(e)),r.forEach(({after:n})=>n?.(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});b0.subscribe(()=>{let t=b0.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&b0.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&b0.dispatch("TEARDOWN",r)}});function GUe(t,e,r=()=>({containers:[]})){let n=zUe(b0),i=e?n.get(e):void 0,s=i?i.count>0:!1;return Un(()=>{if(!(!e||!t))return b0.dispatch("PUSH",e,r),()=>b0.dispatch("POP",e,r)},[t,e]),s}function Jde(t,e,r=()=>[document.body]){let n=Jx(t,"scroll-lock");GUe(n,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],r]}})}function XG(t){return[t.screenX,t.screenY]}function KUe(){let t=x.useRef([-1,-1]);return{wasMoved(e){let r=XG(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=XG(e)}}}function YUe(t=0){let[e,r]=x.useState(t),n=x.useCallback(l=>r(l),[]),i=x.useCallback(l=>r(c=>c|l),[]),s=x.useCallback(l=>(e&l)===l,[e]),o=x.useCallback(l=>r(c=>c&~l),[]),a=x.useCallback(l=>r(c=>c^l),[]);return{flags:e,setFlag:n,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var JUe={},QG,ZG;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((QG=process==null?void 0:JUe)==null?void 0:QG.NODE_ENV)==="test"&&typeof((ZG=Element?.prototype)==null?void 0:ZG.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var XUe=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(XUe||{});function Xde(t){let e={};for(let r in t)t[r]===!0&&(e[`data-${r}`]="");return e}function Qde(t,e,r,n){let[i,s]=x.useState(r),{hasFlag:o,addFlag:a,removeFlag:l}=YUe(t&&i?3:0),c=x.useRef(!1),u=x.useRef(!1),h=bg();return Un(()=>{var f;if(t){if(r&&s(!0),!e){r&&a(3);return}return(f=n?.start)==null||f.call(n,r),QUe(e,{inFlight:c,prepare(){u.current?u.current=!1:u.current=c.current,c.current=!0,!u.current&&(r?(a(3),l(4)):(a(4),l(2)))},run(){u.current?r?(l(3),a(4)):(l(4),a(3)):r?l(1):a(1)},done(){var p;u.current&&tBe(e)||(c.current=!1,l(7),r||s(!1),(p=n?.end)==null||p.call(n,r))}})}},[t,r,e,h]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function QUe(t,{prepare:e,run:r,done:n,inFlight:i}){let s=xa();return eBe(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(ZUe(t,n))})}),s.dispose}function ZUe(t,e){var r,n;let i=xa();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(n=(r=t.getAnimations)==null?void 0:r.call(t).filter(a=>a instanceof CSSTransition))!=null?n:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function eBe(t,{inFlight:e,prepare:r}){if(e!=null&&e.current){r();return}let n=t.style.transition;t.style.transition="none",r(),t.offsetHeight,t.style.transition=n}function tBe(t){var e,r;return((r=(e=t.getAnimations)==null?void 0:e.call(t))!=null?r:[]).some(n=>n instanceof CSSTransition&&n.playState!=="finished")}function rBe(t,{container:e,accept:r,walk:n}){let i=x.useRef(r),s=x.useRef(n);x.useEffect(()=>{i.current=r,s.current=n},[r,n]),Un(()=>{if(!e||!t)return;let o=wg(e);if(!o)return;let a=i.current,l=s.current,c=Object.assign(h=>a(h),{acceptNode:a}),u=o.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,c,!1);for(;u.nextNode();)l(u.currentNode)},[e,t,i,s])}function hF(t,e){let r=x.useRef([]),n=lr(t);x.useEffect(()=>{let i=[...r.current];for(let[s,o]of e.entries())if(r.current[s]!==o){let a=n(e,i);return r.current=e,a}},[n,...e])}function a8(){return typeof window<"u"}function L1(t){return Zde(t)?(t.nodeName||"").toLowerCase():"#document"}function Ya(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function wd(t){var e;return(e=(Zde(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Zde(t){return a8()?t instanceof Node||t instanceof Ya(t).Node:!1}function Po(t){return a8()?t instanceof Element||t instanceof Ya(t).Element:!1}function dd(t){return a8()?t instanceof HTMLElement||t instanceof Ya(t).HTMLElement:!1}function eK(t){return!a8()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ya(t).ShadowRoot}const nBe=new Set(["inline","contents"]);function Xx(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=iu(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!nBe.has(i)}const iBe=new Set(["table","td","th"]);function sBe(t){return iBe.has(L1(t))}const oBe=[":popover-open",":modal"];function l8(t){return oBe.some(e=>{try{return t.matches(e)}catch{return!1}})}const aBe=["transform","translate","scale","rotate","perspective"],lBe=["transform","translate","scale","rotate","perspective","filter"],cBe=["paint","layout","strict","content"];function fF(t){const e=pF(),r=Po(t)?iu(t):t;return aBe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||lBe.some(n=>(r.willChange||"").includes(n))||cBe.some(n=>(r.contain||"").includes(n))}function uBe(t){let e=np(t);for(;dd(e)&&!c1(e);){if(fF(e))return e;if(l8(e))return null;e=np(e)}return null}function pF(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const dBe=new Set(["html","body","#document"]);function c1(t){return dBe.has(L1(t))}function iu(t){return Ya(t).getComputedStyle(t)}function c8(t){return Po(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function np(t){if(L1(t)==="html")return t;const e=t.assignedSlot||t.parentNode||eK(t)&&t.host||wd(t);return eK(e)?e.host:e}function ehe(t){const e=np(t);return c1(e)?t.ownerDocument?t.ownerDocument.body:t.body:dd(e)&&Xx(e)?e:ehe(e)}function B2(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=ehe(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=Ya(i);if(s){const a=SR(o);return e.concat(o,o.visualViewport||[],Xx(i)?i:[],a&&r?B2(a):[])}return e.concat(i,B2(i,[],r))}function SR(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function hBe(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}const Z0=Math.min,ao=Math.max,z2=Math.round,p6=Math.floor,sd=t=>({x:t,y:t}),fBe={left:"right",right:"left",bottom:"top",top:"bottom"},pBe={start:"end",end:"start"};function tK(t,e,r){return ao(t,Z0(e,r))}function U1(t,e){return typeof t=="function"?t(e):t}function ip(t){return t.split("-")[0]}function Qx(t){return t.split("-")[1]}function the(t){return t==="x"?"y":"x"}function rhe(t){return t==="y"?"height":"width"}const gBe=new Set(["top","bottom"]);function ah(t){return gBe.has(ip(t))?"y":"x"}function nhe(t){return the(ah(t))}function mBe(t,e,r){r===void 0&&(r=!1);const n=Qx(t),i=nhe(t),s=rhe(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=J_(o)),[o,J_(o)]}function yBe(t){const e=J_(t);return[AR(t),e,AR(e)]}function AR(t){return t.replace(/start|end/g,e=>pBe[e])}const rK=["left","right"],nK=["right","left"],vBe=["top","bottom"],wBe=["bottom","top"];function bBe(t,e,r){switch(t){case"top":case"bottom":return r?e?nK:rK:e?rK:nK;case"left":case"right":return e?vBe:wBe;default:return[]}}function xBe(t,e,r,n){const i=Qx(t);let s=bBe(ip(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(AR)))),s}function J_(t){return t.replace(/left|right|bottom|top/g,e=>fBe[e])}function _Be(t){return{top:0,right:0,bottom:0,left:0,...t}}function CBe(t){return typeof t!="number"?_Be(t):{top:t,right:t,bottom:t,left:t}}function X_(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function iK(t,e,r){let{reference:n,floating:i}=t;const s=ah(e),o=nhe(e),a=rhe(o),l=ip(e),c=s==="y",u=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,f=n[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:n.y-i.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-i.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Qx(e)){case"start":p[o]-=f*(r&&c?-1:1);break;case"end":p[o]+=f*(r&&c?-1:1);break}return p}const EBe=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=iK(c,n,l),f=n,p={},m=0;for(let v=0;v<a.length;v++){const{name:w,fn:b}=a[v],{x:E,y:_,data:A,reset:C}=await b({x:u,y:h,initialPlacement:n,placement:f,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});u=E??u,h=_??h,p={...p,[w]:{...p[w],...A}},C&&m<=50&&(m++,typeof C=="object"&&(C.placement&&(f=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:u,y:h}=iK(c,f,l)),v=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:p}};async function u8(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=U1(e,t),m=CBe(p),w=a[f?h==="floating"?"reference":"floating":h],b=X_(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(w)))==null||r?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),E=h==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},C=X_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:_,strategy:l}):E);return{top:(b.top-C.top+m.top)/A.y,bottom:(C.bottom-b.bottom+m.bottom)/A.y,left:(b.left-C.left+m.left)/A.x,right:(C.right-b.right+m.right)/A.x}}const kBe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,...w}=U1(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const b=ip(i),E=ah(a),_=ip(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=f||(_||!v?[J_(a)]:yBe(a)),k=m!=="none";!f&&k&&C.push(...xBe(a,v,m,A));const P=[a,...C],F=await u8(e,w),N=[];let $=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&N.push(F[b]),h){const T=mBe(i,o,A);N.push(F[T[0]],F[T[1]])}if($=[...$,{placement:i,overflows:N}],!N.every(T=>T<=0)){var U,O;const T=(((U=s.flip)==null?void 0:U.index)||0)+1,I=P[T];if(I&&(!(h==="alignment"?E!==ah(I):!1)||$.every(B=>ah(B.placement)===E?B.overflows[0]>0:!0)))return{data:{index:T,overflows:$},reset:{placement:I}};let R=(O=$.filter(L=>L.overflows[0]<=0).sort((L,B)=>L.overflows[1]-B.overflows[1])[0])==null?void 0:O.placement;if(!R)switch(p){case"bestFit":{var D;const L=(D=$.filter(B=>{if(k){const q=ah(B.placement);return q===E||q==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(q=>q>0).reduce((q,G)=>q+G,0)]).sort((B,q)=>B[1]-q[1])[0])==null?void 0:D[0];L&&(R=L);break}case"initialPlacement":R=a;break}if(i!==R)return{reset:{placement:R}}}return{}}}},SBe=new Set(["left","top"]);async function ABe(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=ip(r),a=Qx(r),l=ah(r)==="y",c=SBe.has(o)?-1:1,u=s&&l?-1:1,h=U1(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof m=="number"&&(p=a==="end"?m*-1:m),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const TBe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await ABe(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},IBe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:b,y:E}=w;return{x:b,y:E}}},...l}=U1(t,e),c={x:r,y:n},u=await u8(e,l),h=ah(ip(i)),f=the(h);let p=c[f],m=c[h];if(s){const w=f==="y"?"top":"left",b=f==="y"?"bottom":"right",E=p+u[w],_=p-u[b];p=tK(E,p,_)}if(o){const w=h==="y"?"top":"left",b=h==="y"?"bottom":"right",E=m+u[w],_=m-u[b];m=tK(E,m,_)}const v=a.fn({...e,[f]:p,[h]:m});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[f]:s,[h]:o}}}}}},PBe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=U1(t,e),u=await u8(e,c),h=ip(i),f=Qx(i),p=ah(i)==="y",{width:m,height:v}=s.floating;let w,b;h==="top"||h==="bottom"?(w=h,b=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=h,w=f==="end"?"top":"bottom");const E=v-u.top-u.bottom,_=m-u.left-u.right,A=Z0(v-u[w],E),C=Z0(m-u[b],_),k=!e.middlewareData.shift;let P=A,F=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(F=_),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(P=E),k&&!f){const $=ao(u.left,0),U=ao(u.right,0),O=ao(u.top,0),D=ao(u.bottom,0);p?F=m-2*($!==0||U!==0?$+U:ao(u.left,u.right)):P=v-2*(O!==0||D!==0?O+D:ao(u.top,u.bottom))}await l({...e,availableWidth:F,availableHeight:P});const N=await o.getDimensions(a.floating);return m!==N.width||v!==N.height?{reset:{rects:!0}}:{}}}};function ihe(t){const e=iu(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=dd(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,a=z2(r)!==s||z2(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function gF(t){return Po(t)?t:t.contextElement}function Fy(t){const e=gF(t);if(!dd(e))return sd(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=ihe(e);let o=(s?z2(r.width):r.width)/n,a=(s?z2(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const $Be=sd(0);function she(t){const e=Ya(t);return!pF()||!e.visualViewport?$Be:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function NBe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ya(t)?!1:e}function eg(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=gF(t);let o=sd(1);e&&(n?Po(n)&&(o=Fy(n)):o=Fy(t));const a=NBe(s,r,n)?she(s):sd(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,h=i.height/o.y;if(s){const f=Ya(s),p=n&&Po(n)?Ya(n):n;let m=f,v=SR(m);for(;v&&n&&p!==m;){const w=Fy(v),b=v.getBoundingClientRect(),E=iu(v),_=b.left+(v.clientLeft+parseFloat(E.paddingLeft))*w.x,A=b.top+(v.clientTop+parseFloat(E.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,h*=w.y,l+=_,c+=A,m=Ya(v),v=SR(m)}}return X_({width:u,height:h,x:l,y:c})}function d8(t,e){const r=c8(t).scrollLeft;return e?e.left+r:eg(wd(t)).left+r}function ohe(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-d8(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function RBe(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=wd(n),a=e?l8(e.floating):!1;if(n===o||a&&s)return r;let l={scrollLeft:0,scrollTop:0},c=sd(1);const u=sd(0),h=dd(n);if((h||!h&&!s)&&((L1(n)!=="body"||Xx(o))&&(l=c8(n)),dd(n))){const p=eg(n);c=Fy(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const f=o&&!h&&!s?ohe(o,l):sd(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:r.y*c.y-l.scrollTop*c.y+u.y+f.y}}function OBe(t){return Array.from(t.getClientRects())}function jBe(t){const e=wd(t),r=c8(t),n=t.ownerDocument.body,i=ao(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=ao(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+d8(t);const a=-r.scrollTop;return iu(n).direction==="rtl"&&(o+=ao(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}const sK=25;function MBe(t,e){const r=Ya(t),n=wd(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=pF();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=d8(n);if(c<=0){const u=n.ownerDocument,h=u.body,f=getComputedStyle(h),p=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,m=Math.abs(n.clientWidth-h.clientWidth-p);m<=sK&&(s-=m)}else c<=sK&&(s+=c);return{width:s,height:o,x:a,y:l}}const DBe=new Set(["absolute","fixed"]);function FBe(t,e){const r=eg(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=dd(t)?Fy(t):sd(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:o,height:a,x:l,y:c}}function oK(t,e,r){let n;if(e==="viewport")n=MBe(t,r);else if(e==="document")n=jBe(wd(t));else if(Po(e))n=FBe(e,r);else{const i=she(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return X_(n)}function ahe(t,e){const r=np(t);return r===e||!Po(r)||c1(r)?!1:iu(r).position==="fixed"||ahe(r,e)}function LBe(t,e){const r=e.get(t);if(r)return r;let n=B2(t,[],!1).filter(a=>Po(a)&&L1(a)!=="body"),i=null;const s=iu(t).position==="fixed";let o=s?np(t):t;for(;Po(o)&&!c1(o);){const a=iu(o),l=fF(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&DBe.has(i.position)||Xx(o)&&!l&&ahe(t,o))?n=n.filter(u=>u!==o):i=a,o=np(o)}return e.set(t,n),n}function UBe(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?l8(e)?[]:LBe(e,this._c):[].concat(r),n],a=o[0],l=o.reduce((c,u)=>{const h=oK(e,u,i);return c.top=ao(h.top,c.top),c.right=Z0(h.right,c.right),c.bottom=Z0(h.bottom,c.bottom),c.left=ao(h.left,c.left),c},oK(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function BBe(t){const{width:e,height:r}=ihe(t);return{width:e,height:r}}function zBe(t,e,r){const n=dd(e),i=wd(e),s=r==="fixed",o=eg(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=sd(0);function c(){l.x=d8(i)}if(n||!n&&!s)if((L1(e)!=="body"||Xx(i))&&(a=c8(e)),n){const p=eg(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&c();s&&!n&&i&&c();const u=i&&!n&&!s?ohe(i,a):sd(0),h=o.left+a.scrollLeft-l.x-u.x,f=o.top+a.scrollTop-l.y-u.y;return{x:h,y:f,width:o.width,height:o.height}}function Y9(t){return iu(t).position==="static"}function aK(t,e){if(!dd(t)||iu(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return wd(t)===r&&(r=r.ownerDocument.body),r}function lhe(t,e){const r=Ya(t);if(l8(t))return r;if(!dd(t)){let i=np(t);for(;i&&!c1(i);){if(Po(i)&&!Y9(i))return i;i=np(i)}return r}let n=aK(t,e);for(;n&&sBe(n)&&Y9(n);)n=aK(n,e);return n&&c1(n)&&Y9(n)&&!fF(n)?r:n||uBe(t)||r}const qBe=async function(t){const e=this.getOffsetParent||lhe,r=this.getDimensions,n=await r(t.floating);return{reference:zBe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function WBe(t){return iu(t).direction==="rtl"}const HBe={convertOffsetParentRelativeRectToViewportRelativeRect:RBe,getDocumentElement:wd,getClippingRect:UBe,getOffsetParent:lhe,getElementRects:qBe,getClientRects:OBe,getDimensions:BBe,getScale:Fy,isElement:Po,isRTL:WBe};function che(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function VBe(t,e){let r=null,n;const i=wd(t);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=c;if(a||e(),!f||!p)return;const m=p6(h),v=p6(i.clientWidth-(u+f)),w=p6(i.clientHeight-(h+p)),b=p6(u),_={rootMargin:-m+"px "+-v+"px "+-w+"px "+-b+"px",threshold:ao(0,Z0(1,l))||1};let A=!0;function C(k){const P=k[0].intersectionRatio;if(P!==l){if(!A)return o();P?o(!1,P):n=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!che(c,t.getBoundingClientRect())&&o(),A=!1}try{r=new IntersectionObserver(C,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(C,_)}r.observe(t)}return o(!0),s}function GBe(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=gF(t),u=i||s?[...c?B2(c):[],...B2(e)]:[];u.forEach(b=>{i&&b.addEventListener("scroll",r,{passive:!0}),s&&b.addEventListener("resize",r)});const h=c&&a?VBe(c,r):null;let f=-1,p=null;o&&(p=new ResizeObserver(b=>{let[E]=b;E&&E.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),r()}),c&&!l&&p.observe(c),p.observe(e));let m,v=l?eg(t):null;l&&w();function w(){const b=eg(t);v&&!che(v,b)&&r(),v=b,m=requestAnimationFrame(w)}return r(),()=>{var b;u.forEach(E=>{i&&E.removeEventListener("scroll",r),s&&E.removeEventListener("resize",r)}),h?.(),(b=p)==null||b.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const J9=u8,KBe=TBe,YBe=IBe,JBe=kBe,XBe=PBe,QBe=(t,e,r)=>{const n=new Map,i={platform:HBe,...r},s={...i.platform,_c:n};return EBe(t,e,{...i,platform:s})};var ZBe=typeof document<"u",eze=function(){},V4=ZBe?x.useLayoutEffect:eze;function Q_(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Q_(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!Q_(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function uhe(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function lK(t,e){const r=uhe(t);return Math.round(e*r)/r}function X9(t){const e=x.useRef(t);return V4(()=>{e.current=t}),e}function tze(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=x.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=x.useState(n);Q_(f,n)||p(n);const[m,v]=x.useState(null),[w,b]=x.useState(null),E=x.useCallback(B=>{B!==k.current&&(k.current=B,v(B))},[]),_=x.useCallback(B=>{B!==P.current&&(P.current=B,b(B))},[]),A=s||m,C=o||w,k=x.useRef(null),P=x.useRef(null),F=x.useRef(u),N=l!=null,$=X9(l),U=X9(i),O=X9(c),D=x.useCallback(()=>{if(!k.current||!P.current)return;const B={placement:e,strategy:r,middleware:f};U.current&&(B.platform=U.current),QBe(k.current,P.current,B).then(q=>{const G={...q,isPositioned:O.current!==!1};T.current&&!Q_(F.current,G)&&(F.current=G,Ls.flushSync(()=>{h(G)}))})},[f,e,r,U,O]);V4(()=>{c===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,h(B=>({...B,isPositioned:!1})))},[c]);const T=x.useRef(!1);V4(()=>(T.current=!0,()=>{T.current=!1}),[]),V4(()=>{if(A&&(k.current=A),C&&(P.current=C),A&&C){if($.current)return $.current(A,C,D);D()}},[A,C,D,$,N]);const I=x.useMemo(()=>({reference:k,floating:P,setReference:E,setFloating:_}),[E,_]),R=x.useMemo(()=>({reference:A,floating:C}),[A,C]),L=x.useMemo(()=>{const B={position:r,left:0,top:0};if(!R.floating)return B;const q=lK(R.floating,u.x),G=lK(R.floating,u.y);return a?{...B,transform:"translate("+q+"px, "+G+"px)",...uhe(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:q,top:G}},[r,a,R.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:D,refs:I,elements:R,floatingStyles:L}),[u,D,I,R,L])}const dhe=(t,e)=>({...KBe(t),options:[t,e]}),rze=(t,e)=>({...YBe(t),options:[t,e]}),nze=(t,e)=>({...JBe(t),options:[t,e]}),ize=(t,e)=>({...XBe(t),options:[t,e]}),hhe={...G$},sze=hhe.useInsertionEffect,oze=sze||(t=>t());function fhe(t){const e=x.useRef(()=>{});return oze(()=>{e.current=t}),x.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var TR=typeof document<"u"?x.useLayoutEffect:x.useEffect;let cK=!1,aze=0;const uK=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+aze++;function lze(){const[t,e]=x.useState(()=>cK?uK():void 0);return TR(()=>{t==null&&e(uK())},[]),x.useEffect(()=>{cK=!0},[]),t}const cze=hhe.useId,uze=cze||lze;function dze(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(i=>i(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(i=>i!==r))||[])}}}const hze=x.createContext(null),fze=x.createContext(null),pze=()=>{var t;return((t=x.useContext(hze))==null?void 0:t.id)||null},gze=()=>x.useContext(fze),mze="data-floating-ui-focusable";function yze(t){const{open:e=!1,onOpenChange:r,elements:n}=t,i=uze(),s=x.useRef({}),[o]=x.useState(()=>dze()),a=pze()!=null,[l,c]=x.useState(n.reference),u=fhe((p,m,v)=>{s.current.openEvent=p?m:void 0,o.emit("openchange",{open:p,event:m,reason:v,nested:a}),r?.(p,m,v)}),h=x.useMemo(()=>({setPositionReference:c}),[]),f=x.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return x.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:f,events:o,floatingId:i,refs:h}),[e,u,f,o,i,h])}function vze(t){t===void 0&&(t={});const{nodeId:e}=t,r=yze({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,i=n.elements,[s,o]=x.useState(null),[a,l]=x.useState(null),u=i?.domReference||s,h=x.useRef(null),f=gze();TR(()=>{u&&(h.current=u)},[u]);const p=tze({...t,elements:{...i,...a&&{reference:a}}}),m=x.useCallback(_=>{const A=Po(_)?{getBoundingClientRect:()=>_.getBoundingClientRect(),contextElement:_}:_;l(A),p.refs.setReference(A)},[p.refs]),v=x.useCallback(_=>{(Po(_)||_===null)&&(h.current=_,o(_)),(Po(p.refs.reference.current)||p.refs.reference.current===null||_!==null&&!Po(_))&&p.refs.setReference(_)},[p.refs]),w=x.useMemo(()=>({...p.refs,setReference:v,setPositionReference:m,domReference:h}),[p.refs,v,m]),b=x.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),E=x.useMemo(()=>({...p,...n,refs:w,elements:b,nodeId:e}),[p,w,b,e,n]);return TR(()=>{n.dataRef.current.floatingContext=E;const _=f?.nodesRef.current.find(A=>A.id===e);_&&(_.context=E)}),x.useMemo(()=>({...p,context:E,refs:w,elements:b}),[p,w,b,E])}const dK="active",hK="selected";function Q9(t,e,r){const n=new Map,i=r==="item";let s=t;if(i&&t){const{[dK]:o,[hK]:a,...l}=t;s=l}return{...r==="floating"&&{tabIndex:-1,[mze]:""},...s,...e.map(o=>{const a=o?o[r]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((o,a)=>(a&&Object.entries(a).forEach(l=>{let[c,u]=l;if(!(i&&[dK,hK].includes(c)))if(c.indexOf("on")===0){if(n.has(c)||n.set(c,[]),typeof u=="function"){var h;(h=n.get(c))==null||h.push(u),o[c]=function(){for(var f,p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];return(f=n.get(c))==null?void 0:f.map(w=>w(...m)).find(w=>w!==void 0)}}}else o[c]=u}),o),{})}}function wze(t){t===void 0&&(t=[]);const e=t.map(a=>a?.reference),r=t.map(a=>a?.floating),n=t.map(a=>a?.item),i=x.useCallback(a=>Q9(a,t,"reference"),e),s=x.useCallback(a=>Q9(a,t,"floating"),r),o=x.useCallback(a=>Q9(a,t,"item"),n);return x.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function fK(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const bze=t=>({name:"inner",options:t,async fn(e){const{listRef:r,overflowRef:n,onFallbackChange:i,offset:s=0,index:o=0,minItemsVisible:a=4,referenceOverflowThreshold:l=0,scrollRef:c,...u}=U1(t,e),{rects:h,elements:{floating:f}}=e,p=r.current[o],m=c?.current||f,v=f.clientTop||m.clientTop,w=f.clientTop!==0,b=m.clientTop!==0,E=f===m;if(!p)return{};const _={...e,...await dhe(-p.offsetTop-f.clientTop-h.reference.height/2-p.offsetHeight/2-s).fn(e)},A=await J9(fK(_,m.scrollHeight+v+f.clientTop),u),C=await J9(_,{...u,elementContext:"reference"}),k=ao(0,A.top),P=_.y+k,$=(m.scrollHeight>m.clientHeight?U=>U:z2)(ao(0,m.scrollHeight+(w&&E||b?v*2:0)-k-ao(0,A.bottom)));if(m.style.maxHeight=$+"px",m.scrollTop=k,i){const U=m.offsetHeight<p.offsetHeight*Z0(a,r.current.length)-1||C.top>=-l||C.bottom>=-l;Ls.flushSync(()=>i(U))}return n&&(n.current=await J9(fK({..._,y:P},m.offsetHeight+v+f.clientTop),u)),{y:P}}});function xze(t,e){const{open:r,elements:n}=t,{enabled:i=!0,overflowRef:s,scrollRef:o,onChange:a}=e,l=fhe(a),c=x.useRef(!1),u=x.useRef(null),h=x.useRef(null);x.useEffect(()=>{if(!i)return;function p(v){if(v.ctrlKey||!m||s.current==null)return;const w=v.deltaY,b=s.current.top>=-.5,E=s.current.bottom>=-.5,_=m.scrollHeight-m.clientHeight,A=w<0?-1:1,C=w<0?"max":"min";m.scrollHeight<=m.clientHeight||(!b&&w>0||!E&&w<0?(v.preventDefault(),Ls.flushSync(()=>{l(k=>k+Math[C](w,_*A))})):/firefox/i.test(hBe())&&(m.scrollTop+=w))}const m=o?.current||n.floating;if(r&&m)return m.addEventListener("wheel",p),requestAnimationFrame(()=>{u.current=m.scrollTop,s.current!=null&&(h.current={...s.current})}),()=>{u.current=null,h.current=null,m.removeEventListener("wheel",p)}},[i,r,n.floating,s,o,l]);const f=x.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const p=o?.current||n.floating;if(!(!s.current||!p||!c.current)){if(u.current!==null){const m=p.scrollTop-u.current;(s.current.bottom<-.5&&m<-1||s.current.top<-.5&&m>1)&&Ls.flushSync(()=>l(v=>v+m))}requestAnimationFrame(()=>{u.current=p.scrollTop})}}}),[n.floating,l,s,o]);return x.useMemo(()=>i?{floating:f}:{},[i,f])}let B1=x.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});B1.displayName="FloatingContext";let mF=x.createContext(null);mF.displayName="PlacementContext";function _ze(t){return x.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function Cze(){return x.useContext(B1).setReference}function Eze(){return x.useContext(B1).getReferenceProps}function kze(){let{getFloatingProps:t,slot:e}=x.useContext(B1);return x.useCallback((...r)=>Object.assign({},t(...r),{"data-anchor":e.anchor}),[t,e])}function Sze(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=x.useContext(mF),r=x.useMemo(()=>t,[JSON.stringify(t,(i,s)=>{var o;return(o=s?.outerHTML)!=null?o:s})]);Un(()=>{e?.(r??null)},[e,r]);let n=x.useContext(B1);return x.useMemo(()=>[n.setFloating,t?n.styles:{}],[n.setFloating,t,n.styles])}let pK=4;function Aze({children:t,enabled:e=!0}){let[r,n]=x.useState(null),[i,s]=x.useState(0),o=x.useRef(null),[a,l]=x.useState(null);Tze(a);let c=e&&r!==null&&a!==null,{to:u="bottom",gap:h=0,offset:f=0,padding:p=0,inner:m}=Ize(r,a),[v,w="center"]=u.split(" ");Un(()=>{c&&s(0)},[c]);let{refs:b,floatingStyles:E,context:_}=vze({open:c,placement:v==="selection"?w==="center"?"bottom":`bottom-${w}`:w==="center"?`${v}`:`${v}-${w}`,strategy:"absolute",transform:!1,middleware:[dhe({mainAxis:v==="selection"?0:h,crossAxis:f}),rze({padding:p}),v!=="selection"&&nze({padding:p}),v==="selection"&&m?bze({...m,padding:p,overflowRef:o,offset:i,minItemsVisible:pK,referenceOverflowThreshold:p,onFallbackChange(U){var O,D;if(!U)return;let T=_.elements.floating;if(!T)return;let I=parseFloat(getComputedStyle(T).scrollPaddingBottom)||0,R=Math.min(pK,T.childElementCount),L=0,B=0;for(let q of(D=(O=_.elements.floating)==null?void 0:O.childNodes)!=null?D:[])if(Za(q)){let G=q.offsetTop,W=G+q.clientHeight+I,j=T.scrollTop,Y=j+T.clientHeight;if(G>=j&&W<=Y)R--;else{B=Math.max(0,Math.min(W,Y)-Math.max(G,j)),L=q.clientHeight;break}}R>=1&&s(q=>{let G=L*R-B+I;return q>=G?q:G})}}):null,ize({padding:p,apply({availableWidth:U,availableHeight:O,elements:D}){Object.assign(D.floating.style,{overflow:"auto",maxWidth:`${U}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${O}px)`})}})].filter(Boolean),whileElementsMounted:GBe}),[A=v,C=w]=_.placement.split("-");v==="selection"&&(A="selection");let k=x.useMemo(()=>({anchor:[A,C].filter(Boolean).join(" ")}),[A,C]),P=xze(_,{overflowRef:o,onChange:s}),{getReferenceProps:F,getFloatingProps:N}=wze([P]),$=lr(U=>{l(U),b.setFloating(U)});return x.createElement(mF.Provider,{value:n},x.createElement(B1.Provider,{value:{setFloating:$,setReference:b.setReference,styles:E,getReferenceProps:F,getFloatingProps:N,slot:k}},t))}function Tze(t){Un(()=>{if(!t)return;let e=new MutationObserver(()=>{let r=window.getComputedStyle(t).maxHeight,n=parseFloat(r);if(isNaN(n))return;let i=parseInt(r);isNaN(i)||n!==i&&(t.style.maxHeight=`${Math.ceil(n)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function Ize(t,e){var r,n,i;let s=Z9((r=t?.gap)!=null?r:"var(--anchor-gap, 0)",e),o=Z9((n=t?.offset)!=null?n:"var(--anchor-offset, 0)",e),a=Z9((i=t?.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:o,padding:a}}function Z9(t,e,r=void 0){let n=bg(),i=lr((l,c)=>{if(l==null)return[r,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!c)return[r,null];let u=gK(l,c);return[u,h=>{let f=phe(l);{let p=f.map(m=>window.getComputedStyle(c).getPropertyValue(m));n.requestAnimationFrame(function m(){n.nextFrame(m);let v=!1;for(let[b,E]of f.entries()){let _=window.getComputedStyle(c).getPropertyValue(E);if(p[b]!==_){p[b]=_,v=!0;break}}if(!v)return;let w=gK(l,c);u!==w&&(h(w),u=w)})}return n.dispose}]}return[r,null]}),s=x.useMemo(()=>i(t,e)[0],[t,e]),[o=s,a]=x.useState();return Un(()=>{let[l,c]=i(t,e);if(a(l),!!c)return c(a)},[t,e]),o}function phe(t){let e=/var\((.*)\)/.exec(t);if(e){let r=e[1].indexOf(",");if(r===-1)return[e[1]];let n=e[1].slice(0,r).trim(),i=e[1].slice(r+1).trim();return i?[n,...phe(i)]:[n]}return[]}function gK(t,e){let r=document.createElement("div");e.appendChild(r),r.style.setProperty("margin-top","0px","important"),r.style.setProperty("margin-top",t,"important");let n=parseFloat(window.getComputedStyle(r).marginTop)||0;return e.removeChild(r),n}let h8=x.createContext(null);h8.displayName="OpenClosedContext";var $o=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))($o||{});function Zx(){return x.useContext(h8)}function ghe({value:t,children:e}){return ht.createElement(h8.Provider,{value:t},e)}function Pze({children:t}){return ht.createElement(h8.Provider,{value:null},t)}function $ze(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Of=[];$ze(()=>{function t(e){if(!Zu(e.target)||e.target===document.body||Of[0]===e.target)return;let r=e.target;r=r.closest(Y_),Of.unshift(r??e.target),Of=Of.filter(n=>n!=null&&n.isConnected),Of.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Nze(t){throw new Error("Unexpected object: "+t)}var Ii=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Ii||{});function g6(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),i=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{i===-1&&(i=r.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=i+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:Nze(t)}}function yF(t){let e=lr(t),r=x.useRef(!1);x.useEffect(()=>(r.current=!1,()=>{r.current=!0,i8(()=>{r.current&&e()})}),[e])}let mhe=x.createContext(!1);function Rze(){return x.useContext(mhe)}function mK(t){return ht.createElement(mhe.Provider,{value:t.force},t.children)}function Oze(t){let e=Rze(),r=x.useContext(vhe),[n,i]=x.useState(()=>{var s;if(!e&&r!==null)return(s=r.current)!=null?s:null;if(nd.isServer)return null;let o=t?.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)});return x.useEffect(()=>{n!==null&&(t!=null&&t.body.contains(n)||t==null||t.body.appendChild(n))},[n,t]),x.useEffect(()=>{e||r!==null&&i(r.current)},[r,i,e]),n}let yhe=x.Fragment,jze=ai(function(t,e){let{ownerDocument:r=null,...n}=t,i=x.useRef(null),s=Bo(KLe(f=>{i.current=f}),e),o=U2(i.current),a=r??o,l=Oze(a),c=x.useContext(IR),u=bg(),h=Di();return yF(()=>{var f;l&&l.childNodes.length<=0&&((f=l.parentElement)==null||f.removeChild(l))}),l?Ls.createPortal(ht.createElement("div",{"data-headlessui-portal":"",ref:f=>{u.dispose(),c&&f&&u.add(c.register(f))}},h({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:yhe,name:"Portal"})),l):null});function Mze(t,e){let r=Bo(e),{enabled:n=!0,ownerDocument:i,...s}=t,o=Di();return n?ht.createElement(jze,{...s,ownerDocument:i,ref:r}):o({ourProps:{ref:r},theirProps:s,slot:{},defaultTag:yhe,name:"Portal"})}let Dze=x.Fragment,vhe=x.createContext(null);function Fze(t,e){let{target:r,...n}=t,i={ref:Bo(e)},s=Di();return ht.createElement(vhe.Provider,{value:r},s({ourProps:i,theirProps:n,defaultTag:Dze,name:"Popover.Group"}))}let IR=x.createContext(null);function Lze(){let t=x.useContext(IR),e=x.useRef([]),r=lr(s=>(e.current.push(s),t&&t.register(s),()=>n(s))),n=lr(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=x.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,x.useMemo(()=>function({children:s}){return ht.createElement(IR.Provider,{value:i},s)},[i])]}let Uze=ai(Mze),whe=ai(Fze),bhe=Object.assign(Uze,{Group:whe});const G4={Idle:{kind:"Idle"},Tracked:t=>({kind:"Tracked",position:t}),Moved:{kind:"Moved"}};function xhe(t){let e=t.getBoundingClientRect();return`${e.x},${e.y}`}function Bze(t,e,r){let n=xa();if(e.kind==="Tracked"){let i=function(){s!==xhe(t)&&(n.dispose(),r())},{position:s}=e,o=new ResizeObserver(i);o.observe(t),n.add(()=>o.disconnect()),n.addEventListener(window,"scroll",i,{passive:!0}),n.addEventListener(window,"resize",i)}return()=>n.dispose()}function zze(t,e=typeof document<"u"?document.defaultView:null,r){let n=Jx(t,"escape");Yde(e,"keydown",i=>{n&&(i.defaultPrevented||i.key===cs.Escape&&r(i))})}function qze(){var t;let[e]=x.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=x.useState((t=e?.matches)!=null?t:!1);return Un(()=>{if(!e)return;function i(s){n(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),r}function Wze({defaultContainers:t=[],portals:e,mainTreeNode:r}={}){let n=lr(()=>{var i,s;let o=wg(r),a=[];for(let l of t)l!==null&&(hh(l)?a.push(l):"current"in l&&hh(l.current)&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(i=o?.querySelectorAll("html > *, body > *"))!=null?i:[])l!==document.body&&l!==document.head&&hh(l)&&l.id!=="headlessui-portal-root"&&(r&&(l.contains(r)||l.contains((s=r?.getRootNode())==null?void 0:s.host))||a.some(c=>l.contains(c))||a.push(l));return a});return{resolveContainers:n,contains:lr(i=>n().some(s=>s.contains(i)))}}let _he=x.createContext(null);function yK({children:t,node:e}){let[r,n]=x.useState(null),i=Che(e??r);return ht.createElement(_he.Provider,{value:i},t,i===null&&ht.createElement(CR,{features:K_.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=wg(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&hh(l)&&l!=null&&l.contains(s)){n(l);break}}}}))}function Che(t=null){var e;return(e=x.useContext(_he))!=null?e:t}function Hze(){let t=typeof document>"u";return"useSyncExternalStore"in G$?(e=>e.useSyncExternalStore)(G$)(()=>()=>{},()=>!1,()=>!t):!1}function f8(){let t=Hze(),[e,r]=x.useState(nd.isHandoffComplete);return e&&nd.isHandoffComplete===!1&&r(!1),x.useEffect(()=>{e!==!0&&r(!0)},[e]),x.useEffect(()=>nd.handoff(),[]),t?!1:e}function vF(){let t=x.useRef(!1);return Un(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Gw=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Gw||{});function Vze(){let t=x.useRef(0);return Gde(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function Ehe(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)hh(r.current)&&e.add(r.current);return e}let Gze="div";var c0=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(c0||{});function Kze(t,e){let r=x.useRef(null),n=Bo(r,e),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=t;f8()||(a=0);let c=U2(r.current);Qze(a,{ownerDocument:c});let u=Zze(a,{ownerDocument:c,container:r,initialFocus:i,initialFocusFallback:s});eqe(a,{ownerDocument:c,container:r,containers:o,previousActiveElement:u});let h=Vze(),f=lr(E=>{if(!Za(r.current))return;let _=r.current;(A=>A())(()=>{nu(h.current,{[Gw.Forwards]:()=>{Dy(_,Uc.First,{skipElements:[E.relatedTarget,s]})},[Gw.Backwards]:()=>{Dy(_,Uc.Last,{skipElements:[E.relatedTarget,s]})}})})}),p=Jx(!!(a&2),"focus-trap#tab-lock"),m=bg(),v=x.useRef(!1),w={ref:n,onKeyDown(E){E.key=="Tab"&&(v.current=!0,m.requestAnimationFrame(()=>{v.current=!1}))},onBlur(E){if(!(a&4))return;let _=Ehe(o);Za(r.current)&&_.add(r.current);let A=E.relatedTarget;Zu(A)&&A.dataset.headlessuiFocusGuard!=="true"&&(khe(_,A)||(v.current?Dy(r.current,nu(h.current,{[Gw.Forwards]:()=>Uc.Next,[Gw.Backwards]:()=>Uc.Previous})|Uc.WrapAround,{relativeTo:E.target}):Zu(E.target)&&id(E.target)))}},b=Di();return ht.createElement(ht.Fragment,null,p&&ht.createElement(CR,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:K_.Focusable}),b({ourProps:w,theirProps:l,defaultTag:Gze,name:"FocusTrap"}),p&&ht.createElement(CR,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:K_.Focusable}))}let Yze=ai(Kze),Jze=Object.assign(Yze,{features:c0});function Xze(t=!0){let e=x.useRef(Of.slice());return hF(([r],[n])=>{n===!0&&r===!1&&i8(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=Of.slice())},[t,Of,e]),lr(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function Qze(t,{ownerDocument:e}){let r=!!(t&8),n=Xze(r);hF(()=>{r||_de(e?.body)&&id(n())},[r]),yF(()=>{r&&id(n())})}function Zze(t,{ownerDocument:e,container:r,initialFocus:n,initialFocusFallback:i}){let s=x.useRef(null),o=Jx(!!(t&1),"focus-trap#initial-focus"),a=vF();return hF(()=>{if(t===0)return;if(!o){i!=null&&i.current&&id(i.current);return}let l=r.current;l&&i8(()=>{if(!a.current)return;let c=e?.activeElement;if(n!=null&&n.current){if(n?.current===c){s.current=c;return}}else if(l.contains(c)){s.current=c;return}if(n!=null&&n.current)id(n.current);else{if(t&16){if(Dy(l,Uc.First|Uc.AutoFocus)!==kR.Error)return}else if(Dy(l,Uc.First)!==kR.Error)return;if(i!=null&&i.current&&(id(i.current),e?.activeElement===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e?.activeElement})},[i,o,t]),s}function eqe(t,{ownerDocument:e,container:r,containers:n,previousActiveElement:i}){let s=vF(),o=!!(t&4);Yde(e?.defaultView,"focus",a=>{if(!o||!s.current)return;let l=Ehe(n);Za(r.current)&&l.add(r.current);let c=i.current;if(!c)return;let u=a.target;Za(u)?khe(l,u)?(i.current=u,id(u)):(a.preventDefault(),a.stopPropagation(),id(c)):id(i.current)},!0)}function khe(t,e){for(let r of t)if(r.contains(e))return!0;return!1}function She(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!yb((e=t.as)!=null?e:The)||ht.Children.count(t.children)===1}let p8=x.createContext(null);p8.displayName="TransitionContext";var tqe=(t=>(t.Visible="visible",t.Hidden="hidden",t))(tqe||{});function rqe(){let t=x.useContext(p8);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function nqe(){let t=x.useContext(g8);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let g8=x.createContext(null);g8.displayName="NestingContext";function m8(t){return"children"in t?m8(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function Ahe(t,e){let r=xg(t),n=x.useRef([]),i=vF(),s=bg(),o=lr((p,m=zf.Hidden)=>{let v=n.current.findIndex(({el:w})=>w===p);v!==-1&&(nu(m,{[zf.Unmount](){n.current.splice(v,1)},[zf.Hidden](){n.current[v].state="hidden"}}),s.microTask(()=>{var w;!m8(n)&&i.current&&((w=r.current)==null||w.call(r))}))}),a=lr(p=>{let m=n.current.find(({el:v})=>v===p);return m?m.state!=="visible"&&(m.state="visible"):n.current.push({el:p,state:"visible"}),()=>o(p,zf.Unmount)}),l=x.useRef([]),c=x.useRef(Promise.resolve()),u=x.useRef({enter:[],leave:[]}),h=lr((p,m,v)=>{l.current.splice(0),e&&(e.chains.current[m]=e.chains.current[m].filter(([w])=>w!==p)),e?.chains.current[m].push([p,new Promise(w=>{l.current.push(w)})]),e?.chains.current[m].push([p,new Promise(w=>{Promise.all(u.current[m].map(([b,E])=>E)).then(()=>w())})]),m==="enter"?c.current=c.current.then(()=>e?.wait.current).then(()=>v(m)):v(m)}),f=lr((p,m,v)=>{Promise.all(u.current[m].splice(0).map(([w,b])=>b)).then(()=>{var w;(w=l.current.shift())==null||w()}).then(()=>v(m))});return x.useMemo(()=>({children:n,register:a,unregister:o,onStart:h,onStop:f,wait:c,chains:u}),[a,o,n,h,f,u,c])}let The=x.Fragment,Ihe=l1.RenderStrategy;function iqe(t,e){var r,n;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:c,enterFrom:u,enterTo:h,entered:f,leave:p,leaveFrom:m,leaveTo:v,...w}=t,[b,E]=x.useState(null),_=x.useRef(null),A=She(t),C=Bo(...A?[_,e,E]:e===null?[]:[e]),k=(r=w.unmount)==null||r?zf.Unmount:zf.Hidden,{show:P,appear:F,initial:N}=rqe(),[$,U]=x.useState(P?"visible":"hidden"),O=nqe(),{register:D,unregister:T}=O;Un(()=>D(_),[D,_]),Un(()=>{if(k===zf.Hidden&&_.current){if(P&&$!=="visible"){U("visible");return}return nu($,{hidden:()=>T(_),visible:()=>D(_)})}},[$,_,D,T,P,k]);let I=f8();Un(()=>{if(A&&I&&$==="visible"&&_.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[_,$,I,A]);let R=N&&!F,L=F&&P&&N,B=x.useRef(!1),q=Ahe(()=>{B.current||(U("hidden"),T(_))},O),G=lr(ee=>{B.current=!0;let te=ee?"enter":"leave";q.onStart(_,te,se=>{se==="enter"?s?.():se==="leave"&&a?.()})}),W=lr(ee=>{let te=ee?"enter":"leave";B.current=!1,q.onStop(_,te,se=>{se==="enter"?o?.():se==="leave"&&l?.()}),te==="leave"&&!m8(q)&&(U("hidden"),T(_))});x.useEffect(()=>{A&&i||(G(P),W(P))},[P,A,i]);let j=!(!i||!A||!I||R),[,Y]=Qde(j,b,P,{start:G,end:W}),Q=Qp({ref:C,className:((n=_R(w.className,L&&c,L&&u,Y.enter&&c,Y.enter&&Y.closed&&u,Y.enter&&!Y.closed&&h,Y.leave&&p,Y.leave&&!Y.closed&&m,Y.leave&&Y.closed&&v,!Y.transition&&P&&f))==null?void 0:n.trim())||void 0,...Xde(Y)}),z=0;$==="visible"&&(z|=$o.Open),$==="hidden"&&(z|=$o.Closed),P&&$==="hidden"&&(z|=$o.Opening),!P&&$==="visible"&&(z|=$o.Closing);let Z=Di();return ht.createElement(g8.Provider,{value:q},ht.createElement(ghe,{value:z},Z({ourProps:Q,theirProps:w,defaultTag:The,features:Ihe,visible:$==="visible",name:"Transition.Child"})))}function sqe(t,e){let{show:r,appear:n=!1,unmount:i=!0,...s}=t,o=x.useRef(null),a=She(t),l=Bo(...a?[o,e]:e===null?[]:[e]);f8();let c=Zx();if(r===void 0&&c!==null&&(r=(c&$o.Open)===$o.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,h]=x.useState(r?"visible":"hidden"),f=Ahe(()=>{r||h("hidden")}),[p,m]=x.useState(!0),v=x.useRef([r]);Un(()=>{p!==!1&&v.current[v.current.length-1]!==r&&(v.current.push(r),m(!1))},[v,r]);let w=x.useMemo(()=>({show:r,appear:n,initial:p}),[r,n,p]);Un(()=>{r?h("visible"):!m8(f)&&o.current!==null&&h("hidden")},[r,f]);let b={unmount:i},E=lr(()=>{var C;p&&m(!1),(C=t.beforeEnter)==null||C.call(t)}),_=lr(()=>{var C;p&&m(!1),(C=t.beforeLeave)==null||C.call(t)}),A=Di();return ht.createElement(g8.Provider,{value:f},ht.createElement(p8.Provider,{value:w},A({ourProps:{...b,as:x.Fragment,children:ht.createElement(Phe,{ref:l,...b,...s,beforeEnter:E,beforeLeave:_})},theirProps:{},defaultTag:x.Fragment,features:Ihe,visible:u==="visible",name:"Transition"})))}function oqe(t,e){let r=x.useContext(p8)!==null,n=Zx()!==null;return ht.createElement(ht.Fragment,null,!r&&n?ht.createElement(PR,{ref:e,...t}):ht.createElement(Phe,{ref:e,...t}))}let PR=ai(sqe),Phe=ai(iqe),q2=ai(oqe),$he=Object.assign(PR,{Child:q2,Root:PR});var aqe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(aqe||{}),lqe=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(lqe||{});let cqe={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},wF=x.createContext(null);wF.displayName="DialogContext";function y8(t){let e=x.useContext(wF);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,y8),r}return e}function uqe(t,e){return nu(e.type,cqe,t,e)}let vK=ai(function(t,e){let r=x.useId(),{id:n=`headlessui-dialog-${r}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:c=!1,unmount:u=!1,...h}=t,f=x.useRef(!1);a=(function(){return a==="dialog"||a==="alertdialog"?a:(f.current||(f.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let p=Zx();i===void 0&&p!==null&&(i=(p&$o.Open)===$o.Open);let m=x.useRef(null),v=Bo(m,e),w=U2(m.current),b=i?0:1,[E,_]=x.useReducer(uqe,{titleId:null,descriptionId:null,panelRef:x.createRef()}),A=lr(()=>s(!1)),C=lr(Y=>_({type:0,id:Y})),k=f8()?b===0:!1,[P,F]=Lze(),N={get current(){var Y;return(Y=E.panelRef.current)!=null?Y:m.current}},$=Che(),{resolveContainers:U}=Wze({mainTreeNode:$,portals:P,defaultContainers:[N]}),O=p!==null?(p&$o.Closing)===$o.Closing:!1;Bde(c||O?!1:k,{allowed:lr(()=>{var Y,Q;return[(Q=(Y=m.current)==null?void 0:Y.closest("[data-headlessui-portal]"))!=null?Q:null]}),disallowed:lr(()=>{var Y;return[(Y=$?.closest("body > *:not(#headlessui-portal-root)"))!=null?Y:null]})});let D=o8.get(null);Un(()=>{if(k)return D.actions.push(n),()=>D.actions.pop(n)},[D,n,k]);let T=jl(D,x.useCallback(Y=>D.selectors.isTop(Y,n),[D,n]));Kde(T,U,Y=>{Y.preventDefault(),A()}),zze(T,w?.defaultView,Y=>{Y.preventDefault(),Y.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),A()}),Jde(c||O?!1:k,w,U),zde(k,m,A);let[I,R]=$de(),L=x.useMemo(()=>[{dialogState:b,close:A,setTitleId:C,unmount:u},E],[b,A,C,u,E]),B=vd({open:b===0}),q={ref:v,id:n,role:a,tabIndex:-1,"aria-modal":c?void 0:b===0?!0:void 0,"aria-labelledby":E.titleId,"aria-describedby":I,unmount:u},G=!qze(),W=c0.None;k&&!c&&(W|=c0.RestoreFocus,W|=c0.TabLock,l&&(W|=c0.AutoFocus),G&&(W|=c0.InitialFocus));let j=Di();return ht.createElement(Pze,null,ht.createElement(mK,{force:!0},ht.createElement(bhe,null,ht.createElement(wF.Provider,{value:L},ht.createElement(whe,{target:m},ht.createElement(mK,{force:!1},ht.createElement(R,{slot:B},ht.createElement(F,null,ht.createElement(Jze,{initialFocus:o,initialFocusFallback:m,containers:U,features:W},ht.createElement(iUe,{value:A},j({ourProps:q,theirProps:h,slot:B,defaultTag:dqe,features:hqe,visible:b===0,name:"Dialog"})))))))))))}),dqe="div",hqe=l1.RenderStrategy|l1.Static;function fqe(t,e){let{transition:r=!1,open:n,...i}=t,s=Zx(),o=t.hasOwnProperty("open")||s!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(n!==void 0||r)&&!i.static?ht.createElement(yK,null,ht.createElement($he,{show:n,transition:r,unmount:i.unmount},ht.createElement(vK,{ref:e,...i}))):ht.createElement(yK,null,ht.createElement(vK,{ref:e,open:n,...i}))}let pqe="div";function gqe(t,e){let r=x.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:i=!1,...s}=t,[{dialogState:o,unmount:a},l]=y8("Dialog.Panel"),c=Bo(e,l.panelRef),u=vd({open:o===0}),h=lr(w=>{w.stopPropagation()}),f={ref:c,id:n,onClick:h},p=i?q2:x.Fragment,m=i?{unmount:a}:{},v=Di();return ht.createElement(p,{...m},v({ourProps:f,theirProps:s,slot:u,defaultTag:pqe,name:"Dialog.Panel"}))}let mqe="div";function yqe(t,e){let{transition:r=!1,...n}=t,[{dialogState:i,unmount:s}]=y8("Dialog.Backdrop"),o=vd({open:i===0}),a={ref:e,"aria-hidden":!0},l=r?q2:x.Fragment,c=r?{unmount:s}:{},u=Di();return ht.createElement(l,{...c},u({ourProps:a,theirProps:n,slot:o,defaultTag:mqe,name:"Dialog.Backdrop"}))}let vqe="h2";function wqe(t,e){let r=x.useId(),{id:n=`headlessui-dialog-title-${r}`,...i}=t,[{dialogState:s,setTitleId:o}]=y8("Dialog.Title"),a=Bo(e);x.useEffect(()=>(o(n),()=>o(null)),[n,o]);let l=vd({open:s===0}),c={ref:a,id:n};return Di()({ourProps:c,theirProps:i,slot:l,defaultTag:vqe,name:"Dialog.Title"})}let bqe=ai(fqe),Nhe=ai(gqe);ai(yqe);let xqe=ai(wqe),_qe=Object.assign(bqe,{Panel:Nhe,Title:xqe,Description:QLe}),wK=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function bK(t){var e,r;let n=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!Za(i))return n;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(r=i.innerText)!=null?r:"":n;return wK.test(o)&&(o=o.replace(wK,"")),o}function Cqe(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():bK(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return bK(t).trim()}function Eqe(t){let e=x.useRef(""),r=x.useRef("");return lr(()=>{let n=t.current;if(!n)return"";let i=n.innerText;if(e.current===i)return r.current;let s=Cqe(n).trim().toLowerCase();return e.current=i,r.current=s,s})}var kqe=Object.defineProperty,Sqe=(t,e,r)=>e in t?kqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xK=(t,e,r)=>(Sqe(t,typeof e!="symbol"?e+"":e,r),r),so=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(so||{}),Z_=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Z_||{}),Cn=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t[t.MarkButtonAsMoved=10]="MarkButtonAsMoved",t))(Cn||{});function _K(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=Hde(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{items:n,activeItemIndex:i}}let Aqe={1(t){if(t.menuState===1)return t;let e=t.buttonElement?G4.Tracked(xhe(t.buttonElement)):t.buttonPositionState;return{...t,activeItemIndex:null,pendingFocus:{focus:Ii.Nothing},menuState:1,buttonPositionState:e}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0,buttonPositionState:G4.Idle}},2:(t,e)=>{var r,n,i,s,o;if(t.menuState===1)return t;let a={...t,searchQuery:"",activationTrigger:(r=e.trigger)!=null?r:1,__demoMode:!1};if(e.focus===Ii.Nothing)return{...a,activeItemIndex:null};if(e.focus===Ii.Specific)return{...a,activeItemIndex:t.items.findIndex(u=>u.id===e.id)};if(e.focus===Ii.Previous){let u=t.activeItemIndex;if(u!==null){let h=t.items[u].dataRef.current.domRef,f=g6(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=t.items[f].dataRef.current.domRef;if(((n=h.current)==null?void 0:n.previousElementSibling)===p.current||((i=p.current)==null?void 0:i.previousElementSibling)===null)return{...a,activeItemIndex:f}}}}else if(e.focus===Ii.Next){let u=t.activeItemIndex;if(u!==null){let h=t.items[u].dataRef.current.domRef,f=g6(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled});if(f!==null){let p=t.items[f].dataRef.current.domRef;if(((s=h.current)==null?void 0:s.nextElementSibling)===p.current||((o=p.current)==null?void 0:o.nextElementSibling)===null)return{...a,activeItemIndex:f}}}}let l=_K(t),c=g6(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...a,...l,activeItemIndex:c}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(o=>{var a;return((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(n))&&!o.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=t.items.concat(e.items.map(i=>i)),n=t.activeItemIndex;return t.pendingFocus.focus!==Ii.Nothing&&(n=g6(t.pendingFocus,{resolveItems:()=>r,resolveActiveIndex:()=>t.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...t,items:r,activeItemIndex:n,pendingFocus:{focus:Ii.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let r=t.items,n=[],i=new Set(e.items);for(let[s,o]of r.entries())if(i.has(o.id)&&(n.push(s),i.delete(o.id),i.size===0))break;if(n.length>0){r=r.slice();for(let s of n.reverse())r.splice(s,1)}return{...t,items:r,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,..._K(t),pendingShouldSort:!1}:t,10(t){return t.buttonPositionState.kind!=="Tracked"?t:{...t,buttonPositionState:G4.Moved}}},Tqe=class Rhe extends Dde{constructor(e){super(e),xK(this,"actions",{registerItem:BG(()=>{let r=[],n=new Set;return[(i,s)=>{n.has(s)||(n.add(s),r.push({id:i,dataRef:s}))},()=>(n.clear(),this.send({type:5,items:r.splice(0)}))]}),unregisterItem:BG(()=>{let r=[];return[n=>r.push(n),()=>this.send({type:6,items:r.splice(0)})]})}),xK(this,"selectors",{activeDescendantId(r){var n;let i=r.activeItemIndex,s=r.items;return i===null||(n=s[i])==null?void 0:n.id},isActive(r,n){var i;let s=r.activeItemIndex,o=r.items;return s!==null?((i=o[s])==null?void 0:i.id)===n:!1},shouldScrollIntoView(r,n){return r.__demoMode||r.menuState!==0||r.activationTrigger===0?!1:this.isActive(r,n)},didButtonMove(r){return r.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let r=this.state.id,n=o8.get(null);this.disposables.add(n.on(Lde.Push,i=>{!n.selectors.isTop(i,r)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>n.actions.push(r)),this.on(1,()=>n.actions.pop(r))}this.disposables.group(r=>{this.on(1,n=>{n.buttonElement&&(r.dispose(),r.add(Bze(n.buttonElement,n.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:e,__demoMode:r=!1}){return new Rhe({id:e,__demoMode:r,menuState:r?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:Ii.Nothing},buttonPositionState:G4.Idle})}reduce(e,r){return nu(r.type,Aqe,e,r)}};const Ohe=x.createContext(null);function bF(t){let e=x.useContext(Ohe);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,jhe),r}return e}function jhe({id:t,__demoMode:e=!1}){let r=x.useMemo(()=>Tqe.new({id:t,__demoMode:e}),[]);return yF(()=>r.dispose()),r}let Iqe=x.Fragment;function Pqe(t,e){let r=x.useId(),{__demoMode:n=!1,...i}=t,s=jhe({id:r,__demoMode:n}),[o,a,l]=jl(s,w=>[w.menuState,w.itemsElement,w.buttonElement]),c=Bo(e),u=o8.get(null),h=jl(u,x.useCallback(w=>u.selectors.isTop(w,r),[u,r]));Kde(h,[l,a],(w,b)=>{var E;s.send({type:Cn.CloseMenu}),dF(b,uF.Loose)||(w.preventDefault(),(E=s.state.buttonElement)==null||E.focus())});let f=lr(()=>{s.send({type:Cn.CloseMenu})}),p=vd({open:o===so.Open,close:f}),m={ref:c},v=Di();return ht.createElement(Aze,null,ht.createElement(Ohe.Provider,{value:s},ht.createElement(ghe,{value:nu(o,{[so.Open]:$o.Open,[so.Closed]:$o.Closed})},v({ourProps:m,theirProps:i,slot:p,defaultTag:Iqe,name:"Menu"}))))}let $qe="button";function Nqe(t,e){let r=bF("Menu.Button"),n=x.useId(),{id:i=`headlessui-menu-button-${n}`,disabled:s=!1,autoFocus:o=!1,...a}=t,l=x.useRef(null),c=Eze(),u=Bo(e,l,Cze(),lr($=>r.send({type:Cn.SetButtonElement,element:$}))),h=lr($=>{switch($.key){case cs.Space:case cs.Enter:case cs.ArrowDown:$.preventDefault(),$.stopPropagation(),r.send({type:Cn.OpenMenu,focus:{focus:Ii.First}});break;case cs.ArrowUp:$.preventDefault(),$.stopPropagation(),r.send({type:Cn.OpenMenu,focus:{focus:Ii.Last}});break}}),f=lr($=>{$.key===cs.Space&&$.preventDefault()}),[p,m,v]=jl(r,$=>[$.menuState,$.buttonElement,$.itemsElement]),w=p===so.Open;UUe(w,{trigger:m,action:x.useCallback($=>{if(m!=null&&m.contains($.target))return f6.Ignore;let U=$.target.closest('[role="menuitem"]:not([data-disabled])');return Za(U)?f6.Select(U):v!=null&&v.contains($.target)?f6.Ignore:f6.Close},[m,v]),close:x.useCallback(()=>r.send({type:Cn.CloseMenu}),[]),select:x.useCallback($=>$.click(),[])});let b=vUe($=>{var U;s||(p===so.Open?(Ls.flushSync(()=>r.send({type:Cn.CloseMenu})),(U=l.current)==null||U.focus({preventScroll:!0})):($.preventDefault(),r.send({type:Cn.OpenMenu,focus:{focus:Ii.Nothing},trigger:Z_.Pointer})))}),{isFocusVisible:E,focusProps:_}=SLe({autoFocus:o}),{isHovered:A,hoverProps:C}=kLe({isDisabled:s}),{pressed:k,pressProps:P}=NLe({disabled:s}),F=vd({open:p===so.Open,active:k||p===so.Open,disabled:s,hover:A,focus:E,autofocus:o}),N=kde(c(),{ref:u,id:i,type:BUe(t,l.current),"aria-haspopup":"menu","aria-controls":v?.id,"aria-expanded":p===so.Open,disabled:s||void 0,autoFocus:o,onKeyDown:h,onKeyUp:f},b,_,C,P);return Di()({ourProps:N,theirProps:a,slot:F,defaultTag:$qe,name:"Menu.Button"})}let Rqe="div",Oqe=l1.RenderStrategy|l1.Static;function jqe(t,e){let r=x.useId(),{id:n=`headlessui-menu-items-${r}`,anchor:i,portal:s=!1,modal:o=!0,transition:a=!1,...l}=t,c=_ze(i),u=bF("Menu.Items"),[h,f]=Sze(c),p=kze(),[m,v]=x.useState(null),w=Bo(e,c?h:null,lr(B=>u.send({type:Cn.SetItemsElement,element:B})),v),[b,E]=jl(u,B=>[B.menuState,B.buttonElement]),_=U2(E),A=U2(m);c&&(s=!0);let C=Zx(),[k,P]=Qde(a,m,C!==null?(C&$o.Open)===$o.Open:b===so.Open);zde(k,E,()=>{u.send({type:Cn.CloseMenu})});let F=jl(u,B=>B.__demoMode),N=F?!1:o&&b===so.Open;Jde(N,A);let $=F?!1:o&&b===so.Open;Bde($,{allowed:x.useCallback(()=>[E,m],[E,m])});let U=jl(u,u.selectors.didButtonMove)?!1:k;x.useEffect(()=>{let B=m;B&&b===so.Open&&(_de(B)||B.focus({preventScroll:!0}))},[b,m]),rBe(b===so.Open,{container:m,accept(B){return B.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:B.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(B){B.setAttribute("role","none")}});let O=bg(),D=lr(B=>{var q,G,W;switch(O.dispose(),B.key){case cs.Space:if(u.state.searchQuery!=="")return B.preventDefault(),B.stopPropagation(),u.send({type:Cn.Search,value:B.key});case cs.Enter:if(B.preventDefault(),B.stopPropagation(),u.state.activeItemIndex!==null){let{dataRef:j}=u.state.items[u.state.activeItemIndex];(G=(q=j.current)==null?void 0:q.domRef.current)==null||G.click()}u.send({type:Cn.CloseMenu}),Wde(u.state.buttonElement);break;case cs.ArrowDown:return B.preventDefault(),B.stopPropagation(),u.send({type:Cn.GoToItem,focus:Ii.Next});case cs.ArrowUp:return B.preventDefault(),B.stopPropagation(),u.send({type:Cn.GoToItem,focus:Ii.Previous});case cs.Home:case cs.PageUp:return B.preventDefault(),B.stopPropagation(),u.send({type:Cn.GoToItem,focus:Ii.First});case cs.End:case cs.PageDown:return B.preventDefault(),B.stopPropagation(),u.send({type:Cn.GoToItem,focus:Ii.Last});case cs.Escape:B.preventDefault(),B.stopPropagation(),Ls.flushSync(()=>u.send({type:Cn.CloseMenu})),(W=u.state.buttonElement)==null||W.focus({preventScroll:!0});break;case cs.Tab:B.preventDefault(),B.stopPropagation(),Ls.flushSync(()=>u.send({type:Cn.CloseMenu})),MUe(u.state.buttonElement,B.shiftKey?Uc.Previous:Uc.Next);break;default:B.key.length===1&&(u.send({type:Cn.Search,value:B.key}),O.setTimeout(()=>u.send({type:Cn.ClearSearch}),350));break}}),T=lr(B=>{B.key===cs.Space&&B.preventDefault()}),I=vd({open:b===so.Open}),R=kde(c?p():{},{"aria-activedescendant":jl(u,u.selectors.activeDescendantId),"aria-labelledby":jl(u,B=>{var q;return(q=B.buttonElement)==null?void 0:q.id}),id:n,onKeyDown:D,onKeyUp:T,role:"menu",tabIndex:b===so.Open?0:void 0,ref:w,style:{...l.style,...f,"--button-width":yUe(k,E,!0).width},...Xde(P)}),L=Di();return ht.createElement(bhe,{enabled:s?t.static||k:!1,ownerDocument:_},L({ourProps:R,theirProps:l,slot:I,defaultTag:Rqe,features:Oqe,visible:U,name:"Menu.Items"}))}let Mqe=x.Fragment;function Dqe(t,e){let r=x.useId(),{id:n=`headlessui-menu-item-${r}`,disabled:i=!1,...s}=t,o=bF("Menu.Item"),a=jl(o,U=>o.selectors.isActive(U,n)),l=x.useRef(null),c=Bo(e,l),u=jl(o,U=>o.selectors.shouldScrollIntoView(U,n));Un(()=>{if(u)return xa().requestAnimationFrame(()=>{var U,O;(O=(U=l.current)==null?void 0:U.scrollIntoView)==null||O.call(U,{block:"nearest"})})},[u,l]);let h=Eqe(l),f=x.useRef({disabled:i,domRef:l,get textValue(){return h()}});Un(()=>{f.current.disabled=i},[f,i]),Un(()=>(o.actions.registerItem(n,f),()=>o.actions.unregisterItem(n)),[f,n]);let p=lr(()=>{o.send({type:Cn.CloseMenu})}),m=lr(U=>{if(i)return U.preventDefault();o.send({type:Cn.CloseMenu}),Wde(o.state.buttonElement)}),v=lr(()=>{if(i)return o.send({type:Cn.GoToItem,focus:Ii.Nothing});o.send({type:Cn.GoToItem,focus:Ii.Specific,id:n})}),w=KUe(),b=lr(U=>w.update(U)),E=lr(U=>{w.wasMoved(U)&&(i||a||o.send({type:Cn.GoToItem,focus:Ii.Specific,id:n,trigger:Z_.Pointer}))}),_=lr(U=>{w.wasMoved(U)&&(i||a&&o.state.activationTrigger===Z_.Pointer&&o.send({type:Cn.GoToItem,focus:Ii.Nothing}))}),[A,C]=Nde(),[k,P]=$de(),F=vd({active:a,focus:a,disabled:i,close:p}),N={id:n,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":A,"aria-describedby":k,disabled:void 0,onClick:m,onFocus:v,onPointerEnter:b,onMouseEnter:b,onPointerMove:E,onMouseMove:E,onPointerLeave:_,onMouseLeave:_},$=Di();return ht.createElement(C,null,ht.createElement(P,null,$({ourProps:N,theirProps:s,slot:F,defaultTag:Mqe,name:"Menu.Item"})))}let Fqe="div";function Lqe(t,e){let[r,n]=Nde(),i=t,s={ref:e,"aria-labelledby":r,role:"group"},o=Di();return ht.createElement(n,null,o({ourProps:s,theirProps:i,slot:{},defaultTag:Fqe,name:"Menu.Section"}))}let Uqe="header";function Bqe(t,e){let r=x.useId(),{id:n=`headlessui-menu-heading-${r}`,...i}=t,s=cF();Un(()=>s.register(n),[n,s.register]);let o={id:n,ref:e,role:"presentation",...s.props};return Di()({ourProps:o,theirProps:i,slot:{},defaultTag:Uqe,name:"Menu.Heading"})}let zqe="div";function qqe(t,e){let r=t,n={ref:e,role:"separator"};return Di()({ourProps:n,theirProps:r,slot:{},defaultTag:zqe,name:"Menu.Separator"})}let Wqe=ai(Pqe),Mhe=ai(Nqe),Dhe=ai(jqe),Fhe=ai(Dqe),Hqe=ai(Lqe),Vqe=ai(Bqe),Gqe=ai(qqe),Kqe=Object.assign(Wqe,{Button:Mhe,Items:Dhe,Item:Fhe,Section:Hqe,Heading:Vqe,Separator:Gqe});const Yqe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lhe=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");var Jqe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Xqe=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...Jqe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Lhe("lucide",i),...a},[...o.map(([c,u])=>x.createElement(c,u)),...Array.isArray(s)?s:[s]]));const li=(t,e)=>{const r=x.forwardRef(({className:n,...i},s)=>x.createElement(Xqe,{ref:s,iconNode:e,className:Lhe(`lucide-${Yqe(t)}`,n),...i}));return r.displayName=`${t}`,r};const Qqe=li("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);const Zqe=li("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);const W2=li("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Uhe=li("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const e3=li("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const eWe=li("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const tWe=li("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);const v8=li("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const rWe=li("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);const eC=li("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const $R=li("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const nWe=li("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);const tC=li("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);const xF=li("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const _F=li("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const iWe=li("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const Bhe=li("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const sWe=li("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const oWe=li("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Ia=li("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const aWe=li("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);const lWe=li("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var m6={exports:{}},CK;function cWe(){if(CK)return m6.exports;CK=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(C,k,P){return Function.prototype.apply.call(C,k,P)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:r=function(C){return Object.getOwnPropertyNames(C)};function n(A){console&&console.warn&&console.warn(A)}var i=Number.isNaN||function(C){return C!==C};function s(){s.init.call(this)}m6.exports=s,m6.exports.once=b,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(A){if(typeof A!="number"||A<0||i(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");o=A}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||i(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function l(A){return A._maxListeners===void 0?s.defaultMaxListeners:A._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(C){for(var k=[],P=1;P<arguments.length;P++)k.push(arguments[P]);var F=C==="error",N=this._events;if(N!==void 0)F=F&&N.error===void 0;else if(!F)return!1;if(F){var $;if(k.length>0&&($=k[0]),$ instanceof Error)throw $;var U=new Error("Unhandled error."+($?" ("+$.message+")":""));throw U.context=$,U}var O=N[C];if(O===void 0)return!1;if(typeof O=="function")e(O,this,k);else for(var D=O.length,T=m(O,D),P=0;P<D;++P)e(T[P],this,k);return!0};function c(A,C,k,P){var F,N,$;if(a(k),N=A._events,N===void 0?(N=A._events=Object.create(null),A._eventsCount=0):(N.newListener!==void 0&&(A.emit("newListener",C,k.listener?k.listener:k),N=A._events),$=N[C]),$===void 0)$=N[C]=k,++A._eventsCount;else if(typeof $=="function"?$=N[C]=P?[k,$]:[$,k]:P?$.unshift(k):$.push(k),F=l(A),F>0&&$.length>F&&!$.warned){$.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+$.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=A,U.type=C,U.count=$.length,n(U)}return A}s.prototype.addListener=function(C,k){return c(this,C,k,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(C,k){return c(this,C,k,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(A,C,k){var P={fired:!1,wrapFn:void 0,target:A,type:C,listener:k},F=u.bind(P);return F.listener=k,P.wrapFn=F,F}s.prototype.once=function(C,k){return a(k),this.on(C,h(this,C,k)),this},s.prototype.prependOnceListener=function(C,k){return a(k),this.prependListener(C,h(this,C,k)),this},s.prototype.removeListener=function(C,k){var P,F,N,$,U;if(a(k),F=this._events,F===void 0)return this;if(P=F[C],P===void 0)return this;if(P===k||P.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete F[C],F.removeListener&&this.emit("removeListener",C,P.listener||k));else if(typeof P!="function"){for(N=-1,$=P.length-1;$>=0;$--)if(P[$]===k||P[$].listener===k){U=P[$].listener,N=$;break}if(N<0)return this;N===0?P.shift():v(P,N),P.length===1&&(F[C]=P[0]),F.removeListener!==void 0&&this.emit("removeListener",C,U||k)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(C){var k,P,F;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete P[C]),this;if(arguments.length===0){var N=Object.keys(P),$;for(F=0;F<N.length;++F)$=N[F],$!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=P[C],typeof k=="function")this.removeListener(C,k);else if(k!==void 0)for(F=k.length-1;F>=0;F--)this.removeListener(C,k[F]);return this};function f(A,C,k){var P=A._events;if(P===void 0)return[];var F=P[C];return F===void 0?[]:typeof F=="function"?k?[F.listener||F]:[F]:k?w(F):m(F,F.length)}s.prototype.listeners=function(C){return f(this,C,!0)},s.prototype.rawListeners=function(C){return f(this,C,!1)},s.listenerCount=function(A,C){return typeof A.listenerCount=="function"?A.listenerCount(C):p.call(A,C)},s.prototype.listenerCount=p;function p(A){var C=this._events;if(C!==void 0){var k=C[A];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function m(A,C){for(var k=new Array(C),P=0;P<C;++P)k[P]=A[P];return k}function v(A,C){for(;C+1<A.length;C++)A[C]=A[C+1];A.pop()}function w(A){for(var C=new Array(A.length),k=0;k<C.length;++k)C[k]=A[k].listener||A[k];return C}function b(A,C){return new Promise(function(k,P){function F($){A.removeListener(C,N),P($)}function N(){typeof A.removeListener=="function"&&A.removeListener("error",F),k([].slice.call(arguments))}_(A,C,N,{once:!0}),C!=="error"&&E(A,F,{once:!0})})}function E(A,C,k){typeof A.on=="function"&&_(A,"error",C,k)}function _(A,C,k,P){if(typeof A.on=="function")P.once?A.once(C,k):A.on(C,k);else if(typeof A.addEventListener=="function")A.addEventListener(C,function F(N){P.once&&A.removeEventListener(C,F),k(N)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A)}return m6.exports}var il=cWe();const CF=Mi(il);var EK=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},uWe=(function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t})(),dWe=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),hWe=(function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t})(),fWe=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),pWe=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),gWe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,mWe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,kK=3,yWe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",gWe]],SK=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function vWe(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new pWe:typeof navigator<"u"?bWe(navigator.userAgent):_We()}function wWe(t){return t!==""&&yWe.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function bWe(t){var e=wWe(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new fWe;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<kK&&(i=EK(EK([],i,!0),CWe(kK-i.length),!0)):i=[];var s=i.join("."),o=xWe(t),a=mWe.exec(t);return a&&a[1]?new hWe(r,s,o,a[1]):new uWe(r,s,o)}function xWe(t){for(var e=0,r=SK.length;e<r;e++){var n=SK[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function _We(){var t=typeof process<"u"&&process.version;return t?new dWe(process.version.slice(1)):null}function CWe(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var eT={};var NR=function(t,e){return NR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},NR(t,e)};function EWe(t,e){NR(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var RR=function(){return RR=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},RR.apply(this,arguments)};function kWe(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function SWe(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function AWe(t,e){return function(r,n){e(r,n,t)}}function TWe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function IWe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function PWe(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function $We(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function NWe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function OR(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zhe(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function RWe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(zhe(arguments[e]));return t}function OWe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function H2(t){return this instanceof H2?(this.v=t,this):new H2(t)}function jWe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(p){return new Promise(function(m,v){s.push([f,p,m,v])>1||a(f,p)})})}function a(f,p){try{l(n[f](p))}catch(m){h(s[0][3],m)}}function l(f){f.value instanceof H2?Promise.resolve(f.value.v).then(c,u):h(s[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function h(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function MWe(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:H2(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function DWe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof OR=="function"?OR(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function FWe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function LWe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function UWe(t){return t&&t.__esModule?t:{default:t}}function BWe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function zWe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const qWe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return RR},__asyncDelegator:MWe,__asyncGenerator:jWe,__asyncValues:DWe,__await:H2,__awaiter:IWe,__classPrivateFieldGet:BWe,__classPrivateFieldSet:zWe,__createBinding:$We,__decorate:SWe,__exportStar:NWe,__extends:EWe,__generator:PWe,__importDefault:UWe,__importStar:LWe,__makeTemplateObject:FWe,__metadata:TWe,__param:AWe,__read:zhe,__rest:kWe,__spread:RWe,__spreadArrays:OWe,__values:OR},Symbol.toStringTag,{value:"Module"})),w8=cM(qWe);var tT={},Zv={},AK;function WWe(){if(AK)return Zv;AK=1,Object.defineProperty(Zv,"__esModule",{value:!0}),Zv.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return Zv.delay=t,Zv}var Hp={},rT={},Vp={},TK;function HWe(){return TK||(TK=1,Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.ONE_THOUSAND=Vp.ONE_HUNDRED=void 0,Vp.ONE_HUNDRED=100,Vp.ONE_THOUSAND=1e3),Vp}var nT={},IK;function VWe(){return IK||(IK=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(nT)),nT}var PK;function qhe(){return PK||(PK=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=w8;e.__exportStar(HWe(),t),e.__exportStar(VWe(),t)})(rT)),rT}var $K;function GWe(){if($K)return Hp;$K=1,Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.fromMiliseconds=Hp.toMiliseconds=void 0;const t=qhe();function e(n){return n*t.ONE_THOUSAND}Hp.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return Hp.fromMiliseconds=r,Hp}var NK;function KWe(){return NK||(NK=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=w8;e.__exportStar(WWe(),t),e.__exportStar(GWe(),t)})(tT)),tT}var _m={},RK;function YWe(){if(RK)return _m;RK=1,Object.defineProperty(_m,"__esModule",{value:!0}),_m.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return _m.Watch=t,_m.default=t,_m}var iT={},ew={},OK;function JWe(){if(OK)return ew;OK=1,Object.defineProperty(ew,"__esModule",{value:!0}),ew.IWatch=void 0;class t{}return ew.IWatch=t,ew}var jK;function XWe(){return jK||(jK=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),w8.__exportStar(JWe(),t)})(iT)),iT}var MK;function QWe(){return MK||(MK=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=w8;e.__exportStar(KWe(),t),e.__exportStar(YWe(),t),e.__exportStar(XWe(),t),e.__exportStar(qhe(),t)})(eT)),eT}var At=QWe(),wn={},DK;function Whe(){if(DK)return wn;DK=1,Object.defineProperty(wn,"__esModule",{value:!0}),wn.getLocalStorage=wn.getLocalStorageOrThrow=wn.getCrypto=wn.getCryptoOrThrow=wn.getLocation=wn.getLocationOrThrow=wn.getNavigator=wn.getNavigatorOrThrow=wn.getDocument=wn.getDocumentOrThrow=wn.getFromWindowOrThrow=wn.getFromWindow=void 0;function t(f){let p;return typeof window<"u"&&typeof window[f]<"u"&&(p=window[f]),p}wn.getFromWindow=t;function e(f){const p=t(f);if(!p)throw new Error(`${f} is not defined in Window`);return p}wn.getFromWindowOrThrow=e;function r(){return e("document")}wn.getDocumentOrThrow=r;function n(){return t("document")}wn.getDocument=n;function i(){return e("navigator")}wn.getNavigatorOrThrow=i;function s(){return t("navigator")}wn.getNavigator=s;function o(){return e("location")}wn.getLocationOrThrow=o;function a(){return t("location")}wn.getLocation=a;function l(){return e("crypto")}wn.getCryptoOrThrow=l;function c(){return t("crypto")}wn.getCrypto=c;function u(){return e("localStorage")}wn.getLocalStorageOrThrow=u;function h(){return t("localStorage")}return wn.getLocalStorage=h,wn}var Ch=Whe(),tw={},FK;function ZWe(){if(FK)return tw;FK=1,Object.defineProperty(tw,"__esModule",{value:!0}),tw.getWindowMetadata=void 0;const t=Whe();function e(){let r,n;try{r=t.getDocumentOrThrow(),n=t.getLocationOrThrow()}catch{return null}function i(){const p=r.getElementsByTagName("link"),m=[];for(let v=0;v<p.length;v++){const w=p[v],b=w.getAttribute("rel");if(b&&b.toLowerCase().indexOf("icon")>-1){const E=w.getAttribute("href");if(E)if(E.toLowerCase().indexOf("https:")===-1&&E.toLowerCase().indexOf("http:")===-1&&E.indexOf("//")!==0){let _=n.protocol+"//"+n.host;if(E.indexOf("/")===0)_+=E;else{const A=n.pathname.split("/");A.pop();const C=A.join("/");_+=C+"/"+E}m.push(_)}else if(E.indexOf("//")===0){const _=n.protocol+E;m.push(_)}else m.push(E)}}return m}function s(...p){const m=r.getElementsByTagName("meta");for(let v=0;v<m.length;v++){const w=m[v],b=["itemprop","property","name"].map(E=>w.getAttribute(E)).filter(E=>E?p.includes(E):!1);if(b.length&&b){const E=w.getAttribute("content");if(E)return E}}return""}function o(){let p=s("name","og:site_name","og:title","twitter:title");return p||(p=r.title),p}function a(){return s("description","og:description","twitter:description","keywords")}const l=o(),c=a(),u=n.origin,h=i();return{description:c,url:u,icons:h,name:l}}return tw.getWindowMetadata=e,tw}var eHe=ZWe();function V2(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function jR(t){return V2(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Hhe="2.31.0";let sT={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${Hhe}`};class tg extends Error{constructor(e,r={}){const n=r.cause instanceof tg?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof tg&&r.cause.docsPath||r.docsPath,s=sT.getDocsUrl?.({...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...sT.version?[`Version: ${sT.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=Hhe}walk(e){return Vhe(this,e)}}function Vhe(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Vhe(t.cause,e):e?null:t}class Ghe extends tg{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function z1(t,{dir:e,size:r=32}={}){return typeof t=="string"?tHe(t,{dir:e,size:r}):rHe(t,{dir:e,size:r})}function tHe(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new Ghe({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function rHe(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new Ghe({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}class nHe extends tg{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class iHe extends tg{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function q1(t,{size:e}){if(jR(t)>e)throw new iHe({givenSize:jR(t),maxSize:e})}function MR(t,e={}){const{signed:r}=e;e.size&&q1(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function sHe(t,e={}){return Number(MR(t,e))}const oHe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function DR(t,e={}){return typeof t=="number"||typeof t=="bigint"?Yhe(t,e):typeof t=="string"?cHe(t,e):typeof t=="boolean"?aHe(t,e):Khe(t,e)}function aHe(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(q1(r,{size:e.size}),z1(r,{size:e.size})):r}function Khe(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=oHe[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(q1(n,{size:e.size}),z1(n,{dir:"right",size:e.size})):n}function Yhe(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const l=typeof t=="bigint"?"n":"";throw new nHe({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:r,size:n,value:`${t}${l}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?z1(a,{size:n}):a}const lHe=new TextEncoder;function cHe(t,e={}){const r=lHe.encode(t);return Khe(r,e)}const uHe=new TextEncoder;function dHe(t,e={}){return typeof t=="number"||typeof t=="bigint"?fHe(t,e):typeof t=="boolean"?hHe(t,e):V2(t)?Jhe(t,e):Xhe(t,e)}function hHe(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(q1(r,{size:e.size}),z1(r,{size:e.size})):r}const Rd={zero:48,nine:57,A:65,F:70,a:97,f:102};function LK(t){if(t>=Rd.zero&&t<=Rd.nine)return t-Rd.zero;if(t>=Rd.A&&t<=Rd.F)return t-(Rd.A-10);if(t>=Rd.a&&t<=Rd.f)return t-(Rd.a-10)}function Jhe(t,e={}){let r=t;e.size&&(q1(r,{size:e.size}),r=z1(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const l=LK(n.charCodeAt(a++)),c=LK(n.charCodeAt(a++));if(l===void 0||c===void 0)throw new tg(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=l*16+c}return s}function fHe(t,e){const r=Yhe(t,e);return Jhe(r)}function Xhe(t,e={}){const r=uHe.encode(t);return typeof e.size=="number"?(q1(r,{size:e.size}),z1(r,{dir:"right",size:e.size})):r}const y6=BigInt(2**32-1),UK=BigInt(32);function pHe(t,e=!1){return e?{h:Number(t&y6),l:Number(t>>UK&y6)}:{h:Number(t>>UK&y6)|0,l:Number(t&y6)|0}}function gHe(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=pHe(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const mHe=(t,e,r)=>t<<r|e>>>32-r,yHe=(t,e,r)=>e<<r|t>>>32-r,vHe=(t,e,r)=>e<<r-32|t>>>64-r,wHe=(t,e,r)=>t<<r-32|e>>>64-r,Cm=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function bHe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function rC(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function G2(t,...e){if(!bHe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function mRt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");rC(t.outputLen),rC(t.blockLen)}function BK(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function xHe(t,e){G2(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function _He(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Qhe(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function yRt(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function vRt(t,e){return t<<32-e|t>>>e}const CHe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function EHe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function kHe(t){for(let e=0;e<t.length;e++)t[e]=EHe(t[e]);return t}const zK=CHe?t=>t:kHe;function SHe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Zhe(t){return typeof t=="string"&&(t=SHe(t)),G2(t),t}function wRt(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];G2(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class AHe{}function THe(t){const e=n=>t().update(Zhe(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function bRt(t=32){if(Cm&&typeof Cm.getRandomValues=="function")return Cm.getRandomValues(new Uint8Array(t));if(Cm&&typeof Cm.randomBytes=="function")return Uint8Array.from(Cm.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const IHe=BigInt(0),rw=BigInt(1),PHe=BigInt(2),$He=BigInt(7),NHe=BigInt(256),RHe=BigInt(113),efe=[],tfe=[],rfe=[];for(let t=0,e=rw,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],efe.push(2*(5*n+r)),tfe.push((t+1)*(t+2)/2%64);let i=IHe;for(let s=0;s<7;s++)e=(e<<rw^(e>>$He)*RHe)%NHe,e&PHe&&(i^=rw<<(rw<<BigInt(s))-rw);rfe.push(i)}const nfe=gHe(rfe,!0),OHe=nfe[0],jHe=nfe[1],qK=(t,e,r)=>r>32?vHe(t,e,r):mHe(t,e,r),WK=(t,e,r)=>r>32?wHe(t,e,r):yHe(t,e,r);function MHe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=r[l],u=r[l+1],h=qK(c,u,1)^r[a],f=WK(c,u,1)^r[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=tfe[o],l=qK(i,s,a),c=WK(i,s,a),u=efe[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=OHe[n],t[1]^=jHe[n]}Qhe(r)}let DHe=class ife extends AHe{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,rC(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=_He(this.state)}clone(){return this._cloneInto()}keccak(){zK(this.state32),MHe(this.state32,this.rounds),zK(this.state32),this.posOut=0,this.pos=0}update(e){BK(this),e=Zhe(e),G2(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){BK(this,!1),G2(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return rC(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(xHe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Qhe(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new ife(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const FHe=(t,e,r)=>THe(()=>new DHe(e,t,r)),LHe=FHe(1,136,256/8);function sfe(t,e){const r=e||"hex",n=LHe(V2(t,{strict:!1})?dHe(t):t);return r==="bytes"?n:DR(n)}class UHe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const oT=new UHe(8192);function BHe(t,e){if(oT.has(`${t}.${e}`))return oT.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=sfe(Xhe(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return oT.set(`${t}.${e}`,s),s}function zHe(t){const e=sfe(`0x${t.substring(4)}`).substring(26);return BHe(`0x${e}`)}async function qHe({hash:t,signature:e}){const r=V2(t)?t:DR(t),{secp256k1:n}=await bi(async()=>{const{secp256k1:o}=await import("./secp256k1-DB-zxwbr.js");return{secp256k1:o}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:c,s:u,v:h,yParity:f}=e,p=Number(f??h),m=HK(p);return new n.Signature(MR(c),MR(u)).addRecoveryBit(m)}const o=V2(e)?e:DR(e);if(jR(o)!==65)throw new Error("invalid signature length");const a=sHe(`0x${o.slice(130)}`),l=HK(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function HK(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function WHe({hash:t,signature:e}){return zHe(await qHe({hash:t,signature:e}))}function HHe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let c=0;c<e.length;c++)e[c]=255;for(let c=0;c<t.length;c++){const u=t.charAt(c),h=u.charCodeAt(0);if(e[h]!==255)throw new TypeError(u+" is ambiguous");e[h]=c}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let u=0,h=0,f=0;const p=c.length;for(;f!==p&&c[f]===0;)f++,u++;const m=(p-f)*s+1>>>0,v=new Uint8Array(m);for(;f!==p;){let E=c[f],_=0;for(let A=m-1;(E!==0||_<h)&&A!==-1;A--,_++)E+=256*v[A]>>>0,v[A]=E%r>>>0,E=E/r>>>0;if(E!==0)throw new Error("Non-zero carry");h=_,f++}let w=m-h;for(;w!==m&&v[w]===0;)w++;let b=n.repeat(u);for(;w<m;++w)b+=t.charAt(v[w]);return b}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let u=0,h=0,f=0;for(;c[u]===n;)h++,u++;const p=(c.length-u)*i+1>>>0,m=new Uint8Array(p);for(;u<c.length;){const E=c.charCodeAt(u);if(E>255)return;let _=e[E];if(_===255)return;let A=0;for(let C=p-1;(_!==0||A<f)&&C!==-1;C--,A++)_+=r*m[C]>>>0,m[C]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");f=A,u++}let v=p-f;for(;v!==p&&m[v]===0;)v++;const w=new Uint8Array(h+(p-v));let b=h;for(;v!==p;)w[b++]=m[v++];return w}function l(c){const u=a(c);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:l}}var VHe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const t3=HHe(VHe);function GHe(t){const e=t.length;let r=0,n=0;for(;n<e;){let i=t.charCodeAt(n++);if((i&4294967168)===0){r++;continue}else if((i&4294965248)===0)r+=2;else{if(i>=55296&&i<=56319&&n<e){const s=t.charCodeAt(n);(s&64512)===56320&&(++n,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?r+=3:r+=4}}return r}function KHe(t,e,r){const n=t.length;let i=r,s=0;for(;s<n;){let o=t.charCodeAt(s++);if((o&4294967168)===0){e[i++]=o;continue}else if((o&4294965248)===0)e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<n){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128):(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128)}e[i++]=o&63|128}}const YHe=new TextEncoder,JHe=50;function XHe(t,e,r){YHe.encodeInto(t,e.subarray(r))}function QHe(t,e,r){t.length>JHe?XHe(t,e,r):KHe(t,e,r)}const ZHe=4096;function ofe(t,e,r){let n=e;const i=n+r,s=[];let o="";for(;n<i;){const a=t[n++];if((a&128)===0)s.push(a);else if((a&224)===192){const l=t[n++]&63;s.push((a&31)<<6|l)}else if((a&240)===224){const l=t[n++]&63,c=t[n++]&63;s.push((a&31)<<12|l<<6|c)}else if((a&248)===240){const l=t[n++]&63,c=t[n++]&63,u=t[n++]&63;let h=(a&7)<<18|l<<12|c<<6|u;h>65535&&(h-=65536,s.push(h>>>10&1023|55296),h=56320|h&1023),s.push(h)}else s.push(a);s.length>=ZHe&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const eVe=new TextDecoder,tVe=200;function rVe(t,e,r){const n=t.subarray(e,e+r);return eVe.decode(n)}function nVe(t,e,r){return r>tVe?rVe(t,e,r):ofe(t,e,r)}class v6{constructor(e,r){this.type=e,this.data=r}}class Fa extends Error{constructor(e){super(e);const r=Object.create(Fa.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:Fa.name})}}const nw=4294967295;function iVe(t,e,r){const n=r/4294967296,i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function afe(t,e,r){const n=Math.floor(r/4294967296),i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function lfe(t,e){const r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}function sVe(t,e){const r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}const oVe=-1,aVe=4294967296-1,lVe=17179869184-1;function cVe({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=lVe)if(e===0&&t<=aVe){const r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),r}else{const r=t/4294967296,n=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|r&3),s.setUint32(4,n),i}else{const r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),afe(n,4,t),r}}function uVe(t){const e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-i*1e9}}function dVe(t){if(t instanceof Date){const e=uVe(t);return cVe(e)}else return null}function hVe(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const r=e.getUint32(0),n=e.getUint32(4),i=(r&3)*4294967296+n,s=r>>>2;return{sec:i,nsec:s}}case 12:{const r=lfe(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new Fa(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function fVe(t){const e=hVe(t);return new Date(e.sec*1e3+e.nsec/1e6)}const pVe={type:oVe,encode:dVe,decode:fVe};class nC{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(pVe)}register({type:e,encode:r,decode:n}){if(e>=0)this.encoders[e]=r,this.decoders[e]=n;else{const i=-1-e;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}}tryToEncode(e,r){for(let n=0;n<this.builtInEncoders.length;n++){const i=this.builtInEncoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=-1-n;return new v6(o,s)}}}for(let n=0;n<this.encoders.length;n++){const i=this.encoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=n;return new v6(o,s)}}}return e instanceof v6?e:null}decode(e,r,n){const i=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return i?i(e,r,n):new v6(r,e)}}nC.defaultCodec=new nC;function gVe(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function FR(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):gVe(t)?new Uint8Array(t):Uint8Array.from(t)}const mVe=100,yVe=2048;let vVe=class cfe{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??nC.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??mVe,this.initialBufferSize=e?.initialBufferSize??yVe,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new cfe({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)}ensureBufferSizeToWrite(e){const r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(e){const r=new ArrayBuffer(e),n=new Uint8Array(r),i=new DataView(r);n.set(this.bytes),this.view=i,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const n=GHe(e);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),QHe(e,this.bytes,this.pos),this.pos+=n}encodeObject(e,r){const n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);const n=FR(e);this.writeU8a(n)}encodeArray(e,r){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(const i of e)this.doEncode(i,r+1)}countWithoutUndefined(e,r){let n=0;for(const i of r)e[i]!==void 0&&n++;return n}encodeMap(e,r){const n=Object.keys(e);this.sortKeys&&n.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of n){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,r+1))}}encodeExtension(e){if(typeof e.data=="function"){const n=e.data(this.pos+6),i=n.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(n);return}const r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),iVe(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),afe(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function wVe(t,e){return new vVe(e).encodeSharedRef(t)}function aT(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const bVe=16,xVe=16;class _Ve{constructor(e=bVe,r=xVe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=r,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,r,n){const i=this.caches[n-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<n;a++)if(o[a]!==e[r+a])continue e;return s.str}return null}store(e,r){const n=this.caches[e.length-1],i={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)}decode(e,r,n){const i=this.find(e,r,n);if(i!=null)return this.hit++,i;this.miss++;const s=ofe(e,r,n),o=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(o,s),s}}const LR="array",wb="map_key",ufe="map_value",CVe=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new Fa("The type of key must be string or number but "+typeof t)};class EVe{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const r=this.getUninitializedStateFromPool();r.type=LR,r.position=0,r.size=e,r.array=new Array(e)}pushMapState(e){const r=this.getUninitializedStateFromPool();r.type=wb,r.readCount=0,r.size=e,r.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===LR){const n=e;n.size=0,n.array=void 0,n.position=0,n.type=void 0}if(e.type===wb||e.type===ufe){const n=e;n.size=0,n.map=void 0,n.readCount=0,n.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const iw=-1,EF=new DataView(new ArrayBuffer(0)),kVe=new Uint8Array(EF.buffer);try{EF.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const VK=new RangeError("Insufficient data"),SVe=new _Ve;let AVe=class dfe{constructor(e){this.totalPos=0,this.pos=0,this.view=EF,this.bytes=kVe,this.headByte=iw,this.stack=new EVe,this.entered=!1,this.extensionCodec=e?.extensionCodec??nC.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??nw,this.maxBinLength=e?.maxBinLength??nw,this.maxArrayLength=e?.maxArrayLength??nw,this.maxMapLength=e?.maxMapLength??nw,this.maxExtLength=e?.maxExtLength??nw,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:SVe,this.mapKeyConverter=e?.mapKeyConverter??CVe}clone(){return new dfe({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=iw,this.stack.reset()}setBuffer(e){const r=FR(e);this.bytes=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===iw&&!this.hasRemaining(1))this.setBuffer(e);else{const r=this.bytes.subarray(this.pos),n=FR(e),i=new Uint8Array(r.length+n.length);i.set(r),i.set(n,r.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let r=!1,n;for await(const a of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{n=this.doDecodeSync(),r=!0}catch(l){if(!(l instanceof RangeError))throw l}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${aT(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){if(this.entered){yield*this.clone().decodeMultiAsync(e,r);return}try{this.entered=!0;let n=r,i=-1;for await(const s of e){if(r&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),n&&(i=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let r;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else{const i=e-160;r=this.decodeString(i,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){const i=this.lookU8();r=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();r=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();r=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===196){const i=this.lookU8();r=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();r=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();r=this.decodeBinary(i,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();r=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();r=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();r=this.decodeExtension(i,4)}else throw new Fa(`Unrecognized type byte: ${aT(e)}`);this.complete();const n=this.stack;for(;n.length>0;){const i=n.top();if(i.type===LR)if(i.array[i.position]=r,i.position++,i.position===i.size)r=i.array,n.release(i);else continue e;else if(i.type===wb){if(r==="__proto__")throw new Fa("The key __proto__ is not allowed");i.key=this.mapKeyConverter(r),i.type=ufe;continue e}else if(i.map[i.key]=r,i.readCount++,i.readCount===i.size)r=i.map,n.release(i);else{i.key=null,i.type=wb;continue e}}return r}}readHeadByte(){return this.headByte===iw&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=iw}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new Fa(`Unrecognized array type byte: ${aT(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new Fa(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new Fa(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,r){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,r):this.decodeBinary(e,r)}decodeUtf8String(e,r){if(e>this.maxStrLength)throw new Fa(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+e)throw VK;const n=this.pos+r;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,n,e):i=nVe(this.bytes,n,e),this.pos+=r+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===wb:!1}decodeBinary(e,r){if(e>this.maxBinLength)throw new Fa(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+r))throw VK;const n=this.pos+r,i=this.bytes.subarray(n,n+e);return this.pos+=r+e,i}decodeExtension(e,r){if(e>this.maxExtLength)throw new Fa(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+r),i=this.decodeBinary(e,r+1);return this.extensionCodec.decode(i,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=sVe(this.view,this.pos);return this.pos+=8,e}readI64(){const e=lfe(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function TVe(t,e){return new AVe(e).decode(t)}function IVe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function hfe(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(r=>typeof r=="string"):e.every(r=>Number.isSafeInteger(r)):!1}function iC(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function kF(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function UR(t){if(!Array.isArray(t))throw new Error("array expected")}function sC(t,e){if(!hfe(!0,e))throw new Error(`${t}: array of strings expected`)}function PVe(t,e){if(!hfe(!1,e))throw new Error(`${t}: array of numbers expected`)}function $Ve(...t){const e=s=>s,r=(s,o)=>a=>s(o(a)),n=t.map(s=>s.encode).reduceRight(r,e),i=t.map(s=>s.decode).reduce(r,e);return{encode:n,decode:i}}function NVe(t){const e=typeof t=="string"?t.split(""):t,r=e.length;sC("alphabet",e);const n=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(UR(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(UR(i),i.map(s=>{iC("alphabet.decode",s);const o=n.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function RVe(t=""){return iC("join",t),{encode:e=>(sC("join.decode",e),e.join(t)),decode:e=>(iC("join.decode",e),e.split(t))}}function OVe(t,e="="){return kF(t),iC("padding",e),{encode(r){for(sC("padding.encode",r);r.length*t%8;)r.push(e);return r},decode(r){sC("padding.decode",r);let n=r.length;if(n*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if((n-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}const ffe=(t,e)=>e===0?t:ffe(e,t%e),oC=(t,e)=>t+(e-ffe(t,e)),lT=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function GK(t,e,r,n){if(UR(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(oC(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${oC(e,r)}`);let i=0,s=0;const o=lT[e],a=lT[r]-1,l=[];for(const c of t){if(kF(c),c>=o)throw new Error(`convertRadix2: invalid data word=${c} from=${e}`);if(i=i<<e|c,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)l.push((i>>s-r&a)>>>0);const u=lT[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<r-s&a,!n&&s>=e)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&l.push(i>>>0),l}function jVe(t,e=!1){if(kF(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(oC(8,t)>32||oC(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!IVe(r))throw new Error("radix2.encode input should be Uint8Array");return GK(Array.from(r),8,t,!e)},decode:r=>(PVe("radix2.decode",r),Uint8Array.from(GK(r,t,8,e)))}}const MVe=$Ve(jVe(5),NVe("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),OVe(5),RVe("")),DVe=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),FVe=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function rg(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return FVe(t)}catch{return t}}function su(t){return typeof t=="string"?t:DVe(t)||""}function LVe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function pfe(t,...e){if(!LVe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function KK(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function UVe(t,e){pfe(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const Em=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;const cT=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function BVe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function gfe(t){return typeof t=="string"&&(t=BVe(t)),pfe(t),t}let zVe=class{clone(){return this._cloneInto()}};function qVe(t){const e=n=>t().update(gfe(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function mfe(t=32){if(Em&&typeof Em.getRandomValues=="function")return Em.getRandomValues(new Uint8Array(t));if(Em&&typeof Em.randomBytes=="function")return Em.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function WVe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,c=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+c,a,n)}let HVe=class extends zVe{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=cT(this.buffer)}update(e){KK(this);const{view:r,buffer:n,blockLen:i}=this;e=gfe(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=cT(e);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){KK(this),UVe(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;WVe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=cT(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};const w6=BigInt(2**32-1),BR=BigInt(32);function yfe(t,e=!1){return e?{h:Number(t&w6),l:Number(t>>BR&w6)}:{h:Number(t>>BR&w6)|0,l:Number(t&w6)|0}}function VVe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=yfe(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const GVe=(t,e)=>BigInt(t>>>0)<<BR|BigInt(e>>>0),KVe=(t,e,r)=>t>>>r,YVe=(t,e,r)=>t<<32-r|e>>>r,JVe=(t,e,r)=>t>>>r|e<<32-r,XVe=(t,e,r)=>t<<32-r|e>>>r,QVe=(t,e,r)=>t<<64-r|e>>>r-32,ZVe=(t,e,r)=>t>>>r-32|e<<64-r,eGe=(t,e)=>e,tGe=(t,e)=>t,rGe=(t,e,r)=>t<<r|e>>>32-r,nGe=(t,e,r)=>e<<r|t>>>32-r,iGe=(t,e,r)=>e<<r-32|t>>>64-r,sGe=(t,e,r)=>t<<r-32|e>>>64-r;function oGe(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const aGe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),lGe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,cGe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),uGe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,dGe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),hGe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,Er={fromBig:yfe,split:VVe,toBig:GVe,shrSH:KVe,shrSL:YVe,rotrSH:JVe,rotrSL:XVe,rotrBH:QVe,rotrBL:ZVe,rotr32H:eGe,rotr32L:tGe,rotlSH:rGe,rotlSL:nGe,rotlBH:iGe,rotlBL:sGe,add:oGe,add3L:aGe,add3H:lGe,add4L:cGe,add4H:uGe,add5H:hGe,add5L:dGe},[fGe,pGe]=Er.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),uf=new Uint32Array(80),df=new Uint32Array(80);let gGe=class extends HVe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:m,Hh:v,Hl:w}=this;return[e,r,n,i,s,o,a,l,c,u,h,f,p,m,v,w]}set(e,r,n,i,s,o,a,l,c,u,h,f,p,m,v,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=v|0,this.Hl=w|0}process(e,r){for(let _=0;_<16;_++,r+=4)uf[_]=e.getUint32(r),df[_]=e.getUint32(r+=4);for(let _=16;_<80;_++){const A=uf[_-15]|0,C=df[_-15]|0,k=Er.rotrSH(A,C,1)^Er.rotrSH(A,C,8)^Er.shrSH(A,C,7),P=Er.rotrSL(A,C,1)^Er.rotrSL(A,C,8)^Er.shrSL(A,C,7),F=uf[_-2]|0,N=df[_-2]|0,$=Er.rotrSH(F,N,19)^Er.rotrBH(F,N,61)^Er.shrSH(F,N,6),U=Er.rotrSL(F,N,19)^Er.rotrBL(F,N,61)^Er.shrSL(F,N,6),O=Er.add4L(P,U,df[_-7],df[_-16]),D=Er.add4H(O,k,$,uf[_-7],uf[_-16]);uf[_]=D|0,df[_]=O|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:m,Gh:v,Gl:w,Hh:b,Hl:E}=this;for(let _=0;_<80;_++){const A=Er.rotrSH(h,f,14)^Er.rotrSH(h,f,18)^Er.rotrBH(h,f,41),C=Er.rotrSL(h,f,14)^Er.rotrSL(h,f,18)^Er.rotrBL(h,f,41),k=h&p^~h&v,P=f&m^~f&w,F=Er.add5L(E,C,P,pGe[_],df[_]),N=Er.add5H(F,b,A,k,fGe[_],uf[_]),$=F|0,U=Er.rotrSH(n,i,28)^Er.rotrBH(n,i,34)^Er.rotrBH(n,i,39),O=Er.rotrSL(n,i,28)^Er.rotrBL(n,i,34)^Er.rotrBL(n,i,39),D=n&s^n&a^s&a,T=i&o^i&l^o&l;b=v|0,E=w|0,v=p|0,w=m|0,p=h|0,m=f|0,{h,l:f}=Er.add(c|0,u|0,N|0,$|0),c=a|0,u=l|0,a=s|0,l=o|0,s=n|0,o=i|0;const I=Er.add3L($,O,T);n=Er.add3H(I,N,U,D),i=I|0}({h:n,l:i}=Er.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Er.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Er.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Er.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=Er.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:m}=Er.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:v,l:w}=Er.add(this.Gh|0,this.Gl|0,v|0,w|0),{h:b,l:E}=Er.add(this.Hh|0,this.Hl|0,b|0,E|0),this.set(n,i,s,o,a,l,c,u,h,f,p,m,v,w,b,E)}roundClean(){uf.fill(0),df.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const mGe=qVe(()=>new gGe);const SF=BigInt(0),vfe=BigInt(1),yGe=BigInt(2);function AF(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function TF(t){if(!AF(t))throw new Error("Uint8Array expected")}function uT(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const vGe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function IF(t){TF(t);let e="";for(let r=0;r<t.length;r++)e+=vGe[t[r]];return e}function wfe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?SF:BigInt("0x"+t)}const Od={_0:48,_9:57,A:65,F:70,a:97,f:102};function YK(t){if(t>=Od._0&&t<=Od._9)return t-Od._0;if(t>=Od.A&&t<=Od.F)return t-(Od.A-10);if(t>=Od.a&&t<=Od.f)return t-(Od.a-10)}function bfe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=YK(t.charCodeAt(s)),a=YK(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function wGe(t){return wfe(IF(t))}function K4(t){return TF(t),wfe(IF(Uint8Array.from(t).reverse()))}function xfe(t,e){return bfe(t.toString(16).padStart(e*2,"0"))}function zR(t,e){return xfe(t,e).reverse()}function jd(t,e,r){let n;if(typeof e=="string")try{n=bfe(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(AF(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function JK(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];TF(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const dT=t=>typeof t=="bigint"&&SF<=t;function bGe(t,e,r){return dT(t)&&dT(e)&&dT(r)&&e<=t&&t<r}function sw(t,e,r,n){if(!bGe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function xGe(t){let e;for(e=0;t>SF;t>>=vfe,e+=1);return e}const _Ge=t=>(yGe<<BigInt(t-1))-vfe,CGe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||AF(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function PF(t,e,r={}){const n=(i,s,o)=>{const a=CGe[s];if(typeof a!="function")throw new Error("invalid validator function");const l=t[i];if(!(o&&l===void 0)&&!a(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function XK(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const gs=BigInt(0),yi=BigInt(1),u0=BigInt(2),EGe=BigInt(3),qR=BigInt(4),QK=BigInt(5),ZK=BigInt(8);function Ki(t,e){const r=t%e;return r>=gs?r:e+r}function kGe(t,e,r){if(e<gs)throw new Error("invalid exponent, negatives unsupported");if(r<=gs)throw new Error("invalid modulus");if(r===yi)return gs;let n=yi;for(;e>gs;)e&yi&&(n=n*t%r),t=t*t%r,e>>=yi;return n}function $u(t,e,r){let n=t;for(;e-- >gs;)n*=n,n%=r;return n}function eY(t,e){if(t===gs)throw new Error("invert: expected non-zero number");if(e<=gs)throw new Error("invert: expected positive modulus, got "+e);let r=Ki(t,e),n=e,i=gs,s=yi;for(;r!==gs;){const o=n/r,a=n%r,l=i-s*o;n=r,r=a,i=s,s=l}if(n!==yi)throw new Error("invert: does not exist");return Ki(i,e)}function SGe(t){const e=(t-yi)/u0;let r,n,i;for(r=t-yi,n=0;r%u0===gs;r/=u0,n++);for(i=u0;i<t&&kGe(i,e,t)!==t-yi;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+yi)/qR;return function(a,l){const c=a.pow(l,o);if(!a.eql(a.sqr(c),l))throw new Error("Cannot find square root");return c}}const s=(r+yi)/u0;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=n,c=o.pow(o.mul(o.ONE,i),r),u=o.pow(a,s),h=o.pow(a,r);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let f=1;for(let m=o.sqr(h);f<l&&!o.eql(m,o.ONE);f++)m=o.sqr(m);const p=o.pow(c,yi<<BigInt(l-f-1));c=o.sqr(p),u=o.mul(u,p),h=o.mul(h,c),l=f}return u}}function AGe(t){if(t%qR===EGe){const e=(t+yi)/qR;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%ZK===QK){const e=(t-QK)/ZK;return function(r,n){const i=r.mul(n,u0),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,u0),s),l=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(l),n))throw new Error("Cannot find square root");return l}}return SGe(t)}const TGe=(t,e)=>(Ki(t,e)&yi)===yi,IGe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function PGe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=IGe.reduce((n,i)=>(n[i]="function",n),e);return PF(t,r)}function $Ge(t,e,r){if(r<gs)throw new Error("invalid exponent, negatives unsupported");if(r===gs)return t.ONE;if(r===yi)return e;let n=t.ONE,i=e;for(;r>gs;)r&yi&&(n=t.mul(n,i)),i=t.sqr(i),r>>=yi;return n}function NGe(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function _fe(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Cfe(t,e,r=!1,n={}){if(t<=gs)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=_fe(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:_Ge(i),ZERO:gs,ONE:yi,create:l=>Ki(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return gs<=l&&l<t},is0:l=>l===gs,isOdd:l=>(l&yi)===yi,neg:l=>Ki(-l,t),eql:(l,c)=>l===c,sqr:l=>Ki(l*l,t),add:(l,c)=>Ki(l+c,t),sub:(l,c)=>Ki(l-c,t),mul:(l,c)=>Ki(l*c,t),pow:(l,c)=>$Ge(a,l,c),div:(l,c)=>Ki(l*eY(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>eY(l,t),sqrt:n.sqrt||(l=>(o||(o=AGe(t)),o(a,l))),invertBatch:l=>NGe(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>r?zR(l,s):xfe(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return r?K4(l):wGe(l)}});return Object.freeze(a)}const tY=BigInt(0),b6=BigInt(1);function hT(t,e){const r=e.negate();return t?r:e}function Efe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function fT(t,e){Efe(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function RGe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function OGe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const pT=new WeakMap,kfe=new WeakMap;function gT(t){return kfe.get(t)||1}function jGe(t,e){return{constTimeNegate:hT,hasPrecomputes(r){return gT(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>tY;)n&b6&&(i=i.add(s)),s=s.double(),n>>=b6;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=fT(n,e),o=[];let a=r,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=fT(r,e);let a=t.ZERO,l=t.BASE;const c=BigInt(2**r-1),u=2**r,h=BigInt(r);for(let f=0;f<s;f++){const p=f*o;let m=Number(i&c);i>>=h,m>o&&(m-=u,i+=b6);const v=p,w=p+Math.abs(m)-1,b=f%2!==0,E=m<0;m===0?l=l.add(hT(b,n[v])):a=a.add(hT(E,n[w]))}return{p:a,f:l}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=fT(r,e),l=BigInt(2**r-1),c=2**r,u=BigInt(r);for(let h=0;h<o;h++){const f=h*a;if(i===tY)break;let p=Number(i&l);if(i>>=u,p>a&&(p-=c,i+=b6),p===0)continue;let m=n[f+Math.abs(p)-1];p<0&&(m=m.negate()),s=s.add(m)}return s},getPrecomputes(r,n,i){let s=pT.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&pT.set(n,i(s))),s},wNAFCached(r,n,i){const s=gT(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=gT(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){Efe(n,e),kfe.set(r,n),pT.delete(r)}}}function MGe(t,e,r,n){if(RGe(r,t),OGe(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=xGe(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=new Array(a+1).fill(i),c=Math.floor((e.BITS-1)/o)*o;let u=i;for(let h=c;h>=0;h-=o){l.fill(i);for(let p=0;p<n.length;p++){const m=n[p],v=Number(m>>BigInt(h)&BigInt(a));l[v]=l[v].add(r[p])}let f=i;for(let p=l.length-1,m=i;p>0;p--)m=m.add(l[p]),f=f.add(m);if(u=u.add(f),h!==0)for(let p=0;p<o;p++)u=u.double()}return u}function DGe(t){return PGe(t.Fp),PF(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({..._fe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Cc=BigInt(0),Xo=BigInt(1),x6=BigInt(2),FGe=BigInt(8),LGe={zip215:!0};function UGe(t){const e=DGe(t);return PF(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function BGe(t){const e=UGe(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=e,c=x6<<BigInt(a*8)-Xo,u=r.create,h=Cfe(e.n,e.nBitLength),f=e.uvRatio||((I,R)=>{try{return{isValid:!0,value:r.sqrt(I*r.inv(R))}}catch{return{isValid:!1,value:Cc}}}),p=e.adjustScalarBytes||(I=>I),m=e.domain||((I,R,L)=>{if(uT("phflag",L),R.length||L)throw new Error("Contexts/pre-hash are not supported");return I});function v(I,R){sw("coordinate "+I,R,Cc,c)}function w(I){if(!(I instanceof _))throw new Error("ExtendedPoint expected")}const b=XK((I,R)=>{const{ex:L,ey:B,ez:q}=I,G=I.is0();R==null&&(R=G?FGe:r.inv(q));const W=u(L*R),j=u(B*R),Y=u(q*R);if(G)return{x:Cc,y:Xo};if(Y!==Xo)throw new Error("invZ was invalid");return{x:W,y:j}}),E=XK(I=>{const{a:R,d:L}=e;if(I.is0())throw new Error("bad point: ZERO");const{ex:B,ey:q,ez:G,et:W}=I,j=u(B*B),Y=u(q*q),Q=u(G*G),z=u(Q*Q),Z=u(j*R),ee=u(Q*u(Z+Y)),te=u(z+u(L*u(j*Y)));if(ee!==te)throw new Error("bad point: equation left != right (1)");const se=u(B*q),ce=u(G*W);if(se!==ce)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(R,L,B,q){this.ex=R,this.ey=L,this.ez=B,this.et=q,v("x",R),v("y",L),v("z",B),v("t",q),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(R){if(R instanceof _)throw new Error("extended point not allowed");const{x:L,y:B}=R||{};return v("x",L),v("y",B),new _(L,B,Xo,u(L*B))}static normalizeZ(R){const L=r.invertBatch(R.map(B=>B.ez));return R.map((B,q)=>B.toAffine(L[q])).map(_.fromAffine)}static msm(R,L){return MGe(_,h,R,L)}_setWindowSize(R){k.setWindowSize(this,R)}assertValidity(){E(this)}equals(R){w(R);const{ex:L,ey:B,ez:q}=this,{ex:G,ey:W,ez:j}=R,Y=u(L*j),Q=u(G*q),z=u(B*j),Z=u(W*q);return Y===Q&&z===Z}is0(){return this.equals(_.ZERO)}negate(){return new _(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:R}=e,{ex:L,ey:B,ez:q}=this,G=u(L*L),W=u(B*B),j=u(x6*u(q*q)),Y=u(R*G),Q=L+B,z=u(u(Q*Q)-G-W),Z=Y+W,ee=Z-j,te=Y-W,se=u(z*ee),ce=u(Z*te),ge=u(z*te),ae=u(ee*Z);return new _(se,ce,ae,ge)}add(R){w(R);const{a:L,d:B}=e,{ex:q,ey:G,ez:W,et:j}=this,{ex:Y,ey:Q,ez:z,et:Z}=R;if(L===BigInt(-1)){const rt=u((G-q)*(Q+Y)),Ae=u((G+q)*(Q-Y)),Fe=u(Ae-rt);if(Fe===Cc)return this.double();const nt=u(W*x6*Z),_t=u(j*x6*z),Ye=_t+nt,wt=Ae+rt,xt=_t-nt,Le=u(Ye*Fe),Ke=u(wt*xt),Qe=u(Ye*xt),it=u(Fe*wt);return new _(Le,Ke,it,Qe)}const ee=u(q*Y),te=u(G*Q),se=u(j*B*Z),ce=u(W*z),ge=u((q+G)*(Y+Q)-ee-te),ae=ce-se,_e=ce+se,Ee=u(te-L*ee),Ie=u(ge*ae),qe=u(_e*Ee),me=u(ge*Ee),ze=u(ae*_e);return new _(Ie,qe,ze,me)}subtract(R){return this.add(R.negate())}wNAF(R){return k.wNAFCached(this,R,_.normalizeZ)}multiply(R){const L=R;sw("scalar",L,Xo,n);const{p:B,f:q}=this.wNAF(L);return _.normalizeZ([B,q])[0]}multiplyUnsafe(R,L=_.ZERO){const B=R;return sw("scalar",B,Cc,n),B===Cc?C:this.is0()||B===Xo?this:k.wNAFCachedUnsafe(this,B,_.normalizeZ,L)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return k.unsafeLadder(this,n).is0()}toAffine(R){return b(this,R)}clearCofactor(){const{h:R}=e;return R===Xo?this:this.multiplyUnsafe(R)}static fromHex(R,L=!1){const{d:B,a:q}=e,G=r.BYTES;R=jd("pointHex",R,G),uT("zip215",L);const W=R.slice(),j=R[G-1];W[G-1]=j&-129;const Y=K4(W),Q=L?c:r.ORDER;sw("pointHex.y",Y,Cc,Q);const z=u(Y*Y),Z=u(z-Xo),ee=u(B*z-q);let{isValid:te,value:se}=f(Z,ee);if(!te)throw new Error("Point.fromHex: invalid y coordinate");const ce=(se&Xo)===Xo,ge=(j&128)!==0;if(!L&&se===Cc&&ge)throw new Error("Point.fromHex: x=0 and x_0=1");return ge!==ce&&(se=u(-se)),_.fromAffine({x:se,y:Y})}static fromPrivateKey(R){return N(R).point}toRawBytes(){const{x:R,y:L}=this.toAffine(),B=zR(L,r.BYTES);return B[B.length-1]|=R&Xo?128:0,B}toHex(){return IF(this.toRawBytes())}}_.BASE=new _(e.Gx,e.Gy,Xo,u(e.Gx*e.Gy)),_.ZERO=new _(Cc,Xo,Xo,Cc);const{BASE:A,ZERO:C}=_,k=jGe(_,a*8);function P(I){return Ki(I,n)}function F(I){return P(K4(I))}function N(I){const R=r.BYTES;I=jd("private key",I,R);const L=jd("hashed private key",s(I),2*R),B=p(L.slice(0,R)),q=L.slice(R,2*R),G=F(B),W=A.multiply(G),j=W.toRawBytes();return{head:B,prefix:q,scalar:G,point:W,pointBytes:j}}function $(I){return N(I).pointBytes}function U(I=new Uint8Array,...R){const L=JK(...R);return F(s(m(L,jd("context",I),!!i)))}function O(I,R,L={}){I=jd("message",I),i&&(I=i(I));const{prefix:B,scalar:q,pointBytes:G}=N(R),W=U(L.context,B,I),j=A.multiply(W).toRawBytes(),Y=U(L.context,j,G,I),Q=P(W+Y*q);sw("signature.s",Q,Cc,n);const z=JK(j,zR(Q,r.BYTES));return jd("result",z,r.BYTES*2)}const D=LGe;function T(I,R,L,B=D){const{context:q,zip215:G}=B,W=r.BYTES;I=jd("signature",I,2*W),R=jd("message",R),L=jd("publicKey",L,W),G!==void 0&&uT("zip215",G),i&&(R=i(R));const j=K4(I.slice(W,2*W));let Y,Q,z;try{Y=_.fromHex(L,G),Q=_.fromHex(I.slice(0,W),G),z=A.multiplyUnsafe(j)}catch{return!1}if(!G&&Y.isSmallOrder())return!1;const Z=U(q,Q.toRawBytes(),Y.toRawBytes(),R);return Q.add(Y.multiplyUnsafe(Z)).subtract(z).clearCofactor().equals(_.ZERO)}return A._setWindowSize(8),{CURVE:e,getPublicKey:$,sign:O,verify:T,ExtendedPoint:_,utils:{getExtendedPublicKey:N,randomPrivateKey:()=>o(r.BYTES),precompute(I=8,R=_.BASE){return R._setWindowSize(I),R.multiply(BigInt(3)),R}}}}BigInt(0),BigInt(1);const $F=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),rY=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const zGe=BigInt(1),nY=BigInt(2);BigInt(3);const qGe=BigInt(5),WGe=BigInt(8);function HGe(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=$F,o=t*t%s*t%s,a=$u(o,nY,s)*o%s,l=$u(a,zGe,s)*t%s,c=$u(l,qGe,s)*l%s,u=$u(c,e,s)*c%s,h=$u(u,r,s)*u%s,f=$u(h,n,s)*h%s,p=$u(f,i,s)*f%s,m=$u(p,i,s)*f%s,v=$u(m,e,s)*c%s;return{pow_p_5_8:$u(v,nY,s)*t%s,b2:o}}function VGe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function GGe(t,e){const r=$F,n=Ki(e*e*e,r),i=Ki(n*n*e,r),s=HGe(t*i).pow_p_5_8;let o=Ki(t*n*s,r);const a=Ki(e*o*o,r),l=o,c=Ki(o*rY,r),u=a===t,h=a===Ki(-t,r),f=a===Ki(-t*rY,r);return u&&(o=l),(h||f)&&(o=c),TGe(o,r)&&(o=Ki(-o,r)),{isValid:u||h,value:o}}const KGe=Cfe($F,void 0,!0),YGe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:KGe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:WGe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:mGe,randomBytes:mfe,adjustScalarBytes:VGe,uvRatio:GGe},Sfe=BGe(YGe),JGe="EdDSA",XGe="JWT",aC=".",b8="base64url",Afe="utf8",Tfe="utf8",QGe=":",ZGe="did",eKe="key",iY="base58btc",tKe="z",rKe="K36",nKe=32;function NF(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Ife(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?NF(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Pfe(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=Ife(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return NF(r)}function iKe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var v=0,w=0,b=0,E=m.length;b!==E&&m[b]===0;)b++,v++;for(var _=(E-b)*u+1>>>0,A=new Uint8Array(_);b!==E;){for(var C=m[b],k=0,P=_-1;(C!==0||k<w)&&P!==-1;P--,k++)C+=256*A[P]>>>0,A[P]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");w=k,b++}for(var F=_-w;F!==_&&A[F]===0;)F++;for(var N=l.repeat(v);F<_;++F)N+=t.charAt(A[F]);return N}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var v=0;if(m[v]!==" "){for(var w=0,b=0;m[v]===l;)w++,v++;for(var E=(m.length-v)*c+1>>>0,_=new Uint8Array(E);m[v];){var A=r[m.charCodeAt(v)];if(A===255)return;for(var C=0,k=E-1;(A!==0||C<b)&&k!==-1;k--,C++)A+=a*_[k]>>>0,_[k]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");b=C,v++}if(m[v]!==" "){for(var P=E-b;P!==E&&_[P]===0;)P++;for(var F=new Uint8Array(w+(E-P)),N=w;P!==E;)F[N++]=_[P++];return F}}}function p(m){var v=f(m);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var sKe=iKe,oKe=sKe;const $fe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},aKe=t=>new TextEncoder().encode(t),lKe=t=>new TextDecoder().decode(t);let cKe=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},uKe=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Nfe(this,e)}},dKe=class{constructor(e){this.decoders=e}or(e){return Nfe(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Nfe=(t,e)=>new dKe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let hKe=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new cKe(e,r,n),this.decoder=new uKe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const x8=({name:t,prefix:e,encode:r,decode:n})=>new hKe(t,e,r,n),r3=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=oKe(r,e);return x8({prefix:t,name:e,encode:n,decode:s=>$fe(i(s))})},fKe=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=r||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},pKe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},qs=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>x8({prefix:e,name:t,encode(i){return pKe(i,n,r)},decode(i){return fKe(i,n,r,t)}}),gKe=x8({prefix:"\0",name:"identity",encode:t=>lKe(t),decode:t=>aKe(t)});var mKe=Object.freeze({__proto__:null,identity:gKe});const yKe=qs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var vKe=Object.freeze({__proto__:null,base2:yKe});const wKe=qs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var bKe=Object.freeze({__proto__:null,base8:wKe});const xKe=r3({prefix:"9",name:"base10",alphabet:"0123456789"});var _Ke=Object.freeze({__proto__:null,base10:xKe});const CKe=qs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),EKe=qs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var kKe=Object.freeze({__proto__:null,base16:CKe,base16upper:EKe});const SKe=qs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),AKe=qs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),TKe=qs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),IKe=qs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),PKe=qs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),$Ke=qs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),NKe=qs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),RKe=qs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),OKe=qs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var jKe=Object.freeze({__proto__:null,base32:SKe,base32upper:AKe,base32pad:TKe,base32padupper:IKe,base32hex:PKe,base32hexupper:$Ke,base32hexpad:NKe,base32hexpadupper:RKe,base32z:OKe});const MKe=r3({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),DKe=r3({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var FKe=Object.freeze({__proto__:null,base36:MKe,base36upper:DKe});const LKe=r3({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),UKe=r3({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var BKe=Object.freeze({__proto__:null,base58btc:LKe,base58flickr:UKe});const zKe=qs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),qKe=qs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),WKe=qs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),HKe=qs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var VKe=Object.freeze({__proto__:null,base64:zKe,base64pad:qKe,base64url:WKe,base64urlpad:HKe});const Rfe=Array.from(""),GKe=Rfe.reduce((t,e,r)=>(t[r]=e,t),[]),KKe=Rfe.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function YKe(t){return t.reduce((e,r)=>(e+=GKe[r],e),"")}function JKe(t){const e=[];for(const r of t){const n=KKe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const XKe=x8({prefix:"",name:"base256emoji",encode:YKe,decode:JKe});var QKe=Object.freeze({__proto__:null,base256emoji:XKe}),ZKe=Ofe,sY=128,eYe=-128,tYe=Math.pow(2,31);function Ofe(t,e,r){e=e||[],r=r||0;for(var n=r;t>=tYe;)e[r++]=t&255|sY,t/=128;for(;t&eYe;)e[r++]=t&255|sY,t>>>=7;return e[r]=t|0,Ofe.bytes=r-n+1,e}var rYe=WR,nYe=128,oY=127;function WR(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw WR.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&oY)<<i:(o&oY)*Math.pow(2,i),i+=7}while(o>=nYe);return WR.bytes=s-n,r}var iYe=Math.pow(2,7),sYe=Math.pow(2,14),oYe=Math.pow(2,21),aYe=Math.pow(2,28),lYe=Math.pow(2,35),cYe=Math.pow(2,42),uYe=Math.pow(2,49),dYe=Math.pow(2,56),hYe=Math.pow(2,63),fYe=function(t){return t<iYe?1:t<sYe?2:t<oYe?3:t<aYe?4:t<lYe?5:t<cYe?6:t<uYe?7:t<dYe?8:t<hYe?9:10},pYe={encode:ZKe,decode:rYe,encodingLength:fYe},jfe=pYe;const aY=(t,e,r=0)=>(jfe.encode(t,e,r),e),lY=t=>jfe.encodingLength(t),HR=(t,e)=>{const r=e.byteLength,n=lY(t),i=n+lY(r),s=new Uint8Array(i+r);return aY(t,s,0),aY(r,s,n),s.set(e,i),new gYe(t,r,e,s)};let gYe=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const Mfe=({name:t,code:e,encode:r})=>new mYe(t,e,r);let mYe=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?HR(this.code,r):r.then(n=>HR(this.code,n))}else throw Error("Unknown type, must be binary type")}};const Dfe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),yYe=Mfe({name:"sha2-256",code:18,encode:Dfe("SHA-256")}),vYe=Mfe({name:"sha2-512",code:19,encode:Dfe("SHA-512")});var wYe=Object.freeze({__proto__:null,sha256:yYe,sha512:vYe});const Ffe=0,bYe="identity",Lfe=$fe,xYe=t=>HR(Ffe,Lfe(t)),_Ye={code:Ffe,name:bYe,encode:Lfe,digest:xYe};var CYe=Object.freeze({__proto__:null,identity:_Ye});new TextEncoder,new TextDecoder;const cY={...mKe,...vKe,...bKe,..._Ke,...kKe,...jKe,...FKe,...BKe,...VKe,...QKe};({...wYe,...CYe});function Ufe(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const uY=Ufe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),mT=Ufe("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Ife(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Bfe={utf8:uY,"utf-8":uY,hex:cY.base16,latin1:mT,ascii:mT,binary:mT,...cY};function _8(t,e="utf8"){const r=Bfe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function W1(t,e="utf8"){const r=Bfe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?NF(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function dY(t){return rg(_8(W1(t,b8),Afe))}function lC(t){return _8(W1(su(t),Afe),b8)}function zfe(t){const e=W1(rKe,iY),r=tKe+_8(Pfe([e,t]),iY);return[ZGe,eKe,r].join(QGe)}function EYe(t){return _8(t,b8)}function kYe(t){return W1(t,b8)}function SYe(t){return W1([lC(t.header),lC(t.payload)].join(aC),Tfe)}function AYe(t){return[lC(t.header),lC(t.payload),EYe(t.signature)].join(aC)}function VR(t){const e=t.split(aC),r=dY(e[0]),n=dY(e[1]),i=kYe(e[2]),s=W1(e.slice(0,2).join(aC),Tfe);return{header:r,payload:n,signature:i,data:s}}function hY(t=mfe(nKe)){const e=Sfe.getPublicKey(t);return{secretKey:Pfe([t,e]),publicKey:e}}async function TYe(t,e,r,n,i=At.fromMiliseconds(Date.now())){const s={alg:JGe,typ:XGe},o=zfe(n.publicKey),a=i+r,l={iss:o,sub:t,aud:e,iat:i,exp:a},c=SYe({header:s,payload:l}),u=Sfe.sign(c,n.secretKey.slice(0,32));return AYe({header:s,payload:l,signature:u})}function RF(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function qfe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?RF(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function bb(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=qfe(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return RF(r)}function IYe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var v=0,w=0,b=0,E=m.length;b!==E&&m[b]===0;)b++,v++;for(var _=(E-b)*u+1>>>0,A=new Uint8Array(_);b!==E;){for(var C=m[b],k=0,P=_-1;(C!==0||k<w)&&P!==-1;P--,k++)C+=256*A[P]>>>0,A[P]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");w=k,b++}for(var F=_-w;F!==_&&A[F]===0;)F++;for(var N=l.repeat(v);F<_;++F)N+=t.charAt(A[F]);return N}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var v=0;if(m[v]!==" "){for(var w=0,b=0;m[v]===l;)w++,v++;for(var E=(m.length-v)*c+1>>>0,_=new Uint8Array(E);m[v];){var A=r[m.charCodeAt(v)];if(A===255)return;for(var C=0,k=E-1;(A!==0||C<b)&&k!==-1;k--,C++)A+=a*_[k]>>>0,_[k]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");b=C,v++}if(m[v]!==" "){for(var P=E-b;P!==E&&_[P]===0;)P++;for(var F=new Uint8Array(w+(E-P)),N=w;P!==E;)F[N++]=_[P++];return F}}}function p(m){var v=f(m);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var PYe=IYe,$Ye=PYe;const NYe=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},RYe=t=>new TextEncoder().encode(t),OYe=t=>new TextDecoder().decode(t);class jYe{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class MYe{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Wfe(this,e)}}class DYe{constructor(e){this.decoders=e}or(e){return Wfe(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Wfe=(t,e)=>new DYe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class FYe{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new jYe(e,r,n),this.decoder=new MYe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const C8=({name:t,prefix:e,encode:r,decode:n})=>new FYe(t,e,r,n),n3=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=$Ye(r,e);return C8({prefix:t,name:e,encode:n,decode:s=>NYe(i(s))})},LYe=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=r||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},UYe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Ws=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>C8({prefix:e,name:t,encode(i){return UYe(i,n,r)},decode(i){return LYe(i,n,r,t)}}),BYe=C8({prefix:"\0",name:"identity",encode:t=>OYe(t),decode:t=>RYe(t)}),zYe=Object.freeze(Object.defineProperty({__proto__:null,identity:BYe},Symbol.toStringTag,{value:"Module"})),qYe=Ws({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),WYe=Object.freeze(Object.defineProperty({__proto__:null,base2:qYe},Symbol.toStringTag,{value:"Module"})),HYe=Ws({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),VYe=Object.freeze(Object.defineProperty({__proto__:null,base8:HYe},Symbol.toStringTag,{value:"Module"})),GYe=n3({prefix:"9",name:"base10",alphabet:"0123456789"}),KYe=Object.freeze(Object.defineProperty({__proto__:null,base10:GYe},Symbol.toStringTag,{value:"Module"})),YYe=Ws({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),JYe=Ws({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),XYe=Object.freeze(Object.defineProperty({__proto__:null,base16:YYe,base16upper:JYe},Symbol.toStringTag,{value:"Module"})),QYe=Ws({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ZYe=Ws({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),eJe=Ws({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tJe=Ws({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),rJe=Ws({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),nJe=Ws({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),iJe=Ws({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),sJe=Ws({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),oJe=Ws({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),aJe=Object.freeze(Object.defineProperty({__proto__:null,base32:QYe,base32hex:rJe,base32hexpad:iJe,base32hexpadupper:sJe,base32hexupper:nJe,base32pad:eJe,base32padupper:tJe,base32upper:ZYe,base32z:oJe},Symbol.toStringTag,{value:"Module"})),lJe=n3({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),cJe=n3({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),uJe=Object.freeze(Object.defineProperty({__proto__:null,base36:lJe,base36upper:cJe},Symbol.toStringTag,{value:"Module"})),dJe=n3({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),hJe=n3({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),fJe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:dJe,base58flickr:hJe},Symbol.toStringTag,{value:"Module"})),pJe=Ws({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),gJe=Ws({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),mJe=Ws({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),yJe=Ws({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),vJe=Object.freeze(Object.defineProperty({__proto__:null,base64:pJe,base64pad:gJe,base64url:mJe,base64urlpad:yJe},Symbol.toStringTag,{value:"Module"})),Hfe=Array.from(""),wJe=Hfe.reduce((t,e,r)=>(t[r]=e,t),[]),bJe=Hfe.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function xJe(t){return t.reduce((e,r)=>(e+=wJe[r],e),"")}function _Je(t){const e=[];for(const r of t){const n=bJe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const CJe=C8({prefix:"",name:"base256emoji",encode:xJe,decode:_Je}),EJe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:CJe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const fY={...zYe,...WYe,...VYe,...KYe,...XYe,...aJe,...uJe,...fJe,...vJe,...EJe};function Vfe(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const pY=Vfe("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),yT=Vfe("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=qfe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Gfe={utf8:pY,"utf-8":pY,hex:fY.base16,latin1:yT,ascii:yT,binary:yT,...fY};function Fl(t,e="utf8"){const r=Gfe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?RF(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function pa(t,e="utf8"){const r=Gfe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const kJe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var vT,gY;function Kfe(){if(gY)return vT;gY=1;const t="Input must be an string, Buffer or Uint8Array";function e(o){let a;if(o instanceof Uint8Array)a=o;else if(typeof o=="string")a=new TextEncoder().encode(o);else throw new Error(t);return a}function r(o){return Array.prototype.map.call(o,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function n(o){return(4294967296+o).toString(16).substring(1)}function i(o,a,l){let c=`
`+o+" = ";for(let u=0;u<a.length;u+=2){if(l===32)c+=n(a[u]).toUpperCase(),c+=" ",c+=n(a[u+1]).toUpperCase();else if(l===64)c+=n(a[u+1]).toUpperCase(),c+=n(a[u]).toUpperCase();else throw new Error("Invalid size "+l);u%6===4?c+=`
`+new Array(o.length+4).join(" "):u<a.length-2&&(c+=" ")}console.log(c)}function s(o,a,l){let c=new Date().getTime();const u=new Uint8Array(a);for(let f=0;f<a;f++)u[f]=f%256;const h=new Date().getTime();console.log("Generated random input in "+(h-c)+"ms"),c=h;for(let f=0;f<l;f++){const p=o(u),m=new Date().getTime(),v=m-c;c=m,console.log("Hashed in "+v+"ms: "+p.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(v/1e3)*100)/100+" MB PER SECOND")}}return vT={normalizeInput:e,toHex:r,debugPrint:i,testSpeed:s},vT}var wT,mY;function SJe(){if(mY)return wT;mY=1;const t=Kfe();function e(b,E,_){const A=b[E]+b[_];let C=b[E+1]+b[_+1];A>=4294967296&&C++,b[E]=A,b[E+1]=C}function r(b,E,_,A){let C=b[E]+_;_<0&&(C+=4294967296);let k=b[E+1]+A;C>=4294967296&&k++,b[E]=C,b[E+1]=k}function n(b,E){return b[E]^b[E+1]<<8^b[E+2]<<16^b[E+3]<<24}function i(b,E,_,A,C,k){const P=c[C],F=c[C+1],N=c[k],$=c[k+1];e(l,b,E),r(l,b,P,F);let U=l[A]^l[b],O=l[A+1]^l[b+1];l[A]=O,l[A+1]=U,e(l,_,A),U=l[E]^l[_],O=l[E+1]^l[_+1],l[E]=U>>>24^O<<8,l[E+1]=O>>>24^U<<8,e(l,b,E),r(l,b,N,$),U=l[A]^l[b],O=l[A+1]^l[b+1],l[A]=U>>>16^O<<16,l[A+1]=O>>>16^U<<16,e(l,_,A),U=l[E]^l[_],O=l[E+1]^l[_+1],l[E]=O>>>31^U<<1,l[E+1]=U>>>31^O<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(o.map(function(b){return b*2})),l=new Uint32Array(32),c=new Uint32Array(32);function u(b,E){let _=0;for(_=0;_<16;_++)l[_]=b.h[_],l[_+16]=s[_];for(l[24]=l[24]^b.t,l[25]=l[25]^b.t/4294967296,E&&(l[28]=~l[28],l[29]=~l[29]),_=0;_<32;_++)c[_]=n(b.b,4*_);for(_=0;_<12;_++)i(0,8,16,24,a[_*16+0],a[_*16+1]),i(2,10,18,26,a[_*16+2],a[_*16+3]),i(4,12,20,28,a[_*16+4],a[_*16+5]),i(6,14,22,30,a[_*16+6],a[_*16+7]),i(0,10,20,30,a[_*16+8],a[_*16+9]),i(2,12,22,24,a[_*16+10],a[_*16+11]),i(4,14,16,26,a[_*16+12],a[_*16+13]),i(6,8,18,28,a[_*16+14],a[_*16+15]);for(_=0;_<16;_++)b.h[_]=b.h[_]^l[_]^l[_+16]}const h=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function f(b,E,_,A){if(b===0||b>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(E&&E.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(_&&_.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(A&&A.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const C={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:b};h.fill(0),h[0]=b,E&&(h[1]=E.length),h[2]=1,h[3]=1,_&&h.set(_,32),A&&h.set(A,48);for(let k=0;k<16;k++)C.h[k]=s[k]^n(h,k*4);return E&&(p(C,E),C.c=128),C}function p(b,E){for(let _=0;_<E.length;_++)b.c===128&&(b.t+=b.c,u(b,!1),b.c=0),b.b[b.c++]=E[_]}function m(b){for(b.t+=b.c;b.c<128;)b.b[b.c++]=0;u(b,!0);const E=new Uint8Array(b.outlen);for(let _=0;_<b.outlen;_++)E[_]=b.h[_>>2]>>8*(_&3);return E}function v(b,E,_,A,C){_=_||64,b=t.normalizeInput(b),A&&(A=t.normalizeInput(A)),C&&(C=t.normalizeInput(C));const k=f(_,E,A,C);return p(k,b),m(k)}function w(b,E,_,A,C){const k=v(b,E,_,A,C);return t.toHex(k)}return wT={blake2b:v,blake2bHex:w,blake2bInit:f,blake2bUpdate:p,blake2bFinal:m},wT}var bT,yY;function AJe(){if(yY)return bT;yY=1;const t=Kfe();function e(m,v){return m[v]^m[v+1]<<8^m[v+2]<<16^m[v+3]<<24}function r(m,v,w,b,E,_){o[m]=o[m]+o[v]+E,o[b]=n(o[b]^o[m],16),o[w]=o[w]+o[b],o[v]=n(o[v]^o[w],12),o[m]=o[m]+o[v]+_,o[b]=n(o[b]^o[m],8),o[w]=o[w]+o[b],o[v]=n(o[v]^o[w],7)}function n(m,v){return m>>>v^m<<32-v}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),a=new Uint32Array(16);function l(m,v){let w=0;for(w=0;w<8;w++)o[w]=m.h[w],o[w+8]=i[w];for(o[12]^=m.t,o[13]^=m.t/4294967296,v&&(o[14]=~o[14]),w=0;w<16;w++)a[w]=e(m.b,4*w);for(w=0;w<10;w++)r(0,4,8,12,a[s[w*16+0]],a[s[w*16+1]]),r(1,5,9,13,a[s[w*16+2]],a[s[w*16+3]]),r(2,6,10,14,a[s[w*16+4]],a[s[w*16+5]]),r(3,7,11,15,a[s[w*16+6]],a[s[w*16+7]]),r(0,5,10,15,a[s[w*16+8]],a[s[w*16+9]]),r(1,6,11,12,a[s[w*16+10]],a[s[w*16+11]]),r(2,7,8,13,a[s[w*16+12]],a[s[w*16+13]]),r(3,4,9,14,a[s[w*16+14]],a[s[w*16+15]]);for(w=0;w<8;w++)m.h[w]^=o[w]^o[w+8]}function c(m,v){if(!(m>0&&m<=32))throw new Error("Incorrect output length, should be in [1, 32]");const w=v?v.length:0;if(v&&!(w>0&&w<=32))throw new Error("Incorrect key length, should be in [1, 32]");const b={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:m};return b.h[0]^=16842752^w<<8^m,w>0&&(u(b,v),b.c=64),b}function u(m,v){for(let w=0;w<v.length;w++)m.c===64&&(m.t+=m.c,l(m,!1),m.c=0),m.b[m.c++]=v[w]}function h(m){for(m.t+=m.c;m.c<64;)m.b[m.c++]=0;l(m,!0);const v=new Uint8Array(m.outlen);for(let w=0;w<m.outlen;w++)v[w]=m.h[w>>2]>>8*(w&3)&255;return v}function f(m,v,w){w=w||32,m=t.normalizeInput(m);const b=c(w,v);return u(b,m),h(b)}function p(m,v,w){const b=f(m,v,w);return t.toHex(b)}return bT={blake2s:f,blake2sHex:p,blake2sInit:c,blake2sUpdate:u,blake2sFinal:h},bT}var xT,vY;function TJe(){if(vY)return xT;vY=1;const t=SJe(),e=AJe();return xT={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},xT}var IJe=TJe(),PJe={};const $Je=":";function N0(t){const[e,r]=t.split($Je);return{namespace:e,reference:r}}function wY(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...i.accounts)}),r}function Yfe(t,e){return t.includes(":")?[t]:e.chains||[]}var NJe=Object.defineProperty,RJe=Object.defineProperties,OJe=Object.getOwnPropertyDescriptors,bY=Object.getOwnPropertySymbols,jJe=Object.prototype.hasOwnProperty,MJe=Object.prototype.propertyIsEnumerable,GR=(t,e,r)=>e in t?NJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xY=(t,e)=>{for(var r in e||(e={}))jJe.call(e,r)&&GR(t,r,e[r]);if(bY)for(var r of bY(e))MJe.call(e,r)&&GR(t,r,e[r]);return t},DJe=(t,e)=>RJe(t,OJe(e)),_Y=(t,e,r)=>GR(t,typeof e!="symbol"?e+"":e,r);const FJe="ReactNative",Ga={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},LJe="js";function cC(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function yp(){return!Ch.getDocument()&&!!Ch.getNavigator()&&navigator.product===FJe}function UJe(){return yp()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function BJe(){return yp()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function H1(){return!cC()&&!!Ch.getNavigator()&&!!Ch.getDocument()}function i3(){return yp()?Ga.reactNative:cC()?Ga.node:H1()?Ga.browser:Ga.unknown}function CY(){var t;try{return yp()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function zJe(t,e){const r=new URLSearchParams(t);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const i=e[n];i!==void 0&&r.set(n,i)}return r.toString()}function qJe(t){var e,r;const n=Jfe();try{return t!=null&&t.url&&n.url&&new URL(t.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),DJe(xY(xY({},n),t),{url:t?.url||n.url,name:t?.name||n.name,description:t?.description||n.description,icons:(r=t?.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),t||n}}function Jfe(){return eHe.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function WJe(){if(i3()===Ga.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=vWe();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function HJe(){var t;const e=i3();return e===Ga.browser?[e,((t=Ch.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function Xfe(t,e,r){const n=WJe(),i=HJe();return[[t,e].join("-"),[LJe,r].join("-"),n,i].join("/")}function VJe({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:l}){const c=r.split("?"),u=Xfe(t,e,n),h={auth:i,ua:u,projectId:s,useOnCloseEvent:o,packageName:l||void 0,bundleId:a||void 0},f=zJe(c[1]||"",h);return c[0]+"?"+f}function x0(t,e){return t.filter(r=>e.includes(r)).length===t.length}function KR(t){return Object.fromEntries(t.entries())}function YR(t){return new Map(Object.entries(t))}function Zp(t=At.FIVE_MINUTES,e){const r=At.toMiliseconds(t||At.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,l)=>{if(o)return a(o);s=setTimeout(()=>{const c=new Error(e);o=Promise.reject(c),l(c)},r),n=a,i=l})}}function ed(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function Qfe(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function GJe(t){return Qfe("topic",t)}function KJe(t){return Qfe("id",t)}function Zfe(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Wi(t,e){return At.fromMiliseconds(Date.now()+At.toMiliseconds(t))}function Ef(t){return Date.now()>=At.toMiliseconds(t)}function on(t,e){return`${t}${e?`:${e}`:""}`}function od(t=[],e=[]){return[...new Set([...t,...e])]}async function YJe({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i?.href;if(typeof s!="string")return;const o=JJe(s,t,e),a=i3();if(a===Ga.browser){if(!((n=Ch.getDocument())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}XJe(o)}else a===Ga.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function JJe(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${tXe(n,!0)}`}else i=`${i}/wc?${n}`;return i}function XJe(t){let e="_self";eXe()?e="_top":(ZJe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function QJe(t,e){let r="";try{if(H1()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function EY(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function kY(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function OF(){return typeof process<"u"&&PJe.IS_VITEST==="true"}function ZJe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function eXe(){try{return window.self!==window.top}catch{return!1}}function tXe(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function epe(t){return Buffer.from(t,"base64").toString("utf-8")}function rXe(t){return new Promise(e=>setTimeout(e,t))}let nXe=class{constructor({limit:e}){_Y(this,"limit"),_Y(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(e)}}has(e){return this.set.has(e)}};const _6=BigInt(2**32-1),SY=BigInt(32);function tpe(t,e=!1){return e?{h:Number(t&_6),l:Number(t>>SY&_6)}:{h:Number(t>>SY&_6)|0,l:Number(t&_6)|0}}function rpe(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=tpe(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const AY=(t,e,r)=>t>>>r,TY=(t,e,r)=>t<<32-r|e>>>r,kf=(t,e,r)=>t>>>r|e<<32-r,Sf=(t,e,r)=>t<<32-r|e>>>r,Kw=(t,e,r)=>t<<64-r|e>>>r-32,Yw=(t,e,r)=>t>>>r-32|e<<64-r,iXe=(t,e)=>e,sXe=(t,e)=>t,oXe=(t,e,r)=>t<<r|e>>>32-r,aXe=(t,e,r)=>e<<r|t>>>32-r,lXe=(t,e,r)=>e<<r-32|t>>>64-r,cXe=(t,e,r)=>t<<r-32|e>>>64-r;function Nc(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const jF=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),MF=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,uXe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),dXe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,hXe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),fXe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,km=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function DF(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Eh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Jl(t,...e){if(!DF(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function FF(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Eh(t.outputLen),Eh(t.blockLen)}function sp(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function LF(t,e){Jl(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function K2(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Xl(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function _T(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Nu(t,e){return t<<32-e|t>>>e}const npe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ipe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Vd=npe?t=>t:t=>ipe(t);function pXe(t){for(let e=0;e<t.length;e++)t[e]=ipe(t[e]);return t}const Af=npe?t=>t:pXe,spe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",gXe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Y2(t){if(Jl(t),spe)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=gXe[t[r]];return e}const Md={_0:48,_9:57,A:65,F:70,a:97,f:102};function IY(t){if(t>=Md._0&&t<=Md._9)return t-Md._0;if(t>=Md.A&&t<=Md.F)return t-(Md.A-10);if(t>=Md.a&&t<=Md.f)return t-(Md.a-10)}function UF(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(spe)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=IY(t.charCodeAt(s)),a=IY(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function mXe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Gc(t){return typeof t=="string"&&(t=mXe(t)),Jl(t),t}function _0(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Jl(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let E8=class{};function s3(t){const e=n=>t().update(Gc(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function yXe(t){const e=(n,i)=>t(i).update(Gc(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function V1(t=32){if(km&&typeof km.getRandomValues=="function")return km.getRandomValues(new Uint8Array(t));if(km&&typeof km.randomBytes=="function")return Uint8Array.from(km.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const vXe=BigInt(0),ow=BigInt(1),wXe=BigInt(2),bXe=BigInt(7),xXe=BigInt(256),_Xe=BigInt(113),ope=[],ape=[],lpe=[];for(let t=0,e=ow,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],ope.push(2*(5*n+r)),ape.push((t+1)*(t+2)/2%64);let i=vXe;for(let s=0;s<7;s++)e=(e<<ow^(e>>bXe)*_Xe)%xXe,e&wXe&&(i^=ow<<(ow<<BigInt(s))-ow);lpe.push(i)}const cpe=rpe(lpe,!0),CXe=cpe[0],EXe=cpe[1],PY=(t,e,r)=>r>32?lXe(t,e,r):oXe(t,e,r),$Y=(t,e,r)=>r>32?cXe(t,e,r):aXe(t,e,r);function kXe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=r[l],u=r[l+1],h=PY(c,u,1)^r[a],f=$Y(c,u,1)^r[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=ape[o],l=PY(i,s,a),c=$Y(i,s,a),u=ope[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=CXe[n],t[1]^=EXe[n]}Xl(r)}let SXe=class upe extends E8{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,Eh(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=K2(this.state)}clone(){return this._cloneInto()}keccak(){Af(this.state32),kXe(this.state32,this.rounds),Af(this.state32),this.posOut=0,this.pos=0}update(e){sp(this),e=Gc(e),Jl(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){sp(this,!1),Jl(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Eh(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(LF(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Xl(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new upe(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const AXe=(t,e,r)=>s3(()=>new SXe(e,t,r)),TXe=AXe(1,136,256/8);function IXe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),l=n?4:0,c=n?0:4;t.setUint32(e+l,o,n),t.setUint32(e+c,a,n)}function PXe(t,e,r){return t&e^~t&r}function $Xe(t,e,r){return t&e^t&r^e&r}let dpe=class extends E8{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=_T(this.buffer)}update(e){sp(this),e=Gc(e),Jl(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=_T(e);for(;i<=s-o;o+=i)this.process(l,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){sp(this),LF(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,Xl(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;IXe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=_T(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const hf=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Qs=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Zs=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),NXe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ff=new Uint32Array(64);let RXe=class extends dpe{constructor(e=32){super(64,e,8,!1),this.A=hf[0]|0,this.B=hf[1]|0,this.C=hf[2]|0,this.D=hf[3]|0,this.E=hf[4]|0,this.F=hf[5]|0,this.G=hf[6]|0,this.H=hf[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:l}=this;return[e,r,n,i,s,o,a,l]}set(e,r,n,i,s,o,a,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,r){for(let h=0;h<16;h++,r+=4)ff[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){const f=ff[h-15],p=ff[h-2],m=Nu(f,7)^Nu(f,18)^f>>>3,v=Nu(p,17)^Nu(p,19)^p>>>10;ff[h]=v+ff[h-7]+m+ff[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const f=Nu(a,6)^Nu(a,11)^Nu(a,25),p=u+f+PXe(a,l,c)+NXe[h]+ff[h]|0,m=(Nu(n,2)^Nu(n,13)^Nu(n,22))+$Xe(n,i,s)|0;u=c,c=l,l=a,a=o+p|0,o=s,s=i,i=n,n=p+m|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,l,c,u)}roundClean(){Xl(ff)}destroy(){this.set(0,0,0,0,0,0,0,0),Xl(this.buffer)}};const hpe=rpe(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),OXe=hpe[0],jXe=hpe[1],pf=new Uint32Array(80),gf=new Uint32Array(80);let BF=class extends dpe{constructor(e=64){super(128,e,16,!1),this.Ah=Zs[0]|0,this.Al=Zs[1]|0,this.Bh=Zs[2]|0,this.Bl=Zs[3]|0,this.Ch=Zs[4]|0,this.Cl=Zs[5]|0,this.Dh=Zs[6]|0,this.Dl=Zs[7]|0,this.Eh=Zs[8]|0,this.El=Zs[9]|0,this.Fh=Zs[10]|0,this.Fl=Zs[11]|0,this.Gh=Zs[12]|0,this.Gl=Zs[13]|0,this.Hh=Zs[14]|0,this.Hl=Zs[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:f,Gh:p,Gl:m,Hh:v,Hl:w}=this;return[e,r,n,i,s,o,a,l,c,u,h,f,p,m,v,w]}set(e,r,n,i,s,o,a,l,c,u,h,f,p,m,v,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=m|0,this.Hh=v|0,this.Hl=w|0}process(e,r){for(let _=0;_<16;_++,r+=4)pf[_]=e.getUint32(r),gf[_]=e.getUint32(r+=4);for(let _=16;_<80;_++){const A=pf[_-15]|0,C=gf[_-15]|0,k=kf(A,C,1)^kf(A,C,8)^AY(A,C,7),P=Sf(A,C,1)^Sf(A,C,8)^TY(A,C,7),F=pf[_-2]|0,N=gf[_-2]|0,$=kf(F,N,19)^Kw(F,N,61)^AY(F,N,6),U=Sf(F,N,19)^Yw(F,N,61)^TY(F,N,6),O=uXe(P,U,gf[_-7],gf[_-16]),D=dXe(O,k,$,pf[_-7],pf[_-16]);pf[_]=D|0,gf[_]=O|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:p,Fl:m,Gh:v,Gl:w,Hh:b,Hl:E}=this;for(let _=0;_<80;_++){const A=kf(h,f,14)^kf(h,f,18)^Kw(h,f,41),C=Sf(h,f,14)^Sf(h,f,18)^Yw(h,f,41),k=h&p^~h&v,P=f&m^~f&w,F=hXe(E,C,P,jXe[_],gf[_]),N=fXe(F,b,A,k,OXe[_],pf[_]),$=F|0,U=kf(n,i,28)^Kw(n,i,34)^Kw(n,i,39),O=Sf(n,i,28)^Yw(n,i,34)^Yw(n,i,39),D=n&s^n&a^s&a,T=i&o^i&l^o&l;b=v|0,E=w|0,v=p|0,w=m|0,p=h|0,m=f|0,{h,l:f}=Nc(c|0,u|0,N|0,$|0),c=a|0,u=l|0,a=s|0,l=o|0,s=n|0,o=i|0;const I=jF($,O,T);n=MF(I,N,U,D),i=I|0}({h:n,l:i}=Nc(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Nc(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Nc(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=Nc(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:f}=Nc(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:m}=Nc(this.Fh|0,this.Fl|0,p|0,m|0),{h:v,l:w}=Nc(this.Gh|0,this.Gl|0,v|0,w|0),{h:b,l:E}=Nc(this.Hh|0,this.Hl|0,b|0,E|0),this.set(n,i,s,o,a,l,c,u,h,f,p,m,v,w,b,E)}roundClean(){Xl(pf,gf)}destroy(){Xl(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},MXe=class extends BF{constructor(){super(48),this.Ah=Qs[0]|0,this.Al=Qs[1]|0,this.Bh=Qs[2]|0,this.Bl=Qs[3]|0,this.Ch=Qs[4]|0,this.Cl=Qs[5]|0,this.Dh=Qs[6]|0,this.Dl=Qs[7]|0,this.Eh=Qs[8]|0,this.El=Qs[9]|0,this.Fh=Qs[10]|0,this.Fl=Qs[11]|0,this.Gh=Qs[12]|0,this.Gl=Qs[13]|0,this.Hh=Qs[14]|0,this.Hl=Qs[15]|0}};const eo=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let DXe=class extends BF{constructor(){super(32),this.Ah=eo[0]|0,this.Al=eo[1]|0,this.Bh=eo[2]|0,this.Bl=eo[3]|0,this.Ch=eo[4]|0,this.Cl=eo[5]|0,this.Dh=eo[6]|0,this.Dl=eo[7]|0,this.Eh=eo[8]|0,this.El=eo[9]|0,this.Fh=eo[10]|0,this.Fl=eo[11]|0,this.Gh=eo[12]|0,this.Gl=eo[13]|0,this.Hh=eo[14]|0,this.Hl=eo[15]|0}};const k8=s3(()=>new RXe),FXe=s3(()=>new BF),LXe=s3(()=>new MXe),UXe=s3(()=>new DXe),BXe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Ui=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ot=new Uint32Array(32);function mf(t,e,r,n,i,s){const o=i[s],a=i[s+1];let l=Ot[2*t],c=Ot[2*t+1],u=Ot[2*e],h=Ot[2*e+1],f=Ot[2*r],p=Ot[2*r+1],m=Ot[2*n],v=Ot[2*n+1],w=jF(l,u,o);c=MF(w,c,h,a),l=w|0,{Dh:v,Dl:m}={Dh:v^c,Dl:m^l},{Dh:v,Dl:m}={Dh:iXe(v,m),Dl:sXe(v)},{h:p,l:f}=Nc(p,f,v,m),{Bh:h,Bl:u}={Bh:h^p,Bl:u^f},{Bh:h,Bl:u}={Bh:kf(h,u,24),Bl:Sf(h,u,24)},Ot[2*t]=l,Ot[2*t+1]=c,Ot[2*e]=u,Ot[2*e+1]=h,Ot[2*r]=f,Ot[2*r+1]=p,Ot[2*n]=m,Ot[2*n+1]=v}function yf(t,e,r,n,i,s){const o=i[s],a=i[s+1];let l=Ot[2*t],c=Ot[2*t+1],u=Ot[2*e],h=Ot[2*e+1],f=Ot[2*r],p=Ot[2*r+1],m=Ot[2*n],v=Ot[2*n+1],w=jF(l,u,o);c=MF(w,c,h,a),l=w|0,{Dh:v,Dl:m}={Dh:v^c,Dl:m^l},{Dh:v,Dl:m}={Dh:kf(v,m,16),Dl:Sf(v,m,16)},{h:p,l:f}=Nc(p,f,v,m),{Bh:h,Bl:u}={Bh:h^p,Bl:u^f},{Bh:h,Bl:u}={Bh:Kw(h,u,63),Bl:Yw(h,u,63)},Ot[2*t]=l,Ot[2*t+1]=c,Ot[2*e]=u,Ot[2*e+1]=h,Ot[2*r]=f,Ot[2*r+1]=p,Ot[2*n]=m,Ot[2*n+1]=v}function zXe(t,e={},r,n,i){if(Eh(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}let qXe=class extends E8{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Eh(e),Eh(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=K2(this.buffer)}update(e){sp(this),e=Gc(e),Jl(e);const{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let l=0;l<s;){this.pos===r&&(Af(i),this.compress(i,0,!1),Af(i),this.pos=0);const c=Math.min(r-this.pos,s-l),u=o+l;if(c===r&&!(u%4)&&l+c<s){const h=new Uint32Array(a,u,Math.floor((s-l)/4));Af(h);for(let f=0;l+r<s;f+=i.length,l+=r)this.length+=r,this.compress(h,f,!1);Af(h);continue}n.set(e.subarray(l,l+c),this.pos),this.pos+=c,this.length+=c,l+=c}return this}digestInto(e){sp(this),LF(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,Xl(this.buffer.subarray(r)),Af(n),this.compress(n,0,!0),Af(n);const i=K2(e);this.get().forEach((s,o)=>i[o]=Vd(s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}},WXe=class extends qXe{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=Ui[0]|0,this.v0h=Ui[1]|0,this.v1l=Ui[2]|0,this.v1h=Ui[3]|0,this.v2l=Ui[4]|0,this.v2h=Ui[5]|0,this.v3l=Ui[6]|0,this.v3h=Ui[7]|0,this.v4l=Ui[8]|0,this.v4h=Ui[9]|0,this.v5l=Ui[10]|0,this.v5h=Ui[11]|0,this.v6l=Ui[12]|0,this.v6h=Ui[13]|0,this.v7l=Ui[14]|0,this.v7h=Ui[15]|0,zXe(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,o=0;if(n!==void 0&&(n=Gc(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=Gc(s);const a=K2(s);this.v4l^=Vd(a[0]),this.v4h^=Vd(a[1]),this.v5l^=Vd(a[2]),this.v5h^=Vd(a[3])}if(i!==void 0){i=Gc(i);const a=K2(i);this.v6l^=Vd(a[0]),this.v6h^=Vd(a[1]),this.v7l^=Vd(a[2]),this.v7h^=Vd(a[3])}if(n!==void 0){const a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:a,v3h:l,v4l:c,v4h:u,v5l:h,v5h:f,v6l:p,v6h:m,v7l:v,v7h:w}=this;return[e,r,n,i,s,o,a,l,c,u,h,f,p,m,v,w]}set(e,r,n,i,s,o,a,l,c,u,h,f,p,m,v,w){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=l|0,this.v4l=c|0,this.v4h=u|0,this.v5l=h|0,this.v5h=f|0,this.v6l=p|0,this.v6h=m|0,this.v7l=v|0,this.v7h=w|0}compress(e,r,n){this.get().forEach((l,c)=>Ot[c]=l),Ot.set(Ui,16);let{h:i,l:s}=tpe(BigInt(this.length));Ot[24]=Ui[8]^s,Ot[25]=Ui[9]^i,n&&(Ot[28]=~Ot[28],Ot[29]=~Ot[29]);let o=0;const a=BXe;for(let l=0;l<12;l++)mf(0,4,8,12,e,r+2*a[o++]),yf(0,4,8,12,e,r+2*a[o++]),mf(1,5,9,13,e,r+2*a[o++]),yf(1,5,9,13,e,r+2*a[o++]),mf(2,6,10,14,e,r+2*a[o++]),yf(2,6,10,14,e,r+2*a[o++]),mf(3,7,11,15,e,r+2*a[o++]),yf(3,7,11,15,e,r+2*a[o++]),mf(0,5,10,15,e,r+2*a[o++]),yf(0,5,10,15,e,r+2*a[o++]),mf(1,6,11,12,e,r+2*a[o++]),yf(1,6,11,12,e,r+2*a[o++]),mf(2,7,8,13,e,r+2*a[o++]),yf(2,7,8,13,e,r+2*a[o++]),mf(3,4,9,14,e,r+2*a[o++]),yf(3,4,9,14,e,r+2*a[o++]);this.v0l^=Ot[0]^Ot[16],this.v0h^=Ot[1]^Ot[17],this.v1l^=Ot[2]^Ot[18],this.v1h^=Ot[3]^Ot[19],this.v2l^=Ot[4]^Ot[20],this.v2h^=Ot[5]^Ot[21],this.v3l^=Ot[6]^Ot[22],this.v3h^=Ot[7]^Ot[23],this.v4l^=Ot[8]^Ot[24],this.v4h^=Ot[9]^Ot[25],this.v5l^=Ot[10]^Ot[26],this.v5h^=Ot[11]^Ot[27],this.v6l^=Ot[12]^Ot[28],this.v6h^=Ot[13]^Ot[29],this.v7l^=Ot[14]^Ot[30],this.v7h^=Ot[15]^Ot[31],Xl(Ot)}destroy(){this.destroyed=!0,Xl(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const HXe=yXe(t=>new WXe(t)),VXe="https://rpc.walletconnect.org/v1";function fpe(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(TXe(r)).toString("hex")}async function GXe(t,e,r,n,i,s){switch(r.t){case"eip191":return await KXe(t,e,r.s);case"eip1271":return await YXe(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function KXe(t,e,r){return(await WHe({hash:fpe(e),signature:r})).toLowerCase()===t.toLowerCase()}async function YXe(t,e,r,n,i,s){const o=N0(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",l="0000000000000000000000000000000000000000000000000000000000000040",c=r.substring(2),u=(c.length/2).toString(16).padStart(64,"0"),h=(e.startsWith("0x")?e:fpe(e)).substring(2),f=a+h+l+u+c,p=await fetch(`${s||VXe}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:JXe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:f},"latest"]})}),{result:m}=await p.json();return m?m.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function JXe(){return Date.now()+Math.floor(Math.random()*1e3)}function XXe(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return t3.encode(s)}function QXe(t){const e=new Uint8Array(Buffer.from(t,"base64")),r=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),n=new Uint8Array(r.length+e.length);n.set(r),n.set(e,r.length);const i=HXe(n,{dkLen:32});return t3.encode(i)}function NY(t){const e=new Uint8Array(k8(ZXe(t)));return t3.encode(e)}function ZXe(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function RY(t){const e=Buffer.from(t,"base64"),r=TVe(e).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");const n=wVe(r),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(n)]),o=UXe(s);return MVe.encode(o).replace(/=+$/,"")}function CT(t){const e=[];let r=BigInt(t);for(;r>=BigInt(128);)e.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return e.push(Number(r)),Buffer.from(e)}function eQe(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),r=Buffer.from(t.signed.authInfoBytes,"base64"),n=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(CT(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(CT(r.length)),i.push(r),i.push(Buffer.from([26])),i.push(CT(n.length)),i.push(n);const s=Buffer.concat(i),o=k8(s);return Buffer.from(o).toString("hex").toUpperCase()}var tQe=Object.defineProperty,rQe=Object.defineProperties,nQe=Object.getOwnPropertyDescriptors,OY=Object.getOwnPropertySymbols,iQe=Object.prototype.hasOwnProperty,sQe=Object.prototype.propertyIsEnumerable,jY=(t,e,r)=>e in t?tQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,oQe=(t,e)=>{for(var r in e||(e={}))iQe.call(e,r)&&jY(t,r,e[r]);if(OY)for(var r of OY(e))sQe.call(e,r)&&jY(t,r,e[r]);return t},aQe=(t,e)=>rQe(t,nQe(e));const lQe="did:pkh:",zF=t=>t?.split(":"),cQe=t=>{const e=t&&zF(t);if(e)return t.includes(lQe)?e[3]:e[1]},JR=t=>{const e=t&&zF(t);if(e)return e[2]+":"+e[3]},uC=t=>{const e=t&&zF(t);if(e)return e.pop()};async function MY(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=ppe(i,i.iss),o=uC(i.iss);return await GXe(o,s,n,JR(i.iss),r)}const ppe=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=uC(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${cQe(e)}`,l=`Nonce: ${t.nonce}`,c=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,f=t.requestId?`Request ID: ${t.requestId}`:void 0,p=t.resources?`Resources:${t.resources.map(v=>`
- ${v}`).join("")}`:void 0,m=Y4(t.resources);if(m){const v=J2(m);i=vQe(i,v)}return[r,n,"",i,"",s,o,a,l,c,u,h,f,p].filter(v=>v!=null).join(`
`)};function uQe(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function dQe(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function ng(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function hQe(t,e,r,n={}){return r?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:fQe(e,r,n)}}}function fQe(t,e,r={}){e=e?.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function gpe(t){return ng(t),`urn:recap:${uQe(t).replace(/=/g,"")}`}function J2(t){const e=dQe(t.replace("urn:recap:",""));return ng(e),e}function pQe(t,e,r){const n=hQe(t,e,r);return gpe(n)}function gQe(t){return t&&t.includes("urn:recap:")}function mQe(t,e){const r=J2(t),n=J2(e),i=yQe(r,n);return gpe(i)}function yQe(t,e){ng(t),ng(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,l)=>a.localeCompare(l)).forEach(a=>{var l,c;n.att[i]=aQe(oQe({},n.att[i]),{[a]:((l=t.att[i])==null?void 0:l[a])||((c=e.att[i])==null?void 0:c[a])})})}),n}function vQe(t="",e){ng(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const l=Object.keys(e.att[a]).map(h=>({ability:h.split("/")[0],action:h.split("/")[1]}));l.sort((h,f)=>h.action.localeCompare(f.action));const c={};l.forEach(h=>{c[h.ability]||(c[h.ability]=[]),c[h.ability].push(h.action)});const u=Object.keys(c).map(h=>(i++,`(${i}) '${h}': '${c[h].join("', '")}' for '${a}'.`));n.push(u.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function DY(t){var e;const r=J2(t);ng(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function FY(t){const e=J2(t);ng(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function Y4(t){if(!t)return;const e=t?.[t.length-1];return gQe(e)?e:void 0}function mpe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function XR(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function ET(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function sa(t,...e){if(!mpe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function LY(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function wQe(t,e){sa(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Yf(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function u1(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function bQe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const xQe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function _Qe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function QR(t){if(typeof t=="string")t=_Qe(t);else if(mpe(t))t=ZR(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function CQe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function EQe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const kQe=(t,e)=>{function r(n,...i){if(sa(n),!xQe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const c=i[0];if(!c)throw new Error("nonce / iv required");t.varSizeNonce?sa(c):sa(c,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&sa(i[1]);const o=e(n,...i),a=(c,u)=>{if(u!==void 0){if(c!==2)throw new Error("cipher output not supported");sa(u)}};let l=!1;return{encrypt(c,u){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,sa(c),a(o.encrypt.length,u),o.encrypt(c,u)},decrypt(c,u){if(sa(c),s&&c.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(c,u)}}}return Object.assign(r,t),r};function UY(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!AQe(e))throw new Error("invalid output, must be aligned");return e}function BY(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function SQe(t,e,r){XR(r);const n=new Uint8Array(16),i=bQe(n);return BY(i,0,BigInt(e),r),BY(i,8,BigInt(t),r),n}function AQe(t){return t.byteOffset%4===0}function ZR(t){return Uint8Array.from(t)}const ype=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),TQe=ype("expand 16-byte k"),IQe=ype("expand 32-byte k"),PQe=Yf(TQe),$Qe=Yf(IQe);function Jr(t,e){return t<<e|t>>>32-e}function eO(t){return t.byteOffset%4===0}const C6=64,NQe=16,vpe=2**32-1,zY=new Uint32Array;function RQe(t,e,r,n,i,s,o,a){const l=i.length,c=new Uint8Array(C6),u=Yf(c),h=eO(i)&&eO(s),f=h?Yf(i):zY,p=h?Yf(s):zY;for(let m=0;m<l;o++){if(t(e,r,n,u,o,a),o>=vpe)throw new Error("arx: counter overflow");const v=Math.min(C6,l-m);if(h&&v===C6){const w=m/4;if(m%4!==0)throw new Error("arx: invalid block position");for(let b=0,E;b<NQe;b++)E=w+b,p[E]=f[E]^u[b];m+=C6;continue}for(let w=0,b;w<v;w++)b=m+w,s[b]=i[b]^c[w];m+=v}}function OQe(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=CQe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return ET(i),ET(o),XR(s),XR(r),(a,l,c,u,h=0)=>{sa(a),sa(l),sa(c);const f=c.length;if(u===void 0&&(u=new Uint8Array(f)),sa(u),ET(h),h<0||h>=vpe)throw new Error("arx: counter overflow");if(u.length<f)throw new Error(`arx: output (${u.length}) is shorter than data (${f})`);const p=[];let m=a.length,v,w;if(m===32)p.push(v=ZR(a)),w=$Qe;else if(m===16&&r)v=new Uint8Array(32),v.set(a),v.set(a,16),w=PQe,p.push(v);else throw new Error(`arx: invalid 32-byte key, got length=${m}`);eO(l)||p.push(l=ZR(l));const b=Yf(v);if(n){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(w,b,Yf(l.subarray(0,16)),b),l=l.subarray(16)}const E=16-i;if(E!==l.length)throw new Error(`arx: nonce must be ${E} or 16 bytes`);if(E!==12){const A=new Uint8Array(12);A.set(l,s?0:12-l.length),l=A,p.push(l)}const _=Yf(l);return RQe(t,w,b,_,c,u,h,o),u1(...p),u}}const Cs=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let jQe=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=QR(e),sa(e,32);const r=Cs(e,0),n=Cs(e,2),i=Cs(e,4),s=Cs(e,6),o=Cs(e,8),a=Cs(e,10),l=Cs(e,12),c=Cs(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|l<<5)&8065,this.r[8]=(l>>>8|c<<8)&8191,this.r[9]=c>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Cs(e,16+2*u)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],l=o[1],c=o[2],u=o[3],h=o[4],f=o[5],p=o[6],m=o[7],v=o[8],w=o[9],b=Cs(e,r+0),E=Cs(e,r+2),_=Cs(e,r+4),A=Cs(e,r+6),C=Cs(e,r+8),k=Cs(e,r+10),P=Cs(e,r+12),F=Cs(e,r+14);let N=s[0]+(b&8191),$=s[1]+((b>>>13|E<<3)&8191),U=s[2]+((E>>>10|_<<6)&8191),O=s[3]+((_>>>7|A<<9)&8191),D=s[4]+((A>>>4|C<<12)&8191),T=s[5]+(C>>>1&8191),I=s[6]+((C>>>14|k<<2)&8191),R=s[7]+((k>>>11|P<<5)&8191),L=s[8]+((P>>>8|F<<8)&8191),B=s[9]+(F>>>5|i),q=0,G=q+N*a+$*(5*w)+U*(5*v)+O*(5*m)+D*(5*p);q=G>>>13,G&=8191,G+=T*(5*f)+I*(5*h)+R*(5*u)+L*(5*c)+B*(5*l),q+=G>>>13,G&=8191;let W=q+N*l+$*a+U*(5*w)+O*(5*v)+D*(5*m);q=W>>>13,W&=8191,W+=T*(5*p)+I*(5*f)+R*(5*h)+L*(5*u)+B*(5*c),q+=W>>>13,W&=8191;let j=q+N*c+$*l+U*a+O*(5*w)+D*(5*v);q=j>>>13,j&=8191,j+=T*(5*m)+I*(5*p)+R*(5*f)+L*(5*h)+B*(5*u),q+=j>>>13,j&=8191;let Y=q+N*u+$*c+U*l+O*a+D*(5*w);q=Y>>>13,Y&=8191,Y+=T*(5*v)+I*(5*m)+R*(5*p)+L*(5*f)+B*(5*h),q+=Y>>>13,Y&=8191;let Q=q+N*h+$*u+U*c+O*l+D*a;q=Q>>>13,Q&=8191,Q+=T*(5*w)+I*(5*v)+R*(5*m)+L*(5*p)+B*(5*f),q+=Q>>>13,Q&=8191;let z=q+N*f+$*h+U*u+O*c+D*l;q=z>>>13,z&=8191,z+=T*a+I*(5*w)+R*(5*v)+L*(5*m)+B*(5*p),q+=z>>>13,z&=8191;let Z=q+N*p+$*f+U*h+O*u+D*c;q=Z>>>13,Z&=8191,Z+=T*l+I*a+R*(5*w)+L*(5*v)+B*(5*m),q+=Z>>>13,Z&=8191;let ee=q+N*m+$*p+U*f+O*h+D*u;q=ee>>>13,ee&=8191,ee+=T*c+I*l+R*a+L*(5*w)+B*(5*v),q+=ee>>>13,ee&=8191;let te=q+N*v+$*m+U*p+O*f+D*h;q=te>>>13,te&=8191,te+=T*u+I*c+R*l+L*a+B*(5*w),q+=te>>>13,te&=8191;let se=q+N*w+$*v+U*m+O*p+D*f;q=se>>>13,se&=8191,se+=T*h+I*u+R*c+L*l+B*a,q+=se>>>13,se&=8191,q=(q<<2)+q|0,q=q+G|0,G=q&8191,q=q>>>13,W+=q,s[0]=G,s[1]=W,s[2]=j,s[3]=Y,s[4]=Q,s[5]=z,s[6]=Z,s[7]=ee,s[8]=te,s[9]=se}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;u1(n)}update(e){LY(this),e=QR(e),sa(e);const{buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){u1(this.h,this.r,this.buffer,this.pad)}digestInto(e){LY(this),wQe(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}};function MQe(t){const e=(n,i)=>t(i).update(QR(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const DQe=MQe(t=>new jQe(t));function FQe(t,e,r,n,i,s=20){let o=t[0],a=t[1],l=t[2],c=t[3],u=e[0],h=e[1],f=e[2],p=e[3],m=e[4],v=e[5],w=e[6],b=e[7],E=i,_=r[0],A=r[1],C=r[2],k=o,P=a,F=l,N=c,$=u,U=h,O=f,D=p,T=m,I=v,R=w,L=b,B=E,q=_,G=A,W=C;for(let Y=0;Y<s;Y+=2)k=k+$|0,B=Jr(B^k,16),T=T+B|0,$=Jr($^T,12),k=k+$|0,B=Jr(B^k,8),T=T+B|0,$=Jr($^T,7),P=P+U|0,q=Jr(q^P,16),I=I+q|0,U=Jr(U^I,12),P=P+U|0,q=Jr(q^P,8),I=I+q|0,U=Jr(U^I,7),F=F+O|0,G=Jr(G^F,16),R=R+G|0,O=Jr(O^R,12),F=F+O|0,G=Jr(G^F,8),R=R+G|0,O=Jr(O^R,7),N=N+D|0,W=Jr(W^N,16),L=L+W|0,D=Jr(D^L,12),N=N+D|0,W=Jr(W^N,8),L=L+W|0,D=Jr(D^L,7),k=k+U|0,W=Jr(W^k,16),R=R+W|0,U=Jr(U^R,12),k=k+U|0,W=Jr(W^k,8),R=R+W|0,U=Jr(U^R,7),P=P+O|0,B=Jr(B^P,16),L=L+B|0,O=Jr(O^L,12),P=P+O|0,B=Jr(B^P,8),L=L+B|0,O=Jr(O^L,7),F=F+D|0,q=Jr(q^F,16),T=T+q|0,D=Jr(D^T,12),F=F+D|0,q=Jr(q^F,8),T=T+q|0,D=Jr(D^T,7),N=N+$|0,G=Jr(G^N,16),I=I+G|0,$=Jr($^I,12),N=N+$|0,G=Jr(G^N,8),I=I+G|0,$=Jr($^I,7);let j=0;n[j++]=o+k|0,n[j++]=a+P|0,n[j++]=l+F|0,n[j++]=c+N|0,n[j++]=u+$|0,n[j++]=h+U|0,n[j++]=f+O|0,n[j++]=p+D|0,n[j++]=m+T|0,n[j++]=v+I|0,n[j++]=w+R|0,n[j++]=b+L|0,n[j++]=E+B|0,n[j++]=_+q|0,n[j++]=A+G|0,n[j++]=C+W|0}const LQe=OQe(FQe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),UQe=new Uint8Array(16),qY=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(UQe.subarray(r))},BQe=new Uint8Array(32);function WY(t,e,r,n,i){const s=t(e,r,BQe),o=DQe.create(s);i&&qY(o,i),qY(o,n);const a=SQe(n.length,i?i.length:0,!0);o.update(a);const l=o.digest();return u1(s,a),l}const zQe=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=UY(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const l=WY(t,e,r,a,n);return s.set(l,o),u1(l),s},decrypt(i,s){s=UY(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),l=WY(t,e,r,o,n);if(!EQe(a,l))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),u1(l),s}}),wpe=kQe({blockSize:64,nonceLength:12,tagLength:16},zQe(LQe));let bpe=class extends E8{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,FF(e);const n=Gc(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Xl(s)}update(e){return sp(this),this.iHash.update(e),this}digestInto(e){sp(this),Jl(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const S8=(t,e,r)=>new bpe(t,e).update(r).digest();S8.create=(t,e)=>new bpe(t,e);function qQe(t,e,r){return FF(t),r===void 0&&(r=new Uint8Array(t.outputLen)),S8(t,Gc(r),Gc(e))}const kT=Uint8Array.from([0]),HY=Uint8Array.of();function WQe(t,e,r,n=32){FF(t),Eh(n);const i=t.outputLen;if(n>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(n/i);r===void 0&&(r=HY);const o=new Uint8Array(s*i),a=S8.create(t,e),l=a._cloneInto(),c=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)kT[0]=u+1,l.update(u===0?HY:c).update(r).update(kT).digestInto(c),o.set(c,i*u),a._cloneInto(l);return a.destroy(),l.destroy(),Xl(c,kT),o.slice(0,n)}const HQe=(t,e,r,n,i)=>WQe(t,qQe(t,e,r),n,i),A8=k8,qF=BigInt(0),tO=BigInt(1);function dC(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function E6(t){const e=t.toString(16);return e.length&1?"0"+e:e}function xpe(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?qF:BigInt("0x"+t)}function T8(t){return xpe(Y2(t))}function hC(t){return Jl(t),xpe(Y2(Uint8Array.from(t).reverse()))}function WF(t,e){return UF(t.toString(16).padStart(e*2,"0"))}function HF(t,e){return WF(t,e).reverse()}function ra(t,e,r){let n;if(typeof e=="string")try{n=UF(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(DF(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const ST=t=>typeof t=="bigint"&&qF<=t;function VQe(t,e,r){return ST(t)&&ST(e)&&ST(r)&&e<=t&&t<r}function rO(t,e,r,n){if(!VQe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function GQe(t){let e;for(e=0;t>qF;t>>=tO,e+=1);return e}const I8=t=>(tO<<BigInt(t))-tO;function KQe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=f=>new Uint8Array(f),i=f=>Uint8Array.of(f);let s=n(t),o=n(t),a=0;const l=()=>{s.fill(1),o.fill(0),a=0},c=(...f)=>r(o,s,...f),u=(f=n(0))=>{o=c(i(0),f),s=c(),f.length!==0&&(o=c(i(1),f),s=c())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const p=[];for(;f<e;){s=c();const m=s.slice();p.push(m),f+=s.length}return _0(...p)};return(f,p)=>{l(),u(f);let m;for(;!(m=p(h()));)u();return l(),m}}function P8(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,o){const a=t[i];if(o&&a===void 0)return;const l=typeof a;if(l!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function VY(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const ha=BigInt(0),jo=BigInt(1),C0=BigInt(2),YQe=BigInt(3),_pe=BigInt(4),Cpe=BigInt(5),Epe=BigInt(8);function $l(t,e){const r=t%e;return r>=ha?r:e+r}function Ic(t,e,r){let n=t;for(;e-- >ha;)n*=n,n%=r;return n}function GY(t,e){if(t===ha)throw new Error("invert: expected non-zero number");if(e<=ha)throw new Error("invert: expected positive modulus, got "+e);let r=$l(t,e),n=e,i=ha,s=jo;for(;r!==ha;){const o=n/r,a=n%r,l=i-s*o;n=r,r=a,i=s,s=l}if(n!==jo)throw new Error("invert: does not exist");return $l(i,e)}function kpe(t,e){const r=(t.ORDER+jo)/_pe,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function JQe(t,e){const r=(t.ORDER-Cpe)/Epe,n=t.mul(e,C0),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,C0),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function XQe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-jo,r=0;for(;e%C0===ha;)e/=C0,r++;let n=C0;const i=G1(t);for(;KY(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return kpe;let s=i.pow(n,e);const o=(e+jo)/C0;return function(a,l){if(a.is0(l))return l;if(KY(a,l)!==1)throw new Error("Cannot find square root");let c=r,u=a.mul(a.ONE,s),h=a.pow(l,e),f=a.pow(l,o);for(;!a.eql(h,a.ONE);){if(a.is0(h))return a.ZERO;let p=1,m=a.sqr(h);for(;!a.eql(m,a.ONE);)if(p++,m=a.sqr(m),p===c)throw new Error("Cannot find square root");const v=jo<<BigInt(c-p-1),w=a.pow(u,v);c=p,u=a.sqr(w),h=a.mul(h,u),f=a.mul(f,w)}return f}}function QQe(t){return t%_pe===YQe?kpe:t%Epe===Cpe?JQe:XQe(t)}const ZQe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function eZe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=ZQe.reduce((n,i)=>(n[i]="function",n),e);return P8(t,r),t}function tZe(t,e,r){if(r<ha)throw new Error("invalid exponent, negatives unsupported");if(r===ha)return t.ONE;if(r===jo)return e;let n=t.ONE,i=e;for(;r>ha;)r&jo&&(n=t.mul(n,i)),i=t.sqr(i),r>>=jo;return n}function Spe(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(n[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(n[l]=t.mul(o,n[l]),t.mul(o,a)),s),n}function KY(t,e){const r=(t.ORDER-jo)/C0,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function rZe(t,e){e!==void 0&&Eh(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function G1(t,e,r=!1,n={}){if(t<=ha)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(r=u.isLE)}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:o,nByteLength:a}=rZe(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:r,BITS:o,BYTES:a,MASK:I8(o),ZERO:ha,ONE:jo,create:u=>$l(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return ha<=u&&u<t},is0:u=>u===ha,isValidNot0:u=>!c.is0(u)&&c.isValid(u),isOdd:u=>(u&jo)===jo,neg:u=>$l(-u,t),eql:(u,h)=>u===h,sqr:u=>$l(u*u,t),add:(u,h)=>$l(u+h,t),sub:(u,h)=>$l(u-h,t),mul:(u,h)=>$l(u*h,t),pow:(u,h)=>tZe(c,u,h),div:(u,h)=>$l(u*GY(h,t),t),sqrN:u=>u*u,addN:(u,h)=>u+h,subN:(u,h)=>u-h,mulN:(u,h)=>u*h,inv:u=>GY(u,t),sqrt:s||(u=>(l||(l=QQe(t)),l(c,u))),toBytes:u=>r?HF(u,a):WF(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return r?hC(u):T8(u)},invertBatch:u=>Spe(c,u),cmov:(u,h,f)=>f?h:u});return Object.freeze(c)}function Ape(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Tpe(t){const e=Ape(t);return e+Math.ceil(e/2)}function nZe(t,e,r=!1){const n=t.length,i=Ape(e),s=Tpe(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?hC(t):T8(t),a=$l(o,e-jo)+jo;return r?HF(a,i):WF(a,i)}const d1=BigInt(0),E0=BigInt(1);function xb(t,e){const r=e.negate();return t?r:e}function iZe(t,e,r){const n=s=>s.pz,i=Spe(t.Fp,r.map(n));return r.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function Ipe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function AT(t,e){Ipe(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=I8(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function YY(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),l=t>>o;a>n&&(a-=s,l+=E0);const c=e*n,u=c+Math.abs(a)-1,h=a===0,f=a<0,p=e%2!==0;return{nextN:l,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:c}}function sZe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function oZe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const TT=new WeakMap,Ppe=new WeakMap;function IT(t){return Ppe.get(t)||1}function JY(t){if(t!==d1)throw new Error("invalid wNAF")}function aZe(t,e){return{constTimeNegate:xb,hasPrecomputes(r){return IT(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>d1;)n&E0&&(i=i.add(s)),s=s.double(),n>>=E0;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=AT(n,e),o=[];let a=r,l=a;for(let c=0;c<i;c++){l=a,o.push(l);for(let u=1;u<s;u++)l=l.add(a),o.push(l);a=l.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=AT(r,e);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:h,isNeg:f,isNegF:p,offsetF:m}=YY(i,l,a);i=c,h?o=o.add(xb(p,n[m])):s=s.add(xb(f,n[u]))}return JY(i),{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=AT(r,e);for(let a=0;a<o.windows&&i!==d1;a++){const{nextN:l,offset:c,isZero:u,isNeg:h}=YY(i,a,o);if(i=l,!u){const f=n[c];s=s.add(h?f.negate():f)}}return JY(i),s},getPrecomputes(r,n,i){let s=TT.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&(typeof i=="function"&&(s=i(s)),TT.set(n,s))),s},wNAFCached(r,n,i){const s=IT(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=IT(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){Ipe(n,e),Ppe.set(r,n),TT.delete(r)}}}function lZe(t,e,r,n){let i=e,s=t.ZERO,o=t.ZERO;for(;r>d1||n>d1;)r&E0&&(s=s.add(i)),n&E0&&(o=o.add(i)),i=i.double(),r>>=E0,n>>=E0;return{p1:s,p2:o}}function cZe(t,e,r,n){sZe(r,t),oZe(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=GQe(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=I8(l),u=new Array(Number(c)+1).fill(o),h=Math.floor((e.BITS-1)/l)*l;let f=o;for(let p=h;p>=0;p-=l){u.fill(o);for(let v=0;v<s;v++){const w=n[v],b=Number(w>>BigInt(p)&c);u[b]=u[b].add(r[v])}let m=o;for(let v=u.length-1,w=o;v>0;v--)w=w.add(u[v]),m=m.add(w);if(f=f.add(m),p!==0)for(let v=0;v<l;v++)f=f.double()}return f}function XY(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return eZe(e),e}else return G1(t)}function uZe(t,e,r={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>d1))throw new Error(`CURVE.${o} must be positive bigint`)}const n=XY(e.p,r.Fp),i=XY(e.n,r.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!n.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const aw=BigInt(0),Sm=BigInt(1),k6=BigInt(2);function dZe(t){return P8(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function hZe(t){const e=dZe(t),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");const l=o||V1,c=a?255:448,u=a?32:56,h=BigInt(a?9:5),f=BigInt(a?121665:39081),p=a?k6**BigInt(254):k6**BigInt(447),m=a?BigInt(8)*k6**BigInt(251)-Sm:BigInt(4)*k6**BigInt(445)-Sm,v=p+m+Sm,w=N=>$l(N,r),b=E(h);function E(N){return HF(w(N),u)}function _(N){const $=ra("u coordinate",N,u);return a&&($[31]&=127),w(hC($))}function A(N){return hC(i(ra("scalar",N,u)))}function C(N,$){const U=F(_($),A(N));if(U===aw)throw new Error("invalid private or public key received");return E(U)}function k(N){return C(N,b)}function P(N,$,U){const O=w(N*($-U));return $=w($-O),U=w(U+O),{x_2:$,x_3:U}}function F(N,$){rO("u",N,aw,r),rO("scalar",$,p,v);const U=$,O=N;let D=Sm,T=aw,I=N,R=Sm,L=aw;for(let q=BigInt(c-1);q>=aw;q--){const G=U>>q&Sm;L^=G,{x_2:D,x_3:I}=P(L,D,I),{x_2:T,x_3:R}=P(L,T,R),L=G;const W=D+T,j=w(W*W),Y=D-T,Q=w(Y*Y),z=j-Q,Z=I+R,ee=I-R,te=w(ee*W),se=w(Z*Y),ce=te+se,ge=te-se;I=w(ce*ce),R=w(O*w(ge*ge)),D=w(j*Q),T=w(z*(j+w(f*z)))}({x_2:D,x_3:I}=P(L,D,I)),{x_2:T,x_3:R}=P(L,T,R);const B=s(T);return w(D*B)}return{scalarMult:C,scalarMultBase:k,getSharedSecret:(N,$)=>C(N,$),getPublicKey:N=>k(N),utils:{randomPrivateKey:()=>l(u)},GuBytes:b.slice()}}BigInt(0);const fZe=BigInt(1),QY=BigInt(2),pZe=BigInt(3),gZe=BigInt(5);BigInt(8);const $pe={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function mZe(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=$pe.p,o=t*t%s*t%s,a=Ic(o,QY,s)*o%s,l=Ic(a,fZe,s)*t%s,c=Ic(l,gZe,s)*l%s,u=Ic(c,e,s)*c%s,h=Ic(u,r,s)*u%s,f=Ic(h,n,s)*h%s,p=Ic(f,i,s)*f%s,m=Ic(p,i,s)*f%s,v=Ic(m,e,s)*c%s;return{pow_p_5_8:Ic(v,QY,s)*t%s,b2:o}}function yZe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const nO=(()=>{const t=$pe.p;return hZe({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=mZe(e);return $l(Ic(r,pZe,t)*n,t)},adjustScalarBytes:yZe})})();function ZY(t){t.lowS!==void 0&&dC("lowS",t.lowS),t.prehash!==void 0&&dC("prehash",t.prehash)}let vZe=class extends Error{constructor(e=""){super(e)}};const rh={Err:vZe,_tlv:{encode:(t,e)=>{const{Err:r}=rh;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=E6(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?E6(i.length/2|128):"";return E6(t)+s+i+e},decode(t,e){const{Err:r}=rh;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");const c=e.subarray(n,n+l);if(c.length!==l)throw new r("tlv.decode: length bytes not complete");if(c[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of c)o=o<<8|u;if(n+=l,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=rh;if(t<_b)throw new e("integer: negative integers are not allowed");let r=E6(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=rh;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return T8(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=rh,i=ra("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=n.decode(2,s),{v:c,l:u}=n.decode(2,l);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(c)}},hexFromSig(t){const{_tlv:e,_int:r}=rh,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},_b=BigInt(0),Cb=BigInt(1),wZe=BigInt(2),S6=BigInt(3),bZe=BigInt(4);function xZe(t,e,r){function n(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),r)}return n}function Npe(t,e,r){const{BYTES:n}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=ra("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(n);l.set(a,l.length-a.length),a=l}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof s}`)}}if(r&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function _Ze(t,e={}){const{Fp:r,Fn:n}=uZe("weierstrass",t,e),{h:i,n:s}=t;P8(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!r.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(F,N,$){const{x:U,y:O}=N.toAffine(),D=r.toBytes(U);if(dC("isCompressed",$),$){a();const T=!r.isOdd(O);return _0(Rpe(T),D)}else return _0(Uint8Array.of(4),D,r.toBytes(O))}function c(F){Jl(F);const N=r.BYTES,$=N+1,U=2*N+1,O=F.length,D=F[0],T=F.subarray(1);if(O===$&&(D===2||D===3)){const I=r.fromBytes(T);if(!r.isValid(I))throw new Error("bad point: is not on curve, wrong x");const R=f(I);let L;try{L=r.sqrt(R)}catch(q){const G=q instanceof Error?": "+q.message:"";throw new Error("bad point: is not on curve, sqrt error"+G)}a();const B=r.isOdd(L);return(D&1)===1!==B&&(L=r.neg(L)),{x:I,y:L}}else if(O===U&&D===4){const I=r.fromBytes(T.subarray(N*0,N*1)),R=r.fromBytes(T.subarray(N*1,N*2));if(!p(I,R))throw new Error("bad point: is not on curve");return{x:I,y:R}}else throw new Error(`bad point: got length ${O}, expected compressed=${$} or uncompressed=${U}`)}const u=e.toBytes||l,h=e.fromBytes||c,f=xZe(r,t.a,t.b);function p(F,N){const $=r.sqr(N),U=f(F);return r.eql($,U)}if(!p(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const m=r.mul(r.pow(t.a,S6),bZe),v=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(m,v)))throw new Error("bad curve params: a or b");function w(F,N,$=!1){if(!r.isValid(N)||$&&r.is0(N))throw new Error(`bad point coordinate ${F}`);return N}function b(F){if(!(F instanceof C))throw new Error("ProjectivePoint expected")}const E=VY((F,N)=>{const{px:$,py:U,pz:O}=F;if(r.eql(O,r.ONE))return{x:$,y:U};const D=F.is0();N==null&&(N=D?r.ONE:r.inv(O));const T=r.mul($,N),I=r.mul(U,N),R=r.mul(O,N);if(D)return{x:r.ZERO,y:r.ZERO};if(!r.eql(R,r.ONE))throw new Error("invZ was invalid");return{x:T,y:I}}),_=VY(F=>{if(F.is0()){if(e.allowInfinityPoint&&!r.is0(F.py))return;throw new Error("bad point: ZERO")}const{x:N,y:$}=F.toAffine();if(!r.isValid(N)||!r.isValid($))throw new Error("bad point: x or y not field elements");if(!p(N,$))throw new Error("bad point: equation left != right");if(!F.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function A(F,N,$,U,O){return $=new C(r.mul($.px,F),$.py,$.pz),N=xb(U,N),$=xb(O,$),N.add($)}class C{constructor(N,$,U){this.px=w("x",N),this.py=w("y",$,!0),this.pz=w("z",U),Object.freeze(this)}static fromAffine(N){const{x:$,y:U}=N||{};if(!N||!r.isValid($)||!r.isValid(U))throw new Error("invalid affine point");if(N instanceof C)throw new Error("projective point not allowed");return r.is0($)&&r.is0(U)?C.ZERO:new C($,U,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){return iZe(C,"pz",N)}static fromBytes(N){return Jl(N),C.fromHex(N)}static fromHex(N){const $=C.fromAffine(h(ra("pointHex",N)));return $.assertValidity(),$}static fromPrivateKey(N){const $=Npe(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return C.BASE.multiply($(N))}static msm(N,$){return cZe(C,n,N,$)}precompute(N=8,$=!0){return P.setWindowSize(this,N),$||this.multiply(S6),this}_setWindowSize(N){this.precompute(N)}assertValidity(){_(this)}hasEvenY(){const{y:N}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(N)}equals(N){b(N);const{px:$,py:U,pz:O}=this,{px:D,py:T,pz:I}=N,R=r.eql(r.mul($,I),r.mul(D,O)),L=r.eql(r.mul(U,I),r.mul(T,O));return R&&L}negate(){return new C(this.px,r.neg(this.py),this.pz)}double(){const{a:N,b:$}=t,U=r.mul($,S6),{px:O,py:D,pz:T}=this;let I=r.ZERO,R=r.ZERO,L=r.ZERO,B=r.mul(O,O),q=r.mul(D,D),G=r.mul(T,T),W=r.mul(O,D);return W=r.add(W,W),L=r.mul(O,T),L=r.add(L,L),I=r.mul(N,L),R=r.mul(U,G),R=r.add(I,R),I=r.sub(q,R),R=r.add(q,R),R=r.mul(I,R),I=r.mul(W,I),L=r.mul(U,L),G=r.mul(N,G),W=r.sub(B,G),W=r.mul(N,W),W=r.add(W,L),L=r.add(B,B),B=r.add(L,B),B=r.add(B,G),B=r.mul(B,W),R=r.add(R,B),G=r.mul(D,T),G=r.add(G,G),B=r.mul(G,W),I=r.sub(I,B),L=r.mul(G,q),L=r.add(L,L),L=r.add(L,L),new C(I,R,L)}add(N){b(N);const{px:$,py:U,pz:O}=this,{px:D,py:T,pz:I}=N;let R=r.ZERO,L=r.ZERO,B=r.ZERO;const q=t.a,G=r.mul(t.b,S6);let W=r.mul($,D),j=r.mul(U,T),Y=r.mul(O,I),Q=r.add($,U),z=r.add(D,T);Q=r.mul(Q,z),z=r.add(W,j),Q=r.sub(Q,z),z=r.add($,O);let Z=r.add(D,I);return z=r.mul(z,Z),Z=r.add(W,Y),z=r.sub(z,Z),Z=r.add(U,O),R=r.add(T,I),Z=r.mul(Z,R),R=r.add(j,Y),Z=r.sub(Z,R),B=r.mul(q,z),R=r.mul(G,Y),B=r.add(R,B),R=r.sub(j,B),B=r.add(j,B),L=r.mul(R,B),j=r.add(W,W),j=r.add(j,W),Y=r.mul(q,Y),z=r.mul(G,z),j=r.add(j,Y),Y=r.sub(W,Y),Y=r.mul(q,Y),z=r.add(z,Y),W=r.mul(j,z),L=r.add(L,W),W=r.mul(Z,z),R=r.mul(Q,R),R=r.sub(R,W),W=r.mul(Q,j),B=r.mul(Z,B),B=r.add(B,W),new C(R,L,B)}subtract(N){return this.add(N.negate())}is0(){return this.equals(C.ZERO)}multiply(N){const{endo:$}=e;if(!n.isValidNot0(N))throw new Error("invalid scalar: out of range");let U,O;const D=T=>P.wNAFCached(this,T,C.normalizeZ);if($){const{k1neg:T,k1:I,k2neg:R,k2:L}=$.splitScalar(N),{p:B,f:q}=D(I),{p:G,f:W}=D(L);O=q.add(W),U=A($.beta,B,G,T,R)}else{const{p:T,f:I}=D(N);U=T,O=I}return C.normalizeZ([U,O])[0]}multiplyUnsafe(N){const{endo:$}=e,U=this;if(!n.isValid(N))throw new Error("invalid scalar: out of range");if(N===_b||U.is0())return C.ZERO;if(N===Cb)return U;if(P.hasPrecomputes(this))return this.multiply(N);if($){const{k1neg:O,k1:D,k2neg:T,k2:I}=$.splitScalar(N),{p1:R,p2:L}=lZe(C,U,D,I);return A($.beta,R,L,O,T)}else return P.wNAFCachedUnsafe(U,N)}multiplyAndAddUnsafe(N,$,U){const O=this.multiplyUnsafe($).add(N.multiplyUnsafe(U));return O.is0()?void 0:O}toAffine(N){return E(this,N)}isTorsionFree(){const{isTorsionFree:N}=e;return i===Cb?!0:N?N(C,this):P.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:N}=e;return i===Cb?this:N?N(C,this):this.multiplyUnsafe(i)}toBytes(N=!0){return dC("isCompressed",N),this.assertValidity(),u(C,this,N)}toRawBytes(N=!0){return this.toBytes(N)}toHex(N=!0){return Y2(this.toBytes(N))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}C.BASE=new C(t.Gx,t.Gy,r.ONE),C.ZERO=new C(r.ZERO,r.ONE,r.ZERO),C.Fp=r,C.Fn=n;const k=n.BITS,P=aZe(C,e.endo?Math.ceil(k/2):k);return C}function Rpe(t){return Uint8Array.of(t?2:3)}function CZe(t,e,r={}){P8(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=e.randomBytes||V1,i=e.hmac||((U,...O)=>S8(e.hash,U,_0(...O))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:l}=o;function c(U){const O=a>>Cb;return U>O}function u(U){return c(U)?o.neg(U):U}function h(U,O){if(!o.isValidNot0(O))throw new Error(`invalid signature ${U}: out of range 1..CURVE.n`)}class f{constructor(O,D,T){h("r",O),h("s",D),this.r=O,this.s=D,T!=null&&(this.recovery=T),Object.freeze(this)}static fromCompact(O){const D=o.BYTES,T=ra("compactSignature",O,D*2);return new f(o.fromBytes(T.subarray(0,D)),o.fromBytes(T.subarray(D,D*2)))}static fromDER(O){const{r:D,s:T}=rh.toSig(ra("DER",O));return new f(D,T)}assertValidity(){}addRecoveryBit(O){return new f(this.r,this.s,O)}recoverPublicKey(O){const D=s.ORDER,{r:T,s:I,recovery:R}=this;if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");if(a*wZe<D&&R>1)throw new Error("recovery id is ambiguous for h>1 curve");const L=R===2||R===3?T+a:T;if(!s.isValid(L))throw new Error("recovery id 2 or 3 invalid");const B=s.toBytes(L),q=t.fromHex(_0(Rpe((R&1)===0),B)),G=o.inv(L),W=_(ra("msgHash",O)),j=o.create(-W*G),Y=o.create(I*G),Q=t.BASE.multiplyUnsafe(j).add(q.multiplyUnsafe(Y));if(Q.is0())throw new Error("point at infinify");return Q.assertValidity(),Q}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,o.neg(this.s),this.recovery):this}toBytes(O){if(O==="compact")return _0(o.toBytes(this.r),o.toBytes(this.s));if(O==="der")return UF(rh.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Y2(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Y2(this.toBytes("compact"))}}const p=Npe(o,r.allowedPrivateKeyLengths,r.wrapPrivateKey),m={isValidPrivateKey(U){try{return p(U),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const U=a;return nZe(n(Tpe(U)),U)},precompute(U=8,O=t.BASE){return O.precompute(U,!1)}};function v(U,O=!0){return t.fromPrivateKey(U).toBytes(O)}function w(U){if(typeof U=="bigint")return!1;if(U instanceof t)return!0;const O=ra("key",U).length,D=s.BYTES,T=D+1,I=2*D+1;if(!(r.allowedPrivateKeyLengths||o.BYTES===T))return O===T||O===I}function b(U,O,D=!0){if(w(U)===!0)throw new Error("first arg must be private key");if(w(O)===!1)throw new Error("second arg must be public key");return t.fromHex(O).multiply(p(U)).toBytes(D)}const E=e.bits2int||function(U){if(U.length>8192)throw new Error("input is too large");const O=T8(U),D=U.length*8-l;return D>0?O>>BigInt(D):O},_=e.bits2int_modN||function(U){return o.create(E(U))},A=I8(l);function C(U){return rO("num < 2^"+l,U,_b,A),o.toBytes(U)}function k(U,O,D=P){if(["recovered","canonical"].some(Q=>Q in D))throw new Error("sign() legacy options not supported");const{hash:T}=e;let{lowS:I,prehash:R,extraEntropy:L}=D;I==null&&(I=!0),U=ra("msgHash",U),ZY(D),R&&(U=ra("prehashed msgHash",T(U)));const B=_(U),q=p(O),G=[C(q),C(B)];if(L!=null&&L!==!1){const Q=L===!0?n(s.BYTES):L;G.push(ra("extraEntropy",Q))}const W=_0(...G),j=B;function Y(Q){const z=E(Q);if(!o.isValidNot0(z))return;const Z=o.inv(z),ee=t.BASE.multiply(z).toAffine(),te=o.create(ee.x);if(te===_b)return;const se=o.create(Z*o.create(j+te*q));if(se===_b)return;let ce=(ee.x===te?0:2)|Number(ee.y&Cb),ge=se;return I&&c(se)&&(ge=u(se),ce^=1),new f(te,ge,ce)}return{seed:W,k2sig:Y}}const P={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function N(U,O,D=P){const{seed:T,k2sig:I}=k(U,O,D);return KQe(e.hash.outputLen,o.BYTES,i)(T,I)}t.BASE.precompute(8);function $(U,O,D,T=F){const I=U;O=ra("msgHash",O),D=ra("publicKey",D),ZY(T);const{lowS:R,prehash:L,format:B}=T;if("strict"in T)throw new Error("options.strict was renamed to lowS");if(B!==void 0&&!["compact","der","js"].includes(B))throw new Error('format must be "compact", "der" or "js"');const q=typeof I=="string"||DF(I),G=!q&&!B&&typeof I=="object"&&I!==null&&typeof I.r=="bigint"&&typeof I.s=="bigint";if(!q&&!G)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let W,j;try{if(G)if(B===void 0||B==="js")W=new f(I.r,I.s);else throw new Error("invalid format");if(q){try{B!=="compact"&&(W=f.fromDER(I))}catch(ce){if(!(ce instanceof rh.Err))throw ce}!W&&B!=="der"&&(W=f.fromCompact(I))}j=t.fromHex(D)}catch{return!1}if(!W||R&&W.hasHighS())return!1;L&&(O=e.hash(O));const{r:Y,s:Q}=W,z=_(O),Z=o.inv(Q),ee=o.create(z*Z),te=o.create(Y*Z),se=t.BASE.multiplyUnsafe(ee).add(j.multiplyUnsafe(te));return se.is0()?!1:o.create(se.x)===Y}return Object.freeze({getPublicKey:v,getSharedSecret:b,sign:N,verify:$,utils:m,Point:t,Signature:f})}function EZe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=G1(e.n,t.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function kZe(t){const{CURVE:e,curveOpts:r}=EZe(t),n={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,ecdsaOpts:n}}function SZe(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function AZe(t){const{CURVE:e,curveOpts:r,ecdsaOpts:n}=kZe(t),i=_Ze(e,r),s=CZe(i,n,r);return SZe(t,s)}function iO(t,e){const r=n=>AZe({...t,hash:n});return{...r(e),create:r}}const Ope={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},jpe={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Mpe={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},TZe=G1(Ope.p),IZe=G1(jpe.p),PZe=G1(Mpe.p),$Ze=iO({...Ope,Fp:TZe,lowS:!1},k8);iO({...jpe,Fp:IZe,lowS:!1},LXe),iO({...Mpe,Fp:PZe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},FXe);const NZe=$Ze,Dpe="base10",Mo="base16",oa="base64pad",jf="base64url",o3="utf8",Fpe=0,fh=1,a3=2,RZe=0,eJ=1,Eb=12,VF=32;function OZe(){const t=nO.utils.randomPrivateKey(),e=nO.getPublicKey(t);return{privateKey:pa(t,Mo),publicKey:pa(e,Mo)}}function sO(){const t=V1(VF);return pa(t,Mo)}function jZe(t,e){const r=nO.getSharedSecret(Fl(t,Mo),Fl(e,Mo)),n=HQe(A8,r,void 0,void 0,VF);return pa(n,Mo)}function J4(t){const e=A8(Fl(t,Mo));return pa(e,Mo)}function Tl(t){const e=A8(Fl(t,o3));return pa(e,Mo)}function Lpe(t){return Fl(`${t}`,Dpe)}function ig(t){return Number(pa(t,Dpe))}function Upe(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Bpe(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function MZe(t){const e=Lpe(typeof t.type<"u"?t.type:Fpe);if(ig(e)===fh&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?Fl(t.senderPublicKey,Mo):void 0,n=typeof t.iv<"u"?Fl(t.iv,Mo):V1(Eb),i=Fl(t.symKey,Mo),s=wpe(i,n).encrypt(Fl(t.message,o3)),o=zpe({type:e,sealed:s,iv:n,senderPublicKey:r});return t.encoding===jf?Upe(o):o}function DZe(t){const e=Fl(t.symKey,Mo),{sealed:r,iv:n}=X2({encoded:t.encoded,encoding:t.encoding}),i=wpe(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return pa(i,o3)}function FZe(t,e){const r=Lpe(a3),n=V1(Eb),i=Fl(t,o3),s=zpe({type:r,sealed:i,iv:n});return e===jf?Upe(s):s}function LZe(t,e){const{sealed:r}=X2({encoded:t,encoding:e});return pa(r,o3)}function zpe(t){if(ig(t.type)===a3)return pa(bb([t.type,t.sealed]),oa);if(ig(t.type)===fh){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return pa(bb([t.type,t.senderPublicKey,t.iv,t.sealed]),oa)}return pa(bb([t.type,t.iv,t.sealed]),oa)}function X2(t){const e=(t.encoding||oa)===jf?Bpe(t.encoded):t.encoded,r=Fl(e,oa),n=r.slice(RZe,eJ),i=eJ;if(ig(n)===fh){const l=i+VF,c=l+Eb,u=r.slice(i,l),h=r.slice(l,c),f=r.slice(c);return{type:n,sealed:f,iv:h,senderPublicKey:u}}if(ig(n)===a3){const l=r.slice(i),c=V1(Eb);return{type:n,sealed:l,iv:c}}const s=i+Eb,o=r.slice(i,s),a=r.slice(s);return{type:n,sealed:a,iv:o}}function UZe(t,e){const r=X2({encoded:t,encoding:e?.encoding});return qpe({type:ig(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?pa(r.senderPublicKey,Mo):void 0,receiverPublicKey:e?.receiverPublicKey})}function qpe(t){const e=t?.type||Fpe;if(e===fh){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function tJ(t){return t.type===fh&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function rJ(t){return t.type===a3}function BZe(t){const e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return bb([new Uint8Array([4]),e,r])}function zZe(t,e){const[r,n,i]=t.split("."),s=Buffer.from(Bpe(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),l=`${r}.${n}`,c=A8(l),u=BZe(e);if(!NZe.verify(bb([o,a]),c,u))throw new Error("Invalid signature");return VR(t).payload}const qZe="irn";function fC(t){return t?.relay||{protocol:qZe}}function yy(t){const e=kJe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function WZe(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function nJ(t){if(!t.includes("wc:")){const c=epe(t);c!=null&&c.includes("wc:")&&(t=c)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(s),a={};o.forEach((c,u)=>{a[u]=c});const l=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:HZe(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:WZe(a),methods:l,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function HZe(t){return t.startsWith("//")?t.substring(2):t}function VZe(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=i,o=r+e+s;t[s]&&(n[o]=t[s])}),n}function iJ(t){const e=new URLSearchParams,r=VZe(t.relay);Object.keys(r).sort().forEach(i=>{e.set(i,r[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}function A6(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}var GZe=Object.defineProperty,KZe=Object.defineProperties,YZe=Object.getOwnPropertyDescriptors,sJ=Object.getOwnPropertySymbols,JZe=Object.prototype.hasOwnProperty,XZe=Object.prototype.propertyIsEnumerable,oJ=(t,e,r)=>e in t?GZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,QZe=(t,e)=>{for(var r in e||(e={}))JZe.call(e,r)&&oJ(t,r,e[r]);if(sJ)for(var r of sJ(e))XZe.call(e,r)&&oJ(t,r,e[r]);return t},ZZe=(t,e)=>KZe(t,YZe(e));function K1(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function eet(t){const e=[];return Object.values(t).forEach(r=>{e.push(...K1(r.accounts))}),e}function tet(t,e){const r=[];return Object.values(t).forEach(n=>{K1(n.accounts).includes(e)&&r.push(...n.methods)}),r}function ret(t,e){const r=[];return Object.values(t).forEach(n=>{K1(n.accounts).includes(e)&&r.push(...n.events)}),r}function $8(t){return t.includes(":")}function vy(t){return $8(t)?t.split(":")[0]:t}function aJ(t){var e,r,n;const i={};if(!ad(t))return i;for(const[s,o]of Object.entries(t)){const a=$8(s)?[s]:o.chains,l=o.methods||[],c=o.events||[],u=vy(s);i[u]=ZZe(QZe({},i[u]),{chains:od(a,(e=i[u])==null?void 0:e.chains),methods:od(l,(r=i[u])==null?void 0:r.methods),events:od(c,(n=i[u])==null?void 0:n.events)})}return i}function net(t){const e={};return t?.forEach(r=>{var n;const[i,s]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function lJ(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=net(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=od(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}function iet(t,e){var r,n,i,s,o,a;const l=aJ(t),c=aJ(e),u={},h=Object.keys(l).concat(Object.keys(c));for(const f of h)u[f]={chains:od((r=l[f])==null?void 0:r.chains,(n=c[f])==null?void 0:n.chains),methods:od((i=l[f])==null?void 0:i.methods,(s=c[f])==null?void 0:s.methods),events:od((o=l[f])==null?void 0:o.events,(a=c[f])==null?void 0:a.events)};return u}const set={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},oet={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function St(t,e){const{message:r,code:n}=oet[t];return{message:e?`${r} ${e}`:r,code:n}}function Dn(t,e){const{message:r,code:n}=set[t];return{message:e?`${r} ${e}`:r,code:n}}function Bl(t,e){return!!Array.isArray(t)}function ad(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Yi(t){return typeof t>"u"}function Pi(t,e){return e&&Yi(t)?!0:typeof t=="string"&&!!t.trim().length}function GF(t,e){return e&&Yi(t)?!0:typeof t=="number"&&!isNaN(t)}function aet(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return x0(i,n)?(n.forEach(o=>{const{accounts:a,methods:l,events:c}=t.namespaces[o],u=K1(a),h=r[o];(!x0(Yfe(o,h),u)||!x0(h.methods,l)||!x0(h.events,c))&&(s=!1)}),s):!1}function pC(t){return Pi(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function cet(t){if(Pi(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&pC(r)}}return!1}function uet(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Pi(t,!1)){if(e(t))return!0;const r=epe(t);return e(r)}}catch{}return!1}function det(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function het(t){return t?.topic}function fet(t,e){let r=null;return Pi(t?.publicKey,!1)||(r=St("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function cJ(t){let e=!0;return Bl(t)?t.length&&(e=t.every(r=>Pi(r,!1))):e=!1,e}function pet(t,e,r){let n=null;return Bl(e)&&e.length?e.forEach(i=>{n||pC(i)||(n=Dn("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):pC(t)||(n=Dn("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function get(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=pet(i,Yfe(i,s),`${e} ${r}`);o&&(n=o)}),n}function met(t,e){let r=null;return Bl(t)?t.forEach(n=>{r||cet(n)||(r=Dn("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Dn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function yet(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=met(n?.accounts,`${e} namespace`);i&&(r=i)}),r}function vet(t,e){let r=null;return cJ(t?.methods)?cJ(t?.events)||(r=Dn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Dn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function Wpe(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=vet(n,`${e}, namespace`);i&&(r=i)}),r}function wet(t,e,r){let n=null;if(t&&ad(t)){const i=Wpe(t,e);i&&(n=i);const s=get(t,e,r);s&&(n=s)}else n=St("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function PT(t,e){let r=null;if(t&&ad(t)){const n=Wpe(t,e);n&&(r=n);const i=yet(t,e);i&&(r=i)}else r=St("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function Hpe(t){return Pi(t.protocol,!0)}function bet(t,e){let r=!1;return t?t&&Bl(t)&&t.length&&t.forEach(n=>{r=Hpe(n)}):r=!0,r}function xet(t){return typeof t=="number"}function ea(t){return typeof t<"u"&&typeof t!==null}function _et(t){return!(!t||typeof t!="object"||!t.code||!GF(t.code,!1)||!t.message||!Pi(t.message,!1))}function Cet(t){return!(Yi(t)||!Pi(t.method,!1))}function Eet(t){return!(Yi(t)||Yi(t.result)&&Yi(t.error)||!GF(t.id,!1)||!Pi(t.jsonrpc,!1))}function ket(t){return!(Yi(t)||!Pi(t.name,!1))}function uJ(t,e){return!(!pC(e)||!eet(t).includes(e))}function Aet(t,e,r){return Pi(r,!1)?tet(t,e).includes(r):!1}function Tet(t,e,r){return Pi(r,!1)?ret(t,e).includes(r):!1}function dJ(t,e,r){let n=null;const i=Iet(t),s=Pet(e),o=Object.keys(i),a=Object.keys(s),l=hJ(Object.keys(t)),c=hJ(Object.keys(e)),u=l.filter(h=>!c.includes(h));return u.length&&(n=St("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),x0(o,a)||(n=St("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(":")||n)return;const f=K1(e[h].accounts);f.includes(h)||(n=St("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${h}
        Required: ${h}
        Approved: ${f.toString()}`))}),o.forEach(h=>{n||(x0(i[h].methods,s[h].methods)?x0(i[h].events,s[h].events)||(n=St("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${h}`)):n=St("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${h}`))}),n}function Iet(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function hJ(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Pet(t){const e={};return Object.keys(t).forEach(r=>{r.includes(":")?e[r]=t[r]:K1(t[r].accounts)?.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}),e}function $et(t,e){return GF(t,!1)&&t<=e.max&&t>=e.min}function fJ(){const t=i3();return new Promise(e=>{switch(t){case Ga.browser:e(Net());break;case Ga.reactNative:e(Ret());break;case Ga.node:e(Oet());break;default:e(!0)}})}function Net(){return H1()&&navigator?.onLine}async function Ret(){return yp()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function Oet(){return!0}function jet(t){switch(i3()){case Ga.browser:Met(t);break;case Ga.reactNative:Det(t);break}}function Met(t){!yp()&&H1()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Det(t){yp()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function Fet(){var t;return H1()&&Ch.getDocument()?((t=Ch.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const $T={};let lw=class{static get(e){return $T[e]}static set(e,r){$T[e]=r}static delete(e){delete $T[e]}};function Let(t){const e=t3.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function Uet({publicKey:t,signature:e,payload:r}){var n;const i=oO(r.method),s=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),o=qet(r.address),a=r.era==="00"?new Uint8Array([0]):oO(r.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const l=parseInt(r.nonce,16),c=new Uint8Array([l&255,l>>8&255]),u=BigInt(`0x${zet(r.tip)}`),h=Het(u),f=new Uint8Array([0,...t,o,...e,...a,...c,...h,...i]),p=Wet(f.length+1);return new Uint8Array([...p,s,...f])}function Bet(t){const e=oO(t),r=IJe.blake2b(e,void 0,32);return"0x"+Buffer.from(r).toString("hex")}function oO(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function zet(t){return t.startsWith("0x")?t.slice(2):t}function qet(t){const e=t3.decode(t)[0];return e===42?0:e===60?2:1}function Wet(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function Het(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function Vet(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),r=Let(t.transaction.address),n=Uet({publicKey:r,signature:e,payload:t.transaction}),i=Buffer.from(n).toString("hex");return Bet(i)}class _g{}let Get=class extends _g{constructor(e){super()}};const pJ=At.FIVE_SECONDS,Cg={pulse:"heartbeat_pulse"};let Ket=class Vpe extends Get{constructor(e){super(e),this.events=new il.EventEmitter,this.interval=pJ,this.interval=e?.interval||pJ}static async init(e){const r=new Vpe(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),At.toMiliseconds(this.interval))}pulse(){this.events.emit(Cg.pulse)}};function Yet(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function os(t,...e){try{return Yet(t(...e))}catch(r){return Promise.reject(r)}}function Jet(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Xet(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function X4(t){if(Jet(t))return String(t);if(Xet(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return X4(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const aO="base64:";function Qet(t){return typeof t=="string"?t:aO+ttt(t)}function Zet(t){return typeof t!="string"||!t.startsWith(aO)?t:ett(t.slice(aO.length))}function ett(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function ttt(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Zo(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function rtt(...t){return Zo(t.join(":"))}function T6(t){return t=Zo(t),t?t+":":""}function ntt(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function itt(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const stt="memory",ott=()=>{const t=new Map;return{name:stt,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function att(t={}){const e={mounts:{"":t.driver||ott()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=c=>{for(const u of e.mountpoints)if(c.startsWith(u))return{base:u,relativeKey:c.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:c,driver:e.mounts[""]}},n=(c,u)=>e.mountpoints.filter(h=>h.startsWith(c)||u&&c.startsWith(h)).map(h=>({relativeBase:c.length>h.length?c.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),i=(c,u)=>{if(e.watching){u=Zo(u);for(const h of e.watchListeners)h(c,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const c in e.mounts)e.unwatch[c]=await gJ(e.mounts[c],i,c)}},o=async()=>{if(e.watching){for(const c in e.unwatch)await e.unwatch[c]();e.unwatch={},e.watching=!1}},a=(c,u,h)=>{const f=new Map,p=m=>{let v=f.get(m.base);return v||(v={driver:m.driver,base:m.base,items:[]},f.set(m.base,v)),v};for(const m of c){const v=typeof m=="string",w=Zo(v?m:m.key),b=v?void 0:m.value,E=v||!m.options?u:{...u,...m.options},_=r(w);p(_).items.push({key:w,value:b,relativeKey:_.relativeKey,options:E})}return Promise.all([...f.values()].map(m=>h(m))).then(m=>m.flat())},l={hasItem(c,u={}){c=Zo(c);const{relativeKey:h,driver:f}=r(c);return os(f.hasItem,h,u)},getItem(c,u={}){c=Zo(c);const{relativeKey:h,driver:f}=r(c);return os(f.getItem,h,u).then(p=>zw(p))},getItems(c,u={}){return a(c,u,h=>h.driver.getItems?os(h.driver.getItems,h.items.map(f=>({key:f.relativeKey,options:f.options})),u).then(f=>f.map(p=>({key:rtt(h.base,p.key),value:zw(p.value)}))):Promise.all(h.items.map(f=>os(h.driver.getItem,f.relativeKey,f.options).then(p=>({key:f.key,value:zw(p)})))))},getItemRaw(c,u={}){c=Zo(c);const{relativeKey:h,driver:f}=r(c);return f.getItemRaw?os(f.getItemRaw,h,u):os(f.getItem,h,u).then(p=>Zet(p))},async setItem(c,u,h={}){if(u===void 0)return l.removeItem(c);c=Zo(c);const{relativeKey:f,driver:p}=r(c);p.setItem&&(await os(p.setItem,f,X4(u),h),p.watch||i("update",c))},async setItems(c,u){await a(c,u,async h=>{if(h.driver.setItems)return os(h.driver.setItems,h.items.map(f=>({key:f.relativeKey,value:X4(f.value),options:f.options})),u);h.driver.setItem&&await Promise.all(h.items.map(f=>os(h.driver.setItem,f.relativeKey,X4(f.value),f.options)))})},async setItemRaw(c,u,h={}){if(u===void 0)return l.removeItem(c,h);c=Zo(c);const{relativeKey:f,driver:p}=r(c);if(p.setItemRaw)await os(p.setItemRaw,f,u,h);else if(p.setItem)await os(p.setItem,f,Qet(u),h);else return;p.watch||i("update",c)},async removeItem(c,u={}){typeof u=="boolean"&&(u={removeMeta:u}),c=Zo(c);const{relativeKey:h,driver:f}=r(c);f.removeItem&&(await os(f.removeItem,h,u),(u.removeMeta||u.removeMata)&&await os(f.removeItem,h+"$",u),f.watch||i("remove",c))},async getMeta(c,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),c=Zo(c);const{relativeKey:h,driver:f}=r(c),p=Object.create(null);if(f.getMeta&&Object.assign(p,await os(f.getMeta,h,u)),!u.nativeOnly){const m=await os(f.getItem,h+"$",u).then(v=>zw(v));m&&typeof m=="object"&&(typeof m.atime=="string"&&(m.atime=new Date(m.atime)),typeof m.mtime=="string"&&(m.mtime=new Date(m.mtime)),Object.assign(p,m))}return p},setMeta(c,u,h={}){return this.setItem(c+"$",u,h)},removeMeta(c,u={}){return this.removeItem(c+"$",u)},async getKeys(c,u={}){c=T6(c);const h=n(c,!0);let f=[];const p=[];let m=!0;for(const w of h){w.driver.flags?.maxDepth||(m=!1);const b=await os(w.driver.getKeys,w.relativeBase,u);for(const E of b){const _=w.mountpoint+Zo(E);f.some(A=>_.startsWith(A))||p.push(_)}f=[w.mountpoint,...f.filter(E=>!E.startsWith(w.mountpoint))]}const v=u.maxDepth!==void 0&&!m;return p.filter(w=>(!v||ntt(w,u.maxDepth))&&itt(w,c))},async clear(c,u={}){c=T6(c),await Promise.all(n(c,!1).map(async h=>{if(h.driver.clear)return os(h.driver.clear,h.relativeBase,u);if(h.driver.removeItem){const f=await h.driver.getKeys(h.relativeBase||"",u);return Promise.all(f.map(p=>h.driver.removeItem(p,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(c=>mJ(c)))},async watch(c){return await s(),e.watchListeners.push(c),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==c),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(c,u){if(c=T6(c),c&&e.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(e.mountpoints.push(c),e.mountpoints.sort((h,f)=>f.length-h.length)),e.mounts[c]=u,e.watching&&Promise.resolve(gJ(u,i,c)).then(h=>{e.unwatch[c]=h}).catch(console.error),l},async unmount(c,u=!0){c=T6(c),!(!c||!e.mounts[c])&&(e.watching&&c in e.unwatch&&(e.unwatch[c]?.(),delete e.unwatch[c]),u&&await mJ(e.mounts[c]),e.mountpoints=e.mountpoints.filter(h=>h!==c),delete e.mounts[c])},getMount(c=""){c=Zo(c)+":";const u=r(c);return{driver:u.driver,base:u.base}},getMounts(c="",u={}){return c=Zo(c),n(c,u.parents).map(f=>({driver:f.driver,base:f.mountpoint}))},keys:(c,u={})=>l.getKeys(c,u),get:(c,u={})=>l.getItem(c,u),set:(c,u,h={})=>l.setItem(c,u,h),has:(c,u={})=>l.hasItem(c,u),del:(c,u={})=>l.removeItem(c,u),remove:(c,u={})=>l.removeItem(c,u)};return l}function gJ(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function mJ(t){typeof t.dispose=="function"&&await os(t.dispose)}function Eg(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function Gpe(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=Eg(r);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}let NT;function l3(){return NT||(NT=Gpe("keyval-store","keyval")),NT}function yJ(t,e=l3()){return e("readonly",r=>Eg(r.get(t)))}function ltt(t,e,r=l3()){return r("readwrite",n=>(n.put(e,t),Eg(n.transaction)))}function ctt(t,e=l3()){return e("readwrite",r=>(r.delete(t),Eg(r.transaction)))}function utt(t=l3()){return t("readwrite",e=>(e.clear(),Eg(e.transaction)))}function dtt(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Eg(t.transaction)}function htt(t=l3()){return t("readonly",e=>{if(e.getAllKeys)return Eg(e.getAllKeys());const r=[];return dtt(e,n=>r.push(n.key)).then(()=>r)})}const ftt="idb-keyval";var ptt=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=Gpe(t.dbName,t.storeName)),{name:ftt,options:t,async hasItem(i){return!(typeof await yJ(r(i),n)>"u")},async getItem(i){return await yJ(r(i),n)??null},setItem(i,s){return ltt(r(i),s,n)},removeItem(i){return ctt(r(i),n)},getKeys(){return htt(n)},clear(){return utt(n)}}};const gtt="WALLET_CONNECT_V2_INDEXED_DB",mtt="keyvaluestorage";let ytt=class{constructor(){this.indexedDb=att({driver:ptt({dbName:gtt,storeName:mtt})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,su(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var RT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q4={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof RT<"u"&&RT.localStorage?Q4.exports=RT.localStorage:typeof window<"u"&&window.localStorage?Q4.exports=window.localStorage:Q4.exports=new e})();function vtt(t){var e;return[t[0],rg((e=t[1])!=null?e:"")]}let wtt=class{constructor(){this.localStorage=Q4.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(vtt)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return rg(r)}async setItem(e,r){this.localStorage.setItem(e,su(r))}async removeItem(e){this.localStorage.removeItem(e)}};const btt="wc_storage_version",vJ=1,xtt=async(t,e,r)=>{const n=btt,i=await e.getItem(n);if(i&&i>=vJ){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const l=a.toLowerCase();if(l.includes("wc@")||l.includes("walletconnect")||l.includes("wc_")||l.includes("wallet_connect")){const c=await t.getItem(a);await e.setItem(a,c),o.push(a)}}await e.setItem(n,vJ),r(e),_tt(t,o)},_tt=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let Ctt=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new wtt;this.storage=e;try{const r=new ytt;xtt(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};var OT,wJ;function KF(){if(wJ)return OT;wJ=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}OT=e;function e(r,n,i){var s=i&&i.stringify||t,o=1;if(typeof r=="object"&&r!==null){var a=n.length+o;if(a===1)return r;var l=new Array(a);l[0]=s(r);for(var c=1;c<a;c++)l[c]=s(n[c]);return l.join(" ")}if(typeof r!="string")return r;var u=n.length;if(u===0)return r;for(var h="",f=1-o,p=-1,m=r&&r.length||0,v=0;v<m;){if(r.charCodeAt(v)===37&&v+1<m){switch(p=p>-1?p:0,r.charCodeAt(v+1)){case 100:case 102:if(f>=u||n[f]==null)break;p<v&&(h+=r.slice(p,v)),h+=Number(n[f]),p=v+2,v++;break;case 105:if(f>=u||n[f]==null)break;p<v&&(h+=r.slice(p,v)),h+=Math.floor(Number(n[f])),p=v+2,v++;break;case 79:case 111:case 106:if(f>=u||n[f]===void 0)break;p<v&&(h+=r.slice(p,v));var w=typeof n[f];if(w==="string"){h+="'"+n[f]+"'",p=v+2,v++;break}if(w==="function"){h+=n[f].name||"<anonymous>",p=v+2,v++;break}h+=s(n[f]),p=v+2,v++;break;case 115:if(f>=u)break;p<v&&(h+=r.slice(p,v)),h+=String(n[f]),p=v+2,v++;break;case 37:p<v&&(h+=r.slice(p,v)),h+="%",p=v+2,v++,f--;break}++f}++v}return p===-1?r:(p<m&&(h+=r.slice(p)),h)}return OT}var jT,bJ;function Ett(){if(bJ)return jT;bJ=1;const t=KF();jT=i;const e=C().console||{},r={mapHttpRequest:m,mapHttpResponse:m,wrapRequestSerializer:v,wrapResponseSerializer:v,wrapErrorSerializer:v,req:m,res:m,err:f};function n(k,P){return Array.isArray(k)?k.filter(function(N){return N!=="!stdSerializers.err"}):k===!0?Object.keys(P):!1}function i(k){k=k||{},k.browser=k.browser||{};const P=k.browser.transmit;if(P&&typeof P.send!="function")throw Error("pino: transmit option must have a send function");const F=k.browser.write||e;k.browser.write&&(k.browser.asObject=!0);const N=k.serializers||{},$=n(k.browser.serialize,N);let U=k.browser.serialize;Array.isArray(k.browser.serialize)&&k.browser.serialize.indexOf("!stdSerializers.err")>-1&&(U=!1);const O=["error","fatal","warn","info","debug","trace"];typeof F=="function"&&(F.error=F.fatal=F.warn=F.info=F.debug=F.trace=F),k.enabled===!1&&(k.level="silent");const D=k.level||"info",T=Object.create(F);T.log||(T.log=w),Object.defineProperty(T,"levelVal",{get:R}),Object.defineProperty(T,"level",{get:L,set:B});const I={transmit:P,serialize:$,asObject:k.browser.asObject,levels:O,timestamp:p(k)};T.levels=i.levels,T.level=D,T.setMaxListeners=T.getMaxListeners=T.emit=T.addListener=T.on=T.prependListener=T.once=T.prependOnceListener=T.removeListener=T.removeAllListeners=T.listeners=T.listenerCount=T.eventNames=T.write=T.flush=w,T.serializers=N,T._serialize=$,T._stdErrSerialize=U,T.child=q,P&&(T._logEvent=h());function R(){return this.level==="silent"?1/0:this.levels.values[this.level]}function L(){return this._level}function B(G){if(G!=="silent"&&!this.levels.values[G])throw Error("unknown level "+G);this._level=G,s(I,T,"error","log"),s(I,T,"fatal","error"),s(I,T,"warn","error"),s(I,T,"info","log"),s(I,T,"debug","log"),s(I,T,"trace","log")}function q(G,W){if(!G)throw new Error("missing bindings for child Pino");W=W||{},$&&G.serializers&&(W.serializers=G.serializers);const j=W.serializers;if($&&j){var Y=Object.assign({},N,j),Q=k.browser.serialize===!0?Object.keys(Y):$;delete G.serializers,l([G],Q,Y,this._stdErrSerialize)}function z(Z){this._childLevel=(Z._childLevel|0)+1,this.error=c(Z,G,"error"),this.fatal=c(Z,G,"fatal"),this.warn=c(Z,G,"warn"),this.info=c(Z,G,"info"),this.debug=c(Z,G,"debug"),this.trace=c(Z,G,"trace"),Y&&(this.serializers=Y,this._serialize=Q),P&&(this._logEvent=h([].concat(Z._logEvent.bindings,G)))}return z.prototype=this,new z(this)}return T}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=r,i.stdTimeFunctions=Object.assign({},{nullTime:b,epochTime:E,unixTime:_,isoTime:A});function s(k,P,F,N){const $=Object.getPrototypeOf(P);P[F]=P.levelVal>P.levels.values[F]?w:$[F]?$[F]:e[F]||e[N]||w,o(k,P,F)}function o(k,P,F){!k.transmit&&P[F]===w||(P[F]=(function(N){return function(){const U=k.timestamp(),O=new Array(arguments.length),D=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var T=0;T<O.length;T++)O[T]=arguments[T];if(k.serialize&&!k.asObject&&l(O,this._serialize,this.serializers,this._stdErrSerialize),k.asObject?N.call(D,a(this,F,O,U)):N.apply(D,O),k.transmit){const I=k.transmit.level||P.level,R=i.levels.values[I],L=i.levels.values[F];if(L<R)return;u(this,{ts:U,methodLevel:F,methodValue:L,transmitValue:i.levels.values[k.transmit.level||P.level],send:k.transmit.send,val:P.levelVal},O)}}})(P[F]))}function a(k,P,F,N){k._serialize&&l(F,k._serialize,k.serializers,k._stdErrSerialize);const $=F.slice();let U=$[0];const O={};N&&(O.time=N),O.level=i.levels.values[P];let D=(k._childLevel|0)+1;if(D<1&&(D=1),U!==null&&typeof U=="object"){for(;D--&&typeof $[0]=="object";)Object.assign(O,$.shift());U=$.length?t($.shift(),$):void 0}else typeof U=="string"&&(U=t($.shift(),$));return U!==void 0&&(O.msg=U),O}function l(k,P,F,N){for(const $ in k)if(N&&k[$]instanceof Error)k[$]=i.stdSerializers.err(k[$]);else if(typeof k[$]=="object"&&!Array.isArray(k[$]))for(const U in k[$])P&&P.indexOf(U)>-1&&U in F&&(k[$][U]=F[U](k[$][U]))}function c(k,P,F){return function(){const N=new Array(1+arguments.length);N[0]=P;for(var $=1;$<N.length;$++)N[$]=arguments[$-1];return k[F].apply(this,N)}}function u(k,P,F){const N=P.send,$=P.ts,U=P.methodLevel,O=P.methodValue,D=P.val,T=k._logEvent.bindings;l(F,k._serialize||Object.keys(k.serializers),k.serializers,k._stdErrSerialize===void 0?!0:k._stdErrSerialize),k._logEvent.ts=$,k._logEvent.messages=F.filter(function(I){return T.indexOf(I)===-1}),k._logEvent.level.label=U,k._logEvent.level.value=O,N(U,k._logEvent,D),k._logEvent=h(T)}function h(k){return{ts:0,messages:[],bindings:k||[],level:{label:"",value:0}}}function f(k){const P={type:k.constructor.name,msg:k.message,stack:k.stack};for(const F in k)P[F]===void 0&&(P[F]=k[F]);return P}function p(k){return typeof k.timestamp=="function"?k.timestamp:k.timestamp===!1?b:E}function m(){return{}}function v(k){return k}function w(){}function b(){return!1}function E(){return Date.now()}function _(){return Math.round(Date.now()/1e3)}function A(){return new Date(Date.now()).toISOString()}function C(){function k(P){return typeof P<"u"&&P}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return k(self)||k(window)||k(this)||{}}}return jT}var ry=Ett();const YF=Mi(ry),ktt={level:"info"},c3="custom_context",JF=1e3*1024;let Stt=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},xJ=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new Stt(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},Kpe=class{constructor(e,r=JF){this.level=e??"error",this.levelValue=ry.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new xJ(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===ry.levels.values.error?console.error(e):r===ry.levels.values.warn?console.warn(e):r===ry.levels.values.debug?console.debug(e):r===ry.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(su({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new xJ(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(su({extraMetadata:e})),new Blob(r,{type:"application/json"})}},Att=class{constructor(e,r=JF){this.baseChunkLogger=new Kpe(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},Ttt=class{constructor(e,r=JF){this.baseChunkLogger=new Kpe(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var Itt=Object.defineProperty,Ptt=Object.defineProperties,$tt=Object.getOwnPropertyDescriptors,_J=Object.getOwnPropertySymbols,Ntt=Object.prototype.hasOwnProperty,Rtt=Object.prototype.propertyIsEnumerable,CJ=(t,e,r)=>e in t?Itt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gC=(t,e)=>{for(var r in e||(e={}))Ntt.call(e,r)&&CJ(t,r,e[r]);if(_J)for(var r of _J(e))Rtt.call(e,r)&&CJ(t,r,e[r]);return t},mC=(t,e)=>Ptt(t,$tt(e));function Ype(t){return mC(gC({},t),{level:t?.level||ktt.level})}function Ott(t,e=c3){return t[e]||""}function jtt(t,e,r=c3){return t[r]=e,t}function sl(t,e=c3){let r="";return typeof t.bindings>"u"?r=Ott(t,e):r=t.bindings().context||"",r}function Mtt(t,e,r=c3){const n=sl(t,r);return n.trim()?`${n}/${e}`:e}function _a(t,e,r=c3){const n=Mtt(t,e,r),i=t.child({context:n});return jtt(i,n,r)}function Dtt(t){var e,r;const n=new Att((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:YF(mC(gC({},t.opts),{level:"trace",browser:mC(gC({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function Ftt(t){var e;const r=new Ttt((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:YF(mC(gC({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function Ltt(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Dtt(t):Ftt(t)}var Utt=Object.defineProperty,Btt=(t,e,r)=>e in t?Utt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,EJ=(t,e,r)=>Btt(t,typeof e!="symbol"?e+"":e,r);let ztt=class extends _g{constructor(e){super(),this.opts=e,EJ(this,"protocol","wc"),EJ(this,"version",2)}};var qtt=Object.defineProperty,Wtt=(t,e,r)=>e in t?qtt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Htt=(t,e,r)=>Wtt(t,e+"",r);let Vtt=class extends _g{constructor(e,r){super(),this.core=e,this.logger=r,Htt(this,"records",new Map)}},Gtt=class{constructor(e,r){this.logger=e,this.core=r}},Ktt=class extends _g{constructor(e,r){super(),this.relayer=e,this.logger=r}},Ytt=class extends _g{constructor(e){super()}},Jtt=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},Xtt=class extends _g{constructor(e,r){super(),this.relayer=e,this.logger=r}},Qtt=class extends _g{constructor(e,r){super(),this.core=e,this.logger=r}},Ztt=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},ert=class{constructor(e,r){this.projectId=e,this.logger=r}},trt=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};var rrt=Object.defineProperty,nrt=(t,e,r)=>e in t?rrt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kJ=(t,e,r)=>nrt(t,typeof e!="symbol"?e+"":e,r);let irt=class{constructor(e){this.opts=e,kJ(this,"protocol","wc"),kJ(this,"version",2)}},srt=class{constructor(e){this.client=e}};const ort="PARSE_ERROR",art="INVALID_REQUEST",lrt="METHOD_NOT_FOUND",crt="INVALID_PARAMS",Jpe="INTERNAL_ERROR",XF="SERVER_ERROR",urt=[-32700,-32600,-32601,-32602,-32603],kb={[ort]:{code:-32700,message:"Parse error"},[art]:{code:-32600,message:"Invalid Request"},[lrt]:{code:-32601,message:"Method not found"},[crt]:{code:-32602,message:"Invalid params"},[Jpe]:{code:-32603,message:"Internal error"},[XF]:{code:-32e3,message:"Server error"}},Xpe=XF;function drt(t){return urt.includes(t)}function SJ(t){return Object.keys(kb).includes(t)?kb[t]:kb[Xpe]}function hrt(t){const e=Object.values(kb).find(r=>r.code===t);return e||kb[Xpe]}function Qpe(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var MT={};var lO=function(t,e){return lO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},lO(t,e)};function frt(t,e){lO(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var cO=function(){return cO=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},cO.apply(this,arguments)};function prt(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function grt(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function mrt(t,e){return function(r,n){e(r,n,t)}}function yrt(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function vrt(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function wrt(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function brt(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function xrt(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function uO(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zpe(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function _rt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Zpe(arguments[e]));return t}function Crt(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Q2(t){return this instanceof Q2?(this.v=t,this):new Q2(t)}function Ert(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){n[f]&&(i[f]=function(p){return new Promise(function(m,v){s.push([f,p,m,v])>1||a(f,p)})})}function a(f,p){try{l(n[f](p))}catch(m){h(s[0][3],m)}}function l(f){f.value instanceof Q2?Promise.resolve(f.value.v).then(c,u):h(s[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function h(f,p){f(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function krt(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Q2(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Srt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof uO=="function"?uO(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function Art(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Trt(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Irt(t){return t&&t.__esModule?t:{default:t}}function Prt(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function $rt(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const Nrt=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return cO},__asyncDelegator:krt,__asyncGenerator:Ert,__asyncValues:Srt,__await:Q2,__awaiter:vrt,__classPrivateFieldGet:Prt,__classPrivateFieldSet:$rt,__createBinding:brt,__decorate:grt,__exportStar:xrt,__extends:frt,__generator:wrt,__importDefault:Irt,__importStar:Trt,__makeTemplateObject:Art,__metadata:yrt,__param:mrt,__read:Zpe,__rest:prt,__spread:_rt,__spreadArrays:Crt,__values:uO},Symbol.toStringTag,{value:"Module"})),Rrt=cM(Nrt);var Dd={},AJ;function Ort(){if(AJ)return Dd;AJ=1,Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.isBrowserCryptoAvailable=Dd.getSubtleCrypto=Dd.getBrowerCrypto=void 0;function t(){return ko?.crypto||ko?.msCrypto||{}}Dd.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}Dd.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return Dd.isBrowserCryptoAvailable=r,Dd}var Fd={},TJ;function jrt(){if(TJ)return Fd;TJ=1,Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.isBrowser=Fd.isNode=Fd.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Fd.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Fd.isNode=e;function r(){return!t()&&!e()}return Fd.isBrowser=r,Fd}var IJ;function Mrt(){return IJ||(IJ=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Rrt;e.__exportStar(Ort(),t),e.__exportStar(jrt(),t)})(MT)),MT}var Drt=Mrt();function Hu(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function qf(t=6){return BigInt(Hu(t))}function Ju(t,e,r){return{id:r||Hu(),jsonrpc:"2.0",method:t,params:e}}function Z2(t,e){return{id:t,jsonrpc:"2.0",result:e}}function N8(t,e,r){return{id:t,jsonrpc:"2.0",error:Frt(e)}}function Frt(t,e){return typeof t>"u"?SJ(Jpe):(typeof t=="string"&&(t=Object.assign(Object.assign({},SJ(XF)),{message:t})),drt(t.code)&&(t=hrt(t.code)),t)}let Lrt=class{},Urt=class extends Lrt{constructor(){super()}},Brt=class extends Urt{constructor(e){super()}};const zrt="^https?:",qrt="^wss?:";function Wrt(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function e0e(t,e){const r=Wrt(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function PJ(t){return e0e(t,zrt)}function $J(t){return e0e(t,qrt)}function Hrt(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function t0e(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function QF(t){return t0e(t)&&"method"in t}function R8(t){return t0e(t)&&(Vu(t)||Il(t))}function Vu(t){return"result"in t}function Il(t){return"error"in t}let lc=class extends Brt{constructor(e){super(e),this.events=new il.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Ju(e.method,e.params||[],e.id||qf().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Il(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),R8(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Vrt=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Grt=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",NJ=t=>t.split("?")[0],RJ=10,Krt=Vrt();let Yrt=class{constructor(e){if(this.url=e,this.events=new il.EventEmitter,this.registering=!1,!$J(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(su(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!$J(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=Drt.isReactNative()?void 0:{rejectUnauthorized:!Hrt(e)},s=new Krt(e,[],i);Grt()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?rg(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=N8(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return Qpe(e,NJ(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>RJ&&this.events.setMaxListeners(RJ)}emitError(e){const r=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${NJ(this.url)}`));return this.events.emit("register_error",r),r}};var Jrt={};const r0e="wc",n0e=2,dO="core",hd=`${r0e}@2:${dO}:`,Xrt={logger:"error"},Qrt={database:":memory:"},Zrt="crypto",OJ="client_ed25519_seed",ent=At.ONE_DAY,tnt="keychain",rnt="0.3",nnt="messages",int="0.3",snt=At.SIX_HOURS,ont="publisher",i0e="irn",ant="error",s0e="wss://relay.walletconnect.org",lnt="relayer",gi={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},cnt="_subscription",bl={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},unt=.1,hO="2.21.7",Mn={link_mode:"link_mode",relay:"relay"},Z4={inbound:"inbound",outbound:"outbound"},dnt="0.3",hnt="WALLETCONNECT_CLIENT_ID",jJ="WALLETCONNECT_LINK_MODE_APPS",ja={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},fnt="subscription",pnt="0.3",gnt="pairing",mnt="0.3",cw={wc_pairingDelete:{req:{ttl:At.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:At.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:At.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:At.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:At.ONE_DAY,prompt:!1,tag:0},res:{ttl:At.ONE_DAY,prompt:!1,tag:0}}},d0={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ec={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},ynt="history",vnt="0.3",wnt="expirer",Sl={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},bnt="0.3",xnt="verify-api",_nt="https://verify.walletconnect.com",o0e="https://verify.walletconnect.org",Sb=o0e,Cnt=`${Sb}/v3`,Ent=[_nt,o0e],knt="echo",Snt="https://echo.walletconnect.com",Bu={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Gd={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},vf={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},uw={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Gp={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},dw={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Ant=.1,Tnt="event-client",Int=86400,Pnt="https://pulse.walletconnect.org/batch";function $nt(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var v=0,w=0,b=0,E=m.length;b!==E&&m[b]===0;)b++,v++;for(var _=(E-b)*u+1>>>0,A=new Uint8Array(_);b!==E;){for(var C=m[b],k=0,P=_-1;(C!==0||k<w)&&P!==-1;P--,k++)C+=256*A[P]>>>0,A[P]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");w=k,b++}for(var F=_-w;F!==_&&A[F]===0;)F++;for(var N=l.repeat(v);F<_;++F)N+=t.charAt(A[F]);return N}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var v=0;if(m[v]!==" "){for(var w=0,b=0;m[v]===l;)w++,v++;for(var E=(m.length-v)*c+1>>>0,_=new Uint8Array(E);m[v];){var A=r[m.charCodeAt(v)];if(A===255)return;for(var C=0,k=E-1;(A!==0||C<b)&&k!==-1;k--,C++)A+=a*_[k]>>>0,_[k]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");b=C,v++}if(m[v]!==" "){for(var P=E-b;P!==E&&_[P]===0;)P++;for(var F=new Uint8Array(w+(E-P)),N=w;P!==E;)F[N++]=_[P++];return F}}}function p(m){var v=f(m);if(v)return v;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:f,decode:p}}var Nnt=$nt,Rnt=Nnt;const a0e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Ont=t=>new TextEncoder().encode(t),jnt=t=>new TextDecoder().decode(t);class Mnt{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Dnt{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return l0e(this,e)}}class Fnt{constructor(e){this.decoders=e}or(e){return l0e(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const l0e=(t,e)=>new Fnt({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Lnt{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Mnt(e,r,n),this.decoder=new Dnt(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const O8=({name:t,prefix:e,encode:r,decode:n})=>new Lnt(t,e,r,n),u3=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=Rnt(r,e);return O8({prefix:t,name:e,encode:n,decode:s=>a0e(i(s))})},Unt=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|h,a+=r,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=r||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o},Bnt=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let l=0;l<t.length;++l)for(a=a<<8|t[l],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Hs=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>O8({prefix:e,name:t,encode(i){return Bnt(i,n,r)},decode(i){return Unt(i,n,r,t)}}),znt=O8({prefix:"\0",name:"identity",encode:t=>jnt(t),decode:t=>Ont(t)});var qnt=Object.freeze({__proto__:null,identity:znt});const Wnt=Hs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Hnt=Object.freeze({__proto__:null,base2:Wnt});const Vnt=Hs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Gnt=Object.freeze({__proto__:null,base8:Vnt});const Knt=u3({prefix:"9",name:"base10",alphabet:"0123456789"});var Ynt=Object.freeze({__proto__:null,base10:Knt});const Jnt=Hs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Xnt=Hs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Qnt=Object.freeze({__proto__:null,base16:Jnt,base16upper:Xnt});const Znt=Hs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),eit=Hs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),tit=Hs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),rit=Hs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),nit=Hs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),iit=Hs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),sit=Hs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),oit=Hs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ait=Hs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var lit=Object.freeze({__proto__:null,base32:Znt,base32upper:eit,base32pad:tit,base32padupper:rit,base32hex:nit,base32hexupper:iit,base32hexpad:sit,base32hexpadupper:oit,base32z:ait});const cit=u3({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),uit=u3({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var dit=Object.freeze({__proto__:null,base36:cit,base36upper:uit});const hit=u3({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),fit=u3({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var pit=Object.freeze({__proto__:null,base58btc:hit,base58flickr:fit});const git=Hs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),mit=Hs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),yit=Hs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),vit=Hs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var wit=Object.freeze({__proto__:null,base64:git,base64pad:mit,base64url:yit,base64urlpad:vit});const c0e=Array.from(""),bit=c0e.reduce((t,e,r)=>(t[r]=e,t),[]),xit=c0e.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function _it(t){return t.reduce((e,r)=>(e+=bit[r],e),"")}function Cit(t){const e=[];for(const r of t){const n=xit[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Eit=O8({prefix:"",name:"base256emoji",encode:_it,decode:Cit});var kit=Object.freeze({__proto__:null,base256emoji:Eit}),Sit=u0e,MJ=128,Ait=-128,Tit=Math.pow(2,31);function u0e(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Tit;)e[r++]=t&255|MJ,t/=128;for(;t&Ait;)e[r++]=t&255|MJ,t>>>=7;return e[r]=t|0,u0e.bytes=r-n+1,e}var Iit=fO,Pit=128,DJ=127;function fO(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw fO.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&DJ)<<i:(o&DJ)*Math.pow(2,i),i+=7}while(o>=Pit);return fO.bytes=s-n,r}var $it=Math.pow(2,7),Nit=Math.pow(2,14),Rit=Math.pow(2,21),Oit=Math.pow(2,28),jit=Math.pow(2,35),Mit=Math.pow(2,42),Dit=Math.pow(2,49),Fit=Math.pow(2,56),Lit=Math.pow(2,63),Uit=function(t){return t<$it?1:t<Nit?2:t<Rit?3:t<Oit?4:t<jit?5:t<Mit?6:t<Dit?7:t<Fit?8:t<Lit?9:10},Bit={encode:Sit,decode:Iit,encodingLength:Uit},d0e=Bit;const FJ=(t,e,r=0)=>(d0e.encode(t,e,r),e),LJ=t=>d0e.encodingLength(t),pO=(t,e)=>{const r=e.byteLength,n=LJ(t),i=n+LJ(r),s=new Uint8Array(i+r);return FJ(t,s,0),FJ(r,s,n),s.set(e,i),new zit(t,r,e,s)};class zit{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const h0e=({name:t,code:e,encode:r})=>new qit(t,e,r);class qit{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?pO(this.code,r):r.then(n=>pO(this.code,n))}else throw Error("Unknown type, must be binary type")}}const f0e=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Wit=h0e({name:"sha2-256",code:18,encode:f0e("SHA-256")}),Hit=h0e({name:"sha2-512",code:19,encode:f0e("SHA-512")});var Vit=Object.freeze({__proto__:null,sha256:Wit,sha512:Hit});const p0e=0,Git="identity",g0e=a0e,Kit=t=>pO(p0e,g0e(t)),Yit={code:p0e,name:Git,encode:g0e,digest:Kit};var Jit=Object.freeze({__proto__:null,identity:Yit});new TextEncoder,new TextDecoder;const UJ={...qnt,...Hnt,...Gnt,...Ynt,...Qnt,...lit,...dit,...pit,...wit,...kit};({...Vit,...Jit});function m0e(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Xit(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?m0e(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function y0e(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const BJ=y0e("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),DT=y0e("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Xit(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Qit={utf8:BJ,"utf-8":BJ,hex:UJ.base16,latin1:DT,ascii:DT,binary:DT,...UJ};function Zit(t,e="utf8"){const r=Qit[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?m0e(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var est=Object.defineProperty,tst=(t,e,r)=>e in t?est(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ru=(t,e,r)=>tst(t,typeof e!="symbol"?e+"":e,r);let rst=class{constructor(e,r){this.core=e,this.logger=r,Ru(this,"keychain",new Map),Ru(this,"name",tnt),Ru(this,"version",rnt),Ru(this,"initialized",!1),Ru(this,"storagePrefix",hd),Ru(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),Ru(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),Ru(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),Ru(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=St("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),Ru(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=_a(r,this.name)}get context(){return sl(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,KR(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?YR(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=St("NOT_INITIALIZED",this.name);throw new Error(e)}}};var nst=Object.defineProperty,ist=(t,e,r)=>e in t?nst(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Es=(t,e,r)=>ist(t,typeof e!="symbol"?e+"":e,r);let sst=class{constructor(e,r,n){this.core=e,this.logger=r,Es(this,"name",Zrt),Es(this,"keychain"),Es(this,"randomSessionIdentifier",sO()),Es(this,"initialized",!1),Es(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Es(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Es(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=hY(i);return zfe(s.publicKey)}),Es(this,"generateKeyPair",()=>{this.isInitialized();const i=OZe();return this.setPrivateKey(i.publicKey,i.privateKey)}),Es(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=hY(s),a=this.randomSessionIdentifier;return await TYe(a,i,ent,o)}),Es(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),l=jZe(a,s);return this.setSymKey(l,o)}),Es(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||J4(i);return await this.keychain.set(o,i),o}),Es(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Es(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Es(this,"encode",async(i,s,o)=>{this.isInitialized();const a=qpe(o),l=su(s);if(rJ(a))return FZe(l,o?.encoding);if(tJ(a)){const f=a.senderPublicKey,p=a.receiverPublicKey;i=await this.generateSharedKey(f,p)}const c=this.getSymKey(i),{type:u,senderPublicKey:h}=a;return MZe({type:u,symKey:c,message:l,senderPublicKey:h,encoding:o?.encoding})}),Es(this,"decode",async(i,s,o)=>{this.isInitialized();const a=UZe(s,o);if(rJ(a)){const l=LZe(s,o?.encoding);return rg(l)}if(tJ(a)){const l=a.receiverPublicKey,c=a.senderPublicKey;i=await this.generateSharedKey(l,c)}try{const l=this.getSymKey(i),c=DZe({symKey:l,encoded:s,encoding:o?.encoding});return rg(c)}catch(l){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(l)}}),Es(this,"getPayloadType",(i,s=oa)=>{const o=X2({encoded:i,encoding:s});return ig(o.type)}),Es(this,"getPayloadSenderPublicKey",(i,s=oa)=>{const o=X2({encoded:i,encoding:s});return o.senderPublicKey?pa(o.senderPublicKey,Mo):void 0}),this.core=e,this.logger=_a(r,this.name),this.keychain=n||new rst(this.core,this.logger)}get context(){return sl(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(OJ)}catch{e=sO(),await this.keychain.set(OJ,e)}return Zit(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=St("NOT_INITIALIZED",this.name);throw new Error(e)}}};var ost=Object.defineProperty,ast=Object.defineProperties,lst=Object.getOwnPropertyDescriptors,zJ=Object.getOwnPropertySymbols,cst=Object.prototype.hasOwnProperty,ust=Object.prototype.propertyIsEnumerable,gO=(t,e,r)=>e in t?ost(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dst=(t,e)=>{for(var r in e||(e={}))cst.call(e,r)&&gO(t,r,e[r]);if(zJ)for(var r of zJ(e))ust.call(e,r)&&gO(t,r,e[r]);return t},hst=(t,e)=>ast(t,lst(e)),Pa=(t,e,r)=>gO(t,typeof e!="symbol"?e+"":e,r);let fst=class extends Gtt{constructor(e,r){super(e,r),this.logger=e,this.core=r,Pa(this,"messages",new Map),Pa(this,"messagesWithoutClientAck",new Map),Pa(this,"name",nnt),Pa(this,"version",int),Pa(this,"initialized",!1),Pa(this,"storagePrefix",hd),Pa(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Pa(this,"set",async(n,i,s)=>{this.isInitialized();const o=Tl(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===Z4.inbound){const l=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,hst(dst({},l),{[o]:i}))}return await this.persist(),o}),Pa(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),Pa(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Pa(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=Tl(i);return typeof s[o]<"u"}),Pa(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=Tl(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),Pa(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=_a(e,this.name),this.core=r}get context(){return sl(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,KR(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,KR(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?YR(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?YR(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=St("NOT_INITIALIZED",this.name);throw new Error(e)}}};var pst=Object.defineProperty,gst=Object.defineProperties,mst=Object.getOwnPropertyDescriptors,qJ=Object.getOwnPropertySymbols,yst=Object.prototype.hasOwnProperty,vst=Object.prototype.propertyIsEnumerable,mO=(t,e,r)=>e in t?pst(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Am=(t,e)=>{for(var r in e||(e={}))yst.call(e,r)&&mO(t,r,e[r]);if(qJ)for(var r of qJ(e))vst.call(e,r)&&mO(t,r,e[r]);return t},WJ=(t,e)=>gst(t,mst(e)),xl=(t,e,r)=>mO(t,typeof e!="symbol"?e+"":e,r);class wst extends Ktt{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,xl(this,"events",new il.EventEmitter),xl(this,"name",ont),xl(this,"queue",new Map),xl(this,"publishTimeout",At.toMiliseconds(At.ONE_MINUTE)),xl(this,"initialPublishTimeout",At.toMiliseconds(At.ONE_SECOND*15)),xl(this,"needsTransportRestart",!1),xl(this,"publish",async(n,i,s)=>{var o,a,l,c,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const h=s?.ttl||snt,f=s?.prompt||!1,p=s?.tag||0,m=s?.id||qf().toString(),v=yy(fC().protocol),w={id:m,method:s?.publishMethod||v.publish,params:Am({topic:n,message:i,ttl:h,prompt:f,tag:p,attestation:s?.attestation},s?.tvf&&{tvf:s.tvf})},b=`Failed to publish payload, please try again. id:${m} tag:${p}`;try{Yi((o=w.params)==null?void 0:o.prompt)&&((a=w.params)==null||delete a.prompt),Yi((l=w.params)==null?void 0:l.tag)&&((c=w.params)==null||delete c.tag);const E=new Promise(async _=>{const A=({id:k})=>{var P;((P=w.id)==null?void 0:P.toString())===k.toString()&&(this.removeRequestFromQueue(k),this.relayer.events.removeListener(gi.publish,A),_())};this.relayer.events.on(gi.publish,A);const C=ed(new Promise((k,P)=>{this.rpcPublish(w,s).then(k).catch(F=>{this.logger.warn(F,F?.message),P(F)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${m} tag:${p}`);try{await C,this.events.removeListener(gi.publish,A)}catch(k){this.queue.set(m,{request:w,opts:s,attempt:1}),this.logger.warn(k,k?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:m,topic:n,message:i,opts:s}}),await ed(E,this.publishTimeout,b)}catch(E){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(E),(u=s?.internal)!=null&&u.throwOnFailedPublish)throw E}finally{this.queue.delete(m)}}),xl(this,"publishCustom",async n=>{var i,s,o,a,l;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});const{payload:c,opts:u={}}=n,{attestation:h,tvf:f,publishMethod:p,prompt:m,tag:v,ttl:w=At.FIVE_MINUTES}=u,b=u.id||qf().toString(),E=yy(fC().protocol),_=p||E.publish,A={id:b,method:_,params:Am(WJ(Am({},c),{ttl:w,prompt:m,tag:v,attestation:h}),f)},C=`Failed to publish custom payload, please try again. id:${b} tag:${v}`;try{Yi((i=A.params)==null?void 0:i.prompt)&&((s=A.params)==null||delete s.prompt),Yi((o=A.params)==null?void 0:o.tag)&&((a=A.params)==null||delete a.tag);const k=new Promise(async P=>{const F=({id:$})=>{var U;((U=A.id)==null?void 0:U.toString())===$.toString()&&(this.removeRequestFromQueue($),this.relayer.events.removeListener(gi.publish,F),P())};this.relayer.events.on(gi.publish,F);const N=ed(new Promise(($,U)=>{this.rpcPublish(A,u).then($).catch(O=>{this.logger.warn(O,O?.message),U(O)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${_} id:${b} tag:${v}`);try{await N,this.events.removeListener(gi.publish,F)}catch($){this.queue.set(b,{request:A,opts:u,attempt:1}),this.logger.warn($,$?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:b,payload:c,opts:u}}),await ed(k,this.publishTimeout,C)}catch(k){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(k),(l=u?.internal)!=null&&l.throwOnFailedPublish)throw k}finally{this.queue.delete(b)}}),xl(this,"on",(n,i)=>{this.events.on(n,i)}),xl(this,"once",(n,i)=>{this.events.once(n,i)}),xl(this,"off",(n,i)=>{this.events.off(n,i)}),xl(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=_a(r,this.name),this.registerEventListeners()}get context(){return sl(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(gi.publish,Am(Am({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;const i=e.attempt+1;this.queue.set(r,WJ(Am({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Cg.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(gi.connection_stalled);return}this.checkQueue()}),this.relayer.on(gi.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var bst=Object.defineProperty,xst=(t,e,r)=>e in t?bst(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Tm=(t,e,r)=>xst(t,typeof e!="symbol"?e+"":e,r);class _st{constructor(){Tm(this,"map",new Map),Tm(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),Tm(this,"get",e=>this.map.get(e)||[]),Tm(this,"exists",(e,r)=>this.get(e).includes(r)),Tm(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Tm(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Cst=Object.defineProperty,Est=Object.defineProperties,kst=Object.getOwnPropertyDescriptors,HJ=Object.getOwnPropertySymbols,Sst=Object.prototype.hasOwnProperty,Ast=Object.prototype.propertyIsEnumerable,yO=(t,e,r)=>e in t?Cst(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hw=(t,e)=>{for(var r in e||(e={}))Sst.call(e,r)&&yO(t,r,e[r]);if(HJ)for(var r of HJ(e))Ast.call(e,r)&&yO(t,r,e[r]);return t},FT=(t,e)=>Est(t,kst(e)),bn=(t,e,r)=>yO(t,typeof e!="symbol"?e+"":e,r);let Tst=class extends Xtt{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,bn(this,"subscriptions",new Map),bn(this,"topicMap",new _st),bn(this,"events",new il.EventEmitter),bn(this,"name",fnt),bn(this,"version",pnt),bn(this,"pending",new Map),bn(this,"cached",[]),bn(this,"initialized",!1),bn(this,"storagePrefix",hd),bn(this,"subscribeTimeout",At.toMiliseconds(At.ONE_MINUTE)),bn(this,"initialSubscribeTimeout",At.toMiliseconds(At.ONE_SECOND*15)),bn(this,"clientId"),bn(this,"batchSubscribeTopicsLimit",500),bn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),bn(this,"subscribe",async(n,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const o=fC(i),a={topic:n,relay:o,transportType:i?.transportType};(s=i?.internal)!=null&&s.skipSubscribe||this.pending.set(n,a);const l=await this.rpcSubscribe(n,o,i);return typeof l=="string"&&(this.onSubscribe(l,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),l}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),bn(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),bn(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),bn(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),bn(this,"on",(n,i)=>{this.events.on(n,i)}),bn(this,"once",(n,i)=>{this.events.once(n,i)}),bn(this,"off",(n,i)=>{this.events.off(n,i)}),bn(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),bn(this,"start",async()=>{await this.onConnect()}),bn(this,"stop",async()=>{await this.onDisconnect()}),bn(this,"restart",async()=>{await this.restore(),await this.onRestart()}),bn(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),bn(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Cg.pulse,async()=>{await this.checkPending()}),this.events.on(ja.created,async n=>{const i=ja.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(ja.deleted,async n=>{const i=ja.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=_a(r,this.name),this.clientId=""}get context(){return sl(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=fC(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);const s=Dn("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i,s;const o=await this.getSubscriptionId(e);if((i=n?.internal)!=null&&i.skipSubscribe)return o;(!n||n?.transportType===Mn.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const a={method:yy(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const l=(s=n?.internal)==null?void 0:s.throwOnFailedPublish;try{if(n?.transportType===Mn.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(h=>this.logger.warn(h))},At.toMiliseconds(At.ONE_SECOND)),o;const c=new Promise(async h=>{const f=p=>{p.topic===e&&(this.events.removeListener(ja.created,f),h(p.id))};this.events.on(ja.created,f);try{const p=await ed(new Promise((m,v)=>{this.relayer.request(a).catch(w=>{this.logger.warn(w,w?.message),v(w)}).then(m)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(ja.created,f),h(p)}catch{}}),u=await ed(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&l)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(c){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(gi.connection_stalled),l)throw c}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:yy(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await ed(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(gi.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:yy(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await ed(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(gi.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:yy(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,FT(hw({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,hw({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,hw({},r)),this.topicMap.set(r.topic,e),this.events.emit(ja.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=St("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(ja.deleted,FT(hw({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(ja.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(ja.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){const{message:r}=St("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>FT(hw({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await rXe(At.toMiliseconds(At.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=St("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Tl(e+await this.getClientId())}};var Ist=Object.defineProperty,VJ=Object.getOwnPropertySymbols,Pst=Object.prototype.hasOwnProperty,$st=Object.prototype.propertyIsEnumerable,vO=(t,e,r)=>e in t?Ist(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,GJ=(t,e)=>{for(var r in e||(e={}))Pst.call(e,r)&&vO(t,r,e[r]);if(VJ)for(var r of VJ(e))$st.call(e,r)&&vO(t,r,e[r]);return t},Xr=(t,e,r)=>vO(t,typeof e!="symbol"?e+"":e,r);let Nst=class extends Ytt{constructor(e){super(e),Xr(this,"protocol","wc"),Xr(this,"version",2),Xr(this,"core"),Xr(this,"logger"),Xr(this,"events",new il.EventEmitter),Xr(this,"provider"),Xr(this,"messages"),Xr(this,"subscriber"),Xr(this,"publisher"),Xr(this,"name",lnt),Xr(this,"transportExplicitlyClosed",!1),Xr(this,"initialized",!1),Xr(this,"connectionAttemptInProgress",!1),Xr(this,"relayUrl"),Xr(this,"projectId"),Xr(this,"packageName"),Xr(this,"bundleId"),Xr(this,"hasExperiencedNetworkDisruption",!1),Xr(this,"pingTimeout"),Xr(this,"heartBeatTimeout",At.toMiliseconds(At.THIRTY_SECONDS+At.FIVE_SECONDS)),Xr(this,"reconnectTimeout"),Xr(this,"connectPromise"),Xr(this,"reconnectInProgress",!1),Xr(this,"requestsInFlight",[]),Xr(this,"connectTimeout",At.toMiliseconds(At.ONE_SECOND*15)),Xr(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||qf().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),Xr(this,"resetPingTimeout",()=>{cC()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),Xr(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),Xr(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(gi.connect)}),Xr(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Xr(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(gi.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Xr(this,"registerProviderListeners",()=>{this.provider.on(bl.payload,this.onPayloadHandler),this.provider.on(bl.connect,this.onConnectHandler),this.provider.on(bl.disconnect,this.onDisconnectHandler),this.provider.on(bl.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?_a(e.logger,this.name):YF(Ype({level:e.logger||ant})),this.messages=new fst(this.logger,e.core),this.subscriber=new Tst(this,this.logger),this.publisher=new wst(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||s0e,UJe()?this.packageName=CY():BJe()&&(this.bundleId=CY()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return sl(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:Mn.relay},Z4.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||r?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((n=r?.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",l;const c=u=>{u.topic===e&&(this.subscriber.off(ja.created,c),l())};return await Promise.all([new Promise(u=>{l=u,this.subscriber.on(ja.created,c)}),new Promise(async(u,h)=>{a=await this.subscriber.subscribe(e,GJ({internal:{throwOnFailedPublish:o}},r)).catch(f=>{o&&h(f)})||a,u()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await ed(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await fJ())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=Wi(At.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(gi.message,e),await this.recordMessageEvent(e,Z4.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(bl.disconnect,s),await ed(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(bl.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const l=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(bl.disconnect,l),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(bl.disconnect,l)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,At.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,i,s;if(cC())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new lc(new Yrt(VJe({sdkVersion:hO,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),QF(e)){if(!e.method.endsWith(cnt))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:Mn.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(GJ({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else R8(e)&&this.events.emit(gi.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Z4.inbound),this.events.emit(gi.message,e))}async acknowledgePayload(e){const r=Z2(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(bl.payload,this.onPayloadHandler),this.provider.off(bl.connect,this.onConnectHandler),this.provider.off(bl.disconnect,this.onDisconnectHandler),this.provider.off(bl.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await fJ();jet(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Cg.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Fet())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(gi.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},At.toMiliseconds(unt)))))}isInitialized(){if(!this.initialized){const{message:e}=St("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function Rst(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function KJ(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function YJ(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Ost="[object RegExp]",jst="[object String]",Mst="[object Number]",Dst="[object Boolean]",JJ="[object Arguments]",Fst="[object Symbol]",Lst="[object Date]",Ust="[object Map]",Bst="[object Set]",zst="[object Array]",qst="[object Function]",Wst="[object ArrayBuffer]",LT="[object Object]",Hst="[object Error]",Vst="[object DataView]",Gst="[object Uint8Array]",Kst="[object Uint8ClampedArray]",Yst="[object Uint16Array]",Jst="[object Uint32Array]",Xst="[object BigUint64Array]",Qst="[object Int8Array]",Zst="[object Int16Array]",eot="[object Int32Array]",tot="[object BigInt64Array]",rot="[object Float32Array]",not="[object Float64Array]";function iot(){}function XJ(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function sot(t,e,r){return Jw(t,e,void 0,void 0,void 0,void 0,r)}function Jw(t,e,r,n,i,s,o){const a=o(t,e,r,n,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Ab(t,e,s,o)}return Ab(t,e,s,o)}function Ab(t,e,r,n){if(Object.is(t,e))return!0;let i=YJ(t),s=YJ(e);if(i===JJ&&(i=LT),s===JJ&&(s=LT),i!==s)return!1;switch(i){case jst:return t.toString()===e.toString();case Mst:{const l=t.valueOf(),c=e.valueOf();return Rst(l,c)}case Dst:case Lst:case Fst:return Object.is(t.valueOf(),e.valueOf());case Ost:return t.source===e.source&&t.flags===e.flags;case qst:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(i){case Ust:{if(t.size!==e.size)return!1;for(const[l,c]of t.entries())if(!e.has(l)||!Jw(c,e.get(l),l,t,e,r,n))return!1;return!0}case Bst:{if(t.size!==e.size)return!1;const l=Array.from(t.values()),c=Array.from(e.values());for(let u=0;u<l.length;u++){const h=l[u],f=c.findIndex(p=>Jw(h,p,void 0,t,e,r,n));if(f===-1)return!1;c.splice(f,1)}return!0}case zst:case Gst:case Kst:case Yst:case Jst:case Xst:case Qst:case Zst:case eot:case tot:case rot:case not:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let l=0;l<t.length;l++)if(!Jw(t[l],e[l],l,t,e,r,n))return!1;return!0}case Wst:return t.byteLength!==e.byteLength?!1:Ab(new Uint8Array(t),new Uint8Array(e),r,n);case Vst:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Ab(new Uint8Array(t),new Uint8Array(e),r,n);case Hst:return t.name===e.name&&t.message===e.message;case LT:{if(!(Ab(t.constructor,e.constructor,r,n)||XJ(t)&&XJ(e)))return!1;const l=[...Object.keys(t),...KJ(t)],c=[...Object.keys(e),...KJ(e)];if(l.length!==c.length)return!1;for(let u=0;u<l.length;u++){const h=l[u],f=t[h];if(!Object.hasOwn(e,h))return!1;const p=e[h];if(!Jw(f,p,h,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function oot(t,e){return sot(t,e,iot)}var aot=Object.defineProperty,QJ=Object.getOwnPropertySymbols,lot=Object.prototype.hasOwnProperty,cot=Object.prototype.propertyIsEnumerable,wO=(t,e,r)=>e in t?aot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ZJ=(t,e)=>{for(var r in e||(e={}))lot.call(e,r)&&wO(t,r,e[r]);if(QJ)for(var r of QJ(e))cot.call(e,r)&&wO(t,r,e[r]);return t},Qo=(t,e,r)=>wO(t,typeof e!="symbol"?e+"":e,r);let kg=class extends Jtt{constructor(e,r,n,i=hd,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,Qo(this,"map",new Map),Qo(this,"version",dnt),Qo(this,"cached",[]),Qo(this,"initialized",!1),Qo(this,"getKey"),Qo(this,"storagePrefix",hd),Qo(this,"recentlyDeleted",[]),Qo(this,"recentlyDeletedLimit",200),Qo(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Yi(o)?this.map.set(this.getKey(o),o):det(o)?this.map.set(o.id,o):het(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Qo(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Qo(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Qo(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(l=>oot(a[l],o[l]))):this.values)),Qo(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const l=ZJ(ZJ({},this.getData(o)),a);this.map.set(o,l),await this.persist()}),Qo(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=_a(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return sl(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=St("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=St("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=St("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=St("NOT_INITIALIZED",this.name);throw new Error(e)}}};var uot=Object.defineProperty,dot=(t,e,r)=>e in t?uot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Fr=(t,e,r)=>dot(t,typeof e!="symbol"?e+"":e,r);let hot=class{constructor(e,r){this.core=e,this.logger=r,Fr(this,"name",gnt),Fr(this,"version",mnt),Fr(this,"events",new CF),Fr(this,"pairings"),Fr(this,"initialized",!1),Fr(this,"storagePrefix",hd),Fr(this,"ignoredPayloadTypes",[fh]),Fr(this,"registeredMethods",[]),Fr(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Fr(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),Fr(this,"create",async n=>{this.isInitialized();const i=sO(),s=await this.core.crypto.setSymKey(i),o=Wi(At.FIVE_MINUTES),a={protocol:i0e},l={topic:s,expiry:o,relay:a,active:!1,methods:n?.methods},c=iJ({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n?.methods});return this.events.emit(d0.create,l),this.core.expirer.set(s,o),await this.pairings.set(s,l),await this.core.relayer.subscribe(s,{transportType:n?.transportType,internal:n?.internal}),{topic:s,uri:c}}),Fr(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n?.uri,trace:[Bu.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:l,methods:c}=nJ(n.uri);i.props.properties.topic=s,i.addTrace(Bu.pairing_uri_validation_success),i.addTrace(Bu.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(Bu.existing_pairing),u.active)throw i.setError(Gd.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Bu.pairing_not_expired)}const h=l||Wi(At.FIVE_MINUTES),f={topic:s,relay:a,expiry:h,active:!1,methods:c};this.core.expirer.set(s,h),await this.pairings.set(s,f),i.addTrace(Bu.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(d0.create,f),i.addTrace(Bu.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Bu.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Gd.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(p){throw i.setError(Gd.subscribe_pairing_topic_failure),p}return i.addTrace(Bu.subscribe_pairing_topic_success),f}),Fr(this,"activate",async({topic:n})=>{this.isInitialized();const i=Wi(At.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),Fr(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:l}=Zp();this.events.once(on("pairing_ping",s),({error:c})=>{c?l(c):a()}),await o()}}),Fr(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),Fr(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),Fr(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Fr(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Dn("USER_DISCONNECTED")),await this.deletePairing(i))}),Fr(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,l=this.core.crypto.keychain.get(i);return iJ({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:l,relay:s,expiryTimestamp:o,methods:a})}),Fr(this,"sendRequest",async(n,i,s)=>{const o=Ju(i,s),a=await this.core.crypto.encode(n,o),l=cw[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,l),o.id}),Fr(this,"sendResult",async(n,i,s)=>{const o=Z2(n,s),a=await this.core.crypto.encode(i,o),l=(await this.core.history.get(i,n)).request.method,c=cw[l].res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)}),Fr(this,"sendError",async(n,i,s)=>{const o=N8(n,s),a=await this.core.crypto.encode(i,o),l=(await this.core.history.get(i,n)).request.method,c=cw[l]?cw[l].res:cw.unregistered_method.res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)}),Fr(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Dn("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),Fr(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>Ef(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),Fr(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Fr(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;return o==="wc_pairingPing"?this.onPairingPingResponse(i,s):this.onUnknownRpcMethodResponse(o)}),Fr(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(d0.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Fr(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{Vu(i)?this.events.emit(on("pairing_ping",s),{}):Il(i)&&this.events.emit(on("pairing_ping",s),{error:i.error})},500)}),Fr(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(d0.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),Fr(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Dn("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),Fr(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(Dn("WC_METHOD_UNSUPPORTED",n))}),Fr(this,"isValidPair",(n,i)=>{var s;if(!ea(n)){const{message:a}=St("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(Gd.malformed_pairing_uri),new Error(a)}if(!uet(n.uri)){const{message:a}=St("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(Gd.malformed_pairing_uri),new Error(a)}const o=nJ(n?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=St("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Gd.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=St("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Gd.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&At.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(Gd.pairing_expired);const{message:a}=St("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Fr(this,"isValidPing",async n=>{if(!ea(n)){const{message:s}=St("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Fr(this,"isValidDisconnect",async n=>{if(!ea(n)){const{message:s}=St("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),Fr(this,"isValidPairingTopic",async n=>{if(!Pi(n,!1)){const{message:i}=St("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=St("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Ef(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=St("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=_a(r,this.name),this.pairings=new kg(this.core,this.logger,this.name,this.storagePrefix)}get context(){return sl(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=St("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(gi.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==Mn.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);QF(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):R8(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Sl.expired,async e=>{const{topic:r}=Zfe(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(d0.expire,{topic:r}))})}};var fot=Object.defineProperty,pot=(t,e,r)=>e in t?fot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ks=(t,e,r)=>pot(t,typeof e!="symbol"?e+"":e,r);let got=class extends Vtt{constructor(e,r){super(e,r),this.core=e,this.logger=r,ks(this,"records",new Map),ks(this,"events",new il.EventEmitter),ks(this,"name",ynt),ks(this,"version",vnt),ks(this,"cached",[]),ks(this,"initialized",!1),ks(this,"storagePrefix",hd),ks(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ks(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Wi(At.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Ec.created,o)}),ks(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Il(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(Ec.updated,i))}),ks(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),ks(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Ec.deleted,s)}}),this.persist()}),ks(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),ks(this,"on",(n,i)=>{this.events.on(n,i)}),ks(this,"once",(n,i)=>{this.events.once(n,i)}),ks(this,"off",(n,i)=>{this.events.off(n,i)}),ks(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=_a(r,this.name)}get context(){return sl(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Ju(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=St("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ec.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=St("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ec.created,e=>{const r=Ec.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Ec.updated,e=>{const r=Ec.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Ec.deleted,e=>{const r=Ec.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(Cg.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{At.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Ec.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=St("NOT_INITIALIZED",this.name);throw new Error(e)}}};var mot=Object.defineProperty,yot=(t,e,r)=>e in t?mot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,to=(t,e,r)=>yot(t,typeof e!="symbol"?e+"":e,r);let vot=class extends Qtt{constructor(e,r){super(e,r),this.core=e,this.logger=r,to(this,"expirations",new Map),to(this,"events",new il.EventEmitter),to(this,"name",wnt),to(this,"version",bnt),to(this,"cached",[]),to(this,"initialized",!1),to(this,"storagePrefix",hd),to(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),to(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),to(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Sl.created,{target:s,expiration:o})}),to(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),to(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Sl.deleted,{target:i,expiration:s})}}),to(this,"on",(n,i)=>{this.events.on(n,i)}),to(this,"once",(n,i)=>{this.events.once(n,i)}),to(this,"off",(n,i)=>{this.events.off(n,i)}),to(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=_a(r,this.name)}get context(){return sl(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return GJe(e);if(typeof e=="number")return KJe(e);const{message:r}=St("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Sl.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=St("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=St("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;At.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Sl.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(Cg.pulse,()=>this.checkExpirations()),this.events.on(Sl.created,e=>{const r=Sl.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Sl.expired,e=>{const r=Sl.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Sl.deleted,e=>{const r=Sl.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=St("NOT_INITIALIZED",this.name);throw new Error(e)}}};var wot=Object.defineProperty,bot=(t,e,r)=>e in t?wot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ci=(t,e,r)=>bot(t,typeof e!="symbol"?e+"":e,r);let xot=class extends Ztt{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,Ci(this,"name",xnt),Ci(this,"abortController"),Ci(this,"isDevEnv"),Ci(this,"verifyUrlV3",Cnt),Ci(this,"storagePrefix",hd),Ci(this,"version",n0e),Ci(this,"publicKey"),Ci(this,"fetchPromise"),Ci(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&At.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Ci(this,"register",async i=>{if(!H1()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,l=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const c=Ch.getDocument(),u=this.startAbortTimer(At.ONE_SECOND*5),h=await new Promise((f,p)=>{const m=()=>{window.removeEventListener("message",w),c.body.removeChild(v),p("attestation aborted")};this.abortController.signal.addEventListener("abort",m);const v=c.createElement("iframe");v.src=l,v.style.display="none",v.addEventListener("error",m,{signal:this.abortController.signal});const w=b=>{if(b.data&&typeof b.data=="string")try{const E=JSON.parse(b.data);if(E.type==="verify_attestation"){if(VR(E.attestation).payload.id!==o)return;clearInterval(u),c.body.removeChild(v),this.abortController.signal.removeEventListener("abort",m),window.removeEventListener("message",w),f(E.attestation===null?"":E.attestation)}}catch(E){this.logger.warn(E)}};c.body.appendChild(v),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",h),h}catch(c){this.logger.warn(c)}return""}),Ci(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(VR(s).payload.id!==a)return;const c=await this.isValidJwtAttestation(s);if(c){if(!c.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return c}}if(!o)return;const l=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,l)}),Ci(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(At.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Ci(this,"getVerifyUrl",i=>{let s=i||Sb;return Ent.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Sb}`),s=Sb),s}),Ci(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(At.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Ci(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Ci(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Ci(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Ci(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Ci(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Ci(this,"validateAttestation",(i,s)=>{const o=zZe(i,s.publicKey),a={hasExpired:At.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=_a(r,this.name),this.abortController=new AbortController,this.isDevEnv=OF(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return sl(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),At.toMiliseconds(e))}};var _ot=Object.defineProperty,Cot=(t,e,r)=>e in t?_ot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,eX=(t,e,r)=>Cot(t,typeof e!="symbol"?e+"":e,r);let Eot=class extends ert{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,eX(this,"context",knt),eX(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,l=`${Snt}/${this.projectId}/clients`;await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=_a(r,this.context)}};var kot=Object.defineProperty,tX=Object.getOwnPropertySymbols,Sot=Object.prototype.hasOwnProperty,Aot=Object.prototype.propertyIsEnumerable,bO=(t,e,r)=>e in t?kot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fw=(t,e)=>{for(var r in e||(e={}))Sot.call(e,r)&&bO(t,r,e[r]);if(tX)for(var r of tX(e))Aot.call(e,r)&&bO(t,r,e[r]);return t},ss=(t,e,r)=>bO(t,typeof e!="symbol"?e+"":e,r);let Tot=class extends trt{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,ss(this,"context",Tnt),ss(this,"storagePrefix",hd),ss(this,"storageVersion",Ant),ss(this,"events",new Map),ss(this,"shouldPersist",!1),ss(this,"init",async()=>{if(!OF())try{const i={eventId:kY(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Xfe(this.core.relayer.protocol,this.core.relayer.version,hO)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),ss(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:l}}=i,c=kY(),u=this.core.projectId||"",h=Date.now(),f=fw({eventId:c,timestamp:h,props:{event:s,type:o,properties:{topic:a,trace:l}},bundleId:u,domain:this.getAppDomain()},this.setMethods(c));return this.telemetryEnabled&&(this.events.set(c,f),this.shouldPersist=!0),f}),ss(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(l=>l.props.properties.topic===o);if(a)return fw(fw({},a),this.setMethods(a.eventId))}),ss(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),ss(this,"setEventListeners",()=>{this.core.heartbeat.on(Cg.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{At.fromMiliseconds(Date.now())-At.fromMiliseconds(i.timestamp)>Int&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),ss(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),ss(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),ss(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),ss(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),ss(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,fw(fw({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),ss(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),ss(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Pnt}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${hO}${s}`,{method:"POST",body:JSON.stringify(i)})}),ss(this,"getAppDomain",()=>Jfe().url),this.logger=_a(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var Iot=Object.defineProperty,rX=Object.getOwnPropertySymbols,Pot=Object.prototype.hasOwnProperty,$ot=Object.prototype.propertyIsEnumerable,xO=(t,e,r)=>e in t?Iot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,nX=(t,e)=>{for(var r in e||(e={}))Pot.call(e,r)&&xO(t,r,e[r]);if(rX)for(var r of rX(e))$ot.call(e,r)&&xO(t,r,e[r]);return t},Tn=(t,e,r)=>xO(t,typeof e!="symbol"?e+"":e,r);let Not=class v0e extends ztt{constructor(e){var r;super(e),Tn(this,"protocol",r0e),Tn(this,"version",n0e),Tn(this,"name",dO),Tn(this,"relayUrl"),Tn(this,"projectId"),Tn(this,"customStoragePrefix"),Tn(this,"events",new il.EventEmitter),Tn(this,"logger"),Tn(this,"heartbeat"),Tn(this,"relayer"),Tn(this,"crypto"),Tn(this,"storage"),Tn(this,"history"),Tn(this,"expirer"),Tn(this,"pairing"),Tn(this,"verify"),Tn(this,"echoClient"),Tn(this,"linkModeSupportedApps"),Tn(this,"eventClient"),Tn(this,"initialized",!1),Tn(this,"logChunkController"),Tn(this,"on",(a,l)=>this.events.on(a,l)),Tn(this,"once",(a,l)=>this.events.once(a,l)),Tn(this,"off",(a,l)=>this.events.off(a,l)),Tn(this,"removeListener",(a,l)=>this.events.removeListener(a,l)),Tn(this,"dispatchEnvelope",({topic:a,message:l,sessionExists:c})=>{if(!a||!l)return;const u={topic:a,message:l,publishedAt:Date.now(),transportType:Mn.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:c})});const n=this.getGlobalCore(e?.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||s0e,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=Ype({level:typeof e?.logger=="string"&&e.logger?e.logger:Xrt.logger,name:dO}),{logger:s,chunkLoggerController:o}=Ltt({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,l;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((l=this.logChunkController)==null||l.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=_a(s,this.name),this.heartbeat=new Ket,this.crypto=new sst(this,this.logger,e?.keychain),this.history=new got(this,this.logger),this.expirer=new vot(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Ctt(nX(nX({},Qrt),e?.storageOptions)),this.relayer=new Nst({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new hot(this,this.logger),this.verify=new xot(this,this.logger,this.storage),this.echoClient=new Eot(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Tot(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new v0e(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(hnt,n),r}get context(){return sl(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(jJ,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(jJ)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Jrt.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const Rot=Not;var UT,iX;function Oot(){if(iX)return UT;iX=1;const t=KF();UT=i;const e=C().console||{},r={mapHttpRequest:m,mapHttpResponse:m,wrapRequestSerializer:v,wrapResponseSerializer:v,wrapErrorSerializer:v,req:m,res:m,err:f};function n(k,P){return Array.isArray(k)?k.filter(function(N){return N!=="!stdSerializers.err"}):k===!0?Object.keys(P):!1}function i(k){k=k||{},k.browser=k.browser||{};const P=k.browser.transmit;if(P&&typeof P.send!="function")throw Error("pino: transmit option must have a send function");const F=k.browser.write||e;k.browser.write&&(k.browser.asObject=!0);const N=k.serializers||{},$=n(k.browser.serialize,N);let U=k.browser.serialize;Array.isArray(k.browser.serialize)&&k.browser.serialize.indexOf("!stdSerializers.err")>-1&&(U=!1);const O=["error","fatal","warn","info","debug","trace"];typeof F=="function"&&(F.error=F.fatal=F.warn=F.info=F.debug=F.trace=F),k.enabled===!1&&(k.level="silent");const D=k.level||"info",T=Object.create(F);T.log||(T.log=w),Object.defineProperty(T,"levelVal",{get:R}),Object.defineProperty(T,"level",{get:L,set:B});const I={transmit:P,serialize:$,asObject:k.browser.asObject,levels:O,timestamp:p(k)};T.levels=i.levels,T.level=D,T.setMaxListeners=T.getMaxListeners=T.emit=T.addListener=T.on=T.prependListener=T.once=T.prependOnceListener=T.removeListener=T.removeAllListeners=T.listeners=T.listenerCount=T.eventNames=T.write=T.flush=w,T.serializers=N,T._serialize=$,T._stdErrSerialize=U,T.child=q,P&&(T._logEvent=h());function R(){return this.level==="silent"?1/0:this.levels.values[this.level]}function L(){return this._level}function B(G){if(G!=="silent"&&!this.levels.values[G])throw Error("unknown level "+G);this._level=G,s(I,T,"error","log"),s(I,T,"fatal","error"),s(I,T,"warn","error"),s(I,T,"info","log"),s(I,T,"debug","log"),s(I,T,"trace","log")}function q(G,W){if(!G)throw new Error("missing bindings for child Pino");W=W||{},$&&G.serializers&&(W.serializers=G.serializers);const j=W.serializers;if($&&j){var Y=Object.assign({},N,j),Q=k.browser.serialize===!0?Object.keys(Y):$;delete G.serializers,l([G],Q,Y,this._stdErrSerialize)}function z(Z){this._childLevel=(Z._childLevel|0)+1,this.error=c(Z,G,"error"),this.fatal=c(Z,G,"fatal"),this.warn=c(Z,G,"warn"),this.info=c(Z,G,"info"),this.debug=c(Z,G,"debug"),this.trace=c(Z,G,"trace"),Y&&(this.serializers=Y,this._serialize=Q),P&&(this._logEvent=h([].concat(Z._logEvent.bindings,G)))}return z.prototype=this,new z(this)}return T}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=r,i.stdTimeFunctions=Object.assign({},{nullTime:b,epochTime:E,unixTime:_,isoTime:A});function s(k,P,F,N){const $=Object.getPrototypeOf(P);P[F]=P.levelVal>P.levels.values[F]?w:$[F]?$[F]:e[F]||e[N]||w,o(k,P,F)}function o(k,P,F){!k.transmit&&P[F]===w||(P[F]=(function(N){return function(){const U=k.timestamp(),O=new Array(arguments.length),D=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var T=0;T<O.length;T++)O[T]=arguments[T];if(k.serialize&&!k.asObject&&l(O,this._serialize,this.serializers,this._stdErrSerialize),k.asObject?N.call(D,a(this,F,O,U)):N.apply(D,O),k.transmit){const I=k.transmit.level||P.level,R=i.levels.values[I],L=i.levels.values[F];if(L<R)return;u(this,{ts:U,methodLevel:F,methodValue:L,transmitValue:i.levels.values[k.transmit.level||P.level],send:k.transmit.send,val:P.levelVal},O)}}})(P[F]))}function a(k,P,F,N){k._serialize&&l(F,k._serialize,k.serializers,k._stdErrSerialize);const $=F.slice();let U=$[0];const O={};N&&(O.time=N),O.level=i.levels.values[P];let D=(k._childLevel|0)+1;if(D<1&&(D=1),U!==null&&typeof U=="object"){for(;D--&&typeof $[0]=="object";)Object.assign(O,$.shift());U=$.length?t($.shift(),$):void 0}else typeof U=="string"&&(U=t($.shift(),$));return U!==void 0&&(O.msg=U),O}function l(k,P,F,N){for(const $ in k)if(N&&k[$]instanceof Error)k[$]=i.stdSerializers.err(k[$]);else if(typeof k[$]=="object"&&!Array.isArray(k[$]))for(const U in k[$])P&&P.indexOf(U)>-1&&U in F&&(k[$][U]=F[U](k[$][U]))}function c(k,P,F){return function(){const N=new Array(1+arguments.length);N[0]=P;for(var $=1;$<N.length;$++)N[$]=arguments[$-1];return k[F].apply(this,N)}}function u(k,P,F){const N=P.send,$=P.ts,U=P.methodLevel,O=P.methodValue,D=P.val,T=k._logEvent.bindings;l(F,k._serialize||Object.keys(k.serializers),k.serializers,k._stdErrSerialize===void 0?!0:k._stdErrSerialize),k._logEvent.ts=$,k._logEvent.messages=F.filter(function(I){return T.indexOf(I)===-1}),k._logEvent.level.label=U,k._logEvent.level.value=O,N(U,k._logEvent,D),k._logEvent=h(T)}function h(k){return{ts:0,messages:[],bindings:k||[],level:{label:"",value:0}}}function f(k){const P={type:k.constructor.name,msg:k.message,stack:k.stack};for(const F in k)P[F]===void 0&&(P[F]=k[F]);return P}function p(k){return typeof k.timestamp=="function"?k.timestamp:k.timestamp===!1?b:E}function m(){return{}}function v(k){return k}function w(){}function b(){return!1}function E(){return Date.now()}function _(){return Math.round(Date.now()/1e3)}function A(){return new Date(Date.now()).toISOString()}function C(){function k(P){return typeof P<"u"&&P}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return k(self)||k(window)||k(this)||{}}}return UT}var jot=Oot();const Mot=Mi(jot),Dot={level:"info"},d3="custom_context";var Fot=Object.defineProperty,Lot=Object.defineProperties,Uot=Object.getOwnPropertyDescriptors,sX=Object.getOwnPropertySymbols,Bot=Object.prototype.hasOwnProperty,zot=Object.prototype.propertyIsEnumerable,oX=(t,e,r)=>e in t?Fot(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qot=(t,e)=>{for(var r in e||(e={}))Bot.call(e,r)&&oX(t,r,e[r]);if(sX)for(var r of sX(e))zot.call(e,r)&&oX(t,r,e[r]);return t},Wot=(t,e)=>Lot(t,Uot(e));function Hot(t){return Wot(qot({},t),{level:t?.level||Dot.level})}function Vot(t,e=d3){return t[e]||""}function Got(t,e,r=d3){return t[r]=e,t}function w0e(t,e=d3){let r="";return typeof t.bindings>"u"?r=Vot(t,e):r=t.bindings().context||"",r}function Kot(t,e,r=d3){const n=w0e(t,r);return n.trim()?`${n}/${e}`:e}function Yot(t,e,r=d3){const n=Kot(t,e,r),i=t.child({context:n});return Got(i,n,r)}const b0e="wc",x0e=2,_0e="client",ZF=`${b0e}@${x0e}:${_0e}:`,BT={name:_0e,logger:"error"},aX="WALLETCONNECT_DEEPLINK_CHOICE",Jot="proposal",lX="Proposal expired",Xot="session",Im=At.SEVEN_DAYS,Qot="engine",Ss={wc_sessionPropose:{req:{ttl:At.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:At.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:At.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:At.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:At.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:At.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:At.ONE_DAY,prompt:!1,tag:1104},res:{ttl:At.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:At.ONE_DAY,prompt:!1,tag:1106},res:{ttl:At.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:At.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:At.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:At.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:At.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:At.ONE_DAY,prompt:!1,tag:1112},res:{ttl:At.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:At.ONE_DAY,prompt:!1,tag:1114},res:{ttl:At.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:At.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:At.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:At.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:At.FIVE_MINUTES,prompt:!1,tag:1119}}},zT={min:At.FIVE_MINUTES,max:At.SEVEN_DAYS},Ou={idle:"IDLE",active:"ACTIVE"},Zot={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},eat="request",tat=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],rat="wc",nat="auth",iat="authKeys",sat="pairingTopics",oat="requests",j8=`${rat}@${1.5}:${nat}:`,e_=`${j8}:PUB_KEY`;var aat=Object.defineProperty,lat=Object.defineProperties,cat=Object.getOwnPropertyDescriptors,cX=Object.getOwnPropertySymbols,uat=Object.prototype.hasOwnProperty,dat=Object.prototype.propertyIsEnumerable,_O=(t,e,r)=>e in t?aat(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ln=(t,e)=>{for(var r in e||(e={}))uat.call(e,r)&&_O(t,r,e[r]);if(cX)for(var r of cX(e))dat.call(e,r)&&_O(t,r,e[r]);return t},ro=(t,e)=>lat(t,cat(e)),ct=(t,e,r)=>_O(t,typeof e!="symbol"?e+"":e,r);let hat=class extends srt{constructor(e){super(e),ct(this,"name",Qot),ct(this,"events",new CF),ct(this,"initialized",!1),ct(this,"requestQueue",{state:Ou.idle,queue:[]}),ct(this,"sessionRequestQueue",{state:Ou.idle,queue:[]}),ct(this,"emittedSessionRequests",new nXe({limit:500})),ct(this,"requestQueueDelay",At.ONE_SECOND),ct(this,"expectedPairingMethodMap",new Map),ct(this,"recentlyDeletedMap",new Map),ct(this,"recentlyDeletedLimit",200),ct(this,"relayMessageCache",[]),ct(this,"pendingSessions",new Map),ct(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Ss)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},At.toMiliseconds(this.requestQueueDelay)))}),ct(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=ro(ln({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n),n.optionalNamespaces=iet(n.requiredNamespaces,n.optionalNamespaces),n.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:l,relays:c}=n;let u=i,h,f=!1;try{if(u){const k=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),f=k.active}}catch(k){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),k}if(!u||!f){const{topic:k,uri:P}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=k,h=P}if(!u){const{message:k}=St("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(k)}const p=await this.client.core.crypto.generateKeyPair(),m=Ss.wc_sessionPropose.req.ttl||At.FIVE_MINUTES,v=Wi(m),w=ro(ln(ln({requiredNamespaces:s,optionalNamespaces:o,relays:c??[{protocol:i0e}],proposer:{publicKey:p,metadata:this.client.metadata},expiryTimestamp:v,pairingTopic:u},a&&{sessionProperties:a}),l&&{scopedProperties:l}),{id:Hu()}),b=on("session_connect",w.id),{reject:E,resolve:_,done:A}=Zp(m,lX),C=({id:k})=>{k===w.id&&(this.client.events.off("proposal_expire",C),this.pendingSessions.delete(w.id),this.events.emit(b,{error:{message:lX,code:0}}))};return this.client.events.on("proposal_expire",C),this.events.once(b,({error:k,session:P})=>{this.client.events.off("proposal_expire",C),k?E(k):P&&_(P)}),await this.sendProposeSession({proposal:w,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:w.id}}}),await this.setProposal(w.id,w),{uri:h,approval:A}}),ct(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),ct(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r?.id)==null?void 0:n.toString(),trace:[vf.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(N){throw o.setError(uw.no_internet_connection),N}try{await this.isValidProposalId(r?.id)}catch(N){throw this.client.logger.error(`approve() -> proposal.get(${r?.id}) failed`),o.setError(uw.proposal_not_found),N}try{await this.isValidApprove(r)}catch(N){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(uw.session_approve_namespace_validation_failure),N}const{id:a,relayProtocol:l,namespaces:c,sessionProperties:u,scopedProperties:h,sessionConfig:f}=r,p=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:m,proposer:v,requiredNamespaces:w,optionalNamespaces:b}=p;let E=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:m});E||(E=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:vf.session_approve_started,properties:{topic:m,trace:[vf.session_approve_started,vf.session_namespaces_validation_success]}}));const _=await this.client.core.crypto.generateKeyPair(),A=v.publicKey,C=await this.client.core.crypto.generateSharedKey(_,A),k=ln(ln(ln({relay:{protocol:l??"irn"},namespaces:c,controller:{publicKey:_,metadata:this.client.metadata},expiry:Wi(Im)},u&&{sessionProperties:u}),h&&{scopedProperties:h}),f&&{sessionConfig:f}),P=Mn.relay;E.addTrace(vf.subscribing_session_topic);try{await this.client.core.relayer.subscribe(C,{transportType:P,internal:{skipSubscribe:!0}})}catch(N){throw E.setError(uw.subscribe_session_topic_failure),N}E.addTrace(vf.subscribe_session_topic_success);const F=ro(ln({},k),{topic:C,requiredNamespaces:w,optionalNamespaces:b,pairingTopic:m,acknowledged:!1,self:k.controller,peer:{publicKey:v.publicKey,metadata:v.metadata},controller:_,transportType:Mn.relay});await this.client.session.set(C,F),E.addTrace(vf.store_session);try{await this.sendApproveSession({sessionTopic:C,proposal:p,pairingProposalResponse:{relay:{protocol:l??"irn"},responderPublicKey:_},sessionSettleRequest:k,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),E.addTrace(vf.session_approve_publish_success)}catch(N){throw this.client.logger.error(N),this.client.session.delete(C,Dn("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(C),N}return this.client.core.eventClient.deleteEvent({eventId:E.eventId}),await this.client.core.pairing.updateMetadata({topic:m,metadata:v.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:m}),await this.setExpiry(C,Wi(Im)),{topic:C,acknowledged:()=>Promise.resolve(this.client.session.get(C))}}),ct(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&await this.sendError({id:n,topic:s,error:i,rpcOpts:Ss.wc_sessionPropose.reject}),await this.deleteProposal(n)}),ct(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(h){throw this.client.logger.error("update() -> isValidUpdate() failed"),h}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=Zp(),l=Hu(),c=qf().toString(),u=this.client.session.get(n).namespaces;return this.events.once(on("session_update",l),({error:h})=>{h?a(h):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:l,relayRpcId:c}).catch(h=>{this.client.logger.error(h),this.client.session.update(n,{namespaces:u}),a(h)}),{acknowledged:s}}),ct(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(l){throw this.client.logger.error("extend() -> isValidExtend() failed"),l}const{topic:n}=r,i=Hu(),{done:s,resolve:o,reject:a}=Zp();return this.events.once(on("session_extend",i),({error:l})=>{l?a(l):o()}),await this.setExpiry(n,Wi(Im)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(l=>{a(l)}),{acknowledged:s}}),ct(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}const{chainId:n,request:i,topic:s,expiry:o=Ss.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);a?.transportType===Mn.relay&&await this.confirmOnlineStateOrThrow();const l=Hu(),c=qf().toString(),{done:u,resolve:h,reject:f}=Zp(o,"Request expired. Please try again.");this.events.once(on("session_request",l),({error:w,result:b})=>{w?f(w):h(b)});const p="wc_sessionRequest",m=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(m)return await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:s,method:p,params:{request:ro(ln({},i),{expiryTimestamp:Wi(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:m}).catch(w=>f(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:l}),await u();const v={request:ro(ln({},i),{expiryTimestamp:Wi(o)}),chainId:n};return await Promise.all([new Promise(async w=>{await this.sendRequest({clientRpcId:l,relayRpcId:c,topic:s,method:p,params:v,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(l,v)}).catch(b=>f(b)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:l}),w()}),new Promise(async w=>{var b;if(!((b=a.sessionConfig)!=null&&b.disableDeepLink)){const E=await QJe(this.client.core.storage,aX);await YJe({id:l,topic:s,wcDeepLink:E})}w()}),u()]).then(w=>w[2])}),ct(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===Mn.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Vu(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):Il(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)}),ct(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=Hu(),s=qf().toString(),{done:o,resolve:a,reject:l}=Zp();this.events.once(on("session_ping",i),({error:c})=>{c?l(c):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),ct(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=qf().toString(),a=Hu();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),ct(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Dn("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=St("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),ct(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>aet(n,r)))),ct(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),ct(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Mn.link_mode:Mn.relay;o===Mn.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:l="",uri:c,domain:u,nonce:h,type:f,exp:p,nbf:m,methods:v=[],expiry:w}=r,b=[...r.resources||[]],{topic:E,uri:_}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:E,uri:_}});const A=await this.client.core.crypto.generateKeyPair(),C=J4(A);if(await Promise.all([this.client.auth.authKeys.set(e_,{responseTopic:C,publicKey:A}),this.client.auth.pairingTopics.set(C,{topic:C,pairingTopic:E})]),await this.client.core.relayer.subscribe(C,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${E}`),v.length>0){const{namespace:q}=N0(a[0]);let G=pQe(q,"request",v);Y4(b)&&(G=mQe(G,b.pop())),b.push(G)}const k=w&&w>Ss.wc_sessionAuthenticate.req.ttl?w:Ss.wc_sessionAuthenticate.req.ttl,P={authPayload:{type:f??"caip122",chains:a,statement:l,aud:c,domain:u,version:"1",nonce:h,iat:new Date().toISOString(),exp:p,nbf:m,resources:b},requester:{publicKey:A,metadata:this.client.metadata},expiryTimestamp:Wi(k)},F={eip155:{chains:a,methods:[...new Set(["personal_sign",...v])],events:["chainChanged","accountsChanged"]}},N={requiredNamespaces:{},optionalNamespaces:F,relays:[{protocol:"irn"}],pairingTopic:E,proposer:{publicKey:A,metadata:this.client.metadata},expiryTimestamp:Wi(Ss.wc_sessionPropose.req.ttl),id:Hu()},{done:$,resolve:U,reject:O}=Zp(k,"Request expired"),D=Hu(),T=on("session_connect",N.id),I=on("session_request",D),R=async({error:q,session:G})=>{this.events.off(I,L),q?O(q):G&&U({session:G})},L=async q=>{var G,W,j;if(await this.deletePendingAuthRequest(D,{message:"fulfilled",code:0}),q.error){const se=Dn("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return q.error.code===se.code?void 0:(this.events.off(T,R),O(q.error.message))}await this.deleteProposal(N.id),this.events.off(T,R);const{cacaos:Y,responder:Q}=q.result,z=[],Z=[];for(const se of Y){await MY({cacao:se,projectId:this.client.core.projectId})||(this.client.logger.error(se,"Signature verification failed"),O(Dn("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:ce}=se,ge=Y4(ce.resources),ae=[JR(ce.iss)],_e=uC(ce.iss);if(ge){const Ee=DY(ge),Ie=FY(ge);z.push(...Ee),ae.push(...Ie)}for(const Ee of ae)Z.push(`${Ee}:${_e}`)}const ee=await this.client.core.crypto.generateSharedKey(A,Q.publicKey);let te;z.length>0&&(te={topic:ee,acknowledged:!0,self:{publicKey:A,metadata:this.client.metadata},peer:Q,controller:Q.publicKey,expiry:Wi(Im),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:E,namespaces:lJ([...new Set(z)],[...new Set(Z)]),transportType:o},await this.client.core.relayer.subscribe(ee,{transportType:o}),await this.client.session.set(ee,te),E&&await this.client.core.pairing.updateMetadata({topic:E,metadata:Q.metadata}),te=this.client.session.get(ee)),(G=this.client.metadata.redirect)!=null&&G.linkMode&&(W=Q.metadata.redirect)!=null&&W.linkMode&&(j=Q.metadata.redirect)!=null&&j.universal&&n&&(this.client.core.addLinkModeSupportedApp(Q.metadata.redirect.universal),this.client.session.update(ee,{transportType:Mn.link_mode})),U({auths:Y,session:te})};this.events.once(T,R),this.events.once(I,L);let B;try{if(s){const q=Ju("wc_sessionAuthenticate",P,D);this.client.core.history.set(E,q);const G=await this.client.core.crypto.encode("",q,{type:a3,encoding:jf});B=A6(n,E,G)}else await Promise.all([this.sendRequest({topic:E,method:"wc_sessionAuthenticate",params:P,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:D}),this.sendRequest({topic:E,method:"wc_sessionPropose",params:N,expiry:Ss.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:N.id})])}catch(q){throw this.events.off(T,R),this.events.off(I,L),q}return await this.setProposal(N.id,N),await this.setAuthRequest(D,{request:ro(ln({},P),{verifyContext:{}}),pairingTopic:E,transportType:o}),{uri:B??_,response:$}}),ct(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[Gp.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw s.setError(dw.no_internet_connection),w}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(dw.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||Mn.relay;a===Mn.relay&&await this.confirmOnlineStateOrThrow();const l=o.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),u=J4(l),h={type:fh,receiverPublicKey:l,senderPublicKey:c},f=[],p=[];for(const w of i){if(!await MY({cacao:w,projectId:this.client.core.projectId})){s.setError(dw.invalid_cacao);const C=Dn("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:C,encodeOpts:h}),new Error(C.message)}s.addTrace(Gp.cacaos_verified);const{p:b}=w,E=Y4(b.resources),_=[JR(b.iss)],A=uC(b.iss);if(E){const C=DY(E),k=FY(E);f.push(...C),_.push(...k)}for(const C of _)p.push(`${C}:${A}`)}const m=await this.client.core.crypto.generateSharedKey(c,l);s.addTrace(Gp.create_authenticated_session_topic);let v;if(f?.length>0){v={topic:m,acknowledged:!0,self:{publicKey:c,metadata:this.client.metadata},peer:{publicKey:l,metadata:o.requester.metadata},controller:l,expiry:Wi(Im),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:lJ([...new Set(f)],[...new Set(p)]),transportType:a},s.addTrace(Gp.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(m,{transportType:a})}catch(w){throw s.setError(dw.subscribe_authenticated_session_topic_failure),w}s.addTrace(Gp.subscribe_authenticated_session_topic_success),await this.client.session.set(m,v),s.addTrace(Gp.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Gp.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:i,responder:{publicKey:c,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(w){throw s.setError(dw.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:v}}),ct(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===Mn.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),l=J4(o),c={type:fh,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:l,error:i,encodeOpts:c,rpcOpts:Ss.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),ct(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return ppe(n,i)}),ct(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),ct(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),ct(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:l}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Dn("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(l.publicKey)&&await this.client.core.crypto.deleteKeyPair(l.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(aX).catch(c=>this.client.logger.warn(c)),this.getPendingSessionRequests().forEach(c=>{c.topic===i&&this.deletePendingSessionRequest(c.id,Dn("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=Ou.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),ct(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(uw.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Dn("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),ct(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=Ou.idle,this.client.events.emit("session_request_expire",{id:r}))}),ct(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),ct(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),ct(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,Wi(Ss.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),ct(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=Mn.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),ct(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||Wi(Ss.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),ct(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:l,throwOnFailedPublish:c,appLink:u,tvf:h,publishOpts:f={}}=r,p=Ju(i,s,l);let m;const v=!!u;try{const E=v?jf:oa;m=await this.client.core.crypto.encode(n,p,{encoding:E})}catch(E){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),E}let w;if(tat.includes(i)){const E=Tl(JSON.stringify(p)),_=Tl(m);w=await this.client.core.verify.register({id:_,decryptedId:E})}const b=ln(ln({},Ss[i].req),f);if(b.attestation=w,o&&(b.ttl=o),a&&(b.id=a),this.client.core.history.set(n,p),v){const E=A6(u,n,m);await global.Linking.openURL(E,this.client.name)}else b.tvf=ro(ln({},h),{correlationId:p.id}),c?(b.internal=ro(ln({},b.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,m,b)):this.client.core.relayer.publish(n,m,b).catch(E=>this.client.logger.error(E));return p.id}),ct(this,"sendProposeSession",async r=>{const{proposal:n,publishOpts:i}=r,s=Ju("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,s);const o=await this.client.core.crypto.encode(n.pairingTopic,s,{encoding:oa}),a=Tl(JSON.stringify(s)),l=Tl(o),c=await this.client.core.verify.register({id:l,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:o},opts:ro(ln({},i),{publishMethod:"wc_proposeSession",attestation:c})})}),ct(this,"sendApproveSession",async r=>{const{sessionTopic:n,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=r,l=Z2(s.id,i),c=await this.client.core.crypto.encode(s.pairingTopic,l,{encoding:oa}),u=Ju("wc_sessionSettle",o,a?.id),h=await this.client.core.crypto.encode(n,u,{encoding:oa});this.client.core.history.set(n,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:s.pairingTopic,sessionProposalResponse:c,sessionSettlementRequest:h},opts:ro(ln({},a),{publishMethod:"wc_approveSession"})})}),ct(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:l}=r,c=Z2(n,s);let u;const h=l&&typeof(global==null?void 0:global.Linking)<"u";try{const m=h?jf:oa;u=await this.client.core.crypto.encode(i,c,ro(ln({},a||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),m}let f,p;try{f=await this.client.core.history.get(i,n);const m=f.request;try{p=this.getTVFParams(n,m.params,s)}catch(v){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${v?.message}`)}}catch(m){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),m}if(h){const m=A6(l,i,u);await global.Linking.openURL(m,this.client.name)}else{const m=f.request.method,v=Ss[m].res;v.tvf=ro(ln({},p),{correlationId:n}),o?(v.internal=ro(ln({},v.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,v)):this.client.core.relayer.publish(i,u,v).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(c)}),ct(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:l}=r,c=N8(n,s);let u;const h=l&&typeof(global==null?void 0:global.Linking)<"u";try{const p=h?jf:oa;u=await this.client.core.crypto.encode(i,c,ro(ln({},o||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),p}let f;try{f=await this.client.core.history.get(i,n)}catch(p){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),p}if(h){const p=A6(l,i,u);await global.Linking.openURL(p,this.client.name)}else{const p=f.request.method,m=a||Ss[p].res;this.client.core.relayer.publish(i,u,m)}await this.client.core.history.resolve(c)}),ct(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;Ef(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Ef(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),ct(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),ct(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),ct(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Ou.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Ou.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Ou.idle}),ct(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,l=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:l}))switch(l){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${l}`)}}),ct(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),ct(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=St("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),ct(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),ct(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:l}=i;try{const c=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),c?.setError(Gd.proposal_listener_not_found)),this.isValidConnect(ln({},i.params));const u=a.expiryTimestamp||Wi(Ss.wc_sessionPropose.req.ttl),h=ln({id:l,pairingTopic:n,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(l,h);const f=await this.getVerifyContext({attestationId:s,hash:Tl(JSON.stringify(i)),encryptedId:o,metadata:h.proposer.metadata});c?.addTrace(Bu.emit_session_proposal),this.client.events.emit("session_proposal",{id:l,params:h,verifyContext:f})}catch(c){await this.sendError({id:l,topic:n,error:c,rpcOpts:Ss.wc_sessionPropose.autoReject}),this.client.logger.error(c)}}),ct(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(Vu(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const l=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:l});const c=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const u=await this.client.core.crypto.generateSharedKey(l,c);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:r,proposalId:s,publicKey:l});const h=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:r})}else if(Il(n)){await this.deleteProposal(s);const o=on("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),ct(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:l,namespaces:c,sessionProperties:u,scopedProperties:h,sessionConfig:f}=n.params,p=[...this.pendingSessions.values()].find(w=>w.sessionTopic===r);if(!p)return this.client.logger.error(`Pending session not found for topic ${r}`);const m=this.client.proposal.get(p.proposalId),v=ro(ln(ln(ln({topic:r,relay:o,expiry:l,namespaces:c,acknowledged:!0,pairingTopic:p.pairingTopic,requiredNamespaces:m.requiredNamespaces,optionalNamespaces:m.optionalNamespaces,controller:a.publicKey,self:{publicKey:p.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),h&&{scopedProperties:h}),f&&{sessionConfig:f}),{transportType:Mn.relay});await this.client.session.set(v.topic,v),await this.setExpiry(v.topic,v.expiry),await this.client.core.pairing.updateMetadata({topic:p.pairingTopic,metadata:v.peer.metadata}),this.client.events.emit("session_connect",{session:v}),this.events.emit(on("session_connect",p.proposalId),{session:v}),this.pendingSessions.delete(p.proposalId),this.deleteProposal(p.proposalId,!1),this.cleanupDuplicatePairings(v),await this.sendResult({id:n.id,topic:r,result:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),ct(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;Vu(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(on("session_approve",i),{})):Il(n)&&(await this.client.session.delete(r,Dn("USER_DISCONNECTED")),this.events.emit(on("session_approve",i),{error:n.error}))}),ct(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=lw.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:Dn("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(ln({topic:r},i));try{lw.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0})}catch(l){throw lw.delete(o),l}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),ct(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),ct(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=on("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Vu(n)?this.events.emit(on("session_update",i),{}):Il(n)&&this.events.emit(on("session_update",i),{error:n.error})}),ct(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Wi(Im)),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),ct(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=on("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Vu(n)?this.events.emit(on("session_extend",i),{}):Il(n)&&this.events.emit(on("session_extend",i),{error:n.error})}),ct(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),ct(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=on("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Vu(n)?this.events.emit(on("session_ping",i),{}):Il(n)&&this.events.emit(on("session_ping",i),{error:n.error})},500)}),ct(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(gi.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Dn("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),ct(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:l,encryptedId:c,transportType:u}=r,{id:h,params:f}=a;try{await this.isValidRequest(ln({topic:o},f));const p=this.client.session.get(o),m=await this.getVerifyContext({attestationId:l,hash:Tl(JSON.stringify(Ju("wc_sessionRequest",f,h))),encryptedId:c,metadata:p.peer.metadata,transportType:u}),v={id:h,topic:o,params:f,verifyContext:m};await this.setPendingSessionRequest(v),u===Mn.link_mode&&(n=p.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=p.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(v):(this.addSessionRequestToSessionRequestQueue(v),this.processSessionRequestQueue())}catch(p){await this.sendError({id:h,topic:o,error:p}),this.client.logger.error(p)}}),ct(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=on("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Vu(n)?this.events.emit(on("session_request",i),{result:n.result}):Il(n)&&this.events.emit(on("session_request",i),{error:n.error})}),ct(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=lw.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(ln({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),lw.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),ct(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Vu(n)?this.events.emit(on("session_request",i),{result:n.result}):Il(n)&&this.events.emit(on("session_request",i),{error:n.error})}),ct(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:l}=r;try{const{requester:c,authPayload:u,expiryTimestamp:h}=s.params,f=await this.getVerifyContext({attestationId:o,hash:Tl(JSON.stringify(s)),encryptedId:a,metadata:c.metadata,transportType:l}),p={requester:c,pairingTopic:i,id:s.id,authPayload:u,verifyContext:f,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:p,pairingTopic:i,transportType:l}),l===Mn.link_mode&&(n=c.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(c.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:f})}catch(c){this.client.logger.error(c);const u=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),f=this.getAppLinkIfEnabled(s.params.requester.metadata,l),p={type:fh,receiverPublicKey:u,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:c,encodeOpts:p,rpcOpts:Ss.wc_sessionAuthenticate.autoReject,appLink:f})}}),ct(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),ct(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Ou.idle,this.processSessionRequestQueue()},At.toMiliseconds(this.requestQueueDelay))}),ct(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=on("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(on("session_request",s.request.id),{error:n})})}),ct(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Ou.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),ct(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=Ou.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),ct(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Ju("wc_sessionPropose",ro(ln({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),ct(this,"isValidConnect",async r=>{if(!ea(r)){const{message:c}=St("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(c)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:l}=r;if(Yi(n)||await this.isValidPairingTopic(n),!bet(l)){const{message:c}=St("MISSING_OR_INVALID",`connect() relays: ${l}`);throw new Error(c)}if(!Yi(i)&&ad(i)!==0){const c="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(c):this.client.logger.warn(c),this.validateNamespaces(i,"requiredNamespaces")}if(!Yi(s)&&ad(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Yi(o)||this.validateSessionProps(o,"sessionProperties"),!Yi(a)){this.validateSessionProps(a,"scopedProperties");const c=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>c.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(c)}`)}}),ct(this,"validateNamespaces",(r,n)=>{const i=wet(r,"connect()",n);if(i)throw new Error(i.message)}),ct(this,"isValidApprove",async r=>{if(!ea(r))throw new Error(St("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const l=this.client.proposal.get(n),c=PT(i,"approve()");if(c)throw new Error(c.message);const u=dJ(l.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!Pi(s,!0)){const{message:h}=St("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(h)}if(Yi(o)||this.validateSessionProps(o,"sessionProperties"),!Yi(a)){this.validateSessionProps(a,"scopedProperties");const h=new Set(Object.keys(i));if(!Object.keys(a).every(f=>h.has(f.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(h).join(", ")}`)}}),ct(this,"isValidReject",async r=>{if(!ea(r)){const{message:s}=St("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!_et(i)){const{message:s}=St("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),ct(this,"isValidSessionSettleRequest",r=>{if(!ea(r)){const{message:c}=St("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(c)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!Hpe(n)){const{message:c}=St("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(c)}const a=fet(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const l=PT(s,"onSessionSettleRequest()");if(l)throw new Error(l.message);if(Ef(o)){const{message:c}=St("EXPIRED","onSessionSettleRequest()");throw new Error(c)}}),ct(this,"isValidUpdate",async r=>{if(!ea(r)){const{message:l}=St("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(l)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=PT(i,"update()");if(o)throw new Error(o.message);const a=dJ(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),ct(this,"isValidExtend",async r=>{if(!ea(r)){const{message:i}=St("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),ct(this,"isValidRequest",async r=>{if(!ea(r)){const{message:l}=St("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(l)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!uJ(a,s)){const{message:l}=St("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(l)}if(!Cet(i)){const{message:l}=St("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(l)}if(!Aet(a,s,i.method)){const{message:l}=St("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(l)}if(o&&!$et(o,zT)){const{message:l}=St("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${zT.min} and ${zT.max}`);throw new Error(l)}}),ct(this,"isValidRespond",async r=>{var n;if(!ea(r)){const{message:o}=St("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r?.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!Eet(s)){const{message:o}=St("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),ct(this,"isValidPing",async r=>{if(!ea(r)){const{message:i}=St("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),ct(this,"isValidEmit",async r=>{if(!ea(r)){const{message:a}=St("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!uJ(o,s)){const{message:a}=St("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!ket(i)){const{message:a}=St("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!Tet(o,s,i.name)){const{message:a}=St("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),ct(this,"isValidDisconnect",async r=>{if(!ea(r)){const{message:i}=St("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),ct(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!Pi(i,!1))throw new Error("uri is required parameter");if(!Pi(s,!1))throw new Error("domain is required parameter");if(!Pi(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(l=>N0(l).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=N0(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),ct(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,l={verified:{verifyUrl:o.verifyUrl||Sb,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Mn.link_mode){const u=this.getAppLinkIfEnabled(o,a);return l.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",l}const c=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});c&&(l.verified.origin=c.origin,l.verified.isScam=c.isScam,l.verified.validation=c.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(c){this.client.logger.warn(c)}return this.client.logger.debug(`Verify context: ${JSON.stringify(l)}`),l}),ct(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=St("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),ct(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),ct(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),ct(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=St("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),ct(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,l,c,u,h,f;return!r||n!==Mn.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((c=(l=this.client.metadata)==null?void 0:l.redirect)==null?void 0:c.universal)!==""&&((u=r?.redirect)==null?void 0:u.universal)!==void 0&&((h=r?.redirect)==null?void 0:h.universal)!==""&&((f=r?.redirect)==null?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),ct(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r?.redirect)==null?void 0:i.universal:void 0}),ct(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=EY(r,"topic")||"",i=decodeURIComponent(EY(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:Mn.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),ct(this,"registerLinkModeListeners",async()=>{var r;if(OF()||yp()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),ct(this,"getTVFParams",(r,n,i)=>{var s,o,a;if(!((s=n.request)!=null&&s.method))return{};const l={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{const c=this.extractTxHashesFromResult(n.request,i);l.txHashes=c,l.contractAddresses=this.isValidContractData(n.request.params)?[(a=(o=n.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(c){this.client.logger.warn("Error getting TVF params",c)}return l}),ct(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=r?.data||((n=r?.[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),ct(this,"extractTxHashesFromResult",(r,n)=>{var i;try{if(!n)return[];const s=r.method,o=Zot[s];if(s==="sui_signTransaction")return[QXe(n.transactionBytes)];if(s==="near_signTransaction")return[NY(n)];if(s==="near_signTransactions")return n.map(l=>NY(l));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=n.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[Vet({transaction:r.params.transactionPayload,signature:n.signature})];if(s==="algo_signTxn")return Bl(n)?n.map(l=>RY(l)):[RY(n)];if(s==="cosmos_signDirect")return[eQe(n)];if(typeof n=="string")return[n];const a=n[o.key];if(Bl(a))return s==="solana_signAllTransactions"?a.map(l=>XXe(l)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=St("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(gi.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(e_)?this.client.auth.authKeys.get(e_):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===Mn.link_mode?jf:oa});QF(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:Tl(n)})):R8(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Sl.expired,async e=>{const{topic:r,id:n}=Zfe(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,St("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,St("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(d0.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(d0.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Pi(e,!1)){const{message:r}=St("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=St("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(Ef(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=St("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!Pi(e,!1)){const{message:r}=St("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=St("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(Ef(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=St("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=St("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Pi(e,!1)){const{message:r}=St("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=St("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!xet(e)){const{message:r}=St("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=St("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(Ef(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=St("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}},fat=class extends kg{constructor(e,r){super(e,r,Jot,ZF),this.core=e,this.logger=r}},pat=class extends kg{constructor(e,r){super(e,r,Xot,ZF),this.core=e,this.logger=r}},gat=class extends kg{constructor(e,r){super(e,r,eat,ZF,n=>n.id),this.core=e,this.logger=r}},mat=class extends kg{constructor(e,r){super(e,r,iat,j8,()=>e_),this.core=e,this.logger=r}},yat=class extends kg{constructor(e,r){super(e,r,sat,j8),this.core=e,this.logger=r}},vat=class extends kg{constructor(e,r){super(e,r,oat,j8,n=>n.id),this.core=e,this.logger=r}};var wat=Object.defineProperty,bat=(t,e,r)=>e in t?wat(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qT=(t,e,r)=>bat(t,typeof e!="symbol"?e+"":e,r);let xat=class{constructor(e,r){this.core=e,this.logger=r,qT(this,"authKeys"),qT(this,"pairingTopics"),qT(this,"requests"),this.authKeys=new mat(this.core,this.logger),this.pairingTopics=new yat(this.core,this.logger),this.requests=new vat(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var _at=Object.defineProperty,Cat=(t,e,r)=>e in t?_at(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Lr=(t,e,r)=>Cat(t,typeof e!="symbol"?e+"":e,r);let Eat=class C0e extends irt{constructor(e){super(e),Lr(this,"protocol",b0e),Lr(this,"version",x0e),Lr(this,"name",BT.name),Lr(this,"metadata"),Lr(this,"core"),Lr(this,"logger"),Lr(this,"events",new il.EventEmitter),Lr(this,"engine"),Lr(this,"session"),Lr(this,"proposal"),Lr(this,"pendingRequest"),Lr(this,"auth"),Lr(this,"signConfig"),Lr(this,"on",(n,i)=>this.events.on(n,i)),Lr(this,"once",(n,i)=>this.events.once(n,i)),Lr(this,"off",(n,i)=>this.events.off(n,i)),Lr(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),Lr(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),Lr(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),Lr(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),Lr(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),Lr(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),Lr(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),Lr(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),Lr(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),Lr(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),Lr(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),Lr(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),Lr(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),Lr(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),Lr(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),Lr(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),Lr(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),Lr(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),Lr(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||BT.name,this.metadata=qJe(e?.metadata),this.signConfig=e?.signConfig;const r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Mot(Hot({level:e?.logger||BT.logger}));this.core=e?.core||new Rot(e),this.logger=Yot(r,this.name),this.session=new pat(this.core,this.logger),this.proposal=new fat(this.core,this.logger),this.pendingRequest=new gat(this.core,this.logger),this.engine=new hat(this),this.auth=new xat(this.core,this.logger)}static async init(e){const r=new C0e(e);return await r.initialize(),r}get context(){return w0e(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var WT,uX;function kat(){if(uX)return WT;uX=1;const t=KF();WT=i;const e=C().console||{},r={mapHttpRequest:m,mapHttpResponse:m,wrapRequestSerializer:v,wrapResponseSerializer:v,wrapErrorSerializer:v,req:m,res:m,err:f};function n(k,P){return Array.isArray(k)?k.filter(function(N){return N!=="!stdSerializers.err"}):k===!0?Object.keys(P):!1}function i(k){k=k||{},k.browser=k.browser||{};const P=k.browser.transmit;if(P&&typeof P.send!="function")throw Error("pino: transmit option must have a send function");const F=k.browser.write||e;k.browser.write&&(k.browser.asObject=!0);const N=k.serializers||{},$=n(k.browser.serialize,N);let U=k.browser.serialize;Array.isArray(k.browser.serialize)&&k.browser.serialize.indexOf("!stdSerializers.err")>-1&&(U=!1);const O=["error","fatal","warn","info","debug","trace"];typeof F=="function"&&(F.error=F.fatal=F.warn=F.info=F.debug=F.trace=F),k.enabled===!1&&(k.level="silent");const D=k.level||"info",T=Object.create(F);T.log||(T.log=w),Object.defineProperty(T,"levelVal",{get:R}),Object.defineProperty(T,"level",{get:L,set:B});const I={transmit:P,serialize:$,asObject:k.browser.asObject,levels:O,timestamp:p(k)};T.levels=i.levels,T.level=D,T.setMaxListeners=T.getMaxListeners=T.emit=T.addListener=T.on=T.prependListener=T.once=T.prependOnceListener=T.removeListener=T.removeAllListeners=T.listeners=T.listenerCount=T.eventNames=T.write=T.flush=w,T.serializers=N,T._serialize=$,T._stdErrSerialize=U,T.child=q,P&&(T._logEvent=h());function R(){return this.level==="silent"?1/0:this.levels.values[this.level]}function L(){return this._level}function B(G){if(G!=="silent"&&!this.levels.values[G])throw Error("unknown level "+G);this._level=G,s(I,T,"error","log"),s(I,T,"fatal","error"),s(I,T,"warn","error"),s(I,T,"info","log"),s(I,T,"debug","log"),s(I,T,"trace","log")}function q(G,W){if(!G)throw new Error("missing bindings for child Pino");W=W||{},$&&G.serializers&&(W.serializers=G.serializers);const j=W.serializers;if($&&j){var Y=Object.assign({},N,j),Q=k.browser.serialize===!0?Object.keys(Y):$;delete G.serializers,l([G],Q,Y,this._stdErrSerialize)}function z(Z){this._childLevel=(Z._childLevel|0)+1,this.error=c(Z,G,"error"),this.fatal=c(Z,G,"fatal"),this.warn=c(Z,G,"warn"),this.info=c(Z,G,"info"),this.debug=c(Z,G,"debug"),this.trace=c(Z,G,"trace"),Y&&(this.serializers=Y,this._serialize=Q),P&&(this._logEvent=h([].concat(Z._logEvent.bindings,G)))}return z.prototype=this,new z(this)}return T}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=r,i.stdTimeFunctions=Object.assign({},{nullTime:b,epochTime:E,unixTime:_,isoTime:A});function s(k,P,F,N){const $=Object.getPrototypeOf(P);P[F]=P.levelVal>P.levels.values[F]?w:$[F]?$[F]:e[F]||e[N]||w,o(k,P,F)}function o(k,P,F){!k.transmit&&P[F]===w||(P[F]=(function(N){return function(){const U=k.timestamp(),O=new Array(arguments.length),D=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var T=0;T<O.length;T++)O[T]=arguments[T];if(k.serialize&&!k.asObject&&l(O,this._serialize,this.serializers,this._stdErrSerialize),k.asObject?N.call(D,a(this,F,O,U)):N.apply(D,O),k.transmit){const I=k.transmit.level||P.level,R=i.levels.values[I],L=i.levels.values[F];if(L<R)return;u(this,{ts:U,methodLevel:F,methodValue:L,transmitValue:i.levels.values[k.transmit.level||P.level],send:k.transmit.send,val:P.levelVal},O)}}})(P[F]))}function a(k,P,F,N){k._serialize&&l(F,k._serialize,k.serializers,k._stdErrSerialize);const $=F.slice();let U=$[0];const O={};N&&(O.time=N),O.level=i.levels.values[P];let D=(k._childLevel|0)+1;if(D<1&&(D=1),U!==null&&typeof U=="object"){for(;D--&&typeof $[0]=="object";)Object.assign(O,$.shift());U=$.length?t($.shift(),$):void 0}else typeof U=="string"&&(U=t($.shift(),$));return U!==void 0&&(O.msg=U),O}function l(k,P,F,N){for(const $ in k)if(N&&k[$]instanceof Error)k[$]=i.stdSerializers.err(k[$]);else if(typeof k[$]=="object"&&!Array.isArray(k[$]))for(const U in k[$])P&&P.indexOf(U)>-1&&U in F&&(k[$][U]=F[U](k[$][U]))}function c(k,P,F){return function(){const N=new Array(1+arguments.length);N[0]=P;for(var $=1;$<N.length;$++)N[$]=arguments[$-1];return k[F].apply(this,N)}}function u(k,P,F){const N=P.send,$=P.ts,U=P.methodLevel,O=P.methodValue,D=P.val,T=k._logEvent.bindings;l(F,k._serialize||Object.keys(k.serializers),k.serializers,k._stdErrSerialize===void 0?!0:k._stdErrSerialize),k._logEvent.ts=$,k._logEvent.messages=F.filter(function(I){return T.indexOf(I)===-1}),k._logEvent.level.label=U,k._logEvent.level.value=O,N(U,k._logEvent,D),k._logEvent=h(T)}function h(k){return{ts:0,messages:[],bindings:k||[],level:{label:"",value:0}}}function f(k){const P={type:k.constructor.name,msg:k.message,stack:k.stack};for(const F in k)P[F]===void 0&&(P[F]=k[F]);return P}function p(k){return typeof k.timestamp=="function"?k.timestamp:k.timestamp===!1?b:E}function m(){return{}}function v(k){return k}function w(){}function b(){return!1}function E(){return Date.now()}function _(){return Math.round(Date.now()/1e3)}function A(){return new Date(Date.now()).toISOString()}function C(){function k(P){return typeof P<"u"&&P}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return k(self)||k(window)||k(this)||{}}}return WT}var ny=kat();const eL=Mi(ny),Sat={level:"info"},h3="custom_context",tL=1e3*1024;let Aat=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},dX=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new Aat(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},E0e=class{constructor(e,r=tL){this.level=e??"error",this.levelValue=ny.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new dX(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===ny.levels.values.error?console.error(e):r===ny.levels.values.warn?console.warn(e):r===ny.levels.values.debug?console.debug(e):r===ny.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(su({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new dX(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(su({extraMetadata:e})),new Blob(r,{type:"application/json"})}},Tat=class{constructor(e,r=tL){this.baseChunkLogger=new E0e(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},Iat=class{constructor(e,r=tL){this.baseChunkLogger=new E0e(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var Pat=Object.defineProperty,$at=Object.defineProperties,Nat=Object.getOwnPropertyDescriptors,hX=Object.getOwnPropertySymbols,Rat=Object.prototype.hasOwnProperty,Oat=Object.prototype.propertyIsEnumerable,fX=(t,e,r)=>e in t?Pat(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yC=(t,e)=>{for(var r in e||(e={}))Rat.call(e,r)&&fX(t,r,e[r]);if(hX)for(var r of hX(e))Oat.call(e,r)&&fX(t,r,e[r]);return t},vC=(t,e)=>$at(t,Nat(e));function jat(t){return vC(yC({},t),{level:t?.level||Sat.level})}function Mat(t,e=h3){return t[e]||""}function Dat(t,e,r=h3){return t[r]=e,t}function Fat(t,e=h3){let r="";return typeof t.bindings>"u"?r=Mat(t,e):r=t.bindings().context||"",r}function Lat(t,e,r=h3){const n=Fat(t,r);return n.trim()?`${n}/${e}`:e}function BOt(t,e,r=h3){const n=Lat(t,e,r),i=t.child({context:n});return Dat(i,n,r)}function Uat(t){var e,r;const n=new Tat((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:eL(vC(yC({},t.opts),{level:"trace",browser:vC(yC({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function Bat(t){var e;const r=new Iat((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:eL(vC(yC({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function zOt(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Uat(t):Bat(t)}var I6={exports:{}},pX;function zat(){return pX||(pX=1,(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof ko<"u"&&ko,n=(function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s})();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof ko<"u"&&ko||{},l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function c(I){return I&&DataView.prototype.isPrototypeOf(I)}if(l.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(I){return I&&u.indexOf(Object.prototype.toString.call(I))>-1};function f(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(I)||I==="")throw new TypeError('Invalid character in header field name: "'+I+'"');return I.toLowerCase()}function p(I){return typeof I!="string"&&(I=String(I)),I}function m(I){var R={next:function(){var L=I.shift();return{done:L===void 0,value:L}}};return l.iterable&&(R[Symbol.iterator]=function(){return R}),R}function v(I){this.map={},I instanceof v?I.forEach(function(R,L){this.append(L,R)},this):Array.isArray(I)?I.forEach(function(R){if(R.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+R.length);this.append(R[0],R[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(R){this.append(R,I[R])},this)}v.prototype.append=function(I,R){I=f(I),R=p(R);var L=this.map[I];this.map[I]=L?L+", "+R:R},v.prototype.delete=function(I){delete this.map[f(I)]},v.prototype.get=function(I){return I=f(I),this.has(I)?this.map[I]:null},v.prototype.has=function(I){return this.map.hasOwnProperty(f(I))},v.prototype.set=function(I,R){this.map[f(I)]=p(R)},v.prototype.forEach=function(I,R){for(var L in this.map)this.map.hasOwnProperty(L)&&I.call(R,this.map[L],L,this)},v.prototype.keys=function(){var I=[];return this.forEach(function(R,L){I.push(L)}),m(I)},v.prototype.values=function(){var I=[];return this.forEach(function(R){I.push(R)}),m(I)},v.prototype.entries=function(){var I=[];return this.forEach(function(R,L){I.push([L,R])}),m(I)},l.iterable&&(v.prototype[Symbol.iterator]=v.prototype.entries);function w(I){if(!I._noBody){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}}function b(I){return new Promise(function(R,L){I.onload=function(){R(I.result)},I.onerror=function(){L(I.error)}})}function E(I){var R=new FileReader,L=b(R);return R.readAsArrayBuffer(I),L}function _(I){var R=new FileReader,L=b(R),B=/charset=([A-Za-z0-9_-]+)/.exec(I.type),q=B?B[1]:"utf-8";return R.readAsText(I,q),L}function A(I){for(var R=new Uint8Array(I),L=new Array(R.length),B=0;B<R.length;B++)L[B]=String.fromCharCode(R[B]);return L.join("")}function C(I){if(I.slice)return I.slice(0);var R=new Uint8Array(I.byteLength);return R.set(new Uint8Array(I)),R.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(I){this.bodyUsed=this.bodyUsed,this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:l.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:l.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():l.arrayBuffer&&l.blob&&c(I)?(this._bodyArrayBuffer=C(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||h(I))?this._bodyArrayBuffer=C(I):this._bodyText=I=Object.prototype.toString.call(I):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var I=w(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var I=w(this);return I||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(E);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var I=w(this);if(I)return I;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(A(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then($)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function F(I){var R=I.toUpperCase();return P.indexOf(R)>-1?R:I}function N(I,R){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');R=R||{};var L=R.body;if(I instanceof N){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,R.headers||(this.headers=new v(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!L&&I._bodyInit!=null&&(L=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=R.credentials||this.credentials||"same-origin",(R.headers||!this.headers)&&(this.headers=new v(R.headers)),this.method=F(R.method||this.method||"GET"),this.mode=R.mode||this.mode||null,this.signal=R.signal||this.signal||(function(){if("AbortController"in a){var G=new AbortController;return G.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(L),(this.method==="GET"||this.method==="HEAD")&&(R.cache==="no-store"||R.cache==="no-cache")){var B=/([?&])_=[^&]*/;if(B.test(this.url))this.url=this.url.replace(B,"$1_="+new Date().getTime());else{var q=/\?/;this.url+=(q.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}N.prototype.clone=function(){return new N(this,{body:this._bodyInit})};function $(I){var R=new FormData;return I.trim().split("&").forEach(function(L){if(L){var B=L.split("="),q=B.shift().replace(/\+/g," "),G=B.join("=").replace(/\+/g," ");R.append(decodeURIComponent(q),decodeURIComponent(G))}}),R}function U(I){var R=new v,L=I.replace(/\r?\n[\t ]+/g," ");return L.split("\r").map(function(B){return B.indexOf(`
`)===0?B.substr(1,B.length):B}).forEach(function(B){var q=B.split(":"),G=q.shift().trim();if(G){var W=q.join(":").trim();try{R.append(G,W)}catch(j){console.warn("Response "+j.message)}}}),R}k.call(N.prototype);function O(I,R){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(R||(R={}),this.type="default",this.status=R.status===void 0?200:R.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=R.statusText===void 0?"":""+R.statusText,this.headers=new v(R.headers),this.url=R.url||"",this._initBody(I)}k.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},O.error=function(){var I=new O(null,{status:200,statusText:""});return I.ok=!1,I.status=0,I.type="error",I};var D=[301,302,303,307,308];O.redirect=function(I,R){if(D.indexOf(R)===-1)throw new RangeError("Invalid status code");return new O(null,{status:R,headers:{location:I}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(R,L){this.message=R,this.name=L;var B=Error(R);this.stack=B.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function T(I,R){return new Promise(function(L,B){var q=new N(I,R);if(q.signal&&q.signal.aborted)return B(new o.DOMException("Aborted","AbortError"));var G=new XMLHttpRequest;function W(){G.abort()}G.onload=function(){var Q={statusText:G.statusText,headers:U(G.getAllResponseHeaders()||"")};q.url.indexOf("file://")===0&&(G.status<200||G.status>599)?Q.status=200:Q.status=G.status,Q.url="responseURL"in G?G.responseURL:Q.headers.get("X-Request-URL");var z="response"in G?G.response:G.responseText;setTimeout(function(){L(new O(z,Q))},0)},G.onerror=function(){setTimeout(function(){B(new TypeError("Network request failed"))},0)},G.ontimeout=function(){setTimeout(function(){B(new TypeError("Network request timed out"))},0)},G.onabort=function(){setTimeout(function(){B(new o.DOMException("Aborted","AbortError"))},0)};function j(Q){try{return Q===""&&a.location.href?a.location.href:Q}catch{return Q}}if(G.open(q.method,j(q.url),!0),q.credentials==="include"?G.withCredentials=!0:q.credentials==="omit"&&(G.withCredentials=!1),"responseType"in G&&(l.blob?G.responseType="blob":l.arrayBuffer&&(G.responseType="arraybuffer")),R&&typeof R.headers=="object"&&!(R.headers instanceof v||a.Headers&&R.headers instanceof a.Headers)){var Y=[];Object.getOwnPropertyNames(R.headers).forEach(function(Q){Y.push(f(Q)),G.setRequestHeader(Q,p(R.headers[Q]))}),q.headers.forEach(function(Q,z){Y.indexOf(z)===-1&&G.setRequestHeader(z,Q)})}else q.headers.forEach(function(Q,z){G.setRequestHeader(z,Q)});q.signal&&(q.signal.addEventListener("abort",W),G.onreadystatechange=function(){G.readyState===4&&q.signal.removeEventListener("abort",W)}),G.send(typeof q._bodyInit>"u"?null:q._bodyInit)})}return T.polyfill=!0,a.fetch||(a.fetch=T,a.Headers=v,a.Request=N,a.Response=O),o.Headers=v,o.Request=N,o.Response=O,o.fetch=T,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(I6,I6.exports)),I6.exports}var qat=zat();const gX=Mi(qat);var Wat=Object.defineProperty,Hat=Object.defineProperties,Vat=Object.getOwnPropertyDescriptors,mX=Object.getOwnPropertySymbols,Gat=Object.prototype.hasOwnProperty,Kat=Object.prototype.propertyIsEnumerable,yX=(t,e,r)=>e in t?Wat(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vX=(t,e)=>{for(var r in e||(e={}))Gat.call(e,r)&&yX(t,r,e[r]);if(mX)for(var r of mX(e))Kat.call(e,r)&&yX(t,r,e[r]);return t},wX=(t,e)=>Hat(t,Vat(e));const Yat={Accept:"application/json","Content-Type":"application/json"},Jat="POST",bX={headers:Yat,method:Jat},xX=10;let hu=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new il.EventEmitter,this.isAvailable=!1,this.registering=!1,!PJ(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=su(e),n=await(await gX(this.url,wX(vX({},bX),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!PJ(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=su({id:1,jsonrpc:"2.0",method:"test",params:[]});await gX(e,wX(vX({},bX),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?rg(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=N8(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return Qpe(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>xX&&this.events.setMaxListeners(xX)}};const _X="error",Xat="wss://relay.walletconnect.org",Qat="wc",Zat="universal_provider",P6=`${Qat}@2:${Zat}:`,k0e="https://rpc.walletconnect.org/v1/",S0e="generic",elt=`${k0e}bundler`,cc={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function rL(t){return t==null||typeof t!="object"&&typeof t!="function"}function A0e(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function T0e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const tlt="[object RegExp]",I0e="[object String]",P0e="[object Number]",$0e="[object Boolean]",N0e="[object Arguments]",rlt="[object Symbol]",nlt="[object Date]",ilt="[object Map]",slt="[object Set]",olt="[object Array]",alt="[object ArrayBuffer]",llt="[object Object]",clt="[object DataView]",ult="[object Uint8Array]",dlt="[object Uint8ClampedArray]",hlt="[object Uint16Array]",flt="[object Uint32Array]",plt="[object Int8Array]",glt="[object Int16Array]",mlt="[object Int32Array]",ylt="[object Float32Array]",vlt="[object Float64Array]";function nL(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wlt(t,e){return wy(t,void 0,t,new Map,e)}function wy(t,e,r,n=new Map,i=void 0){const s=i?.(t,e,r,n);if(s!=null)return s;if(rL(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=wy(t[a],a,r,n,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,l]of t)o.set(a,wy(l,a,r,n,i));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(wy(a,void 0,r,n,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(nL(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=wy(t[a],a,r,n,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),h0(o,t,r,n,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),h0(o,t,r,n,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),h0(o,t,r,n,i),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,h0(o,t,r,n,i),o}if(typeof t=="object"&&blt(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),h0(o,t,r,n,i),o}return t}function h0(t,e,r=t,n,i){const s=[...Object.keys(e),...A0e(e)];for(let o=0;o<s.length;o++){const a=s[o],l=Object.getOwnPropertyDescriptor(t,a);(l==null||l.writable)&&(t[a]=wy(e[a],a,r,n,i))}}function blt(t){switch(T0e(t)){case N0e:case olt:case alt:case clt:case $0e:case nlt:case ylt:case vlt:case plt:case glt:case mlt:case ilt:case P0e:case llt:case tlt:case slt:case I0e:case rlt:case ult:case dlt:case hlt:case flt:return!0;default:return!1}}function xlt(t,e){return wlt(t,(r,n,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case P0e:case I0e:case $0e:{const o=new t.constructor(t?.valueOf());return h0(o,t),o}case N0e:{const o={};return h0(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function CX(t){return xlt(t)}function EX(t){return t!==null&&typeof t=="object"&&T0e(t)==="[object Arguments]"}function kX(t){return typeof t=="object"&&t!==null}function _lt(){}function Clt(t){return nL(t)}function Elt(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function klt(t){if(rL(t))return t;if(Array.isArray(t)||nL(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function Slt(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let i=t;for(let s=0;s<r.length;s++){const o=r[s];i=CO(i,o,n,new Map)}return i}function CO(t,e,r,n){if(rL(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return klt(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...A0e(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],l=t[o];if(EX(a)&&(a={...a}),EX(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=CX(a)),Array.isArray(a))if(typeof l=="object"&&l!=null){const u=[],h=Reflect.ownKeys(l);for(let f=0;f<h.length;f++){const p=h[f];u[p]=l[p]}l=u}else l=[];const c=r(l,a,o,t,e,n);c!=null?t[o]=c:Array.isArray(a)||kX(l)&&kX(a)?t[o]=CO(l,a,r,n):l==null&&Elt(a)?t[o]=CO({},a,r,n):l==null&&Clt(a)?t[o]=CX(a):(l===void 0||a!==void 0)&&(t[o]=a)}return t}function Alt(t,...e){return Slt(t,...e,_lt)}var Tlt=Object.defineProperty,Ilt=Object.defineProperties,Plt=Object.getOwnPropertyDescriptors,SX=Object.getOwnPropertySymbols,$lt=Object.prototype.hasOwnProperty,Nlt=Object.prototype.propertyIsEnumerable,AX=(t,e,r)=>e in t?Tlt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$6=(t,e)=>{for(var r in e||(e={}))$lt.call(e,r)&&AX(t,r,e[r]);if(SX)for(var r of SX(e))Nlt.call(e,r)&&AX(t,r,e[r]);return t},Rlt=(t,e)=>Ilt(t,Plt(e));function el(t,e,r){var n;const i=N0(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${k0e}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function Sg(t){return t.includes(":")?t.split(":")[1]:t}function R0e(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Olt(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function TX(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>{var n,i;return((n=r?.chains)==null?void 0:n.length)&&((i=r?.chains)==null?void 0:i.length)>0}))}function N6(t={},e={}){const r=TX(IX(t)),n=TX(IX(e));return Alt(r,n)}function IX(t){var e,r,n,i,s;const o={};if(!ad(t))return o;for(const[a,l]of Object.entries(t)){const c=$8(a)?[a]:l.chains,u=l.methods||[],h=l.events||[],f=l.rpcMap||{},p=vy(a);o[p]=Rlt($6($6({},o[p]),l),{chains:od(c,(e=o[p])==null?void 0:e.chains),methods:od(u,(r=o[p])==null?void 0:r.methods),events:od(h,(n=o[p])==null?void 0:n.events)}),(ad(f)||ad(((i=o[p])==null?void 0:i.rpcMap)||{}))&&(o[p].rpcMap=$6($6({},f),(s=o[p])==null?void 0:s.rpcMap))}return o}function PX(t){return t.includes(":")?t.split(":")[2]:t}function $X(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=$8(r)?[r]:n.chains?n.chains:R0e(n.accounts);e[r]={chains:a,methods:i,events:s,accounts:o}}return e}function HT(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const O0e={},Zr=t=>O0e[t],VT=(t,e)=>{O0e[t]=e};var jlt=Object.defineProperty,NX=Object.getOwnPropertySymbols,Mlt=Object.prototype.hasOwnProperty,Dlt=Object.prototype.propertyIsEnumerable,RX=(t,e,r)=>e in t?jlt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,OX=(t,e)=>{for(var r in e||(e={}))Mlt.call(e,r)&&RX(t,r,e[r]);if(NX)for(var r of NX(e))Dlt.call(e,r)&&RX(t,r,e[r]);return t};const jX="eip155",Flt=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],Llt=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,GT=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,MX=t=>Object.keys(t).filter(e=>Flt.includes(e)).reduce((e,r)=>(e[r]=t[r],e),{}),Ult=(t,e,r)=>{const{sessionProperties:n={},scopedProperties:i={}}=t,s={};if(!ad(i)&&!ad(n))return;const o=MX(n);for(const a of r){const l=Llt(a);if(!l)continue;s[GT(l)]=o;const c=i?.[`${jX}:${l}`];if(c){const u=c?.[`${jX}:${l}:${e}`];s[GT(l)]=OX(OX({},s[GT(l)]),MX(u||c))}}for(const[a,l]of Object.entries(s))Object.keys(l).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var Blt=Object.defineProperty,zlt=(t,e,r)=>e in t?Blt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pm=(t,e,r)=>zlt(t,typeof e!="symbol"?e+"":e,r);class qlt{constructor(e){Pm(this,"name","polkadot"),Pm(this,"client"),Pm(this,"httpProviders"),Pm(this,"events"),Pm(this,"namespace"),Pm(this,"chainId"),this.namespace=e.namespace,this.events=Zr("events"),this.client=Zr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(cc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Sg(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||el(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new lc(new hu(n,Zr("disableProviderPing")))}}var Wlt=Object.defineProperty,Hlt=Object.defineProperties,Vlt=Object.getOwnPropertyDescriptors,DX=Object.getOwnPropertySymbols,Glt=Object.prototype.hasOwnProperty,Klt=Object.prototype.propertyIsEnumerable,EO=(t,e,r)=>e in t?Wlt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,FX=(t,e)=>{for(var r in e||(e={}))Glt.call(e,r)&&EO(t,r,e[r]);if(DX)for(var r of DX(e))Klt.call(e,r)&&EO(t,r,e[r]);return t},LX=(t,e)=>Hlt(t,Vlt(e)),$m=(t,e,r)=>EO(t,typeof e!="symbol"?e+"":e,r);class Ylt{constructor(e){$m(this,"name","eip155"),$m(this,"client"),$m(this,"chainId"),$m(this,"namespace"),$m(this,"httpProviders"),$m(this,"events"),this.namespace=e.namespace,this.events=Zr("events"),this.client=Zr("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(cc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||el(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new lc(new hu(n,Zr("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(Sg(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i,s,o;const a=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0],l=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const c=this.client.session.get(e.topic),u=((o=c?.sessionProperties)==null?void 0:o.capabilities)||{},h=`${a}${l.join(",")}`,f=u?.[h];if(f)return f;let p;try{p=Ult(c,a,l)}catch(v){console.warn("Failed to extract capabilities from session",v)}if(p)return p;const m=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:LX(FX({},c.sessionProperties||{}),{capabilities:LX(FX({},u||{}),{[h]:m})})})}catch(v){console.warn("Failed to update session with capabilities",v)}return m}async getCallStatus(e){var r,n;const i=this.client.session.get(e.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(l){console.warn("Failed to fetch call status from bundler",l,a)}}const o=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ju("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${elt}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}}var Jlt=Object.defineProperty,Xlt=(t,e,r)=>e in t?Jlt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nm=(t,e,r)=>Xlt(t,typeof e!="symbol"?e+"":e,r);class Qlt{constructor(e){Nm(this,"name","solana"),Nm(this,"client"),Nm(this,"httpProviders"),Nm(this,"events"),Nm(this,"namespace"),Nm(this,"chainId"),this.namespace=e.namespace,this.events=Zr("events"),this.client=Zr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(cc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Sg(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||el(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new lc(new hu(n,Zr("disableProviderPing")))}}var Zlt=Object.defineProperty,ect=(t,e,r)=>e in t?Zlt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Rm=(t,e,r)=>ect(t,typeof e!="symbol"?e+"":e,r);class tct{constructor(e){Rm(this,"name","cosmos"),Rm(this,"client"),Rm(this,"httpProviders"),Rm(this,"events"),Rm(this,"namespace"),Rm(this,"chainId"),this.namespace=e.namespace,this.events=Zr("events"),this.client=Zr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(cc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Sg(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||el(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new lc(new hu(n,Zr("disableProviderPing")))}}var rct=Object.defineProperty,nct=(t,e,r)=>e in t?rct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Om=(t,e,r)=>nct(t,typeof e!="symbol"?e+"":e,r);class ict{constructor(e){Om(this,"name","algorand"),Om(this,"client"),Om(this,"httpProviders"),Om(this,"events"),Om(this,"namespace"),Om(this,"chainId"),this.namespace=e.namespace,this.events=Zr("events"),this.client=Zr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||el(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(cc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||el(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new lc(new hu(n,Zr("disableProviderPing")))}}var sct=Object.defineProperty,oct=(t,e,r)=>e in t?sct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jm=(t,e,r)=>oct(t,typeof e!="symbol"?e+"":e,r);class act{constructor(e){jm(this,"name","cip34"),jm(this,"client"),jm(this,"httpProviders"),jm(this,"events"),jm(this,"namespace"),jm(this,"chainId"),this.namespace=e.namespace,this.events=Zr("events"),this.client=Zr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(cc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=Sg(r);e[i]=this.createHttpProvider(i,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new lc(new hu(n,Zr("disableProviderPing")))}}var lct=Object.defineProperty,cct=(t,e,r)=>e in t?lct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mm=(t,e,r)=>cct(t,typeof e!="symbol"?e+"":e,r);class uct{constructor(e){Mm(this,"name","elrond"),Mm(this,"client"),Mm(this,"httpProviders"),Mm(this,"events"),Mm(this,"namespace"),Mm(this,"chainId"),this.namespace=e.namespace,this.events=Zr("events"),this.client=Zr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(cc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Sg(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||el(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new lc(new hu(n,Zr("disableProviderPing")))}}var dct=Object.defineProperty,hct=(t,e,r)=>e in t?dct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Dm=(t,e,r)=>hct(t,typeof e!="symbol"?e+"":e,r);let fct=class{constructor(e){Dm(this,"name","multiversx"),Dm(this,"client"),Dm(this,"httpProviders"),Dm(this,"events"),Dm(this,"namespace"),Dm(this,"chainId"),this.namespace=e.namespace,this.events=Zr("events"),this.client=Zr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(cc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=Sg(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||el(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new lc(new hu(n,Zr("disableProviderPing")))}};var pct=Object.defineProperty,gct=(t,e,r)=>e in t?pct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Fm=(t,e,r)=>gct(t,typeof e!="symbol"?e+"":e,r);let mct=class{constructor(e){Fm(this,"name","near"),Fm(this,"client"),Fm(this,"httpProviders"),Fm(this,"events"),Fm(this,"namespace"),Fm(this,"chainId"),this.namespace=e.namespace,this.events=Zr("events"),this.client=Zr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||el(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(cc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||el(e,this.namespace);return typeof n>"u"?void 0:new lc(new hu(n,Zr("disableProviderPing")))}};var yct=Object.defineProperty,vct=(t,e,r)=>e in t?yct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Lm=(t,e,r)=>vct(t,typeof e!="symbol"?e+"":e,r);let wct=class{constructor(e){Lm(this,"name","tezos"),Lm(this,"client"),Lm(this,"httpProviders"),Lm(this,"events"),Lm(this,"namespace"),Lm(this,"chainId"),this.namespace=e.namespace,this.events=Zr("events"),this.client=Zr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||el(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(cc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||el(e,this.namespace);return typeof n>"u"?void 0:new lc(new hu(n))}};var bct=Object.defineProperty,xct=(t,e,r)=>e in t?bct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Um=(t,e,r)=>xct(t,typeof e!="symbol"?e+"":e,r);let _ct=class{constructor(e){Um(this,"name",S0e),Um(this,"client"),Um(this,"httpProviders"),Um(this,"events"),Um(this,"namespace"),Um(this,"chainId"),this.namespace=e.namespace,this.events=Zr("events"),this.client=Zr("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(cc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return N0(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{const s=N0(i);n[s.reference]=this.createHttpProvider(i)}),n}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||el(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new lc(new hu(n,Zr("disableProviderPing")))}};var Cct=Object.defineProperty,Ect=Object.defineProperties,kct=Object.getOwnPropertyDescriptors,UX=Object.getOwnPropertySymbols,Sct=Object.prototype.hasOwnProperty,Act=Object.prototype.propertyIsEnumerable,kO=(t,e,r)=>e in t?Cct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,R6=(t,e)=>{for(var r in e||(e={}))Sct.call(e,r)&&kO(t,r,e[r]);if(UX)for(var r of UX(e))Act.call(e,r)&&kO(t,r,e[r]);return t},KT=(t,e)=>Ect(t,kct(e)),_l=(t,e,r)=>kO(t,typeof e!="symbol"?e+"":e,r);let Tct=class j0e{constructor(e){_l(this,"client"),_l(this,"namespaces"),_l(this,"optionalNamespaces"),_l(this,"sessionProperties"),_l(this,"scopedProperties"),_l(this,"events",new CF),_l(this,"rpcProviders",{}),_l(this,"session"),_l(this,"providerOpts"),_l(this,"logger"),_l(this,"uri"),_l(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:eL(jat({level:e?.logger||_X})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const r=new j0e(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:R6({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(o=>r(null,Z2(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Dn("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=$X(this.session.namespaces);this.namespaces=N6(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=$X(i.namespaces);return this.namespaces=N6(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e);this.getProvider(n).setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(!Bl(r))return;for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn("Failed to cleanup pending pairings",r)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await Eat.init({core:this.providerOpts.core,logger:this.providerOpts.logger||_X,relayUrl:this.providerOpts.relayUrl||Xat,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>vy(r)))];VT("client",this.client),VT("events",this.events),VT("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=Olt(r,this.session);if(n?.length===0)return;const i=R0e(n),s=N6(this.namespaces,this.optionalNamespaces),o=KT(R6({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new Ylt({namespace:o});break;case"algorand":this.rpcProviders[r]=new ict({namespace:o});break;case"solana":this.rpcProviders[r]=new Qlt({namespace:o});break;case"cosmos":this.rpcProviders[r]=new tct({namespace:o});break;case"polkadot":this.rpcProviders[r]=new qlt({namespace:o});break;case"cip34":this.rpcProviders[r]=new act({namespace:o});break;case"elrond":this.rpcProviders[r]=new uct({namespace:o});break;case"multiversx":this.rpcProviders[r]=new fct({namespace:o});break;case"near":this.rpcProviders[r]=new mct({namespace:o});break;case"tezos":this.rpcProviders[r]=new wct({namespace:o});break;default:this.rpcProviders[r]=new _ct({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:i}=e;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&Bl(o)&&this.events.emit("accountsChanged",o.map(PX))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,l=vy(o),c=HT(o)!==HT(a)?`${l}:${HT(a)}`:o;this.onChainChanged(c)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,i;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(e);this.session=KT(R6({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",KT(R6({},Dn("USER_DISCONNECTED")),{data:e.topic})))}),this.on(cc.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[S0e]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r={},optionalNamespaces:n={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=N6(r,n),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[r,n]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>vy(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=vy(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(n,i);const s=this.getProvider(n).getDefaultChain();r?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:n,previousChainId:s,newChainId:e})):this.getProvider(n).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:r,newChainId:n}){var i,s;try{if(r===n)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(l=>l.includes(`${n}:`)).map(PX);if(!Bl(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,r){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${r}`,i={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${P6}/${e}${i}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${P6}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${P6}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(P6)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}};const Ict=Tct,Pct="wc",$ct="ethereum_provider",Nct=`${Pct}@2:${$ct}:`,Rct="https://rpc.walletconnect.org/v1/",SO=["eth_sendTransaction","personal_sign"],M0e=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],AO=["chainChanged","accountsChanged"],D0e=["chainChanged","accountsChanged","message","disconnect","connect"],Oct=async()=>{const{createAppKit:t}=await bi(()=>import("./core-D_fo-v_y.js").then(e=>e.X),[]);return t};var jct=Object.defineProperty,Mct=Object.defineProperties,Dct=Object.getOwnPropertyDescriptors,BX=Object.getOwnPropertySymbols,Fct=Object.prototype.hasOwnProperty,Lct=Object.prototype.propertyIsEnumerable,TO=(t,e,r)=>e in t?jct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,e0=(t,e)=>{for(var r in e||(e={}))Fct.call(e,r)&&TO(t,r,e[r]);if(BX)for(var r of BX(e))Lct.call(e,r)&&TO(t,r,e[r]);return t},pw=(t,e)=>Mct(t,Dct(e)),$a=(t,e,r)=>TO(t,typeof e!="symbol"?e+"":e,r);function wC(t){return Number(t[0].split(":")[1])}function O6(t){return`0x${t.toString(16)}`}function Uct(t){const{chains:e,optionalChains:r,methods:n,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!Bl(e))throw new Error("Invalid chains");const l={chains:e,methods:n||SO,events:s||AO,rpcMap:e0({},e.length?{[wC(e)]:a[wC(e)]}:{})},c=s?.filter(p=>!AO.includes(p)),u=n?.filter(p=>!SO.includes(p));if(!r&&!o&&!i&&!(c!=null&&c.length)&&!(u!=null&&u.length))return{required:e.length?l:void 0};const h=c?.length&&u?.length||!r,f={chains:[...new Set(h?l.chains.concat(r||[]):r)],methods:[...new Set(l.methods.concat(i!=null&&i.length?i:M0e))],events:[...new Set(l.events.concat(o!=null&&o.length?o:D0e))],rpcMap:a};return{required:e.length?l:void 0,optional:r.length?f:void 0}}let Bct=class F0e{constructor(){$a(this,"events",new il.EventEmitter),$a(this,"namespace","eip155"),$a(this,"accounts",[]),$a(this,"signer"),$a(this,"chainId",1),$a(this,"modal"),$a(this,"rpc"),$a(this,"STORAGE_KEY",Nct),$a(this,"on",(e,r)=>(this.events.on(e,r),this)),$a(this,"once",(e,r)=>(this.events.once(e,r),this)),$a(this,"removeListener",(e,r)=>(this.events.removeListener(e,r),this)),$a(this,"off",(e,r)=>(this.events.off(e,r),this)),$a(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const r=new F0e;return await r.initialize(e),r}async request(e,r){return await this.signer.request(e,this.formatChainId(this.chainId),r)}sendAsync(e,r,n){this.signer.sendAsync(e,r,this.formatChainId(this.chainId),n)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:n,optional:i}=Uct(this.rpc);try{const s=await new Promise(async(a,l)=>{var c,u;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(u=this.modal)==null||u.subscribeState(f=>{!f.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),l(new Error("Connection request reset. Please try again.")))}));const h=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(pw(e0({namespaces:e0({},n&&{[this.namespace]:n})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e?.pairingTopic,scopedProperties:h})).then(f=>{a(f)}).catch(f=>{var p;(p=this.modal)==null||p.showErrorMessage("Unable to connect"),l(new Error(f.message))})});if(!s)return;const o=wY(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:O6(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(r=this.modal)==null||r.close()}}async authenticate(e,r){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{const i=await new Promise(async(o,a)=>{var l,c;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(c=this.modal)==null||c.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(pw(e0({},e),{chains:this.rpc.chains}),r).then(u=>{o(u)}).catch(u=>{var h;(h=this.modal)==null||h.showErrorMessage("Unable to connect"),a(new Error(u.message))})}),s=i.session;if(s){const o=wY(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:O6(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(n=this.modal)==null||n.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:r}=e,{event:n}=r;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const r=parseInt(e);this.chainId=r,this.events.emit("chainChanged",O6(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",pw(e0({},Dn("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const r=e.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",O6(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const r=this.parseChainId(e);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(e){const[r,n,i]=e.split(":");return{chainId:`${r}:${n}`,address:i}}setAccounts(e){this.accounts=e.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var r,n;const i=(r=e?.chains)!=null?r:[],s=(n=e?.optionalChains)!=null?n:[],o=i.concat(s);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=i.length?e?.methods||SO:[],l=i.length?e?.events||AO:[],c=e?.optionalMethods||[],u=e?.optionalEvents||[],h=e?.rpcMap||this.buildRpcMap(o,e.projectId),f=e?.qrModalOptions||void 0;return{chains:i?.map(p=>this.formatChainId(p)),optionalChains:s.map(p=>this.formatChainId(p)),methods:a,events:l,optionalMethods:c,optionalEvents:u,rpcMap:h,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:f,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,r){const n={};return e.forEach(i=>{n[i]=this.getRpcUrl(i,r)}),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?wC(this.rpc.chains):wC(this.rpc.optionalChains),this.signer=await Ict.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const n=await Oct(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return Qct}),s=i(pw(e0({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error("No networks found for WalletConnect");r=n(pw(e0({},s),{universalProvider:this.signer,manualWCControl:!0}))}catch(n){throw console.warn(n),new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(n){throw this.signer.logger.error(n),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:r,optionalChains:n,rpcMap:i}=e;r&&Bl(r)&&(this.rpc.chains=r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)})),n&&Bl(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n?.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=i?.[s]||this.getRpcUrl(s)}))}getRpcUrl(e,r){var n;return((n=this.rpc.rpcMap)==null?void 0:n[e])||`${Rct}?chainId=eip155:${e}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:r?.accounts),this.setAccounts(r?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(r=>this.parseAccount(r))}};const zct=Bct;var qct=Object.defineProperty,Wct=Object.defineProperties,Hct=Object.getOwnPropertyDescriptors,zX=Object.getOwnPropertySymbols,Vct=Object.prototype.hasOwnProperty,Gct=Object.prototype.propertyIsEnumerable,qX=(t,e,r)=>e in t?qct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,L0e=(t,e)=>{for(var r in e||(e={}))Vct.call(e,r)&&qX(t,r,e[r]);if(zX)for(var r of zX(e))Gct.call(e,r)&&qX(t,r,e[r]);return t},Kct=(t,e)=>Wct(t,Hct(e));function Yct(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const Jct=t=>{const[e,r]=t.split(":");return U0e({id:r,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function Xct(t){var e,r,n,i,s,o,a;const l=(e=t.chains)==null?void 0:e.map(Jct).filter(Boolean);if(l.length===0)throw new Error("At least one chain must be specified");const c=l.find(h=>{var f;return h.id===((f=t.defaultChain)==null?void 0:f.id)}),u={projectId:t.projectId,networks:l,themeMode:t.themeMode,themeVariables:Yct(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:c,metadata:Kct(L0e({},t.metadata),{name:((r=t.metadata)==null?void 0:r.name)||"WalletConnect",description:((n=t.metadata)==null?void 0:n.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=t.mobileWallets)!=null&&o.length||(a=t.desktopWallets)!=null&&a.length){const h=[...(t.mobileWallets||[]).map(m=>({id:m.id,name:m.name,links:m.links})),...(t.desktopWallets||[]).map(m=>({id:m.id,name:m.name,links:{native:m.links.native,universal:m.links.universal}}))],f=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],p=h.filter(m=>!f.includes(m.id));p.length&&(u.customWallets=p)}return u}function U0e(t){return L0e({formatters:void 0,fees:void 0,serializers:void 0},t)}var Qct=Object.freeze({__proto__:null,convertWCMToAppKitOptions:Xct,defineChain:U0e}),YT,WX;function Zct(){if(WX)return YT;WX=1;var t=function(o,a){return Math.round(a*Math.log(o)/Math.LN2)},e=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],r=function(o){return function(a){return o.reduce(function(l,c){return l+(c.re.test(a)?c.length:0)},0)}},n=r(e),i=function(o){return o?t(n(o),o.length):0};return YT=i,YT}var eut=Zct();const tut=Mi(eut);function B0e(t){return crypto.getRandomValues(new Uint8Array(t))}const rut=256,Tb=65536;function nut(){const[t]=B0e(1);return t}function iut(){const[t,e]=B0e(2);return(t<<8)+e}function sut(t){if(typeof t!="number"||t<2||t>Tb)throw new Error(`Invalid number: number must be at least two and at most ${Tb}`);const e=t>256,r=e?Tb:rut,n=e?iut:nut,i=t*Math.floor(r/t);for(;;){const s=n();if(s<i)return s%t}}function out(t,e,r){if(typeof r!="number"||r>Tb)throw new Error(`Invalid argument: end must be a number less than or equal to ${Tb}`);if(r-e<2)throw new Error("Invalid range: range must contain at least two values");const n=[];for(let i=0;i<t;i++)n[i]=e+sut(r-e);return n}function aut(t,e,r="-"){if(!Array.isArray(e)||e.length<2)throw new Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2");if(typeof r!="string")throw new Error("Invalid argument: sep argument must be a string");return out(t,0,e.length).reduce((n,i,s)=>{const o=e[i];return n+(s===0?o:r+o)},"")}const lut=Object.freeze(["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]),cut=Object.freeze(lut.filter(t=>!t.includes("-")));function uut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const dut=x.forwardRef(uut);function hut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const fut=x.forwardRef(hut);function put({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const M8=x.forwardRef(put);function gut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const D8=x.forwardRef(gut);function mut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const iL=x.forwardRef(mut);function yut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))}const vut=x.forwardRef(yut);function wut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const but=x.forwardRef(wut);function xut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const _ut=x.forwardRef(xut);function Cut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}const Eut=x.forwardRef(Cut);function kut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const Sut=x.forwardRef(kut);function Aut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Y1=x.forwardRef(Aut);function Tut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Iut=x.forwardRef(Tut);function Put({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const $ut=x.forwardRef(Put);function Nut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const z0e=x.forwardRef(Nut);function Rut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const Out=x.forwardRef(Rut);function jut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Mut=x.forwardRef(jut);function Dut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const Fut=x.forwardRef(Dut);function Lut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const Uut=x.forwardRef(Lut);function But({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const zut=x.forwardRef(But);function qut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Wut=x.forwardRef(qut);function Hut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const q0e=x.forwardRef(Hut);function Vut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Gut=x.forwardRef(Vut);function Kut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const Yut=x.forwardRef(Kut);function Jut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const W0e=x.forwardRef(Jut);function Xut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Qut=x.forwardRef(Xut);function Zut({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const JT=x.forwardRef(Zut);function edt({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const tdt=x.forwardRef(edt);function rdt({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const ndt=x.forwardRef(rdt);var Bm={},XT,HX;function idt(){return HX||(HX=1,XT=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),XT}var QT={},wf={},VX;function Ag(){if(VX)return wf;VX=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return wf.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},wf.getSymbolTotalCodewords=function(n){return e[n]},wf.getBCHDigit=function(r){let n=0;for(;r!==0;)n++,r>>>=1;return n},wf.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');t=n},wf.isKanjiModeEnabled=function(){return typeof t<"u"},wf.toSJIS=function(n){return t(n)},wf}var ZT={},GX;function sL(){return GX||(GX=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(ZT)),ZT}var e7,KX;function sdt(){if(KX)return e7;KX=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)===1},put:function(e,r){for(let n=0;n<r;n++)this.putBit((e>>>r-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}},e7=t,e7}var t7,YX;function odt(){if(YX)return t7;YX=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,r,n,i){const s=e*this.size+r;this.data[s]=n,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,r){return this.data[e*this.size+r]},t.prototype.xor=function(e,r,n){this.data[e*this.size+r]^=n},t.prototype.isReserved=function(e,r){return this.reservedBit[e*this.size+r]},t7=t,t7}var r7={},JX;function adt(){return JX||(JX=1,(function(t){const e=Ag().getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||i.push([s[a],s[l]]);return i}})(r7)),r7}var n7={},XX;function ldt(){if(XX)return n7;XX=1;const t=Ag().getSymbolSize,e=7;return n7.getPositions=function(n){const i=t(n);return[[0,0],[i-e,0],[0,i-e]]},n7}var i7={},QX;function cdt(){return QX||(QX=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,l=0,c=null,u=null;for(let h=0;h<s;h++){a=l=0,c=u=null;for(let f=0;f<s;f++){let p=i.get(h,f);p===c?a++:(a>=5&&(o+=e.N1+(a-5)),c=p,a=1),p=i.get(f,h),p===u?l++:(l>=5&&(o+=e.N1+(l-5)),u=p,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,l=0;for(let c=0;c<s;c++){a=l=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(c,u),u>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|i.get(u,c),u>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let l=0;l<o;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)s.isReserved(l,a)||s.xor(l,a,r(i,l,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let c=0;c<o;c++){s(c),t.applyMask(c,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(c,i),u<l&&(l=u,a=c)}return a}})(i7)),i7}var j6={},ZX;function H0e(){if(ZX)return j6;ZX=1;const t=sL(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return j6.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},j6.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return r[(i-1)*4+0];case t.M:return r[(i-1)*4+1];case t.Q:return r[(i-1)*4+2];case t.H:return r[(i-1)*4+3];default:return}},j6}var s7={},gw={},eQ;function udt(){if(eQ)return gw;eQ=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let n=1;for(let i=0;i<255;i++)t[i]=n,e[n]=i,n<<=1,n&256&&(n^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),gw.log=function(n){if(n<1)throw new Error("log("+n+")");return e[n]},gw.exp=function(n){return t[n]},gw.mul=function(n,i){return n===0||i===0?0:t[e[n]+e[i]]},gw}var tQ;function ddt(){return tQ||(tQ=1,(function(t){const e=udt();t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(n[o],i[a]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(s7)),s7}var o7,rQ;function hdt(){if(rQ)return o7;rQ=1;const t=ddt();function e(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(n){this.degree=n,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(n.length+this.degree);i.set(n);const s=t.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(s,o),a}return s},o7=e,o7}var a7={},l7={},c7={},nQ;function V0e(){return nQ||(nQ=1,c7.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),c7}var ju={},iQ;function G0e(){if(iQ)return ju;iQ=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;ju.KANJI=new RegExp(r,"g"),ju.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ju.BYTE=new RegExp(n,"g"),ju.NUMERIC=new RegExp(t,"g"),ju.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+r+"$"),s=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ju.testKanji=function(l){return i.test(l)},ju.testNumeric=function(l){return s.test(l)},ju.testAlphanumeric=function(l){return o.test(l)},ju}var sQ;function Tg(){return sQ||(sQ=1,(function(t){const e=V0e(),r=G0e();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}}})(l7)),l7}var oQ;function fdt(){return oQ||(oQ=1,(function(t){const e=Ag(),r=H0e(),n=sL(),i=Tg(),s=V0e(),o=7973,a=e.getBCHDigit(o);function l(f,p,m){for(let v=1;v<=40;v++)if(p<=t.getCapacity(v,m,f))return v}function c(f,p){return i.getCharCountIndicator(f,p)+4}function u(f,p){let m=0;return f.forEach(function(v){const w=c(v.mode,p);m+=w+v.getBitsLength()}),m}function h(f,p){for(let m=1;m<=40;m++)if(u(f,m)<=t.getCapacity(m,p,i.MIXED))return m}t.from=function(p,m){return s.isValid(p)?parseInt(p,10):m},t.getCapacity=function(p,m,v){if(!s.isValid(p))throw new Error("Invalid QR Code version");typeof v>"u"&&(v=i.BYTE);const w=e.getSymbolTotalCodewords(p),b=r.getTotalCodewordsCount(p,m),E=(w-b)*8;if(v===i.MIXED)return E;const _=E-c(v,p);switch(v){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},t.getBestVersionForData=function(p,m){let v;const w=n.from(m,n.M);if(Array.isArray(p)){if(p.length>1)return h(p,w);if(p.length===0)return 1;v=p[0]}else v=p;return l(v.mode,v.getLength(),w)},t.getEncodedBits=function(p){if(!s.isValid(p)||p<7)throw new Error("Invalid QR Code version");let m=p<<12;for(;e.getBCHDigit(m)-a>=0;)m^=o<<e.getBCHDigit(m)-a;return p<<12|m}})(a7)),a7}var u7={},aQ;function pdt(){if(aQ)return u7;aQ=1;const t=Ag(),e=1335,r=21522,n=t.getBCHDigit(e);return u7.getEncodedBits=function(s,o){const a=s.bit<<3|o;let l=a<<10;for(;t.getBCHDigit(l)-n>=0;)l^=e<<t.getBCHDigit(l)-n;return(a<<10|l)^r},u7}var d7={},h7,lQ;function gdt(){if(lQ)return h7;lQ=1;const t=Tg();function e(r){this.mode=t.NUMERIC,this.data=r.toString()}return e.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),n.put(o,10);const a=this.data.length-i;a>0&&(s=this.data.substr(i),o=parseInt(s,10),n.put(o,a*3+1))},h7=e,h7}var f7,cQ;function mdt(){if(cQ)return f7;cQ=1;const t=Tg(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(n){this.mode=t.ALPHANUMERIC,this.data=n}return r.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},f7=r,f7}var p7,uQ;function ydt(){if(uQ)return p7;uQ=1;const t=Tg();function e(r){this.mode=t.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return e.getBitsLength=function(n){return n*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){for(let n=0,i=this.data.length;n<i;n++)r.put(this.data[n],8)},p7=e,p7}var g7,dQ;function vdt(){if(dQ)return g7;dQ=1;const t=Tg(),e=Ag();function r(n){this.mode=t.KANJI,this.data=n}return r.getBitsLength=function(i){return i*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),n.put(s,13)}},g7=r,g7}var m7={exports:{}},hQ;function wdt(){return hQ||(hQ=1,(function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var l,c,u,h,f,p,m,v,w;!a.empty();){l=a.pop(),c=l.value,h=l.cost,f=r[c]||{};for(u in f)f.hasOwnProperty(u)&&(p=f[u],m=h+p,v=o[u],w=typeof o[u]>"u",(w||v>m)&&(o[u]=m,a.push(u,m),s[u]=c))}if(typeof i<"u"&&typeof o[i]>"u"){var b=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(b)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(m7)),m7.exports}var fQ;function bdt(){return fQ||(fQ=1,(function(t){const e=Tg(),r=gdt(),n=mdt(),i=ydt(),s=vdt(),o=G0e(),a=Ag(),l=wdt();function c(b){return unescape(encodeURIComponent(b)).length}function u(b,E,_){const A=[];let C;for(;(C=b.exec(_))!==null;)A.push({data:C[0],index:C.index,mode:E,length:C[0].length});return A}function h(b){const E=u(o.NUMERIC,e.NUMERIC,b),_=u(o.ALPHANUMERIC,e.ALPHANUMERIC,b);let A,C;return a.isKanjiModeEnabled()?(A=u(o.BYTE,e.BYTE,b),C=u(o.KANJI,e.KANJI,b)):(A=u(o.BYTE_KANJI,e.BYTE,b),C=[]),E.concat(_,A,C).sort(function(P,F){return P.index-F.index}).map(function(P){return{data:P.data,mode:P.mode,length:P.length}})}function f(b,E){switch(E){case e.NUMERIC:return r.getBitsLength(b);case e.ALPHANUMERIC:return n.getBitsLength(b);case e.KANJI:return s.getBitsLength(b);case e.BYTE:return i.getBitsLength(b)}}function p(b){return b.reduce(function(E,_){const A=E.length-1>=0?E[E.length-1]:null;return A&&A.mode===_.mode?(E[E.length-1].data+=_.data,E):(E.push(_),E)},[])}function m(b){const E=[];for(let _=0;_<b.length;_++){const A=b[_];switch(A.mode){case e.NUMERIC:E.push([A,{data:A.data,mode:e.ALPHANUMERIC,length:A.length},{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.ALPHANUMERIC:E.push([A,{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.KANJI:E.push([A,{data:A.data,mode:e.BYTE,length:c(A.data)}]);break;case e.BYTE:E.push([{data:A.data,mode:e.BYTE,length:c(A.data)}])}}return E}function v(b,E){const _={},A={start:{}};let C=["start"];for(let k=0;k<b.length;k++){const P=b[k],F=[];for(let N=0;N<P.length;N++){const $=P[N],U=""+k+N;F.push(U),_[U]={node:$,lastCount:0},A[U]={};for(let O=0;O<C.length;O++){const D=C[O];_[D]&&_[D].node.mode===$.mode?(A[D][U]=f(_[D].lastCount+$.length,$.mode)-f(_[D].lastCount,$.mode),_[D].lastCount+=$.length):(_[D]&&(_[D].lastCount=$.length),A[D][U]=f($.length,$.mode)+4+e.getCharCountIndicator($.mode,E))}}C=F}for(let k=0;k<C.length;k++)A[C[k]].end=0;return{map:A,table:_}}function w(b,E){let _;const A=e.getBestModeForData(b);if(_=e.from(E,A),_!==e.BYTE&&_.bit<A.bit)throw new Error('"'+b+'" cannot be encoded with mode '+e.toString(_)+`.
 Suggested mode is: `+e.toString(A));switch(_===e.KANJI&&!a.isKanjiModeEnabled()&&(_=e.BYTE),_){case e.NUMERIC:return new r(b);case e.ALPHANUMERIC:return new n(b);case e.KANJI:return new s(b);case e.BYTE:return new i(b)}}t.fromArray=function(E){return E.reduce(function(_,A){return typeof A=="string"?_.push(w(A,null)):A.data&&_.push(w(A.data,A.mode)),_},[])},t.fromString=function(E,_){const A=h(E,a.isKanjiModeEnabled()),C=m(A),k=v(C,_),P=l.find_path(k.map,"start","end"),F=[];for(let N=1;N<P.length-1;N++)F.push(k.table[P[N]].node);return t.fromArray(p(F))},t.rawSplit=function(E){return t.fromArray(h(E,a.isKanjiModeEnabled()))}})(d7)),d7}var pQ;function xdt(){if(pQ)return QT;pQ=1;const t=Ag(),e=sL(),r=sdt(),n=odt(),i=adt(),s=ldt(),o=cdt(),a=H0e(),l=hdt(),c=fdt(),u=pdt(),h=Tg(),f=bdt();function p(k,P){const F=k.size,N=s.getPositions(P);for(let $=0;$<N.length;$++){const U=N[$][0],O=N[$][1];for(let D=-1;D<=7;D++)if(!(U+D<=-1||F<=U+D))for(let T=-1;T<=7;T++)O+T<=-1||F<=O+T||(D>=0&&D<=6&&(T===0||T===6)||T>=0&&T<=6&&(D===0||D===6)||D>=2&&D<=4&&T>=2&&T<=4?k.set(U+D,O+T,!0,!0):k.set(U+D,O+T,!1,!0))}}function m(k){const P=k.size;for(let F=8;F<P-8;F++){const N=F%2===0;k.set(F,6,N,!0),k.set(6,F,N,!0)}}function v(k,P){const F=i.getPositions(P);for(let N=0;N<F.length;N++){const $=F[N][0],U=F[N][1];for(let O=-2;O<=2;O++)for(let D=-2;D<=2;D++)O===-2||O===2||D===-2||D===2||O===0&&D===0?k.set($+O,U+D,!0,!0):k.set($+O,U+D,!1,!0)}}function w(k,P){const F=k.size,N=c.getEncodedBits(P);let $,U,O;for(let D=0;D<18;D++)$=Math.floor(D/3),U=D%3+F-8-3,O=(N>>D&1)===1,k.set($,U,O,!0),k.set(U,$,O,!0)}function b(k,P,F){const N=k.size,$=u.getEncodedBits(P,F);let U,O;for(U=0;U<15;U++)O=($>>U&1)===1,U<6?k.set(U,8,O,!0):U<8?k.set(U+1,8,O,!0):k.set(N-15+U,8,O,!0),U<8?k.set(8,N-U-1,O,!0):U<9?k.set(8,15-U-1+1,O,!0):k.set(8,15-U-1,O,!0);k.set(N-8,8,1,!0)}function E(k,P){const F=k.size;let N=-1,$=F-1,U=7,O=0;for(let D=F-1;D>0;D-=2)for(D===6&&D--;;){for(let T=0;T<2;T++)if(!k.isReserved($,D-T)){let I=!1;O<P.length&&(I=(P[O]>>>U&1)===1),k.set($,D-T,I),U--,U===-1&&(O++,U=7)}if($+=N,$<0||F<=$){$-=N,N=-N;break}}}function _(k,P,F){const N=new r;F.forEach(function(T){N.put(T.mode.bit,4),N.put(T.getLength(),h.getCharCountIndicator(T.mode,k)),T.write(N)});const $=t.getSymbolTotalCodewords(k),U=a.getTotalCodewordsCount(k,P),O=($-U)*8;for(N.getLengthInBits()+4<=O&&N.put(0,4);N.getLengthInBits()%8!==0;)N.putBit(0);const D=(O-N.getLengthInBits())/8;for(let T=0;T<D;T++)N.put(T%2?17:236,8);return A(N,k,P)}function A(k,P,F){const N=t.getSymbolTotalCodewords(P),$=a.getTotalCodewordsCount(P,F),U=N-$,O=a.getBlocksCount(P,F),D=N%O,T=O-D,I=Math.floor(N/O),R=Math.floor(U/O),L=R+1,B=I-R,q=new l(B);let G=0;const W=new Array(O),j=new Array(O);let Y=0;const Q=new Uint8Array(k.buffer);for(let se=0;se<O;se++){const ce=se<T?R:L;W[se]=Q.slice(G,G+ce),j[se]=q.encode(W[se]),G+=ce,Y=Math.max(Y,ce)}const z=new Uint8Array(N);let Z=0,ee,te;for(ee=0;ee<Y;ee++)for(te=0;te<O;te++)ee<W[te].length&&(z[Z++]=W[te][ee]);for(ee=0;ee<B;ee++)for(te=0;te<O;te++)z[Z++]=j[te][ee];return z}function C(k,P,F,N){let $;if(Array.isArray(k))$=f.fromArray(k);else if(typeof k=="string"){let I=P;if(!I){const R=f.rawSplit(k);I=c.getBestVersionForData(R,F)}$=f.fromString(k,I||40)}else throw new Error("Invalid data");const U=c.getBestVersionForData($,F);if(!U)throw new Error("The amount of data is too big to be stored in a QR Code");if(!P)P=U;else if(P<U)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+U+`.
`);const O=_(P,F,$),D=t.getSymbolSize(P),T=new n(D);return p(T,P),m(T),v(T,P),b(T,F,0),P>=7&&w(T,P),E(T,O),isNaN(N)&&(N=o.getBestMask(T,b.bind(null,T,F))),o.applyMask(N,T),b(T,F,N),{modules:T,version:P,errorCorrectionLevel:F,maskPattern:N,segments:$}}return QT.create=function(P,F){if(typeof P>"u"||P==="")throw new Error("No input text");let N=e.M,$,U;return typeof F<"u"&&(N=e.from(F.errorCorrectionLevel,e.M),$=c.from(F.version),U=o.from(F.maskPattern),F.toSJISFunc&&t.setToSJISFunction(F.toSJISFunc)),C(P,$,N,U)},QT}var y7={},v7={},gQ;function K0e(){return gQ||(gQ=1,(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const o=i.modules.size,a=i.modules.data,l=t.getScale(o,s),c=Math.floor((o+s.margin*2)*l),u=s.margin*l,h=[s.color.light,s.color.dark];for(let f=0;f<c;f++)for(let p=0;p<c;p++){let m=(f*c+p)*4,v=s.color.light;if(f>=u&&p>=u&&f<c-u&&p<c-u){const w=Math.floor((f-u)/l),b=Math.floor((p-u)/l);v=h[a[w*o+b]?1:0]}n[m++]=v.r,n[m++]=v.g,n[m++]=v.b,n[m]=v.a}}})(v7)),v7}var mQ;function _dt(){return mQ||(mQ=1,(function(t){const e=K0e();function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let l=a,c=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(c=n()),l=e.getOptions(l);const u=e.getImageWidth(s.modules.size,l),h=c.getContext("2d"),f=h.createImageData(u,u);return e.qrToImageData(f.data,s,l),r(h,c,u),h.putImageData(f,0,0),c},t.renderToDataURL=function(s,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const c=t.render(s,o,l),u=l.type||"image/png",h=l.rendererOpts||{};return c.toDataURL(u,h.quality)}})(y7)),y7}var w7={},yQ;function Cdt(){if(yQ)return w7;yQ=1;const t=K0e();function e(i,s){const o=i.a/255,a=s+'="'+i.hex+'"';return o<1?a+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function r(i,s,o){let a=i+s;return typeof o<"u"&&(a+=" "+o),a}function n(i,s,o){let a="",l=0,c=!1,u=0;for(let h=0;h<i.length;h++){const f=Math.floor(h%s),p=Math.floor(h/s);!f&&!c&&(c=!0),i[h]?(u++,h>0&&f>0&&i[h-1]||(a+=c?r("M",f+o,.5+p+o):r("m",l,0),l=0,c=!1),f+1<s&&i[h+1]||(a+=r("h",u),u=0)):l++}return a}return w7.render=function(s,o,a){const l=t.getOptions(o),c=s.modules.size,u=s.modules.data,h=c+l.margin*2,f=l.color.light.a?"<path "+e(l.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",p="<path "+e(l.color.dark,"stroke")+' d="'+n(u,c,l.margin)+'"/>',m='viewBox="0 0 '+h+" "+h+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+m+' shape-rendering="crispEdges">'+f+p+`</svg>
`;return typeof a=="function"&&a(null,w),w},w7}var vQ;function Edt(){if(vQ)return Bm;vQ=1;const t=idt(),e=xdt(),r=_dt(),n=Cdt();function i(s,o,a,l,c){const u=[].slice.call(arguments,1),h=u.length,f=typeof u[h-1]=="function";if(!f&&!t())throw new Error("Callback required as last argument");if(f){if(h<2)throw new Error("Too few arguments provided");h===2?(c=a,a=o,o=l=void 0):h===3&&(o.getContext&&typeof c>"u"?(c=l,l=void 0):(c=l,l=a,a=o,o=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(a=o,o=l=void 0):h===2&&!o.getContext&&(l=a,a=o,o=void 0),new Promise(function(p,m){try{const v=e.create(a,l);p(s(v,o,l))}catch(v){m(v)}})}try{const p=e.create(a,l);c(null,s(p,o,l))}catch(p){c(p)}}return Bm.create=e.create,Bm.toCanvas=i.bind(null,r.render),Bm.toDataURL=i.bind(null,r.renderToDataURL),Bm.toString=i.bind(null,function(s,o,a){return n.render(s,a)}),Bm}var kdt=Edt();const Sdt=Mi(kdt);function Adt({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const ex=x.forwardRef(Adt);function Tdt({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const Idt=x.forwardRef(Tdt);function Pdt({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const oL=x.forwardRef(Pdt);function $dt({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Ndt=x.forwardRef($dt);function Rdt({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}const Odt=x.forwardRef(Rdt);function jdt({title:t,titleId:e,...r},n){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?x.createElement("title",{id:e},t):null,x.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Mdt=x.forwardRef(jdt);function tx(t){return t?{"privy-ui":"t"}:void 0}class by{async authenticate(){if(!this.api)throw new fe("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new fe("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(TOe,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw jr(e)}}async link(){if(!this.api)throw new fe("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new fe("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(IOe,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw jr(e)}}async sendCodeEmail({email:e,captchaToken:r,withPrivyUi:n}){if(!this.api)throw new fe("Auth flow has no API instance");if(e&&(this.meta.email=e),r&&(this.meta.captchaToken=r),!this.meta.email)throw new fe("Email must be set when initialzing authentication.");let i=tx(n);try{return await this.api.post(AOe,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw jr(s)}}constructor({email:e,captchaToken:r,disableSignup:n}){this.meta={email:e,captchaToken:r,disableSignup:n??!1}}}class Ddt extends by{async link(){if(!this.api)throw new fe("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new fe("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post($Oe,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw jr(e)}}constructor(e,r,n){super({email:r,captchaToken:n}),this.meta={email:r,captchaToken:n,oldAddress:e,disableSignup:!1}}}class Y0e{get(e){let r=localStorage.getItem(e);return r===null?void 0:JSON.parse(r)}put(e,r){r!==void 0?localStorage.setItem(e,JSON.stringify(r)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map((([e])=>e))}}function IO(){try{let t="privy:__session_storage__test",e=new Y0e;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var Jt=typeof window<"u"&&window.localStorage?new Y0e:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};function J0e(t){return{name:t.metadata?.shortName||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function wQ(t,e){let r=J0e(e);if(r.universalLink)return aL(r.universalLink,t)}let b7="WALLETCONNECT_DEEPLINK_CHOICE";function X0e(t){return t.startsWith("http://")||t.startsWith("https://")}function Q0e(t,e){if(X0e(t))return aL(t,e);let r=t;return r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),{redirect:`${r}wc?uri=${encodeURIComponent(e)}`,href:r}}function aL(t,e){if(!X0e(t))return Q0e(t,e);let r=t;return r.endsWith("/")||(r=`${r}/`),{redirect:`${r}wc?uri=${encodeURIComponent(e)}`,href:r}}function Z0e(t,e){window.open(t,e,"noreferrer noopener")}class No{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}class bQ{get meta(){return this._meta}async authenticate(){if(!this.api)throw new fe("Auth flow has no API instance");if(!this.meta.channelToken)throw new fe("Auth flow must be initialized first");try{let e=await this.api.post(_Oe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new fe("No response from authentication");return e}catch(e){throw jr(e)}}async link(){if(!this.api)throw new fe("Auth flow has no API instance");try{return await this.api.post(COe,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw jr(e)}}async _startChannelOnce(){if(!this.api)throw new fe("Auth flow has no API instance");let e=await this.api.post(xOe,{token:this.captchaToken});Vr.isMobile&&!Vr.isIOS&&e.connect_uri&&Z0e(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new fe("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new fe("Auth flow has no API instance");if(!this.meta.channelToken)throw new fe("Auth flow must be initialized first");let e=await this.api.get(EOe,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,r=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new No(this._startChannelOnce.bind(this)),this.pollForReady=new No(this._pollForReady.bind(this)),this._meta.disableSignup=r}}const PO="https://auth.privy.io",Bn=1400,lL=2500,F8=4e3,Fdt="2.25.0",Xw="privy:token",xQ="privy-token",x7="privy:refresh_token",t_="privy:pat",_Q="privy:id_token",CQ="privy-id-token",_7="privy-session",$O="privy:caid",ege=t=>`privy:guest:${t}`,M6=t=>`privy:cross-app:${t}`,bC="privy:state_code",mw="privy:code_verifier",xC="privy:headless_oauth",Ib="privy:oauth_disable_signup",C7=t=>`privy:wallet:${t}`,EQ="privy:connectors",tge="privy:connections",L8=12e4,rge=3e4,Ldt="https://api.moonpay.com/v1",Udt="https://api.moonpay.com/v1",Bdt="pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL",zdt="pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI";function cL(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function nge(){return cL()?window.chrome?.runtime?.id:void 0}function NO(){return cL()?typeof window.chrome?.identity?.launchWebAuthFlow=="function":!1}async function kQ(t){return new Promise(((e,r)=>{NO()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},(async n=>{try{let i=(function(){return cL()?window.chrome?.runtime?.lastError?.message:void 0})();if(i||!n){let c=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(c)}let s=new URL(n),o=nge();if(!o)throw Error("Invalid extension context");if(s.protocol==="chrome-extension:"){if(s.hostname!==o)throw Error("Invalid responseUri origin")}else{if(s.protocol!=="https:")throw Error("Invalid responseUri protocol");{let c=s.hostname.split(".");if(c.length!==3||c[1]!=="chromiumapp"||c[2]!=="org"||c[0]!==o)throw Error("Invalid responseUri origin")}}let a=s.searchParams.get("privy_oauth_state"),l=s.searchParams.get("privy_oauth_code");if(!a||!l)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:a,privyOAuthCode:l})}catch(i){r(i)}})):r(Error("Chrome identity API not available"))}))}function RO(t){return crypto.getRandomValues(new Uint8Array(t))}function U8(){return K0(RO(36))}function uL(){return U8()}async function dL(t,e="S256"){if(e!="S256")return t;{let r=await(async function(n){let i=new TextEncoder().encode(n);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))})(t);return K0(r)}}class iy{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new fe("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new fe("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new fe("User denied confirmation during OAuth flow");let e=(function(){let r=Jt.get(mw);if(!r)throw new fe("Authentication error.");return r})();try{let r=await this.api.post(qce,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return Jt.del(mw),Jt.del(xC),Jt.del(Ib),r}catch(r){let n=jr(r);throw n.privyErrorCode?new fe(n.message||"Invalid code during OAuth flow.",void 0,n.privyErrorCode):n.message==="User denied confirmation during OAuth flow"?new fe("Invalid code during oauth flow.",void 0,ye.OAUTH_USER_DENIED):new fe("Invalid code during OAuth flow.",void 0,ye.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new fe("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new fe("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new fe("User denied confirmation during OAuth flow");let e=Jt.get(mw);if(!e)throw new fe("Authentication error.");try{let r=await this.api.post(Wce,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return Jt.del(mw),r}catch(r){throw jr(r)}}async getAuthorizationUrl(){if(!this.api)throw new fe("Auth flow has no API instance");if(!this.meta.provider)throw new fe("Provider must be set when initializing OAuth authentication.");let e=U8();Jt.put(mw,e);let r=uL();Jt.put(bC,r);let n=await dL(e);this.meta.withPrivyUi||Jt.put(xC,!0),this.meta.disableSignup?Jt.put(Ib,!0):Jt.del(Ib);let i=tx(this.meta.withPrivyUi),s=window.location.href,o=(function(){let a=nge();if(a)return`https://${a}.chromiumapp.org`})();o&&(s=o);try{return await this.api.post(zce,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||s,token:this.meta.captchaToken,code_challenge:n,state_code:r},{headers:{...i}})}catch(a){throw jr(a)}}constructor(e){this.meta=e}}function ige(t){return t.charAt(0).toUpperCase()+t.slice(1)}const sge=({style:t,...e})=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#040507"}),d.jsx("path",{d:"M17.2949 6.37537C18.0156 5.44684 19.4671 4.57877 20.4927 4.46512C20.8178 4.42885 20.8581 4.43127 20.9312 4.50139L20.9967 4.56426L20.9816 4.99225C20.9564 5.65963 20.8682 6.12873 20.6716 6.6341C20.4751 7.13705 20.1198 7.71738 19.8426 7.97852C19.7594 8.06074 19.6007 8.22516 19.4948 8.34848C19.0563 8.84901 18.439 9.20205 17.5973 9.4366C17.2823 9.52606 17.2596 9.52848 16.8917 9.52606C16.4482 9.52365 16.3852 9.51156 16.3524 9.43176C16.3398 9.39791 16.3272 9.18996 16.3222 8.9675L16.3171 8.56127L16.423 8.17922C16.6347 7.41512 16.8791 6.90733 17.2949 6.37537Z",fill:"white"}),d.jsx("path",{d:"M17.4512 10.2081C18.4163 9.84541 19.7595 9.48754 20.2584 9.46336C20.6616 9.4416 21.2966 9.49238 21.7225 9.57943C22.1383 9.66164 22.4357 9.76078 22.8666 9.96148C23.5571 10.2831 24.1442 10.7135 24.6104 11.2382C24.9582 11.6299 24.9783 11.6807 24.8397 11.8113C24.7944 11.8548 24.6885 11.9249 24.6054 11.9709C24.4542 12.0507 23.8368 12.5464 23.8368 12.5875C23.8368 12.5971 23.736 12.7108 23.6125 12.8341C23.2068 13.25 23.0279 13.5861 22.7683 14.4252C22.7078 14.6186 22.6448 14.8725 22.6272 14.9934C22.5566 15.4577 22.5919 16.125 22.7154 16.7344C22.7885 17.1044 23.0808 17.7306 23.3706 18.1489C23.7763 18.7317 24.3786 19.2491 24.9909 19.5514C25.316 19.7086 25.5 19.8464 25.5 19.9334C25.5 19.96 25.4773 20.0205 25.4521 20.064C25.4244 20.1075 25.3866 20.2164 25.3639 20.3034C25.311 20.521 25.001 21.244 24.807 21.5971C24.0862 22.9052 23.3731 23.8748 22.6095 24.5833C21.8611 25.2725 21.1606 25.582 20.4348 25.5385C19.9359 25.5094 19.4596 25.3934 18.7842 25.1322C18.2248 24.917 18.0081 24.8493 17.7939 24.8203C17.688 24.8058 17.4915 24.7768 17.3604 24.7574C16.9774 24.697 16.7254 24.6921 16.4533 24.7478C15.5461 24.9267 15.5133 24.9364 15.0144 25.1371C14.2231 25.4562 13.8073 25.5578 13.2907 25.5578C12.8875 25.5602 12.696 25.5143 12.2575 25.3087C11.8694 25.125 11.5948 24.9315 11.2546 24.5978C10.9295 24.2811 10.7052 24.0151 10.2642 23.4323C9.18818 22.0081 9.02187 21.7276 8.49519 20.4582C8.28612 19.9546 8.19971 19.7502 8.13026 19.5402C8.07498 19.373 8.03043 19.2023 7.94332 18.8744C7.73164 18.074 7.70896 17.9869 7.70896 17.8709C7.70896 17.8153 7.68628 17.675 7.66108 17.5565C7.44184 16.5917 7.44688 15.0007 7.67116 14.1713C7.82236 13.6127 8.02648 13.088 8.30367 12.5512C8.92863 11.3325 9.71738 10.5539 10.874 10.0123C11.2571 9.8309 11.5444 9.74627 12.0534 9.65922C12.2903 9.62054 12.5523 9.56976 12.6355 9.54799C12.8421 9.49238 13.3184 9.49963 13.6057 9.56008C14.2911 9.71 14.7548 9.84058 15.2059 10.0123C16.0551 10.3411 16.549 10.4789 16.7506 10.4475C16.7692 10.4444 16.7848 10.4418 16.8002 10.4387C16.8815 10.4225 16.9601 10.3929 17.4512 10.2081Z",fill:"white"})]}),oge=({style:t,...e})=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#5462EB"}),d.jsx("path",{d:"M23.5433 8.87438C22.2479 8.26174 20.8587 7.81038 19.4063 7.55187C19.3799 7.54688 19.3534 7.55934 19.3398 7.58428C19.1612 7.91179 18.9633 8.33905 18.8247 8.67487C17.2625 8.43382 15.7084 8.43382 14.1782 8.67487C14.0396 8.33158 13.8345 7.91179 13.6551 7.58428C13.6414 7.56018 13.615 7.54771 13.5886 7.55187C12.1369 7.80955 10.7478 8.26092 9.45159 8.87438C9.44037 8.87937 9.43075 8.88769 9.42437 8.89849C6.78947 12.9558 6.06766 16.9134 6.42176 20.8219C6.42336 20.841 6.43378 20.8593 6.4482 20.871C8.18663 22.1868 9.87059 22.9857 11.5233 23.5152C11.5497 23.5235 11.5778 23.5135 11.5946 23.491C11.9855 22.9408 12.334 22.3606 12.6328 21.7504C12.6505 21.7147 12.6336 21.6723 12.5976 21.6581C12.0448 21.442 11.5185 21.1785 11.0122 20.8793C10.9721 20.8552 10.9689 20.7961 11.0058 20.7679C11.1123 20.6856 11.2189 20.6 11.3206 20.5135C11.339 20.4977 11.3647 20.4944 11.3863 20.5044C14.7125 22.0696 18.3136 22.0696 21.6006 20.5044C21.6222 20.4936 21.6479 20.4969 21.6671 20.5127C21.7688 20.5991 21.8754 20.6856 21.9827 20.7679C22.0196 20.7961 22.0172 20.8552 21.9771 20.8793C21.4708 21.1843 20.9445 21.442 20.3909 21.6573C20.3548 21.6715 20.3388 21.7147 20.3564 21.7504C20.6617 22.3597 21.0101 22.9399 21.3939 23.4902C21.4099 23.5135 21.4387 23.5235 21.4652 23.5152C23.1259 22.9857 24.8099 22.1868 26.5483 20.871C26.5635 20.8593 26.5731 20.8419 26.5747 20.8228C26.9985 16.3041 25.8649 12.3789 23.5697 8.89931C23.5641 8.88769 23.5545 8.87937 23.5433 8.87438ZM13.1295 18.442C12.1281 18.442 11.303 17.4944 11.303 16.3307C11.303 15.1669 12.1121 14.2193 13.1295 14.2193C14.155 14.2193 14.9721 15.1752 14.9561 16.3307C14.9561 17.4944 14.1469 18.442 13.1295 18.442ZM19.883 18.442C18.8816 18.442 18.0564 17.4944 18.0564 16.3307C18.0564 15.1669 18.8655 14.2193 19.883 14.2193C20.9084 14.2193 21.7255 15.1752 21.7095 16.3307C21.7095 17.4944 20.9084 18.442 19.883 18.442Z",fill:"#F7F7F7"})]}),age=({style:t,...e})=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),d.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5083 5.62451C10.8896 5.62451 6.34741 10.2078 6.34741 15.878C6.34741 20.4104 9.25774 24.2471 13.2951 25.605C13.7999 25.7071 13.9848 25.3844 13.9848 25.1129C13.9848 24.8752 13.9682 24.0604 13.9682 23.2115C11.1417 23.8227 10.5531 21.9892 10.5531 21.9892C10.0988 20.8009 9.42579 20.4954 9.42579 20.4954C8.50068 19.8673 9.49318 19.8673 9.49318 19.8673C10.5194 19.9352 11.0578 20.9198 11.0578 20.9198C11.9661 22.4815 13.4297 22.0402 14.0185 21.7686C14.1025 21.1065 14.3719 20.6482 14.6579 20.3936C12.4035 20.1559 10.0317 19.2732 10.0317 15.3347C10.0317 14.2142 10.4351 13.2976 11.0745 12.5847C10.9736 12.3301 10.6202 11.2774 11.1756 9.86844C11.1756 9.86844 12.0335 9.59678 13.968 10.9209C14.7962 10.6965 15.6503 10.5823 16.5083 10.5814C17.3662 10.5814 18.2408 10.7003 19.0484 10.9209C20.9831 9.59678 21.841 9.86844 21.841 9.86844C22.3963 11.2774 22.0428 12.3301 21.9419 12.5847C22.5981 13.2976 22.9849 14.2142 22.9849 15.3347C22.9849 19.2732 20.6131 20.1388 18.3419 20.3936C18.7121 20.7161 19.0316 21.3271 19.0316 22.2948C19.0316 23.6698 19.0149 24.7733 19.0149 25.1127C19.0149 25.3844 19.2 25.7071 19.7046 25.6052C23.742 24.2469 26.6523 20.4104 26.6523 15.878C26.669 10.2078 22.1102 5.62451 16.5083 5.62451Z",fill:"white"})]}),qdt=({style:t})=>d.jsx(q0e,{style:{color:"var(--privy-color-error)",...t}}),lge=t=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#F1F2F9"}),d.jsx("path",{d:"M26.1001 16.2273C26.1001 15.5182 26.0365 14.8364 25.9183 14.1818H16.5001V18.05H21.8819C21.6501 19.3 20.9456 20.3591 19.8865 21.0682V23.5773H23.1183C25.0092 21.8364 26.1001 19.2727 26.1001 16.2273Z",fill:"#4285F4"}),d.jsx("path",{d:"M16.5001 26C19.2001 26 21.4637 25.1046 23.1182 23.5773L19.8864 21.0682C18.991 21.6682 17.8455 22.0227 16.5001 22.0227C13.8955 22.0227 11.691 20.2637 10.9046 17.9H7.56372V20.4909C9.20917 23.7591 12.591 26 16.5001 26Z",fill:"#34A853"}),d.jsx("path",{d:"M10.9047 17.8999C10.7047 17.2999 10.591 16.659 10.591 15.9999C10.591 15.3408 10.7047 14.6999 10.9047 14.0999V11.509H7.56376C6.86376 12.9025 6.49951 14.4405 6.50012 15.9999C6.50012 17.6136 6.88649 19.1408 7.56376 20.4908L10.9047 17.8999Z",fill:"#FBBC05"}),d.jsx("path",{d:"M16.5001 9.97726C17.9682 9.97726 19.2864 10.4818 20.3228 11.4727L23.191 8.60454C21.4591 6.99091 19.1955 6 16.5001 6C12.591 6 9.20917 8.2409 7.56372 11.5091L10.9046 14.1C11.691 11.7364 13.8955 9.97726 16.5001 9.97726Z",fill:"#EA4335"})]});function cge(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...t,children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"b",children:[d.jsx("stop",{offset:"0",stopColor:"#3771c8"}),d.jsx("stop",{stopColor:"#3771c8",offset:".128"}),d.jsx("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),d.jsxs("linearGradient",{id:"a",children:[d.jsx("stop",{offset:"0",stopColor:"#fd5"}),d.jsx("stop",{offset:".1",stopColor:"#fd5"}),d.jsx("stop",{offset:".5",stopColor:"#ff543e"}),d.jsx("stop",{offset:"1",stopColor:"#c837ab"})]}),d.jsx("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),d.jsx("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),d.jsx("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),d.jsx("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),d.jsx("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function uge(t){return d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#06C755"}),d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"url(#pattern0_1769_69)"}),d.jsxs("defs",{children:[d.jsx("pattern",{id:"pattern0_1769_69",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:d.jsx("use",{xlinkHref:"#image0_1769_69",transform:"scale(0.003125)"})}),d.jsx("image",{id:"image0_1769_69",width:"320",height:"320",preserveAspectRatio:"none",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAYAAADNkKWqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABpkSURBVHgB7d1fbFTXtcfxdWZs45h7g6lClajoetJIRKIqGKmhTSvF5qEvqUqIitM+XEIikYf+QWlVaF+IACVPBamN0ps8NFL5cx+qmioOVXsf+oCJ1Pg2VMKkKlKRSMZVqlalCiaSHf9hZvesMx5jm/k/58w5Z+/vR3KM8cSAPf55rbX32ccTx/Rf3tO/uNiXWygsDnri5UTMgOd5/UZMTozXX3qU/2vAOl4++K+Y4LUR8V97U5KRyUwxM93bOzc5vWNsWhziicU07GYXeoY9I0P+mzljZJBwA6rzv0emM55MGvEuajD29SyM2xyKVgWgBt7cXO+g8YpP+BXdsASBB6AtfiD63dK4ZzJvzj36i3GxSOoDUENvZq57T0Zkf9EPPM+TfgEQGX9kNFY05s31vYtjaa8OUxuAvRPfGDZSOEroAfHRMDSenF74/C/HJIVSFYDBTG+u53ljzHcJPSBR8hqGfpv8st8m5yUlUhGAWu0VTfF58cweAZB0pzKSPZ6GIEx0AJbbXH+5flgApE3igzCRAdj9+5HBTEZ+TPABVkhsECYqAIMV3fmeo54/4xMAtklcECYmANf9/9efLxaLx1jcAKyW9zu744uPjp6SBIg9AP05X86f8/2cdhdwSt6vBnfFXQ1mJEZa9RVM4TLhBzgnV5TC+z0TTx2VGMVSAVL1AVjmyWTGZJ+MoxrseAXY84ev7aHqA7DMyKBfDV7onhh5RjqsowHY8we/3C1m3mChA8AaOb8d/XmnW+KOtMC6veXjue43qPoA1KOX1N2zbuHZThy0EHkA6ryvKMULnMMHoAkdWSWOtAXWKzoIPwAt0FXiC1pASYQiqwA1/PyPfoF5H4CWeTLdnZFdMztHJyUCkQQg4QcgNBGGYOgBSPgBCF1EIRhqABJ+ACITQQiGFoA6rNQNzoQfgMiEHIKhrAKXt7oQfgAiZaR/sSBvhLU63HYA6iZntroA6KBgi4xmj7Sp7QCc/bjn54QfgA7L6dVl0qa2AjC4tpcbFQGIgV5a2+61wy0vgujJDXrxsgBAnDLFJxc+/6uW7kvcUgByfS+AxPBXhjMmu6OV64ZbaoGLXuENwg9AIvgrw3rAsrSg6QAM5n5GBgUAEkLngeve/nrTd5NsqgUutb6F9wUAkqaFVripCrA09wOABGqhFW44AEvn9TP3A5BczbbCDbXArPoCSA2/Fe5bt/hgI0fqN1QB+nO/o4QfgFTwW+GZj3sa2iBdtwJk4QNAGnVnZUe9U2PqVoCl6g8A0uV2QX5c7zE1K0CqPwBplhGza+7Rc+PV318D1R+ANDPi1cywqhUg1R8AG9SqAqtWgFR/AGxgvMzz1d5XsQKk+gNgk77exY2V9gVWrAAL3u2qiQkAaTM721Px6pCKAeiZDKc8A7BH1lQs6u4KwJ63v7aHqz4AWMVIf+/E3uG1v31XAHqZ7H4BAMtU2hKzehHkwp7+nt7umwIAtqlwSMKqCrC7t5vZHwA76SEJc6szblUAZjzvCQEAS/mBt3/N23cYwz1+AdjLeDLYf3lPf/nt5QDsnfjGsACAzfw2eG6ua/mmbssBWDAFqj8A1jPGW8665QD0l4OHBAAsZ1ZkXWkbDNtfADikfG1wUAH2rMsOCwA4YvbjnmF9XWqBveygAIAjPDHD+rpr6Y0hI0B7+rvWy4bsehlYtyl4CX4v2ycb/N9XuXWfbOjj5Of/Gby+dXtGpguzcqvgv749G7w9tXDD//WMAG3K6X+CADRGBhu7QzBcpgE30LNJtq3PBQGngVYOu3Lgdcq7s/kgFKfmbwSBWX679JqARG3Gk+362mMBBJUM+OH22L1bZbuGnR9625dCLw3KQXjFf3nroz/L1NyN4NfASroQ4ukG6KIULgicpZWdht1j935GtvflZJv/0t/VJzYph+JFPxDf+ugqlSKkO9u9o6toFvvFq3t7YFhEA09DbvcnHpEhP/j017bTQC+F/Nbl3ysF4lU5/+GloFKEWxYKi4NdpRVglkBspy3t7o2f80Nvp5UVXiu2LVW7B+9/PHhbK8OzN8aDUJxaWoiBvTzxcroIkhNYSVtarfD2bRpOzfwuTisrRK0O3/Qrw1/7L8wPLeWZAW/dxMgFv/4bFlhBK72nNw0ReiHSleZX/v4bOX/zj1SGFvGMvEkAWkBnevvuGwra25UzLoSv3Caf8V+QckYmvZ6Jp97nJkjppC2uLmTsu2+YmV6HaVWoCycvfnCOqjC98gRgCmmlp4N7qr1koCpMLQ3AEZaAU0DbXA2979z/Faq9hNKq8KUPRgnCFCEAE47gSx8WTdKDAEwogi/9NAhLrfFFgjChCMCEIfjsQ2ucXARggujevZMDzxB8liIIk4cATADdzvLC5hFWdR1xZSYvI9dO0hYnAAEYI213Twzsl6f9yg/u0fkg+wjjRQDGROd8RzY/RbvrONrieBGAHabX6r7+0Ldod7EK1WA8CMAOoupDLXpA6+Gp01SDHUQAdgBVH5pBNdg5BGDE9LCCn33621R9aIrOBg9cf5WTqiPGWfgROpl7Rka3HCb80DQ9y/F3W48G26MQHSrACGjLe+7hQ07cawPR0yrwwPXXaIkjQAUYMt3UrD+5CT+EpfycGmjwxvJoHAEYIl3lLT1ROYoe4dLn1LUdP12+gRPCQQCGRGc1OvMDoqTPMeaC4ekStEUvZzs5sD84yADohCN+AG7I9smhqdOC9hCAbdDwY96HOBx84CtBW/zce68FG6jRGlrgFulAmvBDnPTeMPoc1B/EaA0B2ALCD0mhz8F3PvsjVohbRAA2qRx+rPQiKcqbpgnB5hGATSD8kFTlEKQdbg4B2CDCD0lHCDaPAGyAPqH00jbCD0mnM8HRLYcEjSEAG/CzT3+LBQ+khl46p8evoT4CsA7dda9HWgFpohvzuWKkPgKwBn0CHeFJhJTS5y7XDtdGAFahbQThh7TTa4e3M76pigCsoHyEPWCD0YcPs0ewCgKwAra7wCb6XH79oW8K7kYArqEtA+EH2+hIR08twmoE4Aq6csbQGLbSE2Q0CHEHAbhEZyRsG4DtdLbNlSJ3EIBLjmzeS+sL6+lz/Min9gpKCEAptb5Pc6IzHEErfIfzAUjrCxfRCpc4H4C0vnARrXCJ0wGoBxzQ+sJV2gq7fpWI0wF47uHDArjsZM7tvYHOBqAufND6wnW6GOLygoizAcjCB1Di8nXvTgYg1R9wh34vuDoLdzIAqf6A1Vw9+s25AKT6A+7mahXoXABS/QGVuVgFOhWAVH9Adfq94dqKsFMBSPUH1PbCZreuDnEmAPUnG9UfUJtr+wKdCcB9m4YEQH0u3QbWiQDUE1+45hdozL77hpw5KcaJAHzs3q0CoDEafo/9pxvfM13igCRUf1PzN2q+P+75ZL2/n0rLDHX69ozcKszWfMyGbB/n4dVw8IHH5fzNS2I76wNQ2984K8Cp+X/Kl68ebygAdR9WHGF94PqrcvbGeN3H6fFhl7b9qOZjzvgf55W//7ZuAOnXJIprUPXzvfNPPwxCsJ7RLYdrzrvenc0HX7tGPlZU9DkRx+4F/VrrD4g4/+2dYH0LHHf7q2HQSHWlj3npg1HptLc+utpQ+CkNhDM1Hqvh85wfpvo4/XWtF/0zD02dlrAdyp9u+Jv2lX/8tub7v9/Ex4qKPiemb89Kp2n4fXWj/Ysh1gdg3O3vdKHzT964TM3/q6nHv/L33/gB/GcJUzOfbw3iWv5a5/2dMl2IJ4SHHJidWx2AwTCXBZBEG7l2sm4QIR5UgCm3zfHjvtNAW8wD118TJE+pgLB7U7TVAejShs400zb4xRjmn6jP9g7K6gB0/YYvaaLD/rDngWif7XNAawOQ+V/66HacOFY8UZ3tYyRrA5D5X/roVqCRaycEyaGFhM2dlMUBOCBIH22D6+3PQ2dtW58TW1kbgEMb3L3VX9odyp9iHrhEr2TKxXwJ4naLA9DaS+H6s1znmWY6D3znsyf8FqxP0kCDKuwj17T93HffsMRtoOc+sZW1AcgMMN10Hvjce6/K6JZDkgZ6LbetJ45vX/+g2MrKFlh/cqalckB15z98h3lgAmi423pyjpUBSPVnD90fqIcrIF79WTsLCmsrQNhBL5Xb+5cT7A+Mma1FhZUB+F8WD21dpPPAQ1OnBPHZQAucHlSA9tHzA5kHxocWOEW4/aWddB7I0VnxsLUCdOKeILCDzgP1iPok7g/UhRrduxgmrbr03hy6xzBucW/GjoqVAUgLbK/g1gF/G5WTA/slSTScG721QDP0xkRp2hCeNnbOALkKJBUOPvCVln5Y6VH6ZyIImyTSwI/rSHwXOHFfYCSTHlhx5FN7pRWHp04zD0TbCEDESqvAVm5cVdofeFKAdhCAiN0Jf57XyqBfFx6iuLUm3GFlAOZpjVJF54DnHm7t0AOdB57/8JIAraACRCLopVatruzqqTHMA6Nl6/2tCUAkhs4DW7kNI7fWjJ5+jm1kZQDq1gGkk57/18o8UE+QZh4YnVsEYHoQgOml88DXH/qmtELngTYenZWEfa20wECHaBvc6jzQplZNfxiczD2TiKtAbC0qrLwU7t3ZKUG66Tzw/M0/pubmSBrav9t6VGxFC5wirAja4fWHvpWIgwAgcsXSU7mtDEBtgzhBOP30WLNW54EIz5WZvNjK2hngXxeoAm2greXB+x8XxOeWpQsgytoAnLT4p5ZrdCGglf2BCIet7a+yNgBtLttdpPNAznmMx1u30rEQ1QprA5CVYLvoPPBnn2YeGAeb99VaeyR+WjfEhv1k25Dts6Zy2v2JncE8MIk3R9I5mY1fO91RYXMLbG0A6kqw7iFL0+xIv4G2XP62hE331CXtCPlW6TzwrY+uJu6b8srM+5F87Y5sHpEX/Je42D5KsvpKkCu0wQHbLhEbffiwM/NAvRNePsYW9Nc3/yg2szoAOSfuDpv2Reo80JaKNumoAFNMqx42RNtp36Zh9gdGzPb5n7I6AHUO+O7s+wI76Xxse19OEA2dtdrO+tNg3qQNtpbOAV2aB3bamRsXxXbWB+D//sv+L6LLdB7Y6q01UZ22v2k5iacd1gdgeTsM7KXbfJgHhsuF9lc5cSAqbbD9dB7I0VnhefGDUXGBEwGobTCrweFI6rytfGvNZv5+/V3/Ibibbn1x5bYSTgSgtsFn/zUucRi6d6vETSsjnZVVsq1voOHKScOl1qqrfqxmAmgo5Kt09NaazcwDd2/8XM33//emYYmbfm1yVb52UflpAi81jIrXMzFixAFxHlmu85SLMc0hNZB2b3ykagAq/Wl/5sZ42x9Hnf/wHXnlH/9X52P1yVf9j/V0RAGjn2/9oVfrHDv9dzzWwA+ns/7nJa4rMfRzvu++4Y7eE0QXP7Zc/o64wpkAVBqAnCsHVKeXTbp0e1Gn7grnwr4moB1JPGknSk4F4K9vXmIxBKhC233X7qntVADqXOiVf/xGANzNla0vKzl3Y3Rd4aIKBFZzsfpTzgUgVSCwmn5PuFj9KecCUFEFAnfowoeL1Z9yMgD1J96hqVMCuE73/b3kaPWnnAxApTMPDkmA61764Jy4zNkAVC86/sWH2/SWEfWuALKd0wGoFaDrTwC4izGQ4wGoDk+dZkEEztFVX1cXPlZyPgB1QeSlv7k7BIZ7XF/4WMn5AFR6ATgLInDFl68eF5QQgEsOXH+VVhjWo/VdjQBcok+K5957VQBb6aovre9qBOAKpcM83ToOCG7QuR+rvncjANd4KWgR/imATfb+5SStbwUE4Bq6KqxDYuaBsIXO/d6dzQvuRgBWwDwQttBLPpn7VUcAVqHzQFePCIIdSnM/d+7v0QoCsAb9ycmiCNJIw680ypkRVEcA1nEof4pN0kgVDT0WPRpDADZg5NpJhshIDZ1f83xtDAHYgNJP1BNsj0Hi6dxaNzyjMQRgg7Sd0JkKIYik0vBjxbc5BGATCEEklS7WEX7NIwCbRAgiabTl1cU6NI8AbAEhiKTQxQ427beOAGxROQRZbUNc9LnHXr/2EIBtKIcgq27oNDY6h4MAbJM+AUeuneCyOXQM4RceAjAkugJHCCJq5fDjKo9wEIAh0hBkcQRR0Znfzj/9kPALEQEYMr1umBBE2FjwiAYBGAH9Cb3l8nc4SQaheOujq4RfRAjACOnmVL3bHNUgWnXmxrgffscIv4gQgBE7GzyBj3OkFpqmi2rPXWeTc5QIwA4o7xdklRiN4mCDzvB6JkaMoGMG1m2Scw8flm19OQEq0dEJ8+POIABjsm/TsLywea8fiJ8UQJU21Z9kXNJBBGCMtBo8snlEnvbDEG5jg3M8CMAE2L4+J6NbDlENOkr3+JVOHCf8Oo1FkAS4MpMP9g2yZcY9Z5Z2CRB+8aACTCDmg25gpTd+BGBC6XxQg/DpTUMEoWV0sUNvWK57RBEvAjDhNAgfu/czVISW0BGH3rOXg3STgQBMEVrjdGOxI3kIwBTa/YmdcvD+x/3KcKsgHXRjMzcuSh4CMMXK+wiH/CCkKkwuruxILgLQEtoe7974iF8dPiJIBuZ9yUcAWqa8aKJXl9Aix0fP8Dtw/X+Y9yUcAWgxwjAe7O9LDwLQEf1d6+WrfousQcjMMBocZpA+BKCj9DguDUKtEDUUNSDROra4pBMBiIAGoh7KoGE46L/mvMLGscUlvQhAVKQVYRCKfQMy0PtJ/7WG4gCV4gra8j733qty/sNLgnQiANGUcjDq6/I80cVqkVVeOxCAaJuuNusexIMPPO7E4gotrz0IQITK5uuVdWPzgeuvscprEQIQodOK8OTAM1ZdlaJzPp33cX9eu3AiNEKnc7GRayesqJSCs/v8dlf/PYSffQhAREYP/Uwz3du3808/4CADixGAiIze6yStBwFo6D3y7g9Y5bVclwARmvRDME3bZFjocAsBiEilqYLSqk8PMWDW5w4CEJFKQwBS9bmLAITTqPrcRgDCSVzHC0UAIlK6KTpp2NSMMgIQkUrS6TFUfViLAESkklIBMutDJQQgItWfjbcCZIUXtRCAiFScm6Cp+lAPAYjIbF//oD8D7JNOo+pDowhARGZDtrPhp5VeueoDGkEAIjJ6D5FO4Yh6tIIARGSGNnxGoqZV3+Gp03LmxrgAzfID0MuLmJwAIYt6BZhFDrQpTwWIyES1Aqzt7ot+8LHIgXZ1iTHT4gkQqihWgLXS04qPE5oRBk8rQC/j5Y0xgwKEKOwVYNpdRKHLGLklQMjCWgFmdRdRMV5pBpgXIGS53vbuC6z3Evl+/jRzPkTHeFNdRkyeESDC1moLzLYWdIyRya6erEwuFgQI1a3CbFOPL1/F8VP/hTkfOiHjFae7ZmYW8z293QKESWd3B+9/vO7jCD7Epbf39mTQ/fZMPPU+m6ERtkvbflR1LyB7+RArT6YXvjC6MdgI7Xky6a8G5wQIkd5YfN+mYRm6t3RJ3HRhJgg+DT2qPcTJ8+d/+joIwGLRTHmshCACZ/3FjLMsaCBhjHgX9XVG/+NJcVwAwBVLFWAQgAvzhXEBAEf03bMwrq+DAJRdY9PlRAQAq/lZN73DzzwpB2Dwe3JRAMBy3oqsWw7ArGfGBAAs563IuuUAnJu7PemXgdMCABabe/TcePnXywGoc0DdDygAYCnPyJsr386sfKMocloAwFJ+kbdq1LcqABfnFsdogwHYqrd3sXoA0gYDsJW2v+XtL2WZux4k5rgAgGWMeKfW/l7FK4B73h656b+nXwDAAnoDpPlHRx9c+/uZyo/2XhYAsETR8yruc64YgAtzCz8RALBE1mQqFnWVK8BgMcTjyhAA6efJqblHf5Gv9K5M1f/HFGmDAaRexmSrLuxWDUC9XMQfHI4LAKRVjepPZWr/v2yJAZBetaq/4P213kkVCCC16lR/qmYAqmJRvicAkDL1qr/gMfUesPil0UnDggiANGmg+lN1A1AtzheOcUgCgDTQqz4aqf5UQwEY7AvMsCACIPn8ADzeSPW39NjGrZsYuWBEhgUAEqjaNb/VNFYBLn/w7LO0wgCSys+oXc08vqkA1LKSVhhAIhVNw61vWVMtcBmtMIAk0YOc578wukOa1FQFuPyH0QoDSAid+3km+6S0oKUALJWZxWcFAGLWzKrvWi0FoFr44q/GhGuFAcQpmPuNnpIWtTQDXIl5IIBYeN7Ywhd+2VLrW9ZyBVg2P7f4pCdeXgCgQ3Tu17duoe0xXNsBGFwlIpldhCCATggWPSS7a+0tLlv8WOHo/v3IoL8UfYG7yQGIjJHpjJfd0eqix1rtV4BLSqfGyC62xwCIhJ8tmjFhhZ8KrQIsoxIEELql8NNCS0IUegAqQhBAaCIKPxVJACpCEEDbIgw/FdoMcC39C+uwktVhAK3Q1d4ow2/pz4hW78Q3ckaKF4yYnABAA8pbXcJc8KgksgqwTP8B83MLO8R4YwIAdeidKO/pXdwRdfgt/Vmd0zOx95j/Rx4VAKikaI4vfOncMemQjgag6p0Yecb4IUhLDGCZv9jRlS0+O/v5X3W0U+x4ACqdCxZN4Q3/Tx8UAE7TllfPGO1Ey7tWLAFYRksMOMyv+jwxx+e/eO4nEpNYA1CxSgy4J86qb83fIxmYDQIOSEDVt1JiAlAFs0G5fcz/a+0XAFbxTPHle+4pHAvjGKuwJCoAywhCwB7a7haL8r0or+hoVSIDsIwgBNKrNOfTe3acG5eESnQAlhGEQHp4njem7W6Sg68sFQFYpkFYMIvfzXjZJ1gsARJED0L2zMt9vbd/kqQZXz2pCsCVet7+2h6R7H7/k75HAHSeruh6Mpn0NreW1AZgWf/lPf1zc917isZ7gjAEIrYUekWR0+t7F8fSVO1VkvoAXKt3Yu+w8bw9pihDXGoHhMD4VV5GLnrGjPX23p5Me+itZF0ArqTV4ezH2WHxsoN+mT5kjB+InFAN1ODlS4FnpkyxON53T2HcpsBby+oArKTUMncNFo3p12D0f7wN+J+EnL7PiJcrPYoFFtho6XR2Y6aDX3vB6yl/QTEvRZlc37eYtznsKvk3kqxyUwkTXfIAAAAASUVORK5CYII="})]})]})}function dge(t){return d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsxs("g",{"clip-path":"url(#clip0_1715_1956)",children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#0977B6"}),d.jsx("path",{d:"M9.46878 6.82104C10.6699 6.82104 11.6461 7.79742 11.6461 8.999C11.6461 10.2017 10.6699 11.1782 9.46878 11.1782C8.26447 11.1782 7.28967 10.2017 7.28967 8.999C7.28967 7.79742 8.26447 6.82104 9.46878 6.82104ZM7.58908 12.8309H11.3467V24.9207H7.58908V12.8309Z",fill:"white"}),d.jsx("path",{d:"M13.7032 12.8309H17.3076V14.4827H17.3576C17.8589 13.5322 19.0846 12.53 20.9127 12.53C24.7175 12.53 25.42 15.0341 25.42 18.2891V24.9207H21.6651V19.0415C21.6651 17.6388 21.6394 15.8355 19.7126 15.8355C17.7573 15.8355 17.4579 17.363 17.4579 18.9399V24.9207H13.7032L13.7032 12.8309Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1715_1956",children:d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"white"})})})]})}function hge(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...t,children:[d.jsx("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),d.jsx("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function fge(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 0 1000 1000",...t,children:d.jsx("path",{d:"M906.25 0H93.75C42.19 0 0 42.19 0 93.75v812.49c0 51.57 42.19 93.75 93.75 93.75l812.5.01c51.56 0 93.75-42.19 93.75-93.75V93.75C1000 42.19 957.81 0 906.25 0zM684.02 319.72c-32.42-21.13-55.81-54.96-63.11-94.38-1.57-8.51-2.45-17.28-2.45-26.25H515l-.17 414.65c-1.74 46.43-39.96 83.7-86.8 83.7-14.57 0-28.27-3.63-40.35-9.99-27.68-14.57-46.63-43.58-46.63-76.97 0-47.96 39.02-86.98 86.97-86.98 8.95 0 17.54 1.48 25.66 4.01V421.89c-8.41-1.15-16.95-1.86-25.66-1.86-105.01 0-190.43 85.43-190.43 190.45 0 64.42 32.18 121.44 81.3 155.92 30.93 21.72 68.57 34.51 109.14 34.51 105.01 0 190.43-85.43 190.43-190.43V400.21c40.58 29.12 90.3 46.28 143.95 46.28V343.03c-28.89 0-55.8-8.59-78.39-23.31z"})})}const pge=t=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),d.jsx("path",{d:"M8.53901 8L14.7164 16.2153L8.5 22.8947H9.89907L15.3415 17.0468L19.7389 22.8947H24.5L17.975 14.2173L23.7612 8H22.3621L17.3499 13.3858L13.3001 8H8.53901ZM10.5964 9.02501H12.7837L22.4422 21.8695H20.255L10.5964 9.02501Z",fill:"#F7F7F7"})]});let SQ={google:{name:"Google",component:lge},discord:{name:"Discord",component:oge},github:{name:"Github",component:age},linkedin:{name:"LinkedIn",component:dge},twitter:{name:"Twitter",component:pge},spotify:{name:"Spotify",component:hge},instagram:{name:"Instagram",component:cge},tiktok:{name:"Tiktok",component:fge},line:{name:"LINE",component:uge},apple:{name:"Apple",component:sge}};const E7=t=>t in SQ?SQ[t]:{name:"Unknown",component:qdt};function Wdt(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),r=t.get("privy_oauth_state"),n=t.get("privy_oauth_provider");if(!e||!r||!n)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:r,provider:n,withPrivyUi:!Jt.get(xC),popupFlow:window.opener!==null&&i,disableSignup:!!Jt.get(Ib)}}function OO(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),Jt.del(bC),window.history.replaceState({},"",t)}class zm{async initRegisterFlow(e){if(!this.api)throw new fe("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new fe("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new fe("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){let e=await bi(()=>import("./index-RgRXXzcQ.js"),[]);if(!this.api)throw new fe("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new fe("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let r=this.meta.initRegisterResponse.options,n=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(r));return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(YOe,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(n)})}catch(r){throw r.name==="NotAllowedError"?new fe("Passkey request timed out or rejected by user.",void 0,ye.PASSKEY_NOT_ALLOWED):jr(r)}}async authenticate(){if(this.authenticateForRegistration)return this.register();let e=await bi(()=>import("./index-RgRXXzcQ.js"),[]);if(!this.api)throw new fe("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new fe("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let r=this.meta.allowedCredentialsIds?.map((n=>({type:"public-key",id:n})))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let n=await e.startAuthentication(this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:r}));return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(KOe,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(n)})}catch(n){throw n.name==="NotAllowedError"?new fe("Passkey request timed out or rejected by user.",void 0,ye.PASSKEY_NOT_ALLOWED):jr(n)}}async link(){let e=await bi(()=>import("./index-RgRXXzcQ.js"),[]);if(!this.api)throw new fe("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new fe("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let r=this.meta.initLinkResponse.options,n=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(r));return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post(GOe,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(n)})}catch(r){throw r.name==="NotAllowedError"?new fe("Passkey request timed out or rejected by user.",void 0,ye.PASSKEY_NOT_ALLOWED):jr(r)}}async _initRegisterOnce(e){if(!this.api)throw new fe("Auth flow has no API instance");let r=tx(e);return await this.api.post(VOe,{token:this.meta.captchaToken},{headers:{...r}})}async _initAuthenticateOnce(e){if(!this.api)throw new fe("Auth flow has no API instance");let r=tx(e);return await this.api.post(HOe,{token:this.meta.captchaToken},{headers:{...r}})}async _initLinkOnce(){if(!this.api)throw new fe("Auth flow has no API instance");return await this.api.post(WOe,{})}_transformInitLinkOptionsToCamelCase(e){return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map((r=>({type:r.type,alg:r.alg}))),timeout:e.timeout,excludeCredentials:e.exclude_credentials?.map((r=>({id:r.id,type:r.type,transports:r.transports}))),authenticatorSelection:{authenticatorAttachment:e.authenticator_selection?.authenticator_attachment,requireResidentKey:e.authenticator_selection?.require_resident_key,residentKey:e.authenticator_selection?.resident_key,userVerification:e.authenticator_selection?.user_verification},attestation:e.attestation,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props?.rk,hmacCreateSecret:e.extensions?.hmac_create_secret}}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:e.allow_credentials?.map((r=>({id:r.id,type:r.type,transports:r.transports})))||[],timeout:e.timeout,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props,hmacCreateSecret:e.extensions?.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:r}){this.authenticateForRegistration=!1,this.initRegisterOnce=new No(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new No(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new No(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:r}}}const jO=({address:t,chainId:e,nonce:r})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${r}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class Ly{get meta(){return{connectorType:this.wallet?.connectorType,walletClientType:this.wallet?.walletClientType,chainId:this.wallet?.chainId,address:this.wallet?.address,disableSignup:this._meta.disableSignup}}async authenticate(){if(!this.client)throw new fe("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:this.wallet?.chainId,walletClientType:this.wallet?.walletClientType,connectorType:this.wallet?.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new fe("SiweFlow has no wallet instance");let{message:e,signature:r}=await this.sign();return await this.client.authenticateWithSiweInternal({message:e,signature:r,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw jr(e)}}async link(){if(!this.client)throw new fe("SiweFlow has no client instance");try{if(!this.wallet)throw new fe("SiweFlow has no wallet instance");let{message:e,signature:r}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:r,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw jr(e)}}async sign(){if(!this.client)throw new fe("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new fe("Could not prepare SIWE message");if(!this.wallet)throw new fe("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new fe("SiweFlow has no client instance");if(!this.wallet)throw new fe("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new fe("SiweFlow has no client instance");if(!this.wallet)throw new fe("SiweFlow has no wallet instance");let e=this.wallet.address,r=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=jO({address:e,chainId:r,nonce:this.nonce}),this.preparedMessage}constructor(e,r,n,i=!1,s){this._meta={disableSignup:!1},this.getNonceOnce=new No(this._getNonceOnce.bind(this)),this.wallet=r,this.captchaToken=n,this.client=e,this._meta.disableSignup=i,this.preparedMessage=s?.message,this.signature=s?.signature}}const uo=(...t)=>{if(typeof Buffer>"u")throw new fe("Buffer is not defined.",void 0,ye.BUFFER_NOT_DEFINED);return Buffer.from(...t)},Hdt=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class _C{get meta(){return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:this.wallet?.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new fe("SiwsFlow has no client instance");try{let{message:e,signature:r}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:r,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw jr(e)}}async link(){if(!this.client)throw new fe("SiwsFlow has no client instance");try{let{message:e,signature:r}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:r,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw jr(e)}}async sign(){let e,r;if(!this.client)throw new fe("SiwsFlow has no client instance");await this.buildMessage();let n=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new fe("Could not prepare SIWS message");if(!n&&!this.wallet.signMessage||n&&!this.wallet.signTransaction)throw new fe("Wallet does not support the necessary signing methods");if(n&&this._siwsTransactionMethods){let i=await this.wallet.signTransaction(this._siwsTransactionMethods.deserializeTransactionFromB64String(this.preparedMessage));e=i.serialize().toString("base64"),r=uo(i.signatures[0]?.signature??Buffer.from("missing signature")).toString("base64")}else e=this.preparedMessage,r=uo(await this.wallet.signMessage(new TextEncoder().encode(this.preparedMessage))).toString("base64");return{message:e,signature:r}}async _getNonceOnce(){if(!this.client)throw new fe("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new fe("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._siwsTransactionMethods?this.preparedMessage=this._siwsTransactionMethods.prepareSiwsTransactionWithMemo({address:e,nonce:this.nonce}):this.preparedMessage=Hdt({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,r,n,i=!1,s="plain",o){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new No(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=n,this.client=r,this._meta.disableSignup=i,this._meta.messageType=s,this._siwsTransactionMethods=o}}class xy{async authenticate(){if(!this.api)throw new fe("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new fe("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(MOe,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw jr(e)}}async link(){if(!this.api)throw new fe("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new fe("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(OOe,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw jr(e)}}async sendSmsCode({phoneNumber:e,captchaToken:r,withPrivyUi:n}){if(!this.api)throw new fe("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),r&&(this.meta.captchaToken=r),!this.meta.phoneNumber)throw new fe("phone nNumber must be set when initialzing authentication.");let i=tx(n);try{return await this.api.post(ROe,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw jr(s)}}constructor({phoneNumber:e,captchaToken:r,disableSignup:n}){this.meta={phoneNumber:e,captchaToken:r,disableSignup:n??!1}}}class Vdt extends xy{async link(){if(!this.api)throw new fe("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new fe("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(DOe,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw jr(e)}}constructor(e,r,n){super({phoneNumber:r,captchaToken:n}),this.meta={phoneNumber:r,captchaToken:n,oldPhoneNumber:e,disableSignup:!1}}}const gge=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,mge=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||gge(t)!=="MetaMask")return!1;if(t.providers){for(let r of t.providers)if(!mge(r))return!1}return!0},yge=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},h1=(t,e,r,n)=>{let i=Number(t),s=e.find((o=>o.id===i));if(!s)throw new kn(`Unsupported chainId ${t}`,4901);return eu({transport:cd(kh(s,r,n.appId)),chain:s})},kh=(t,e,r)=>{let n,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])n=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])n=e.rpcUrls[s];else if(t.rpcUrls.privy?.http[0]){let o=new URL(t.rpcUrls.privy.http[0]);o.searchParams.append("privyAppId",r),n=o.toString()}else n=t.rpcUrls.public?.http[0]?t.rpcUrls.public.http[0]:t.rpcUrls.default?.http[0];if(!n)throw new kn(`No RPC url found for ${i}`);return n},vge=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),Fs=(t,e=3,r=4,n="ethereum")=>{if(!t)return"";let i=n==="ethereum"?2:0;return e+r+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-r,t.length)}`},k7=(t,e=3,r=4)=>Fs(t,e,r,"solana"),CC=t=>new Promise((e=>setTimeout(e,t))),MO=(t,e={})=>{let r=e.delayMs||150,n=e.maxAttempts||270;return new Promise((async(i,s)=>{let o=!1,a=0;for(;!o&&a<n;){if(e.abortSignal?.aborted)return;t().then((l=>{o=!0,i(l)}),((...l)=>{o=!0,s(...l)})),a+=1,await CC(r)}o||s(Error("Exceeded max attempts before resolving function"))}))},wge=(t,e,r={},n={})=>{let i=new URL(e,t);for(let[o,a]of Object.entries(r))a!==void 0&&i.searchParams.set(o,a);let s=Object.entries(n);if(s.length>0){let o=new URLSearchParams;for(let[a,l]of s)o.append(a,l);i.hash=o.toString()}return i.href},Gdt=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),DO=t=>typeof t=="string"?t:"0x"+t.toString(16);async function Kdt({store:t,walletList:e,externalWalletConfig:r,walletChainType:n,timeout:i=3e3}){let s=!1,o=window;return new Promise((a=>{function l(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",l);let c=t.getProviders();console.debug("Detected injected providers:",c.map((h=>h.info)));let u=[];for(let h of c)e.includes("coinbase_wallet")&&h.info.rdns==="com.coinbase.wallet"||n==="solana-only"&&h.info.rdns==="app.phantom"||u.push({type:h.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:h});if(n!=="solana-only")for(let h of(function(){let f=window,p=f.ethereum;if(!p)return[];let m=[];if(p.providers?.length)for(let v of p.providers)v&&m.push(v);return m.push(f.ethereum),m})()){let f=gge(h);if(!c.some((p=>p.info.name===f))){if(mge(h,!0)&&!u.find((p=>p.type==="metamask"))){u.push({type:"metamask",legacyInjectedProvider:h});continue}if(f==="Phantom"&&!u.find((p=>p.type==="phantom"))){u.push({type:"phantom",legacyInjectedProvider:h});continue}if(f==="Coinbase Wallet"&&!u.find((p=>p.type==="coinbase_wallet"&&r.coinbaseWallet?.config?.preference?.options!=="smartWalletOnly"))){u.push({type:"coinbase_wallet",legacyInjectedProvider:h});continue}u.find((p=>p.type==="unknown_browser_extension"))||u.push({type:"unknown_browser_extension",legacyInjectedProvider:h})}}a(u)}o.ethereum?l():(window.addEventListener("ethereum#initialized",l,{once:!0}),setTimeout((()=>{l()}),i))}))}function Pb(t){return`eip155:${String(Number(t))}`}const Ydt=(t,e,r,n)=>{let i=Number(t),s=e.find((o=>o.id===i));if(!s)throw new kn(`Unsupported chainId ${t}`,4901);return kh(s,r,n)},r_=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},r=t.types.EIP712Domain??Object.entries(t.domain).map((([n,i])=>{if(i!=null&&typeof n=="string"&&n in e)return{name:n,type:e[n]}})).filter((n=>n!==void 0));return{...t,types:{...t.types,EIP712Domain:r}}},bge=x.createContext({siteKey:"",enabled:!1,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:De,setError:De,setExecuting:De,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:De,reset:De,execute:De});class B8 extends po{constructor(e,r,n){super(e||"Captcha failed"),this.type="Captcha",r instanceof Error&&(this.cause=r),this.privyErrorCode=n}}const Jdt=({children:t,id:e,captchaSiteKey:r,captchaEnabled:n})=>{let i=x.useRef(null),[s,o]=x.useState(),[a,l]=x.useState(),[c,u]=x.useState(!1),h=x.useMemo((()=>n?c||s||a?!c||s||a?s&&!a?{status:"success",token:s}:a?{status:"error",error:a}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"}),[n,s,a,c]);return d.jsx(bge.Provider,{value:{...h,ref:i,enabled:n,siteKey:r,appId:e,setToken:o,setError:l,setExecuting:u,remove(){n&&(i.current?.remove(),u(!1),l(void 0),o(void 0))},reset(){n&&(i.current?.reset(),u(!1),l(void 0),o(void 0))},execute(){n&&(u(!0),i.current?.execute())},async waitForResult(){if(!n)return"";try{return await(function(f,{interval:p=100,timeout:m=5e3}={}){return new Promise(((v,w)=>{let b,E=0,_=()=>{E>=m?w("Max attempts reached without result"):(b=f(),E+=p,b==null?setTimeout(_,p):v(b))};_()}))})((()=>i.current?.getResponse()),{interval:200,timeout:2e4})}catch{throw new B8("Captcha failed",null,ye.CAPTCHA_TIMEOUT)}}},children:t})},Ca=()=>x.useContext(bge);class yw{async authenticate(){if(!this.api)throw new fe("Auth flow has no API instance");try{return await this.api.post(JOe,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw jr(e)}}async link(){if(!this.api)throw new fe("Auth flow has no API instance");try{return await this.api.post(XOe,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw jr(e)}}constructor(e,r=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=r}}function AQ(t){let e={detail:"",retryable:!1};return t?.privyErrorCode===ye.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),t?.privyErrorCode===ye.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),t?.privyErrorCode===ye.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===ye.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===ye.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),t?.privyErrorCode===ye.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),t?.privyErrorCode===ye.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof B8&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function TQ(t){return Object.fromEntries(decodeURIComponent(t).split("&").map((e=>e.split("=").map(decodeURIComponent))))}function IQ(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}class Mf{static parse(e){try{return new Mf(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return UN(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=UN(e)}}class hL extends Mf{static parse(e){try{return new hL(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}let PQ=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")};const js=(t,e)=>{if(e?.imported)return PQ(e);let r=Kl(t);if(!r)throw Error("Failed to find primary wallet");return PQ(r)},Xdt=({style:t,...e})=>d.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),xge="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",_ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";class Cge extends kn{constructor(){super("Wallet timeout"),this.type="wallet_error"}}class Ege extends kn{constructor(){super("User rejected connection"),this.type="wallet_error"}}const vp=t=>t instanceof kn?t:t?.code?new no(t):new kn("Unknown connector error",t);class Uy extends po{constructor(e,r,n){super(e),this.type="provider_error",this.code=r,this.data=n}}class no extends Uy{constructor(e){super(e.message,e.code,e.data);let r=Object.values(Lc).find((n=>n.eipCode===e.code));this.details=r||Lc.UNKNOWN_ERROR,e.code===-32002&&(e.message?.includes("already pending for origin")?e.message?.includes("wallet_requestPermissions")?this.details=Lc.E32002_CONNECTION_ALREADY_PENDING:this.details=Lc.E32002_REQUEST_ALREADY_PENDING:e.message?.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=Lc.E32002_WALLET_LOCKED))}}const Df={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_REJECTED_CONNECTION:{message:"You rejected the request",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...Lc};function nh(t){return t.type==="ethereum"}function FO(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let n=t[r],i=e[r];if(n?.address!==i?.address||n&&i&&nh(n)&&nh(i)&&n?.chainId!==i?.chainId||n?.connectorType!==i?.connectorType||n?.connectedAt!==i?.connectedAt||n?.walletClientType!==i?.walletClientType||n?.isConnected!==i?.isConnected||n?.linked!==i?.linked)return!1}return!0}class kge extends mo{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}}const fL=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||L8;let qm,vw;function ww(t){return t.chainType==="ethereum"}class Ig extends kge{buildConnectedWallet(e,r,n,i){let s=async()=>!!this.wallets.find((o=>pi(o.address)===pi(e)));return{type:"ethereum",address:pi(e),chainId:r,meta:n,imported:i,switchChain:async o=>{let a,l;if(!s)throw new kn("Wallet is not currently connected.");let c=this.wallets.find((f=>pi(f.address)===pi(e)))?.chainId;if(!c)throw new kn("Unable to determine current chainId.");if(typeof o=="number"?(a=`0x${o.toString(16)}`,l=o):(a=o,l=Number(o)),c===Pb(a))return;let u=this.chains.find((f=>f.id===l));if(!u)throw new kn(`Unsupported chainId: ${o}`);let h=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:a}]})};try{return await h()}catch(f){if(((p,m)=>{switch(m){case"coinbase_wallet":case"base_account":return p.message.includes("addEthereumChain");case"rabby_wallet":return p.message.includes("Unrecognized chain ID");default:return p.code===4902||p.message?.includes("4902")}})(f,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await CC(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:a,chainName:u.name,nativeCurrency:u.nativeCurrency,rpcUrls:[u.rpcUrls.default?.http[0]??""],blockExplorerUrls:[u.blockExplorers?.default.url??""]}]}),h();throw this.walletClientType==="rainbow"&&f.message?.includes("wallet_switchEthereumChain")?new kn(`Rainbow does not support the chainId ${r}`):f}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new kn("Wallet is not currently connected.");return this.proxyProvider},sign:async o=>{if(!await s())throw new kn("Wallet is not currently connected.");return await this.sign(o)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let r,n=e;try{if(n===void 0){let l=await MO((()=>this.proxyProvider.request({method:"eth_accounts"})),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,l),Array.isArray(l)&&(n=l)}}catch(l){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",l)}if(!n||!Array.isArray(n)||n.length<=0||!n[0])return;let i=n[0],s=pi(i),o=[];if(this.walletClientType==="privy"){let l=Jt.get(C7(s));this.chains.find((c=>c.id===Number(l)))||(Jt.del(C7(s)),l=null),r=l||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${r} on initialization`)}}else try{let l=await MO((()=>this.proxyProvider.request({method:"eth_chainId"})),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,l),typeof l=="string")r=l;else{if(typeof l!="number")throw Error("Invalid chainId returned from provider");r=`0x${l.toString(16)}`}}catch(l){console.warn("Failed to get chainId from provider, defaulting to 0x1",l),r="0x1"}let a=Pb(r);if(!o.find((l=>pi(l.address)===s))){let l={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};o.push(this.buildConnectedWallet(pi(i),a,l,this.connectorType==="embedded_imported"))}FO(o,this.wallets)||(this.wallets=o,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort(((r,n)=>n.connectedAt-r.connectedAt)).find((r=>e.find((n=>pi(n)===pi(r.address)))))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[Fn(e),this.wallets[0]?.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,r,n,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{this.wallets.forEach((o=>{o.chainId=Pb(s),this.walletClientType==="privy"&&Jt.put(C7(o.address),s)})),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await CC(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=r,this.defaultChain=n,this.rpcConfig=i,this.rpcTimeoutDuration=fL(i,e),this.connected=!1,this.initialized=!1}}class wp{on(e,r){if(this.walletProvider)return this.walletProvider.on(e,r);this._subscriptions.push({eventName:e,listener:r})}async request(e){if(!this.walletProvider)throw new kn(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch((r=>{throw vp(r)}))}constructor(e,r){this.removeListener=(n,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(n,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(n=new Cge,i=this.rpcTimeoutDuration)=>new Promise(((s,o)=>setTimeout((()=>{o(n)}),i))),this.setWalletProvider=n=>{this.walletProvider&&this._subscriptions.forEach((i=>{this.removeListener(i.eventName,i.listener)})),this.walletProvider=n,this._subscriptions.forEach((i=>{this.walletProvider?.on(i.eventName,i.listener)}))},this.walletProvider=e,this.rpcTimeoutDuration=r||L8,this._subscriptions=[]}}class Qdt extends Ig{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:_ge,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kn("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw vp(e)}}constructor(e,r,n,i,s){super("base_account",e,r,n),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=s,this.proxyProvider=new wp(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[r.id].concat(e.map((o=>o.id)))},qm?(this.proxyProvider.setWalletProvider(qm.getProvider()),this.setBaseAccountSdk(qm),console.log("Base Account SDK Initialized")):this.importPromise=bi(()=>import("./index-BNrnh4Gt.js"),[]).then((({createBaseAccountSDK:o})=>{qm=o(this.baseAccountConfig),this.proxyProvider.setWalletProvider(qm.getProvider()),this.setBaseAccountSdk(qm),console.log("Base Account SDK Initialized")})).catch(console.error)}}let Zdt=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class eht extends Ig{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:xge,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kn("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw vp(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",vw=lG({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(vw.getProvider())}constructor(e,r,n,i){if(super("coinbase_wallet",e,r,n),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new wp(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[r.id].concat(e.map((s=>s.id)))},this.walletClientType=this.coinbaseWalletConfig.preference?.options==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!vw){let s=this.coinbaseWalletConfig.preference?.options!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter((o=>!Zdt.includes(o))):[];s.length>0&&!s.every((o=>Nle.has(o)))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${s.join(", ")}`),vw=lG(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(vw.getProvider())}}const Sge=({...t})=>d.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class $Q extends Ig{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[DO(e?.chainId||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:Sge,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:r,defaultChain:n,rpcConfig:i,imported:s,walletIndex:o}){super("privy",r,n,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=o,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}const tht=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];class kc extends Error{constructor(e,r,n){super(e),this.code=r,this.data=n}}class NQ extends mo{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new kc(`Invalid params for ${e.method}`,4200);let r=e.params[0];if(!await cn()||!this.address)throw new kc("Disconnected",4900);let{hash:n}=await gwt(r,{address:this.address});return n}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new kc(`Invalid params for ${e.method}`,4200);let r=e.params[0];if(!await cn()||!this.address)throw new kc("Disconnected",4900);let{signature:n}=await pwt(r,{address:this.address});return n}handleSwitchEthereumChain(e){let r;if(!e.params||!Array.isArray(e.params))throw new kc(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")r=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new kc(`Invalid params for ${e.method}`,4200);r=e.params[0].chainId}this.chainId=Number(r),this.publicClient=h1(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",r)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let r=e.params[0],n=e.params[1],{signature:i}=await hwt({message:r},{address:n});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let r=e.params[0],n=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await fwt(r_(n),{address:r});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let r={...e.params[0],chainId:DO(this.chainId)};return await this.publicClient.estimateGas({account:r.from??this.address,...Oue(r)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return DO(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(r=>tht.includes(r))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let r=await cn();if(await mwt({address:this.address}),!r||!this.address)throw new kc("Disconnected",4900);try{let n={method:e.method,params:e.params},i=this.walletAccount;return i&&as(i)?this.handleWalletApiRequest(n,i,r):(await this.walletProxy.rpc({accessToken:r,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:n})).response.data}catch(n){throw console.error(n),new kc("Disconnected",4900)}}}async handleWalletApiRequest(e,r,n){let i=this.privyClient;if(!i)throw new kc("Disconnected",4900);if(e.method==="secp256k1_sign"){let s=await Ao(i,(async({message:o})=>this.walletProxy.signWithUserSigner({accessToken:n,message:o})),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:r.id,params:{hash:e.params[0]}});if(s.method!=="secp256k1_sign")throw new kc(`Invalid params for ${e.method}`,4200);return s.data.signature}throw new kc(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:r,entropyId:n,entropyIdVerifier:i,rpcConfig:s,chains:o,appId:a,chainId:l=1,walletIndex:c,privyClient:u,walletAccount:h}){super(),this.walletProxy=e,this.address=r,this.entropyId=n,this.entropyIdVerifier=i,this.chainId=l,this.rpcConfig=s,this.chains=o,this.publicClient=h1(l,this.chains,s,{appId:a}),this.rpcTimeoutDuration=fL(s,"privy"),this.appId=a,this.walletIndex=c,this.privyClient=u,this.walletAccount=h}}class pL extends Ig{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:r,icon:n,walletClientType:i,defaultChain:s}){super(i,[],s,{}),this.connectorType="null",this.proxyProvider=new wp(void 0,L8),this.id=e,this.name=r,this.icon=n,this.connectorType=i}}const gL=({style:t,...e})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),LO=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[d.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),d.jsx("g",{transform:"translate(4, 4)",children:d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[d.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),d.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),d.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),d.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),d.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),d.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),d.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),d.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),d.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),d.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),d.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),d.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),d.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]}),Age=({style:t,...e})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]});function S7(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var rht=0;class Tge extends Ig{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw vp(e)}}constructor(e,r,n,i,s){super(s||"unknown",e,r,n),this.connectorType="injected",this.proxyProvider=new wp(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let o=i.provider;this.proxyProvider.setWalletProvider(o)}}var Kp="__private_"+rht+++"__walletBranding";class A7 extends Ig{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return S7(this,Kp)[Kp]??{name:"Browser Extension",icon:gL,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw vp(e)}}constructor(e,r,n,i,s){super(s??"unknown",e,r,n),Object.defineProperty(this,Kp,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new wp(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?S7(this,Kp)[Kp]={name:"MetaMask",icon:LO,id:"io.metamask"}:s==="phantom"&&(S7(this,Kp)[Kp]={name:"Phantom",icon:Age,id:"phantom"})}}class nht extends Tge{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{Vr.isMobile||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new kn("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw vp(e)}}}const iht=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitkeep","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitkeep","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","mobile_wallet_adapter"],mL=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:Vr.isFirefox?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){if("phantom"in window){let t=window;if(t?.phantom?.ethereum?.isPhantom&&t?.phantom?.ethereum?.chainId||t?.phantom?.solana?.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:r}){let n=D6({client:this.client,isSolana:e,connectOnly:r});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${n}?ref=${n}`}},solflare:{client:"solflare",name:"Solflare",installLink:Vr.isFirefox?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){return"solflare"in window&&!!window?.solflare?.isSolflare},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:r}){let n=D6({client:this.client,isSolana:e,connectOnly:r});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${n}?ref=${n}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){return!(!("backpack"in window)||!window?.backpack?.ethereum?.isBackpack&&!window?.backpack?.solana?.isBackpack)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:r}){let n=D6({client:this.client,isSolana:e,connectOnly:r});return`${t?"backpack://ul/v1/":"https://backpack.com/ul/v1/"}browse/${n}?ref=${n}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["solana"],get isInstalled(){return"okxwallet"in window&&!!window?.okxwallet?.isOkxWallet},getMobileRedirect({isSolana:t,connectOnly:e}){return"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+D6({client:this.client,isSolana:t,connectOnly:e}))}}});function Ige({connectorType:t,walletClientType:e}){for(let r of iht)if(t===r||e===r)return mL[r]}function D6({client:t,isSolana:e,connectOnly:r}){let n=new URL(window.location.href);return n.searchParams.set("privy_connector",e?"solana_adapter":"injected"),n.searchParams.set("privy_wallet_client",t),n.searchParams.set("privy_connect_only",String(r)),encodeURIComponent(n.href.replace(/\/$/g,""))}const n_=()=>{let t=Jt.get(tge);return t&&Array.isArray(t)&&t.map((e=>(r=>r&&typeof r.address=="string"&&typeof r.connectorType=="string"&&typeof r.walletClientType=="string"&&typeof r.connectedAt=="number")(e))).every(Boolean)?t:[]};let sht=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter"];function oht(t){return t.toLowerCase().split(" ").join("_")}class aht extends kge{get isInstalled(){return this.adapter.readyState==="Installed"}get wallet(){return this.adapter.wallet}buildConnectedWallet(e,r){let n,i,s,o;if(e.readyState!=="Installed"||!e.publicKey)throw Error("Wallet is not connected.");return"signMessage"in e&&(n=async(...a)=>{if(!e.connected)throw Error("Wallet is not connected.");return await e.signMessage(a[0])}),"sendTransaction"in e&&(i=async(...a)=>await e.sendTransaction(a[0],a[1],a[2])),"signTransaction"in e&&(s=async a=>await e.signTransaction(a)),"signAllTransactions"in e&&(o=async a=>await e.signAllTransactions(a)),{type:"solana",address:e.publicKey.toBase58(),meta:r,imported:!1,connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:async()=>e.connected,disconnect:()=>{try{e.disconnect()}catch{console.error("Wallet does not support programmatic disconnect")}},getProvider:Jv(`${this.walletClientType||""} wallet does not support 'getProvider'`),signMessage:n??Jv(`${this.walletClientType||""} wallet does not support 'signMessage'`),sendTransaction:i??Jv(`${this.walletClientType||""} wallet does not support 'sendTransaction'`),signTransaction:s??Jv(`${this.walletClientType||""} wallet does not support 'signTransaction'`),signAllTransactions:o??Jv(`${this.walletClientType||""} wallet does not support 'signAllTransactions'`)}}async syncAccounts(){if(this.adapter.readyState==="Installed"&&this.adapter.publicKey){let e={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};this.wallets.find((r=>this.adapter.publicKey&&r.address===this.adapter.publicKey.toBase58()))||(this.wallets=[this.buildConnectedWallet(this.adapter,e)],this.emit("walletsUpdated"))}else this.wallets.length>0&&(this.wallets=[],this.emit("walletsUpdated"))}get walletBranding(){return{id:this.adapter.name,name:this.adapter.name,icon:this.adapter.icon}}async initialize(){this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&await this.adapter.autoConnect().catch((()=>{})),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}async getConnectedWallet(){return this.wallets.sort(((e,r)=>r.connectedAt-e.connectedAt))[0]||null}async isConnected(){return this.adapter.connected&&["Installed"].includes(this.adapter.readyState)}subscribeListeners(){this.adapter.addListener("disconnect",this.onDisconnect),this.adapter.addListener("connect",this.onConnect),this.adapter.addListener("error",this.onError),this.adapter.addListener("readyStateChange",this.onReadyStateChange)}unsubscribeListeners(){this.adapter.removeAllListeners()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!sht.includes(this.walletClientType))&&(this.walletClientType!=="phantom"||n_().some((({walletClientType:e})=>e==="phantom")))}constructor(e,r){super(oht(e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=()=>{this.adapter.disconnect().then((()=>this.onDisconnect())).catch((n=>console.error("Error disconnecting",n)))},this.promptConnection=async()=>{try{await this.adapter.connect()}catch(n){throw vp(n)}},this.onDisconnect=()=>{this.syncAccounts()},this.onConnect=n=>{this.syncAccounts()},this.onError=n=>{this.syncAccounts()},this.onReadyStateChange=n=>{n!=="Installed"&&(this.connected=!1),this.syncAccounts()},this.adapter=e,this.autoConnectEnabled=r,this.wallets=[]}}class yL extends aht{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:r,icon:n}){super({name:r},!1),this.connectorType="null",this.proxyProvider=new wp(void 0,L8),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=r,this.icon=n}}function lht(t){return t.chainType==="solana"}function RQ(t){return t.type==="solana"}const f3=D1((()=>({listings:[]}))),cht=f3.setState,T7=t=>{let e;try{e=new URL(t).hostname}catch{return}return f3.getState().listings.find((({homepage:r})=>{let n;try{n=new URL(r).hostname}catch{return!1}return e.includes(n)}))},Mh=t=>f3((({listings:e})=>e.find((({slug:r})=>EC(r)===EC(t)))));function EC(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}function uht({src:t,...e}){return d.jsx("img",{src:t,...e,style:{display:"none"}})}const Mu={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",externalWallets:{coinbaseWallet:{connectionOptions:"all"}},captchaEnabled:!1,_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let dht=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","detected_wallets","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","binance","binanceus","bitkeep"]),OQ=t=>dht.has(t),jQ=(t,e,r)=>r.indexOf(t)===e;const UO=792703809,BO="11111111111111111111111111111111";function J1(t){return t.includes("testnet")?"testnet":t.includes("devnet")?"devnet":"mainnet-beta"}function hht(t,e){return`https://explorer.solana.com/account/${t}?cluster=${e}`}function F6(t,e){let r=Math.max(0,Math.min(1,t.toHsl().l+e));return Ft({...t.toHsl(),l:r})}function I7(t,e){let r=t.getLuminance(),n=e.getLuminance();return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function fht({backgroundTheme:t,accentHex:e}){let r,n;t==="light"?r=!1:t==="dark"?r=!0:(r=.5>=Ft(t).getLuminance(),n=Ft(t).toHslString());let i=r?"dark":"light",s=r?bw:L6,{accent:o,accentLight:a,accentHover:l,accentDark:c,accentDarkest:u}=(function(m,v){if(!m){let b=v?bw:L6;return{accent:Ft(b.background.interactive),accentLight:Ft(b.background.interactive),accentHover:Ft(b.background["interactive-hover"]),accentDark:Ft(b.background["interactive-clicked"]),accentDarkest:Ft(b.background["interactive-disabled"])}}let w=Ft(m);return{accent:w,accentLight:F6(w,.15),accentHover:F6(w,.3),accentDark:F6(w,-.06),accentDarkest:F6(w,-.6)}})(e,r),h=(function(m){let v=Ft(L6.text.default),w=Ft(bw.text.default),b=I7(m,v),E=I7(m,w),_=m.toHsl();return _.h>=220&&_.h<=300&&E>=3?bw.text.default:b>E?L6.text.default:bw.text.default})(o),f=Ft(h),p=I7(o,Ft(s.background.default))>=3;return{colorScheme:i,background:n||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:o.toHslString(),accentLight:a.toHslString(),accentHover:l.toHslString(),accentDark:c.toHslString(),accentDarkest:u.toHslString(),foregroundAccent:f.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:p?"1":"0",linkNavigationColor:p?o.toHslString():s.text.default,linkNavigationDecoration:p?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const bw={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},L6={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function Pge(t,e,r,n){let i,s,o,a,l,c,u,h,f,p,m,v,w,b,E,_,A=r?console.warn:()=>{};e?.loginMethods?(i=e.loginMethods.includes("email"),s=e.loginMethods.includes("sms"),a=e.loginMethods.includes("wallet"),l=e.loginMethods.includes("google"),c=e.loginMethods.includes("twitter"),u=e.loginMethods.includes("discord"),p=e.loginMethods.includes("spotify"),m=e.loginMethods.includes("instagram"),h=e.loginMethods.includes("tiktok"),f=e.loginMethods.includes("line"),w=e.loginMethods.includes("github"),v=e.loginMethods.includes("linkedin"),b=e.loginMethods.includes("apple"),E=e.loginMethods.includes("farcaster"),_=e.loginMethods.includes("telegram"),o=e.loginMethods.includes("passkey")):(i=t.email_auth,s=t.sms_auth,a=t.wallet_auth||t.solana_wallet_auth,l=t.google_oauth,c=t.twitter_oauth,u=t.discord_oauth,w=t.github_oauth,p=t.spotify_oauth,m=t.instagram_oauth,h=t.tiktok_oauth,f=t.line_oauth,v=t.linkedin_oauth,b=t.apple_oauth,E=t.farcaster_auth,_=t.telegram_auth,o=t.passkey_auth),t.passkey_auth&&(o=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(o=!1);let C=[i,s].filter(Boolean),k=[l,c,u,w,p,m,h,f,v,b,E,_].filter(Boolean),P=[a].filter(Boolean),F=e?.loginMethods?.includes("passkey")??!1,N=t.passkeys_for_signup_enabled??!1,$=[o&&(N||F)].filter(Boolean);if(C.length+k.length+P.length+$.length===0)throw Error("You must enable at least one login method");let U=e?.appearance?.showWalletLoginFirst!==void 0?e?.appearance?.showWalletLoginFirst:t.show_wallet_login_first;U&&P.length===0?(A("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),U=!1):U||k.length+C.length!==0||(A("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),U=!0);let O=e?.externalWallets?.walletConnect?.enabled??!0;e?.loginMethods&&e.loginMethodsAndOrder&&A("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let D=(({input:ee,overrides:te})=>te?te.primary.concat(te.overflow??[]).filter(OQ).filter(jQ):ee?ee.filter(OQ).filter(jQ):Mu.appearance.walletList)({input:e?.appearance?.walletList,overrides:e?.loginMethodsAndOrder}),T=(({input:ee})=>{if(!ee||!ee.primary[0])return;let te=[ee.primary[0]],se=[];for(let ce of(ee.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),ee.primary.slice(1)))te.includes(ce)?console.warn(`Duplicated login method: ${ce}`):te.push(ce);for(let ce of ee.overflow??[])te.includes(ce)||se.includes(ce)?console.warn(`Duplicated login method: ${ce}`):se.push(ce);return{primary:te,overflow:se}})({input:e?.loginMethodsAndOrder}),I=e?.intl?.defaultCountry??"US",{chains:R,defaultChain:L}=(function({supportedChains:ee,defaultChainFromConfig:te}){let se;if(ee){if(ee.length===0)throw Error("`supportedChains` must contain at least one chain");se=Rle(ee)}else se=[...zx];let ce=ee?se[0]:sc,ge=te??ce;if(!se.find((ae=>ae.id===ge.id)))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:se,defaultChain:ge}})({supportedChains:e?.supportedChains,defaultChainFromConfig:e?.defaultChain}),B=!!e?.defaultChain,q=e?.customAuth?.getCustomAccessToken&&e?.customAuth?.enabled!==!1,G=e?.embeddedWallets?.requireUserPasswordOnCreate,W=e?.embeddedWallets?.createOnLogin,j=q?"all-users":t.embedded_wallet_config.ethereum.create_on_login,Y=t.embedded_wallet_config.solana.create_on_login,Q={"mainnet-beta":{rpcUrl:"https://api.mainnet-beta.solana.com",blockExplorerUrl:"https://explorer.solana.com"},testnet:{rpcUrl:"https://api.testnet.solana.com",blockExplorerUrl:"https://explorer.solana.com/?cluster=testnet"},devnet:{rpcUrl:"https://api.devnet.solana.com",blockExplorerUrl:"https://explorer.solana.com/?cluster=devnet"}};if(e?.solanaClusters)for(let ee of e.solanaClusters){let{name:te,rpcUrl:se,blockExplorerUrl:ce}=ee;Q[te]={rpcUrl:se??Q[te].rpcUrl,blockExplorerUrl:ce??Q[te].blockExplorerUrl}}t.solana_wallet_auth&&!e?.externalWallets?.solana?.connectors&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let z=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,Z=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0;return{id:t.id,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:e?.appearance?.logo??t.logo_url??void 0,landingHeader:e?.appearance?.landingHeader??Mu.appearance.landingHeader,loginMessage:typeof e?.appearance?.loginMessage=="string"?e?.appearance?.loginMessage.slice(0,100):e?.appearance?.loginMessage,footerLogo:e?.appearance?.footerLogo,palette:fht({backgroundTheme:e?.appearance?.theme??Mu.appearance.theme,accentHex:e?.appearance?.accentColor??t.accent_color}),loginGroupPriority:U?"web3-first":"web2-first",hideDirectWeb2Inputs:!!e?.appearance?.hideDirectWeb2Inputs,walletList:D,walletChainType:e?.appearance?.walletChainType??(({evmWalletAuth:ee,solanaWalletAuth:te})=>ee&&te?"ethereum-and-solana":ee?"ethereum-only":te?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:a,email:i,sms:s,passkey:o,google:l,twitter:c,discord:u,github:w,spotify:p,instagram:m,tiktok:h,line:f,linkedin:v,apple:b,farcaster:E,telegram:_},disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:T,legal:{termsAndConditionsUrl:e?.legal?.termsAndConditionsUrl??t.terms_and_conditions_url,privacyPolicyUrl:e?.legal?.privacyPolicyUrl??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:e?.walletConnectCloudProjectId??t.wallet_connect_cloud_project_id??Mu.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:e?.externalWallets?.signatureRequestTimeouts??{}},chains:R,solanaClusters:Q,defaultChain:L,intl:{defaultCountry:I},shouldEnforceDefaultChainOnConnect:B,captchaEnabled:t.captcha_enabled??Mu.captchaEnabled,captchaSiteKey:t.captcha_site_key,externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:e?.externalWallets?.coinbaseWallet?.connectionOptions??Mu.externalWallets.coinbaseWallet.connectionOptions,...e?.externalWallets?.coinbaseWallet?.config?.preference},...e?.externalWallets?.coinbaseWallet?.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...e?.externalWallets?.baseAccount?.config,preference:{...e?.externalWallets?.baseAccount?.config?.preference,telemetry:!1}}},walletConnect:{enabled:O,appKit:e?.externalWallets?.walletConnect?.appKit},solana:{connectors:e?.externalWallets?.solana?.connectors},disableAllExternalWallets:e?.externalWallets?.disableAllExternalWallets??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:G??(!q&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1)),userOwnedRecoveryOptions:q?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:e?.embeddedWallets?.priceDisplay??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:W??e?.embeddedWallets?.ethereum?.createOnLogin??j},solana:{createOnLogin:e?.embeddedWallets?.solana?.createOnLogin??Y},disableAutomaticMigration:e?.embeddedWallets?.disableAutomaticMigration??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:e?.embeddedWallets?.showWalletUIs??t.enforce_wallet_uis??!0,extendedCalldataDecoding:e?.embeddedWallets?.extendedCalldataDecoding??!1,transactionScanning:{enabled:e?.embeddedWallets?.transactionScanning?.enabled??!1,domain:e?.embeddedWallets?.transactionScanning?.domain??n??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:e?.mfa?.noPromptOnMfaRequired??!1},passkeys:{shouldUnlinkOnUnenrollMfa:e?.passkeys?.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:e?.passkeys?.shouldUnenrollMfaOnUnlink},customAuth:q?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:z,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!e?.headless,render:{standalone:e?._render?.standalone??Mu._render.standalone},fundingConfig:Z,fundingMethodConfig:{...e?.fundingMethodConfig??Mu.fundingMethodConfig,moonpay:{...e?.fundingMethodConfig?.moonpay??Mu.fundingMethodConfig.moonpay,useSandbox:e?.fundingMethodConfig?.moonpay.useSandbox??e?.fiatOnRamp?.useSandbox??Mu.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e?.customOAuthRedirectUrl,solanaRpcs:{"solana:mainnet":e?.solana?.rpcs?.["solana:mainnet"]??null,"solana:devnet":e?.solana?.rpcs?.["solana:devnet"]??null,"solana:testnet":e?.solana?.rpcs?.["solana:testnet"]??null}}}const $ge={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_enabled:!1,captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1},Nge=Pge($ge,void 0,!1);let vL=x.createContext({appConfig:Nge,isServerConfigLoaded:!1});const pht=({children:t,client:e,legacyClient:r,clientConfig:n})=>{let[i,s]=x.useState(null),o=x.useMemo((()=>Pge(i??$ge,n,!!i,typeof window<"u"?window.location.origin:void 0)),[i,n]);return x.useEffect((()=>{if(!i)return;let a=(function(u){if(!u)return{};let{appearance:h,supportedChains:f,defaultChain:p,externalWallets:m,...v}=u;return{...v,...f?{supportedChains:f.map((w=>w.id))}:void 0,...p?{defaultChain:p.id}:void 0,...m?{walletConnect:m.walletConnect?{enabled:m.walletConnect.enabled}:void 0,coinbaseWallet:m.coinbaseWallet,solana:{connectors:m.solana?.connectors?.get().map((w=>w.walletClientType))}}:void 0}})(n),l=(function(u,h=0){let f=3735928559^h,p=1103547991^h;for(let m,v=0;v<u.length;v++)f=Math.imul(f^(m=u.charCodeAt(v)),2654435761),p=Math.imul(p^m,1597334677);return f=Math.imul(f^f>>>16,2246822507)^Math.imul(p^p>>>13,3266489909),4294967296*(2097151&(p=Math.imul(p^p>>>16,2246822507)^Math.imul(f^f>>>13,3266489909)))+(f>>>0)})(JSON.stringify(a)).toString(),c=`privy:sent:${i.id}:${l}`;localStorage.getItem(c)||(r.createAnalyticsEvent({eventName:"sdk_initialize",payload:a}),localStorage.setItem(c,"t"))}),[n,i]),x.useEffect((()=>{i||(async()=>{try{await e.initialize();let a=e.app.getConfig();a.custom_api_url&&r.updateApiUrl(a.custom_api_url),s(a)}catch(a){console.warn("Error generating app config: ",a)}})()}),[]),d.jsx(vL.Provider,{value:{appConfig:o,isServerConfigLoaded:!!i},children:t})},zr=()=>{let{appConfig:t}=x.useContext(vL);return t},Rge=()=>{let{isServerConfigLoaded:t}=x.useContext(vL);return t},Oge=x.createContext({app:Nge,currentScreen:null,lastScreen:null,navigate:De,navigateBack:De,resetNavigation:De,setModalData:De,onUserCloseViaDialogOrKeybindRef:void 0}),ght=t=>{let e=zr(),r=t.authenticated,[n,i]=x.useState(t.initialScreen);x.useEffect((()=>{r||!t.initialScreen||t.initialScreen.isUnauthenticatedScreem||t.setInitialScreen(null)}),[r]);let s=x.useRef(null);x.useEffect((()=>{t.open||(s.current=null)}),[t.open]),x.useEffect((()=>{s.current=null}),[t.initialScreen]);let o={app:e,data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:n,navigate:(a,l=!0)=>{t.setInitialScreen(a),l&&i(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(n)},resetNavigation:()=>{t.setInitialScreen(null),i(null)},onUserCloseViaDialogOrKeybindRef:s};return d.jsxs(Oge.Provider,{value:o,children:[(typeof e.appearance.logo=="string"||e.appearance.logo?.type==="img")&&d.jsx(uht,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},It=()=>x.useContext(Oge),mht=({style:t,...e})=>{let{app:r}=It();return d.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[d.jsx("rect",{width:"28",height:"28",rx:"3",fill:r?.appearance.palette.colorScheme==="dark"?"#3396ff":"#141414"}),d.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:d.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1765_9946",children:d.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},jge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";class By extends Ig{async initialize(){let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&(this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=T7(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized"),this.modal?.subscribeState((r=>{r.open||this.walletProvider?.session||!this.onQrModalClosed||this.onQrModalClosed()}))}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){return!!this.walletProvider?.connected}get walletBranding(){let e=this.walletProvider?.session?.peer.metadata.icons?.[0];return{name:Gdt(this.walletProvider?.session?.peer.metadata.name||"")||"WalletConnect",icon:typeof e=="string"?e:jge,id:this.walletProvider?.session?.peer.metadata.name.toLowerCase()||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,(function(){try{localStorage.removeItem(b7)}catch{}})(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise(((e,r)=>{this.onQrModalClosed=()=>{r(new Ege)},(async()=>{let n="",i=await Promise.race([this.walletProvider?.enable(),this.proxyProvider.walletTimeout()]);if(i?.length&&(n=i[0]),!n||n==="")throw new kn("Unable to retrieve address");this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=T7(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown",this.proxyProvider.rpcTimeoutDuration=fL(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch((n=>{r(n?vp(n):new kn("Unknown error during connection"))})).finally((()=>this.modal?.close()))}))}disconnect(){this.walletProvider?.disconnect().then((()=>this.onDisconnect())).catch((()=>console.warn("Unable to disconnect WalletConnect provider")))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let s of this.chains){let o=Ydt(s.id,this.chains,this.rpcConfig,this.privyAppId);o&&(e[s.id]=o)}let r=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],n=this.chains.map((s=>s.id)),i=await zct.init({projectId:this.walletConnectCloudProjectId,chains:r,optionalChains:n,optionalEvents:D0e,optionalMethods:M0e,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",(s=>{if(i.signer.abortPairingAttempt(),(function(){try{localStorage.removeItem(b7)}catch{}})(),!this.showPrivyQrModal){if(!this.modal)throw new kn("Unable to open connect modal");return this.modal?.open({uri:s})}if(Vr.isMobile&&this.walletEntry){let{redirect:o,href:a}=(function(c,u){let h=J0e(u);if(h.deepLink)return Q0e(h.deepLink,c);if(h.universalLink)return aL(h.universalLink,c);throw new fe(`Unsupported wallet ${u.id}`)})(s,this.walletEntry);Z0e(o,"_self"),(function({href:c,name:u}){try{localStorage.setItem(b7,JSON.stringify({href:c,name:u}))}catch{}})({href:a,name:this.walletEntry.metadata?.shortName||this.walletEntry.name});let l=wQ(s,this.walletEntry);return this.redirectUri=o,this.fallbackUniversalRedirectUri=l?.redirect,this.showPrivyQrModal({native:o,universal:o})}if(this.redirectUri=void 0,this.walletEntry){let o=wQ(s,this.walletEntry);this.fallbackUniversalRedirectUri=o?.redirect}this.showPrivyQrModal({native:s,universal:void 0})})),i.on("connect",(()=>{this.modal?.close(),i.session?.peer.metadata.url&&(this.walletEntry=T7(i.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown")})),i}async enableProvider(){return this.walletProvider?.connected?Promise.resolve(this.walletProvider.accounts):await this.walletProvider?.enable()}setWalletEntry(e,r){this.walletEntry=e,this.showPrivyQrModal=r}constructor({walletConnectCloudProjectId:e,rpcConfig:r,chains:n,defaultChain:i,shouldEnforceDefaultChainOnConnect:s,privyAppId:o,privyAppName:a,walletClientType:l,appKit:c}){super(l||"unknown",n,i,r),this.connectorType="wallet_connect_v2",this.privyAppId=o,this.privyAppName=a,this.walletConnectCloudProjectId=e,this.rpcConfig=r,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new wp(void 0,this.rpcTimeoutDuration),this.modal=c,l&&(this.walletEntry=(u=>f3.getState().listings.find((({slug:h})=>EC(h)===EC(u))))(l),this.walletClientType=l)}}class yht extends mo{get wallets(){let e=new Set,r=this.walletConnectors.flatMap((i=>i.wallets)).sort(((i,s)=>i.connectedAt&&s.connectedAt?s.connectedAt-i.connectedAt:0)).filter((i=>{let s=`${i.address}${i.walletClientType}${i.connectorType}${i.meta.id}`;return!e.has(s)&&(e.add(s),!0)})),n=r.findIndex((i=>i.address===(this.activeWallet?this.activeWallet:"unknown")));return n>=0&&r.unshift(r.splice(n,1)[0]),r}async initialize(e){if(this.initialized&&!e||(e&&this.removeAllConnectors(),Jt.get(EQ)&&(Jt.getKeys().forEach((n=>{n.startsWith("walletconnect")&&Jt.del(n)})),Jt.del(EQ)),this.externalWalletConfig.disableAllExternalWallets))return;let r=Kdt({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then((n=>{n.forEach((({type:i,eip6963InjectedProvider:s,legacyInjectedProvider:o})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:i,providers:{eip6963InjectedProvider:s,legacyInjectedProvider:o}})}))}));for(let n of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(mL)))!n.isInstalled&&this.walletList.includes(n.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&n.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:n.client,walletConfig:n}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&n.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new yL({id:n.client,name:n.name})));this.externalWalletConfig.walletConnect.enabled&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"}),this.externalWalletConfig.solana.connectors?.get().forEach(this.addSolanaWalletConnector),this.externalWalletConfig.solana.connectors?._setOnConnectorsUpdated?.((n=>{n?.forEach(this.addSolanaWalletConnector)})),await r,this.initialized=!0}findWalletConnector(e,r){return e==="wallet_connect_v2"?this.walletConnectors.filter(ww).find((n=>n.connectorType===e))??null:this.walletConnectors.filter(ww).find((n=>n.connectorType===e&&n.walletClientType===r))??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(lht).find((r=>r.walletClientType==="unknown"?r.walletBranding.id===e:r.walletClientType===e))??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter((e=>e.connectorType==="embedded"))}onInitialized(e){e.wallets.forEach((r=>{let n=this.storedConnections.find((i=>i.address===r.address&&i.connectorType===r.connectorType&&(r.type==="solana"&&i.walletClientType==="unknown"&&r.walletClientType==="unknown"?r.meta.id===i.id:i.walletClientType===r.walletClientType)));n&&(r.connectedAt=n.connectedAt)})),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:r,embeddedWallets:n,defaultChain:i,appId:s,privyClient:o}){let{entropyId:a,entropyIdVerifier:l}=js(r);for(let c of n){let u=this.findEmbeddedWalletConnectors().find((h=>h.walletIndex===c.walletIndex));if(u&&ww(u))u.proxyProvider.walletProxy=e;else{let h=new $Q({provider:new NQ({walletProxy:e,address:c.address,entropyId:a,entropyIdVerifier:l,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:c.walletIndex,privyClient:o,walletAccount:c}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:c.walletIndex});this.addWalletConnector(h)}}}addImportedWalletConnector(e,r,n,i){let s=this.findWalletConnector("embedded_imported","privy");if(s&&ww(s))s.proxyProvider.walletProxy=e;else{let o=new $Q({provider:new NQ({walletProxy:e,address:r,entropyId:r,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:n.id}),chains:this.chains,walletIndex:0,defaultChain:n,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(o)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter((e=>e.connectorType!=="embedded")),this.storedConnections=n_(),this.emit("walletsUpdated")}removeImportedWalletConnector(){let e=this.findWalletConnector("embedded_imported","privy");if(e){let r=this.walletConnectors.indexOf(e);this.walletConnectors.splice(r,1),this.storedConnections=n_(),this.emit("walletsUpdated")}}async createEthereumWalletConnector({connectorType:e,walletClientType:r,providers:n,walletConfig:i}){let s=this.findWalletConnector(e,r);if(s&&ww(s))return s instanceof By&&s.resetConnection(r),s;let o=e!=="injected"?e==="coinbase_wallet"?new eht(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new Qdt(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new By({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:r,appKit:this.appKit}):i?new pL({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:r==="metamask"&&n?.eip6963InjectedProvider?new nht(this.chains,this.defaultChain,this.rpcConfig,n?.eip6963InjectedProvider,"metamask"):r==="metamask"&&n?.legacyInjectedProvider?new A7(this.chains,this.defaultChain,this.rpcConfig,n?.legacyInjectedProvider,"metamask"):r==="phantom"&&n?.legacyInjectedProvider?new A7(this.chains,this.defaultChain,this.rpcConfig,n?.legacyInjectedProvider,"phantom"):n?.legacyInjectedProvider&&r==="unknown_browser_extension"?new A7(this.chains,this.defaultChain,this.rpcConfig,n?.legacyInjectedProvider):n?.eip6963InjectedProvider?new Tge(this.chains,this.defaultChain,this.rpcConfig,n?.eip6963InjectedProvider,r):void 0;return o&&this.addWalletConnector(o),o||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",(()=>this.onInitialized(e))),e.on("walletsUpdated",(()=>this.onWalletsUpdated(e))),e.initialize().catch((r=>{console.debug("Failed to initialize connector",r)}))}async activeWalletSign(e){let r=this.wallets,n=r.length>0?r[0]:null;return n&&nh(n)?n.sign(e):null}setActiveWallet(e){this.activeWallet=pi(e),this.emit("walletsUpdated")}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,r,n,i,s,o,a,l,c,u,h,f,p){super(),this.addSolanaWalletConnector=async m=>{let v=this.findSolanaWalletConnector(m.walletClientType);if(!v||v.connectorType==="null"){if(v?.connectorType==="null"){let w=this.walletConnectors.indexOf(v);this.walletConnectors.splice(w,1)}this.addWalletConnector(m)}},this.getEthereumProvider=()=>{let m=this.wallets[0],v=this.walletConnectors.find((w=>w.wallets.find((b=>b.address===m?.address))));return m&&v?v.proxyProvider:new wp},this.privyAppId=e,this.walletConnectCloudProjectId=r,this.rpcConfig=n,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=o,this.walletList=a,this.shouldEnforceDefaultChainOnConnect=l,this.externalWalletConfig=c,this.privyAppName=u,this.walletChainType=f||"ethereum-only",this.appKit=p,this.setBaseAccountSdk=h,this.storedConnections=n_()}}let vht=[Uce,Bce,Hce];class wht{async get(e,r){try{return await this.baseFetch(e,r)}catch(n){throw jr(n)}}async post(e,r,n){try{return await this.baseFetch(e,{method:"POST",...r?{body:r}:{},...n})}catch(i){throw jr(i)}}async delete(e,r){try{return await this.baseFetch(e,{method:"DELETE",...r})}catch(n){throw jr(n)}}constructor({appId:e,appClientId:r,client:n,defaults:i}){this.appId=e,this.appClientId=r,this.clientAnalyticsId=n.clientAnalyticsId,this.sdkVersion=Fdt,this.client=n,this.defaults=i,this.fallbackApiUrl=n.fallbackApiUrl,this.baseFetch=Lce.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:o})=>{let a=new Headers(o.headers);a.set("privy-app-id",this.appId),this.appClientId&&a.set("privy-client-id",this.appClientId),a.set("privy-ca-id",this.clientAnalyticsId||""),a.set("privy-client",`react-auth:${this.sdkVersion}`);let l=vht.includes(s.toString());if(!a.has("authorization")){let c=await this.client.getAccessToken({disableAutoRefresh:l});c!==null&&a.set("authorization",`Bearer ${c}`)}o.headers=a,o.retryDelay&&typeof o.retryDelay=="number"&&(o.retryDelay=3*o.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new lOe}})}}let bht=/paymaster\.biconomy\.io\/api/i,xht={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const _ht=(t,e)=>t&&bht.test(t)?xht:e&&e.policy_id?{policyId:e.policy_id}:void 0,Cht=t=>({rpId:t.rp_id,challenge:t.challenge,allowCredentials:t.allow_credentials?.map((e=>({id:e.id,type:e.type,transports:e.transports})))||[],timeout:t.timeout,extensions:{appid:t.extensions?.app_id,credProps:t.extensions?.cred_props,hmacCreateSecret:t.extensions?.hmac_create_secret},userVerification:t.user_verification});class Mge{async authenticate(){if(!this.api)throw new fe("Auth flow has no API instance");try{return await this.api.post(nje,{token:this.meta.token})}catch(e){throw jr(e)}}async link(){if(!this.api)throw new fe("Auth flow has no API instance");try{return await this.api.post(ije,{token:this.meta.token})}catch(e){throw jr(e)}}constructor(e){this.meta={token:e}}}class Eht{getOrCreateGuestCredential(e){let r=ege(e);if(IO()){if(Jt.get(r))return Jt.get(r);{let n=K0(RO(32));return Jt.put(r,n),n}}return K0(RO(32))}async authenticate(){if(!this.api)throw new fe("Auth flow has no API instance");try{return await this.api.post(sje,{guest_credential:this.meta.guestCredential})}catch(e){throw jr(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function P7(){return!(Vr.isSafari&&window.location.origin.startsWith("http://localhost"))}const MQ=D1((()=>({identityToken:null})));var $7,DQ=(($7={}).PRIVY="privy_access_token",$7.CUSTOMER="customer_access_token",$7);class kht{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(Xw)}get privyAccessToken(){return this._getToken(t_)}_getToken(e){try{let r=Jt.get(e);return typeof r=="string"?Mf.throwIfNotWellFormedJwt(r):null}catch(r){return console.error(r),this.destroyLocalState(),null}}get refreshToken(){try{let e=Jt.get(x7);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let r=Jt.get(M6(e));if(typeof r!="string")return null;{let n=new Mf(r);return n.isExpired()?(Jt.del(M6(e)),null):n.value}}catch(r){return console.error(r),null}}get mightHaveServerCookies(){try{let e=fi.get(_7);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let r=typeof this.getToken(e)=="string",n=typeof this.refreshToken=="string"&&this.refreshToken!=="deprecated";return this.mightHaveServerCookies||r&&n}hasActiveAccessToken(e){let r=Mf.parse(this.getToken(e));return r!==null&&!r.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,r){typeof r=="string"?Jt.put(M6(e),r):Jt.del(M6(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let r=await e.authenticate(),{user:n,is_new_user:i,oauth_tokens:s}=r;this.handleTokenResponse(r);let o=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:$s(n),isNewUser:i,oAuthTokens:o}}catch(r){throw console.warn("Error authenticating session"),jn(r)}}_trackAuthenticateEvents(e,r){let n=(function(i){return i instanceof by?"email":i instanceof xy?"sms":i instanceof Ly?"siwe":i instanceof Eht?"guest":i instanceof Mge?"custom_auth":i instanceof iy?i.meta.provider:null})(e);n&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:n,isNewUser:r}}),n==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let r=await e.link(),n=r.oauth_tokens,i=n?{provider:n.provider,accessToken:n.access_token,accessTokenExpiresInSeconds:n.access_token_expires_in_seconds,refreshToken:n.refresh_token,refreshTokenExpiresInSeconds:n.refresh_token_expires_in_seconds,scopes:n.scopes}:void 0;return{user:$s(r),oAuthTokens:i}}catch(r){throw console.warn("Error linking account"),jn(r)}}async _refresh(){if(!this.api)throw new fe("Session has no API instance");if(!this.client)throw new fe("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,r=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let n;if(!(e&&r||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),n=await this.api.post(Uce,r?{refresh_token:r}:{},{headers:i})}return this.handleTokenResponse(n),$s(n.user)}catch(n){if(n instanceof za&&n.privyErrorCode===ye.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw jn(n)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){try{await this.api?.post(Bce,{refresh_token:this.refreshToken})}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){if(typeof e=="string"){let r=Jt.get(Xw);if(Jt.put(Xw,e),!this.client?.useServerCookies){let n=Mf.parse(e)?.expiration;fi.set(xQ,e,{sameSite:"Strict",secure:P7(),expires:n?new Date(1e3*n):void 0})}r!==e&&this.client?.onStoreCustomerAccessToken?.(e)}else Jt.del(Xw),fi.remove(xQ),this.client?.onDeleteCustomerAccessToken?.()}storeRefreshToken(e){typeof e=="string"?(Jt.put(x7,e),this.client?.useServerCookies||fi.set(_7,"t",{sameSite:"Strict",secure:P7(),expires:30})):(Jt.del(x7),fi.remove("privy-refresh-token"),fi.remove(_7))}storePrivyAccessToken(e){typeof e=="string"?Jt.put(t_,e):Jt.del(t_)}storeIdentityToken(e){if(MQ.setState({identityToken:e}),this.client?.useServerCookies)return;Jt.put(_Q,e);let r=Mf.parse(e)?.expiration;fi.set(CQ,e,{sameSite:"Strict",secure:P7(),expires:r?new Date(1e3*r):void 0})}clearIdentityToken(){Jt.del(_Q),MQ.setState({identityToken:null}),fi.remove(CQ)}constructor(){this.authenticateOnce=new No((async e=>this._authenticate(e))),this.linkOnce=new No((async e=>this._link(e))),this.refreshOnce=new No(this._refresh.bind(this)),this.destroyOnce=new No(this._destroy.bind(this))}}let N7;var Sht=0,R7="__private_"+Sht+++"__getOrGenerateClientAnalyticsId";class Aht{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:r,chains:n,defaultChain:i,store:s,walletList:o,shouldEnforceDefaultChainOnConnect:a,externalWalletConfig:l,appName:c,walletChainType:u,setBaseAccountSdk:h,appKit:f}){this.connectors||(this.connectors=new yht(this.appId,e,r,n,i,s,o,a,l,c,h,u,f))}generateApi(){let e=new wht({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new fe("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new fe("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,r){this.session.storeProviderAccessToken(e,r)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter((r=>r.type==="cross_app")).forEach((r=>{this.storeProviderAccessToken(r.providerApp.id,null)}))}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(eje,{action:"verify"})}catch(e){throw jr(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(tje,{});return Cht(e.options)}catch(e){throw jr(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(r){console.error("Error fetching cross app provider details",r)}}async acceptTerms(){try{let e=await this.api.post(rje,{});return $s(e)}catch(e){throw jn(e)}}async unlinkEmail(e){try{let r=await this.api.post(POe,{address:e});return await this.getAuthenticatedUser()??$s(r)}catch(r){throw jn(r)}}async unlinkPhone(e){try{let r=await this.api.post(jOe,{phoneNumber:e});return await this.getAuthenticatedUser()??$s(r)}catch(r){throw jn(r)}}async unlinkEthereumWallet(e){try{let r=await this.api.post(pOe,{address:e});return await this.getAuthenticatedUser()??$s(r)}catch(r){throw jn(r)}}async unlinkSolanaWallet(e){try{let r=await this.api.post(wOe,{address:e});return await this.getAuthenticatedUser()??$s(r)}catch(r){throw jn(r)}}async unlinkOAuth(e,r){try{let n=await this.api.post(LOe,{provider:e,subject:r});return await this.getAuthenticatedUser()??$s(n)}catch(n){throw jn(n)}}async unlinkFarcaster(e){try{let r=await this.api.post(kOe,{fid:e});return await this.getAuthenticatedUser()??$s(r)}catch(r){throw jn(r)}}async unlinkTelegram(e){try{let r=await this.api.post(QOe,{telegram_user_id:e});return await this.getAuthenticatedUser()??$s(r)}catch(r){throw jn(r)}}async revokeDelegatedWallet(){try{await this.api.post(cje,{})}catch(e){throw jn(e)}}async createAnalyticsEvent({eventName:e,payload:r,timestamp:n,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(Hce,{event_name:e,client_id:this.clientAnalyticsId,payload:{...r||{},clientTimestamp:n?n.toISOString():new Date().toISOString()}},{retry:-1,keepalive:i?.keepAlive??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(oje,e)}catch(r){throw jn(r)}}async initCoinbaseOnRamp(e){try{return this.api.post(aje,e)}catch(r){throw jn(r)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${lje}?partnerUserId=${e}`)}catch(r){throw jn(r)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(DQ.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(DQ.PRIVY,e)}async _getToken(e,r){return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?hL.parse(this.session.getToken(e))?.appId!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!r?.disableAutoRefresh&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getSmartWalletsConfig(){try{let e={},r=this.session.token;r&&(e.authorization=`Bearer ${r}`);let n=await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`,{baseURL:this.fallbackApiUrl,headers:e});return n.enabled?{enabled:n.enabled,smartWalletVersion:n.smart_wallet_version,smartWalletType:n.smart_wallet_type,configuredNetworks:n.configured_networks.map((i=>({chainId:i.chain_id,bundlerUrl:i.bundler_url,paymasterUrl:i.paymaster_url,paymasterContext:_ht(i.paymaster_url,i.paymaster_context)})))}:{enabled:n.enabled}}catch(e){throw jn(e)}}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:r}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${r}`)}catch{return void console.error(`Unable to fetch token metadata for ${r}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(r){throw console.error("Unable to fetch Farcaster signer status"),r}}async generateSiweNonce({address:e,captchaToken:r}){try{return(await this.api.post(uOe,{address:e,token:r})).nonce}catch(n){throw jn(n)}}async authenticateWithSiweInternal({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s,mode:o}){return await this.api.post(dOe,{message:e,signature:r,chainId:n,walletClientType:i,connectorType:s,mode:o})}async linkWithSiweInternal({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s}){return await this.api.post(hOe,{message:e,signature:r,chainId:n,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:r,smartWalletType:n,smartWalletVersion:i}){try{let s=await this.api.post(fOe,{message:e,signature:r,smart_wallet_type:n,smart_wallet_version:i});return $s(s)}catch(s){throw jn(s)}}async linkWithSiwe({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s}){try{let o=await this.linkWithSiweInternal({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s});return $s(o)}catch(o){throw jn(o)}}async generateSiwsNonce({address:e,captchaToken:r}){try{return(await this.api.post(mOe,{address:e,token:r})).nonce}catch(n){throw jn(n)}}async authenticateWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,mode:s,messageType:o="plain"}){return await this.api.post(yOe,{message:e,signature:r,walletClientType:n,connectorType:i,mode:s,message_type:o})}async authenticateWithSiws({message:e,signature:r,walletClientType:n,connectorType:i,mode:s,messageType:o="plain"}){let a=await this.authenticateWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,mode:s,messageType:o});this.session.handleTokenResponse(a);let l=$s(a.user);if(!l)throw Error("Authentication failed - no user returned");return{user:l,isNewUser:a.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:r,accountType:n,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:o,farcasterEmbeddedAddress:a,oAuthUserInfo:l}){try{let c,u;switch(n){case"email":c=NOe,u={nonce:e,email:r};break;case"sms":c=FOe,u={nonce:e,phoneNumber:r};break;case"siwe":if(c=gOe,!i)throw Error("Wallet parameters must be defined");u={nonce:e,address:r,...i};break;case"farcaster":c=SOe,u={nonce:e,farcaster_id:r,farcaster_embedded_address:a};break;case"telegram":c=ZOe,u={nonce:e,telegram_auth_result:s,telegram_web_app_data:o};break;case"siws":c=bOe,u={nonce:e,address:r,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:c=UOe,u={nonce:e,userInfo:l}}let h=await this.api.post(c,u);return await this.getAuthenticatedUser()??$s(h)}catch(c){throw jn(c)}}async linkWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,messageType:s="plain"}){return await this.api.post(vOe,{message:e,signature:r,walletClientType:n,connectorType:i,message_type:s})}async linkWithSiws({message:e,signature:r,walletClientType:n,connectorType:i,messageType:s="plain"}){try{let o=await this.linkWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,messageType:s});return $s(o)}catch(o){throw jn(o)}}async updateUserAndIdToken(){try{let e=await this.api.get(uje);return this.session.updateIdentityToken(e.identity_token),$s(e.user)}catch(e){throw jn(e)}}async scanTransaction(e){try{return await this.api.post(dje,e)}catch(r){throw jn(r)}}constructor({apiUrl:e=PO,appId:r,appClientId:n,timeout:i=2e4}){Object.defineProperty(this,R7,{value:Tht}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==PO&&e.startsWith("https://privy."),this.timeout=i,this.appId=r,this.appClientId=n,this.clientAnalyticsId=(function(s,o){if(!Object.prototype.hasOwnProperty.call(s,o))throw TypeError("attempted to use private field on non-instance");return s})(this,R7)[R7](),N7||(N7=new kht),this.session=N7,this.api=this.generateApi(),this.session.client=this}}function Tht(){if(typeof window>"u")return null;try{let e=Jt.get($O);if(typeof e=="string"&&e.length>0)return e}catch{}let t=O_();try{return Jt.put($O,t),t}catch{return t}}const Iht=({delayedExecution:t,...e})=>{let{enabled:r,siteKey:n,appId:i,setError:s,setToken:o,setExecuting:a,ref:l}=Ca(),[,c]=x.useMemo((()=>n?.split("t:")||[]),[n]);if(x.useEffect((()=>l.current?.remove),[]),!r)return null;if(!c)throw Error("Unsupported captcha site key");return d.jsx("div",{className:"hidden h-0 w-0",children:d.jsx(Mue,{...e,ref:l,siteKey:c,options:{action:i,size:"invisible",...t?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{e.onUnsupported?.(),console.warn("Browser does not support Turnstile.")},onError:()=>{e.onError?.(),s("Captcha failed"),a(!1)},onSuccess:u=>{e.onSuccess?.(u),o(u),a(!1)},onExpire:()=>{e.onExpire?.();try{l.current?.reset(),s(void 0),o(void 0)}catch{s("expired_and_failed_reset")}}})})},Pht=t=>{let[e,r]=x.useState("auto");return x.useEffect((()=>{let n=new ResizeObserver((i=>{r(i[0]?.contentRect.height??"auto")}));return t.current&&n.observe(t.current),()=>{t.current&&n.unobserve(t.current)}}),[t.current]),e},$ht={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},signSolanaTransaction:{onSuccess:[],onError:[]},signSolanaMessage:{onSuccess:[],onError:[]},sendSolanaTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},Dge=x.createContext(void 0);let Fge=()=>x.useContext(Dge);function X1(t,e){if(!e)return;let r=Fge().current[t];return x.useEffect((()=>{for(let[n,i]of Object.entries(e))Object.prototype.hasOwnProperty.call(r,n)||console.warn(`Invalid event type "${n}" for action "${t}"`),r[n]?.push(i);return()=>{for(let[n,i]of Object.entries(e))Object.prototype.hasOwnProperty.call(r,n)||console.warn(`Invalid event type "${n}" for action "${t}"`),r[n]=r[n]?.filter((s=>s!==i))}}),[e])}function ut(t,e,r,...n){for(let i of t.current[e][r])i(...n)}function Dh(){let t=Fge();return(e,r,...n)=>ut(t,e,r,...n)}function Nht(t){X1("configureMfa",t)}const op=ie.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),Rht=ie.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),zO=ie.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),Lge=ie(zO).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],(t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0));let Oht=Zi(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]);const jht=ie.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),Vn=ie.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],Oht),ld=ie.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],(t=>t.$fullSize?"0":"4px"),(t=>t.$fullSize?"transparent":"var(--privy-color-background-2)"),(t=>t.$fullSize?"32px":"18px"),(t=>t.$fullSize?"32px":"18px"),(t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)")),f1=ie.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],(t=>t.$if?"display: none;":"")),Mht=ie.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],(t=>t.$withPadding?"64px 0px":"0px")),Dht=ie.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]);function Fht(t){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 40",...t,children:d.jsx("g",{fill:t.color||"var(--privy-color-foreground)",children:d.jsx("path",{d:"M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0"})})})}let FQ=ie.span.withConfig({displayName:"TermsAndConditionsContainer",componentId:"sc-ff3bd734-0"})(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);display:block;&& > a{color:var(--privy-color-accent);}"]);function wL({app:{legal:{privacyPolicyUrl:t,termsAndConditionsUrl:e,requireUsersAcceptTerms:r}},alwaysShowImplicitConsent:n}){let i=!(!t||!e);return r&&!n||!e&&!t?d.jsx(FQ,{}):d.jsxs(FQ,{children:["By logging in I agree to the"," ",e&&d.jsx("a",{href:e,target:"_blank",children:i?"Terms":"Terms of Service"}),i&&" & ",t&&d.jsx("a",{href:t,target:"_blank",children:"Privacy Policy"})]})}const Ur=({className:t})=>{let{appearance:e}=zr();return d.jsx(vi,{className:t,children:e.footerLogo??d.jsx(Lht,{href:"https://www.privy.io/",target:"_blank",id:"protected-by-privy",children:d.jsx(Fht,{color:"currentColor",height:13,width:150})})})};let Lht=ie.a.withConfig({displayName:"PrivyLink",componentId:"sc-ff3bd734-1"})(["&&{padding:0;color:var(--privy-color-foreground-3);}"]);const vi=ie.div.withConfig({displayName:"ModalFooter",componentId:"sc-ff3bd734-2"})(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]),Uge=({success:t,fail:e})=>d.jsxs(Uht,{children:[d.jsx(LQ,{children:d.jsx(bL,{className:t?"success":e?"fail":""})}),d.jsx(LQ,{children:d.jsx(Ql,{className:t?"success":e?"fail":""})})]});let LQ=ie.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),Uht=ie.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]);const Ql=ie.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],(t=>t.color??"var(--privy-color-icon-subtle)")),bL=ie(Ql).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],(t=>t.color??"var(--privy-color-border-default)"),(t=>t.color??"var(--privy-color-border-default)")),bp=t=>d.jsx(Bht,{color:t.color||"var(--privy-color-foreground-3)"});let Bht=ie(Ql).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const sg=({variant:t="primary",size:e="lg",children:r,success:n,...i})=>{switch(t){case"secondary":return d.jsx(ou,{size:e,...i,children:r});case"error":return d.jsx(ou,{$warn:!0,size:e,...i,children:r});case"muted":return d.jsx(Wht,{size:e,...i,children:r});default:return d.jsx(an,{size:e,success:n,...i,children:r})}},z8=ie.button.withConfig({displayName:"BaseButton",componentId:"sc-e537b447-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:auto;cursor:pointer;border-radius:",";font-size:14px;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{height:",";padding:0 ",";}"],(({$size:t})=>t==="sm"?"6px":"var(--privy-border-radius-sm)"),(({$size:t})=>t==="sm"?"28px":"48px"),(({$size:t})=>t==="sm"?"10px":"16px")),an=({children:t,loading:e,disabled:r,success:n,size:i="lg",loadingText:s="Loading...",as:o,onClick:a,...l})=>{let c=o==="a",u=!(!e&&!r);return d.jsx(qht,{as:o,disabled:c?void 0:u,"aria-disabled":c?u:void 0,$success:n,$size:i,onClick:h=>{c&&u?h.preventDefault():a?.(h)},...l,children:e?d.jsxs(d.Fragment,{children:[d.jsx(bp,{}),s?d.jsx("span",{style:{marginLeft:"8px"},children:s}):null]}):t})},kC=({children:t,loading:e,disabled:r,...n})=>d.jsx(zht,{disabled:r,...n,children:e?d.jsx(bp,{color:"var(--privy-color-foreground-accent)"}):t});let zht=ie(z8).withConfig({displayName:"StyledPrimaryButtonWithoutGray",componentId:"sc-e537b447-1"})(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;color:var(--privy-color-foreground-disabled);background-color:var(--privy-color-accent-dark);}"]),qht=ie(z8).withConfig({displayName:"StyledPrimaryButton",componentId:"sc-e537b447-2"})(["position:relative;&&{background-color:",";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:",";}&:active{background-color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)"),(t=>t.disabled&&Zi(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])));const ou=({children:t,loading:e,disabled:r,size:n="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let l=s==="a",c=!(!e&&!r);return d.jsx(Hht,{as:s,disabled:l?void 0:c,"aria-disabled":l?c:void 0,$size:n,onClick:u=>{l&&c?u.preventDefault():o?.(u)},...a,children:e?d.jsxs(d.Fragment,{children:[d.jsx(bp,{}),i?d.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})},Wht=({children:t,loading:e,disabled:r,size:n="lg",loadingText:i="Loading...",as:s,onClick:o,...a})=>{let l=s==="a",c=!(!e&&!r);return d.jsx(Vht,{as:s,disabled:l?void 0:c,"aria-disabled":l?c:void 0,$size:n,onClick:u=>{l&&c?u.preventDefault():o?.(u)},...a,children:e?d.jsxs(d.Fragment,{children:[d.jsx(bp,{}),i?d.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})};let Hht=ie(z8).withConfig({displayName:"StyledSecondaryButton",componentId:"sc-e537b447-3"})(["&&{border-width:1px;border-style:solid;border-color:",";background-color:var(--privy-color-background);color:",";transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:",";background-color:",";color:",";}&:active{border-color:",";background-color:",";color:",";}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],(t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive-hover)"),(t=>t.$warn?"var(--privy-color-error-light)":"var(--privy-color-info-bg-hover)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive)"),(t=>t.$warn?"var(--privy-color-error-bg-hover)":"var(--privy-color-info-bg)"),(t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)"),(t=>t.disabled&&Zi(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]))),Vht=ie(z8).withConfig({displayName:"StyledMutedButton",componentId:"sc-e537b447-4"})(["&&{border-width:1px;border-style:solid;border-color:var(--privy-color-border-default);background-color:transparent;color:var(--privy-color-text-muted);transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg-hover);color:var(--privy-color-foreground-2);}&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg);color:var(--privy-color-foreground-2);}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],(t=>t.disabled&&Zi(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])));const q8=({children:t,onClick:e,disabled:r,isSubmitting:n,...i})=>d.jsxs(Ght,{$isSubmitting:n,onClick:e,disabled:r,...i,children:[d.jsx("span",{children:t}),d.jsx("span",{children:d.jsx(bp,{})})]});let Ght=ie.button.withConfig({displayName:"StyledEmbeddedButton",componentId:"sc-e537b447-7"})(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:",";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:",";}:disabled,:hover:disabled{color:var(--privy-color-foreground-disabled);cursor:not-allowed;}}"],(t=>t.$isSubmitting?0:1),(t=>t.$isSubmitting?1:0));const Kht=({backFn:t})=>d.jsx("div",{children:d.jsx(xL,{onClick:t,children:d.jsx(UFe,{height:"16px",width:"16px",strokeWidth:2})})}),Yht=({infoFn:t})=>d.jsx("div",{children:d.jsx(Xht,{"aria-label":"info",onClick:t,children:d.jsx(jy,{height:"22px",width:"22px",strokeWidth:2})})}),Jht=t=>d.jsx("div",{children:d.jsx(xL,{"aria-label":"close modal",onClick:t.onClose,children:d.jsx(HFe,{height:"16px",width:"16px",strokeWidth:2})})}),xr=({backFn:t,infoFn:e,onClose:r,title:n,closeable:i=!0,className:s})=>{let{closePrivyModal:o}=bt(),a=zr();return d.jsxs(Qht,{className:s,children:[d.jsxs(Zht,{children:[t&&d.jsx(Kht,{backFn:t}),e&&d.jsx(Yht,{infoFn:e})]}),n&&d.jsx(tft,{id:"privy-dialog-title",children:n}),d.jsx(eft,{children:!a.render.standalone&&i&&d.jsx(Jht,{onClose:r||(()=>o())})})]})};let xL=ie.button.withConfig({displayName:"StyledButton",componentId:"sc-e033e17a-0"})(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]),Xht=ie(xL).withConfig({displayName:"TransparentStyledButton",componentId:"sc-e033e17a-1"})(["&&{background-color:transparent;}"]),Qht=ie.div.withConfig({displayName:"StyledHeader",componentId:"sc-e033e17a-2"})(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]),Zht=ie.div.withConfig({displayName:"LeftActionContainer",componentId:"sc-e033e17a-3"})(["flex:1;align-items:center;display:flex;gap:8px;"]),eft=ie.div.withConfig({displayName:"RightActionContainer",componentId:"sc-e033e17a-4"})(["flex:1;display:flex;justify-content:flex-end;"]),tft=ie.div.withConfig({displayName:"TitleContainer",componentId:"sc-e033e17a-5"})(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]);const Pg=({size:t})=>d.jsx(rft,{$size:t,children:d.jsxs(nft,{children:[d.jsx(ift,{}),d.jsx(sft,{})]})});let rft=ie.div.withConfig({displayName:"LoadingContainer",componentId:"sc-5be8451e-0"})(["--spinner-size:",";display:inline-flex;justify-content:center;align-items:center;@media all and (display-mode:standalone){margin-bottom:30px;}"],(t=>t.$size?t.$size:"96px")),nft=ie.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-5be8451e-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),ift=ie.div.withConfig({displayName:"CircleFixed",componentId:"sc-5be8451e-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid var(--privy-color-border-default);border-radius:50%;}"]),sft=ie.div.withConfig({displayName:"CircleRotate",componentId:"sc-5be8451e-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-icon-subtle) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]);const oft=ie.div.withConfig({displayName:"ScreenRoot",componentId:"sc-cc9e9a32-0"})(["--screen-space:16px;--screen-space-lg:calc(var(--screen-space) * 1.5);position:relative;overflow:hidden;margin:0 calc(-1 * var(--screen-space));height:100%;border-radius:var(--privy-border-radius-lg);"]),aft=ie.div.withConfig({displayName:"ScreenRootInner",componentId:"sc-cc9e9a32-1"})(["display:flex;flex-direction:column;gap:calc(var(--screen-space) * 1.5);width:100%;background:var(--privy-color-background);padding:0 var(--screen-space-lg) var(--screen-space);height:100%;border-radius:var(--privy-border-radius-lg);"]),lft=ie.div.withConfig({displayName:"HeaderContainer",componentId:"sc-cc9e9a32-2"})(["position:relative;display:flex;flex-direction:column;"]),cft=ie(xr).withConfig({displayName:"StyledModalHeader",componentId:"sc-cc9e9a32-3"})(["margin:0 -8px;"]),uft=ie.div.withConfig({displayName:"BodyContainer",componentId:"sc-cc9e9a32-4"})(["flex:1 1 auto;display:flex;flex-direction:column;overflow-y:auto;padding:3px;margin:-3px;&::-webkit-scrollbar{display:none;}scrollbar-gutter:stable both-edges;scrollbar-width:none;-ms-overflow-style:none;"," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],(({$colorScheme:t})=>t==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0)),dft=ie.div.withConfig({displayName:"FooterContainer",componentId:"sc-cc9e9a32-5"})(["display:flex;flex-direction:column;gap:var(--screen-space-lg);"]);let hft=ie.div.withConfig({displayName:"CenteredHeader",componentId:"sc-cc9e9a32-6"})(["text-align:center;display:flex;flex-direction:column;align-items:center;gap:var(--screen-space);"]),fft=ie.div.withConfig({displayName:"TitleContainer",componentId:"sc-cc9e9a32-7"})(["display:flex;flex-direction:column;gap:4px;"]),pft=ie.h3.withConfig({displayName:"HeaderTitle",componentId:"sc-cc9e9a32-8"})(["&&{font-size:20px;line-height:32px;font-weight:500;color:var(--privy-color-foreground);margin:0;}"]),gft=ie.p.withConfig({displayName:"HeaderSubtitle",componentId:"sc-cc9e9a32-9"})(["&&{margin:0;font-size:16px;font-weight:300;line-height:24px;color:var(--privy-color-foreground);}"]),UQ=ie.div.withConfig({displayName:"IconContainer",componentId:"sc-cc9e9a32-10"})(["background:",";border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;"],(({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"warning":return"var(--privy-color-warn, #FEF3C7)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";case"loading":case"logo":return"transparent";default:return"var(--privy-color-background-2)"}})),mft=ie.div.withConfig({displayName:"LogoContainer",componentId:"sc-cc9e9a32-11"})(["display:flex;align-items:center;justify-content:center;margin-bottom:var(--screen-space);img,svg{max-height:90px;max-width:180px;}"]),yft=ie.div.withConfig({displayName:"LoadingWithIconContainer",componentId:"sc-cc9e9a32-12"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > :first-child{position:relative;}> div > :last-child{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"]);const un=({children:t,...e})=>d.jsx(oft,{children:d.jsx(aft,{...e,children:t})});let vft=ie.div.withConfig({displayName:"ProgressBarContainer",componentId:"sc-cc9e9a32-13"})(["position:absolute;top:0;left:calc(-1 * var(--screen-space-lg));width:calc(100% + calc(var(--screen-space-lg) * 2));height:4px;background:var(--privy-color-background-2);border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;"]),wft=ie(Ur).withConfig({displayName:"StyledBlobbyFooter",componentId:"sc-cc9e9a32-14"})(["padding:0;&& a{padding:0;color:var(--privy-color-foreground-3);}"]),bft=ie.div.withConfig({displayName:"ProgressBarFill",componentId:"sc-cc9e9a32-15"})(["height:100%;width:","%;background:var(--privy-color-foreground-3);border-radius:2px;transition:width 300ms ease-in-out;"],(({pct:t})=>t)),xft=({step:t})=>t?d.jsx(vft,{children:d.jsx(bft,{pct:Math.min(100,t.current/t.total*100)})}):null;un.Header=({title:t,subtitle:e,icon:r,iconVariant:n,iconLoadingStatus:i,showBack:s,onBack:o,showInfo:a,onInfo:l,showClose:c,onClose:u,step:h,...f})=>d.jsxs(lft,{...f,children:[d.jsx(cft,{backFn:s?o:void 0,infoFn:a?l:void 0,onClose:c?u:void 0,closeable:c}),(r||n||t||e)&&d.jsxs(hft,{children:[r||n?d.jsx(un.Icon,{icon:r,variant:n,loadingStatus:i}):null,d.jsxs(fft,{children:[t&&d.jsx(pft,{children:t}),e&&d.jsx(gft,{children:e})]})]}),h&&d.jsx(xft,{step:h})]}),un.Body=ht.forwardRef((({children:t,...e},r)=>d.jsx(uft,{ref:r,...e,children:t}))),un.Body.displayName="Screen.Body",un.Footer=({children:t,...e})=>d.jsx(dft,{...e,children:t}),un.Actions=({children:t,...e})=>d.jsx(_ft,{...e,children:t}),un.HelpText=({children:t,...e})=>d.jsx(Cft,{...e,children:t}),un.Watermark=()=>d.jsx(wft,{}),un.Icon=({icon:t,variant:e="subtle",loadingStatus:r})=>e==="logo"&&t?d.jsx(mft,typeof t=="string"?{children:d.jsx("img",{src:t,alt:""})}:ht.isValidElement(t)?{children:t}:{children:ht.createElement(t)}):e==="loading"?t?d.jsx(yft,{children:d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[d.jsx(Uge,{success:r?.success,fail:r?.fail}),typeof t=="string"?d.jsx("span",{style:{background:`url('${t}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):ht.isValidElement(t)?ht.cloneElement(t,{style:{width:"38px",height:"38px"}}):ht.createElement(t,{style:{width:"38px",height:"38px"}})]})}):d.jsx(UQ,{$variant:e,children:d.jsx(Pg,{size:"64px"})}):d.jsx(UQ,{$variant:e,children:t&&(typeof t=="string"?d.jsx("img",{src:t,alt:"",style:{width:"32px",height:"32px",borderRadius:"6px"}}):ht.isValidElement(t)?t:ht.createElement(t,{width:32,height:32,stroke:(()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"warning":return"var(--privy-color-icon-warning)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}})(),strokeWidth:2}))});let _ft=ie.div.withConfig({displayName:"ActionsContainer",componentId:"sc-cc9e9a32-16"})(["width:100%;display:flex;flex-direction:column;gap:calc(var(--screen-space) / 2);"]),Cft=ie.p.withConfig({displayName:"HelpTextContainer",componentId:"sc-cc9e9a32-17"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-foreground-3);font-size:14px;line-height:22px;& a{color:var(--privy-color-accent);}}"]);const Mr=({primaryCta:t,secondaryCta:e,helpText:r,watermark:n=!0,children:i,...s})=>{let o=t||e?d.jsxs(d.Fragment,{children:[t&&(()=>{let{label:a,...l}=t,c=l.variant||"primary";return d.jsx(sg,{...l,variant:c,style:{width:"100%",...l.style},children:a})})(),e&&(()=>{let{label:a,...l}=e,c=l.variant||"secondary";return d.jsx(sg,{...l,variant:c,style:{width:"100%",...l.style},children:a})})()]}):null;return d.jsxs(un,{id:s.id,className:s.className,children:[d.jsx(un.Header,{...s}),i?d.jsx(un.Body,{children:i}):null,r||o||n?d.jsxs(un.Footer,{children:[r?d.jsx(un.HelpText,{children:r}):null,o?d.jsx(un.Actions,{children:o}):null,n?d.jsx(un.Watermark,{}):null]}):null]})},_L=ie.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-ba98f772-0"})(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]),ca=ie.div.withConfig({displayName:"Title",componentId:"sc-ba98f772-1"})(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]),Ml=ie.div.withConfig({displayName:"SubTitle",componentId:"sc-ba98f772-2"})(["font-size:0.875rem;text-align:center;"]),og=ie.div.withConfig({displayName:"Container",componentId:"sc-ba98f772-3"})(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]),W8=ie.div.withConfig({displayName:"List",componentId:"sc-ba98f772-4"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),R0=ie.div.withConfig({displayName:"ListItemIcon",componentId:"sc-ba98f772-5"})(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]),O0=ie.div.withConfig({displayName:"ListItem",componentId:"sc-ba98f772-6"})(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]),sy=ie.div.withConfig({displayName:"BottomSection",componentId:"sc-ba98f772-7"})(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]),Bge=ie.div.withConfig({displayName:"MethodList",componentId:"sc-ba98f772-8"})(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),O7=ie.div.withConfig({displayName:"MethodListItem",componentId:"sc-ba98f772-9"})(["display:flex;gap:5px;width:100%;position:relative;"]),j7=ie.button.withConfig({displayName:"RemoveMethodButton",componentId:"sc-ba98f772-10"})(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]),M7=ie.div.withConfig({displayName:"MethodText",componentId:"sc-ba98f772-11"})(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]),BQ=ie.div.withConfig({displayName:"ExtraText",componentId:"sc-ba98f772-12"})(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:",";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"],(t=>t.$isAccent?"var(--privy-color-accent)":"var(--privy-color-foreground-3)")),D7=ie.div.withConfig({displayName:"SmsInsecureText",componentId:"sc-ba98f772-13"})(["width:100%;display:flex;justify-content:space-between;"]),zge=ie.p.withConfig({displayName:"TermsText",componentId:"sc-ba98f772-14"})(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]),qO=ie.button.withConfig({displayName:"PrimaryTextButton",componentId:"sc-ba98f772-15"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:",";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"],(t=>t.theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-accent)")),Dl=ie.div.withConfig({displayName:"IconWrapper",componentId:"sc-ba98f772-16"})(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]),qge=ie.div.withConfig({displayName:"ErrorMessage",componentId:"sc-ba98f772-17"})(["color:var(--privy-color-error);"]),Wge=({handleClose:t,user:e,onSelect:r})=>d.jsxs(Mr,{title:"Verify your identity",subtitle:"Choose a verification method",icon:X0,iconVariant:"subtle",onClose:t,showClose:!0,watermark:!0,children:[d.jsxs(Bge,{children:[e.mfaMethods.includes("totp")&&d.jsxs(Vn,{onClick:()=>r("totp"),children:[d.jsx(ld,{children:d.jsx(t8,{})}),"Authenticator app"]},"totp"),e.mfaMethods.includes("sms")&&d.jsxs(Vn,{onClick:()=>r("sms"),children:[d.jsx(ld,{children:d.jsx(rp,{})}),"SMS"]},"sms"),e.mfaMethods.includes("passkey")&&d.jsxs(Vn,{onClick:()=>r("passkey"),children:[d.jsx(ld,{children:d.jsx(iF,{})}),"Passkey"]},"passkey")]}),d.jsx(vi,{})]}),F7=({label:t,children:e,valueStyles:r})=>d.jsxs(Eft,{children:[d.jsx("div",{children:t}),d.jsx(kft,{style:{...r},children:e})]});let Eft=ie.div.withConfig({displayName:"StyledDetailsRow",componentId:"sc-4ebfdd45-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]),kft=ie.div.withConfig({displayName:"ValueWrapper",componentId:"sc-4ebfdd45-1"})(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]),Sft=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),Hge=t=>Sft.format(t);const Vge=(t,e)=>{let r=Hge(e*parseFloat(t));return r!=="$0.00"?r:"<$0.01"},j0=(t,e)=>{let r=Hge(e*parseFloat(gg(t)));return r==="$0.00"?"<$0.01":r},Kc=(t,e,r=6,n=!1)=>`${Gge(t,r,n)} ${e}`,Gge=(t,e=6,r=!1)=>{let n=parseFloat(gg(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"");return r?n:`${n==="0"?"<0.001":n}`},CL=t=>t.reduce(((e,r)=>e+r),0n),Aft=(t,e)=>{let{chains:r}=bt(),n=`https://etherscan.io/address/${e}`,i=`${((s,o)=>{let a=Number(s),l=o.find((c=>c.id===a));if(!l)throw new kn(`Unsupported chainId ${s}`,4901);return l.blockExplorers?.default.url})(t,r)}/address/${e}`;if(!i)return n;try{new URL(i)}catch{return n}return i},Tft=1e9;function $b(t,e){let r=parseFloat(t.toString())/Tft,n=Ift.format(e*r);return n==="$0.00"?"<$0.01":n}let Ift=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2});const Pft=(t,e=0)=>{let r=t[e],n=t[e+7];if(!r||!n)throw Error(`Buffer offset out of range: first: ${r}, last: ${n}.`);return(BigInt(t[e+4]+256*t[e+5]+65536*t[e+6]+(n<<24))<<32n)+BigInt(r+256*t[++e]+65536*t[++e]+16777216*t[++e])};function $ft(t,e=0){let r=0n;for(let n=0;n<8;n++)r|=BigInt(t[e+n])<<BigInt(8*n);return r}async function Wm(t,e){try{return await t}catch{return e}}const Qw="11111111111111111111111111111111",Nft=["CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C","CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"],Rft=["JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4"];function Jf(t,e=6,r=!1,n=!1){let i=(parseFloat(t.toString())/1e9).toFixed(e).replace(/0+$/,"").replace(/\.$/,""),s=n?"":" SOL";return r?`${i}${s}`:`${i==="0"?"<0.001":i}${s}`}function Kge({amount:t,fee:e,tokenPrice:r,isUsdc:n}){let i=BigInt(Math.floor(parseFloat(t)*10**(n?6:9))),s=n?i:i+e;return{fundingAmountInBaseUnit:i,fundingAmountInUsd:r?$b(i,r):void 0,totalPriceInUsd:r?$b(s,r):void 0,totalPriceInNativeCurrency:Jf(s),feePriceInNativeCurrency:Jf(e),feePriceInUsd:r?$b(e,r):void 0}}let Oft={"mainnet-beta":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},devnet:{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},testnet:{}};async function Fc(t,e,r){let n=Oft[t];if(!n[r]){let i=await e.getSplTokenMetadata({mintAddress:r,cluster:t});i&&(n[r]={address:r,symbol:i.symbol,decimals:i.decimals})}return n[r]}function ap(t){return"version"in t}function SC(t,e){let r=(ap(t)?t.message:t.compileMessage()).staticAccountKeys.find((n=>n.toBase58()===e));if(!r)throw Error(`Transaction does not contain public key ${e}`);return r}function zQ(t,e,r){return{signature:t,parsedTransaction:r??null,signedTransaction:e,fees:BigInt(r?.meta?.fee||0)}}async function Yge(t,e){let{value:r}=await e.simulateTransaction(t);if(r.err==="BlockhashNotFound")throw Error("Simulation failed: Blockhash not found");return r.err==null&&r.logs?.every((n=>!/insufficient funds/gi.test(n)))}async function jft({tx:t,connection:e,client:r,checkFunds:n}){let i=ap(t)?t.message:t.compileMessage(),s=i.staticAccountKeys[0]?.toBase58()??"",o=await(async function(h,f){return BigInt((ap(h)?(await f.getFeeForMessage(h.message)).value:await h.getEstimatedFee(f))??0)})(t,e),a=!n||await Wm(Yge(t,e),!0),l={},c=[],u=await(async function(h,f){return[...h.staticAccountKeys.map((p=>p)),...(await Promise.all(h.addressTableLookups.map((async p=>f.getAddressLookupTable(p.accountKey).then((({value:m})=>m)))))).map(((p,m)=>[...h.addressTableLookups[m]?.writableIndexes.map((v=>{let w=p?.state.addresses[v];if(w)return{key:w,isWritable:!0,altIdx:m}}))??[],...h.addressTableLookups[m]?.readonlyIndexes.map((v=>{let w=p?.state.addresses[v];if(w)return{key:w,isWritable:!1,altIdx:m}}))??[]])).flat().filter((p=>!!p)).sort(((p,m)=>p.isWritable!==m.isWritable?p.isWritable?-1:1:p.altIdx-m.altIdx)).map((({key:p})=>p))]})(i,e);for(let h of i.compiledInstructions){let f=i.staticAccountKeys[h.programIdIndex]?.toBase58()||"";if(f!=="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"&&f!=="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb")if(f!==Qw){if(f==="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"){let p=await Wm((function(m,v,w){let[b,E,_,A]=m.accountKeyIndexes.map((C=>v[C]));return{type:"ata-creation",program:w,payer:b?.toBase58(),ata:E?.toBase58(),owner:_?.toBase58(),mint:A?.toBase58()}})(h,u,f));if(!p){c.push({type:"unknown",program:f,discriminator:h.data[0]});continue}if(c.push(p),p.ata&&p.owner&&p.mint){l[p.ata]={owner:p.owner,mint:p.mint};continue}}if(Nft.includes(f)){let p=await Wm(Fft(h,u,e,r,f));if(!p){c.push({type:"unknown",program:f,discriminator:h.data[0]});continue}c.push(p)}else if(Rft.includes(f)){let p=await Wm(Lft(h,u,e,r,f));if(!p){c.push({type:"unknown",program:f,discriminator:h.data[0]});continue}c.push(p)}else c.push({type:"unknown",program:f,discriminator:h.data[0]})}else{let p=await Wm(Dft(h,u));if(!p){c.push({type:"unknown",program:f,discriminator:h.data[0]});continue}c.push(p)}else{let p=await Wm(Mft(h,u,e,r,l,f));if(!p){c.push({type:"unknown",program:f,discriminator:h.data[0]});continue}c.push(p),p.type==="spl-transfer"&&(p.fromAta&&p.fromAccount&&p.token.address&&(l[p.fromAta]??={owner:p.fromAccount,mint:p.token.address}),p.toAta&&p.toAccount&&p.token.address&&(l[p.toAta]??={owner:p.toAccount,mint:p.token.address}))}}return{spender:s,fee:o,instructions:c,hasFunds:!!a}}function To(t,e=0){try{return $ft(t,e)}catch{}try{return t.readBigInt64LE(e)}catch{}let r=uo(t);try{return Pft(r)}catch{}try{return r.subarray(e).readBigInt64LE()}catch{}try{return r.readBigInt64LE(e)}catch{}return 0n}async function Mft(t,e,r,n,i,s){let o=t.data[0],a=t.accountKeyIndexes.map((l=>e[l]));if(o===1){let[l,c,u]=a;return{type:"spl-init-account",program:s,account:l?.toBase58(),mint:c?.toBase58(),owner:u?.toBase58()}}if(o===3){let l,c,[u,h,f]=a,p="",m=h?i[h.toBase58()]:void 0;if(m)l=m.owner,p=m.mint;else if(h){let E=await r.getParsedAccountInfo(h,"confirmed"),_=E.value?.data;l=_?.parsed?.info?.owner,p=_?.parsed?.info?.mint??"",c=_?.parsed?.info?.tokenAmount?.decimals}!p&&u&&(p=(await r.getParsedAccountInfo(u,"confirmed")).value?.data?.parsed?.info?.mint??"");let v=J1(r.rpcEndpoint),w=await Fc(v,n,p),b=w?.symbol??"";return c??=w?.decimals??9,{type:"spl-transfer",program:s,fromAta:u?.toBase58(),fromAccount:f?.toBase58(),toAta:h?.toBase58(),toAccount:l,value:To(t.data,1),token:{symbol:b,decimals:c,address:p}}}if(o===9){let[l,c,u]=a;return{type:"spl-close-account",program:s,source:l?.toBase58(),destination:c?.toBase58(),owner:u?.toBase58()}}if(o===17)return{type:"spl-sync-native",program:s};throw Error(`Token program instruction type ${o} not supported`)}async function Dft(t,e){let r=t.data[0],n=t.accountKeyIndexes.map((i=>e[i]));if(r===0){let[,i]=n;return{type:"create-account",program:Qw,account:i?.toBase58(),value:To(t.data,4),withSeed:!1}}if(r===2){let[i,s]=n;return{type:"sol-transfer",program:Qw,fromAccount:i?.toBase58(),toAccount:s?.toBase58(),token:{symbol:"SOL",decimals:9},value:To(t.data,4),withSeed:!1}}if(r===3){let[,i]=n,s=To(t.data.slice(t.data.length-32-8-8));return{type:"create-account",program:Qw,account:i?.toBase58(),withSeed:!0,value:s}}if(r===11){let[i,s]=n;return{type:"sol-transfer",program:Qw,fromAccount:i?.toBase58(),toAccount:s?.toBase58(),value:To(t.data,4),token:{symbol:"SOL",decimals:9},withSeed:!0}}throw Error(`System program instruction type ${r} not supported`)}async function Fft(t,e,r,n,i){let s=t.accountKeyIndexes.map((l=>e[l]?.toBase58())),o=t.data[0],a=J1(r.rpcEndpoint);if(o===143){let l=s[10],c=s[11];return{type:"raydium-swap-base-input",program:i,mintIn:l,mintOut:c,tokenIn:l?await Fc(a,n,l):void 0,tokenOut:c?await Fc(a,n,c):void 0,amountIn:To(t.data,8),minimumAmountOut:To(t.data,16)}}if(o===55){let l=s[10],c=s[11];return{type:"raydium-swap-base-output",program:i,mintIn:l,mintOut:c,tokenIn:l?await Fc(a,n,l):void 0,tokenOut:c?await Fc(a,n,c):void 0,maxAmountIn:To(t.data,8),amountOut:To(t.data,16)}}throw Error(`Raydium swap program instruction type ${o} not supported`)}async function Lft(t,e,r,n,i){let s=t.data[0],o=t.accountKeyIndexes.map((l=>e[l])),a=J1(r.rpcEndpoint);if([208,51,239,151,123,43,237,92].includes(s)){let l=o[5]?.toBase58(),c=o[6]?.toBase58();return{type:"jupiter-swap-exact-out-route",program:i,mintIn:l,mintOut:c,tokenIn:l?await Fc(a,n,l):void 0,tokenOut:c?await Fc(a,n,c):void 0,outAmount:To(t.data,t.data.length-1-2-8-8),quotedInAmount:To(t.data,t.data.length-1-2-8)}}if([176,209,105,168,154,125,69,62].includes(s)){let l=o[7]?.toBase58(),c=o[8]?.toBase58();return{type:"jupiter-swap-exact-out-route",program:i,mintIn:l,mintOut:c,tokenIn:l?await Fc(a,n,l):void 0,tokenOut:c?await Fc(a,n,c):void 0,outAmount:To(t.data,t.data.length-1-2-8-8),quotedInAmount:To(t.data,t.data.length-1-2-8)}}if([193,32,155,51,65,214,156,129].includes(s)){let l=o[7]?.toBase58(),c=o[8]?.toBase58();return{type:"jupiter-swap-shared-accounts-route",program:i,mintIn:l,mintOut:c,tokenIn:l?await Fc(a,n,l):void 0,tokenOut:c?await Fc(a,n,c):void 0,inAmount:To(t.data,t.data.length-1-2-8-8),quotedOutAmount:To(t.data,t.data.length-1-2-8)}}throw[62,198,214,193,213,159,108,210].includes(s)&&console.warn("Jupiter swap program instruction 'claim' not implemented"),[116,206,27,191,166,19,0,73].includes(s)&&console.warn("Jupiter swap program instruction 'claim_token' not implemented"),[26,74,236,151,104,64,183,249].includes(s)&&console.warn("Jupiter swap program instruction 'close_token' not implemented"),[229,194,212,172,8,10,134,147].includes(s)&&console.warn("Jupiter swap program instruction 'create_open_orders' not implemented"),[28,226,32,148,188,136,113,171].includes(s)&&console.warn("Jupiter swap program instruction 'create_program_open_orders' not implemented"),[232,242,197,253,240,143,129,52].includes(s)&&console.warn("Jupiter swap program instruction 'create_token_ledger' not implemented"),[147,241,123,100,244,132,174,118].includes(s)&&console.warn("Jupiter swap program instruction 'create_token_account' not implemented"),[229,23,203,151,122,227,173,42].includes(s)&&console.warn("Jupiter swap program instruction 'route' not implemented"),[150,86,71,116,167,93,14,104].includes(s)&&console.warn("Jupiter swap program instruction 'route_with_token_ledger' not implemented"),[228,85,185,112,78,79,77,2].includes(s)&&console.warn("Jupiter swap program instruction 'set_token_ledger' not implemented"),[230,121,143,80,119,159,106,170].includes(s)&&console.warn("Jupiter swap program instruction 'shared_accounts_route_with_token_ledger' not implemented"),Error(`Jupiter swap program instruction type ${s} not supported`)}const Uft=({weiQuantities:t,tokenPrice:e,tokenSymbol:r})=>{let n=CL(t),i=e?j0(n,e):void 0,s=Kc(n,r);return d.jsx(EL,{children:i||s})},Jge=({weiQuantities:t,tokenPrice:e,tokenSymbol:r})=>{let n=CL(t),i=e?j0(n,e):void 0,s=Kc(n,r);return d.jsx(EL,{children:i?d.jsxs(d.Fragment,{children:[d.jsx(Bft,{children:"USD"}),i==="<$0.01"?d.jsxs(Qge,{children:[d.jsx(Xge,{children:"<"}),"$0.01"]}):i]}):s})},qQ=({quantities:t,tokenPrice:e,tokenSymbol:r="SOL",tokenDecimals:n=9})=>{let i=t.reduce(((a,l)=>a+l),0n),s=e&&r==="SOL"&&n===9?$b(i,e):void 0,o=r==="SOL"&&n===9?Jf(i):`${Ni(i,n)} ${r}`;return d.jsx(EL,{children:s?d.jsx(d.Fragment,{children:s==="<$0.01"?d.jsxs(Qge,{children:[d.jsx(Xge,{children:"<"}),"$0.01"]}):s}):o})};let EL=ie.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-3cd56c8a-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),Bft=ie.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-3cd56c8a-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),Xge=ie.span.withConfig({displayName:"TinyLessThan",componentId:"sc-3cd56c8a-2"})(["font-size:10px;"]),Qge=ie.span.withConfig({displayName:"FlexCenter",componentId:"sc-3cd56c8a-3"})(["display:flex;align-items:center;"]);const Zge=ie.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),kL=ie.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),zft=ie.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),qft=ie(kL).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),p3=ie(kL).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),H8=ie.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),SL=ie.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),Wft=ie.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),fu=ie.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),ol=ie.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),Hft=ie.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],(t=>t.height??"12")),Vft=({gas:t,tokenPrice:e,tokenSymbol:r})=>d.jsxs(H8,{style:{paddingBottom:"12px"},children:[d.jsxs(eme,{children:[d.jsx(rme,{children:"Est. Fees"}),d.jsx("div",{children:d.jsx(Jge,{weiQuantities:[BigInt(t)],tokenPrice:e,tokenSymbol:r})})]}),e&&d.jsx(tme,{children:`${Kc(BigInt(t),r)}`})]}),Gft=({value:t,gas:e,tokenPrice:r,tokenSymbol:n})=>{let i=BigInt(t??0)+BigInt(e);return d.jsxs(H8,{children:[d.jsxs(eme,{children:[d.jsx(rme,{children:"Total (including fees)"}),d.jsx("div",{children:d.jsx(Jge,{weiQuantities:[BigInt(t||0),BigInt(e)],tokenPrice:r,tokenSymbol:n})})]}),r&&d.jsx(tme,{children:Kc(i,n)})]})};let eme=ie.div.withConfig({displayName:"TransactionTotalRow",componentId:"sc-f8ef9b74-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]),tme=ie.div.withConfig({displayName:"ValueConversionRow",componentId:"sc-f8ef9b74-1"})(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]),rme=ie.div.withConfig({displayName:"TotalText",componentId:"sc-f8ef9b74-2"})(["font-size:14px;line-height:22.4px;font-weight:400;"]);const g3=x.createContext(void 0),V8=x.createContext(void 0),Kft=({defaultValue:t,children:e})=>{let[r,n]=x.useState(t||null);return d.jsx(g3.Provider,{value:{activePanel:r,togglePanel:i=>{n(r===i?null:i)}},children:d.jsx(Zft,{children:e})})},Yft=({value:t,children:e})=>{let{activePanel:r,togglePanel:n}=x.useContext(g3),i=r===t;return d.jsx(V8.Provider,{value:{onToggle:()=>n(t),value:t},children:d.jsx(npt,{isActive:i?"true":"false","data-open":String(i),children:e})})},Jft=({children:t})=>{let{activePanel:e}=x.useContext(g3),{onToggle:r,value:n}=x.useContext(V8),i=e===n;return d.jsxs(d.Fragment,{children:[d.jsxs(ept,{onClick:r,"data-open":String(i),children:[d.jsx(rpt,{children:t}),d.jsx(spt,{isactive:i?"true":"false",children:d.jsx(r8,{height:"16px",width:"16px",strokeWidth:"2"})})]}),d.jsx(tpt,{})]})},Xft=({children:t})=>{let{activePanel:e}=x.useContext(g3),{value:r}=x.useContext(V8);return d.jsx(ipt,{"data-open":String(e===r),children:d.jsx(nme,{children:t})})},Qft=({children:t})=>{let{activePanel:e}=x.useContext(g3),{value:r}=x.useContext(V8);return d.jsx(nme,{children:typeof t=="function"?t({isActive:e===r}):t})};let Zft=ie.div.withConfig({displayName:"AccordionRoot",componentId:"sc-d25f9267-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;"]),ept=ie.div.withConfig({displayName:"AccordionTriggerContainer",componentId:"sc-d25f9267-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]),tpt=ie.div.withConfig({displayName:"AccordionDivider",componentId:"sc-d25f9267-2"})(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]),rpt=ie.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-d25f9267-3"})(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]),npt=ie.div.withConfig({displayName:"AccordionPanelContainer",componentId:"sc-d25f9267-4"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),ipt=ie.div.withConfig({displayName:"AccordionContentContainer",componentId:"sc-d25f9267-5"})(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]),nme=ie.div.withConfig({displayName:"ContentWrapper",componentId:"sc-d25f9267-6"})(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]),spt=ie.div.withConfig({displayName:"IconWrapper",componentId:"sc-d25f9267-7"})(["transform:",";"],(t=>t.isactive==="true"?"rotate(180deg)":"rotate(0deg)"));const WO=({walletAddress:t,chainId:e=1,network:r,rpcEndpoint:n})=>d.jsx(opt,{href:r==="ethereum"?Aft(e,t):hht(t,J1(n||"")),target:"_blank",children:Fs(t)});let opt=ie.a.withConfig({displayName:"StyledLink",componentId:"sc-adda23e5-0"})(["&:hover{text-decoration:underline;}"]);const ime=({from:t,to:e,txn:r,transactionInfo:n,tokenPrice:i,gas:s,tokenSymbol:o})=>{let a=BigInt(r?.value||0);return d.jsx(Kft,{...zr().render.standalone?{defaultValue:"details"}:{},children:d.jsxs(Yft,{value:"details",children:[d.jsx(Jft,{children:d.jsxs(apt,{children:[d.jsx("div",{children:n?.title||"Details"}),d.jsx(lpt,{children:d.jsx(Uft,{weiQuantities:[a],tokenPrice:i,tokenSymbol:o})})]})}),d.jsxs(Xft,{children:[d.jsx(F7,{label:"From",children:d.jsx(WO,{walletAddress:t,chainId:r.chainId||1,network:"ethereum"})}),d.jsx(F7,{label:"To",children:d.jsx(WO,{walletAddress:e,chainId:r.chainId||1,network:"ethereum"})}),n&&n.action&&d.jsx(F7,{label:"Action",children:n.action}),s&&d.jsx(Vft,{value:r.value,gas:s,tokenPrice:i,tokenSymbol:o})]}),d.jsx(Qft,{children:({isActive:l})=>d.jsx(Gft,{value:r.value,displayFee:l,gas:s||"0x0",tokenPrice:i,tokenSymbol:o})})]})})};let apt=ie.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-e1259f7b-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),lpt=ie.div.withConfig({displayName:"TotalText",componentId:"sc-e1259f7b-1"})(["flex-shrink:0;padding-left:8px;"]);const sme=({enabled:t=!0}={})=>{let{showFiatPrices:e,getUsdPriceForSol:r}=bt(),[n,i]=x.useState(!0),[s,o]=x.useState(void 0),[a,l]=x.useState(void 0);return x.useEffect((()=>{(async()=>{if(e&&t)try{i(!0);let c=await r();c?l(c):o(Error("Unable to fetch SOL price"))}catch(c){o(c)}finally{i(!1)}else i(!1)})()}),[]),{solPrice:a,isSolPriceLoading:n,solPriceError:s}};function Q1(t){let{tokenPrice:e,isTokenPriceLoading:r,tokenPriceError:n}=(a=>{let{showFiatPrices:l,getUsdTokenPrice:c,chains:u}=bt(),[h,f]=x.useState(!0),[p,m]=x.useState(void 0),[v,w]=x.useState(void 0);return x.useEffect((()=>{a||=1;let b=bD(u).find((E=>E.id===Number(a)));(async()=>{if(l){if(!b)return f(!1),void m(Error(`Unable to fetch token price on chain id ${a}`));try{f(!0);let E=await c(b);E?w(E):m(Error(`Unable to fetch token price on chain id ${b.id}`))}catch(E){m(E)}finally{f(!1)}}else f(!1)})()}),[a]),{tokenPrice:v,isTokenPriceLoading:h,tokenPriceError:p}})(t==="solana"?-1:t),{solPrice:i,isSolPriceLoading:s,solPriceError:o}=sme({enabled:t==="solana"});return t==="solana"?{tokenPrice:i,isTokenPriceLoading:s,tokenPriceError:o}:{tokenPrice:e,isTokenPriceLoading:r,tokenPriceError:n}}const ome=x.createContext(null);function pu(){let t=x.useContext(ome);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}async function AC(t,e,r,n){let i=Oue(t),s=await(async()=>n?await n():await e.prepareTransactionRequest({...i,account:{address:r,type:"json-rpc"}}))();return{...s,type:rDe[s.type]}}const HO=({pendingTransaction:t})=>{let{wallets:e}=pu(),{walletProxy:r,rpcConfig:n,chains:i,appId:s,nativeTokenSymbolForChainId:o}=bt(),[a,l]=x.useState(null),[c,u]=x.useState(t),{tokenPrice:h}=Q1(c.chainId),f=o(t.chainId)||"ETH",p=x.useMemo((()=>e.find((m=>m.walletClientType==="privy"))),[e]);return x.useEffect((()=>{(async function(){if(!r||!p)return c;let m=h1(c.chainId,i,n,{appId:s}),v=await AC(c,m,p.address);return l(Fn(BigInt(v.gas??0))),v})().then(u).catch(console.error)}),[r]),p?d.jsx(cpt,{children:d.jsx(ime,{from:p.address,to:c.to,txn:c,gas:a??void 0,tokenPrice:h,tokenSymbol:f})}):null};let cpt=ie.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-8d9a2f57-0"})(["width:100%;padding:1rem 0;"]),AL=ie.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]);const TL=({style:t,...e})=>d.jsx("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z"})}),ame=({hasBlockingError:t,error:e,onClose:r,onBack:n,handleSubmit:i,account:s,submitSuccess:o})=>{let{pendingTransaction:a}=bt();return d.jsxs(d.Fragment,{children:[d.jsx(xr,{onClose:r},"header"),d.jsx(AL,{children:d.jsxs("div",{children:[d.jsx(Uge,{success:o,fail:!!e}),d.jsx(e?vg:TL,{style:{width:"38px",height:"38px"}})]})}),d.jsx(ca,{style:{marginTop:"1rem"},children:"Verifying with passkey"}),d.jsxs(W8,{children:[d.jsxs(O0,{children:[d.jsx(R0,{children:d.jsx(X0,{})}),"Approve this action using your touch, face, PIN, or hardware key."]}),d.jsxs(O0,{children:[d.jsx(R0,{children:d.jsx(GFe,{})}),"You last added a passkey on"," ",s?.firstVerifiedAt?.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),"."]})]}),a&&d.jsx(og,{children:d.jsx(HO,{pendingTransaction:a})}),e&&d.jsxs(d.Fragment,{children:[d.jsx(qge,{style:{marginTop:"1.25rem"},children:e.message}),d.jsx(an,{disabled:t,onClick:i,style:{marginTop:"1.25rem"},children:"Try again"})]}),n&&d.jsx(qO,{style:{marginTop:"1rem"},onClick:n,children:"Choose another method"}),d.jsx(vi,{})]})};let upt=Array(6).fill("");var xw,dpt=((xw=dpt||{})[xw.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",xw[xw.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",xw);function VO(t){return/^[0-9]{1}$/.test(t)}function WQ(t){return t.length===6&&t.every(VO)}const TC=({onChange:t,disabled:e,errorReasonOverride:r,success:n})=>{let[i,s]=x.useState(upt),[o,a]=x.useState(null),[l,c]=x.useState(null),u=async f=>{f.preventDefault();let p=f.currentTarget.value.replace(/\s+/g,"");if(p==="")return;let m=i.reduce(((P,F)=>P+Number(VO(F))),0),v=p.split(""),w=!v.every(VO),b=v.length+m>6;if(w)return a("Passcode can only be numbers"),void c(1);if(b)return a("Passcode must be exactly 6 numbers"),void c(1);a(null),c(null);let E=Number(f.currentTarget.name?.charAt(4)),_=[...p||[""]].slice(0,6-E),A=[...i.slice(0,E),..._,...i.slice(E+_.length)];s(A);let C=Math.min(Math.max(E+_.length,0),5);if(document.querySelector(`input[name=pin-${C}]`)?.focus(),WQ(A))try{await t(A.join("")),document.querySelector(`input[name=pin-${C}]`)?.blur()}catch(P){c(1),a(P.message)}else try{await t(null)}catch(P){c(1),a(P.message)}},h=n?"success":!r&&!o?"":"fail";return d.jsx(d.Fragment,{children:d.jsxs(hpt,{children:[d.jsx("div",{children:i.map(((f,p)=>d.jsx("input",{name:`pin-${p}`,type:"text",value:i[p],onChange:u,onKeyUp:m=>{m.key==="Backspace"&&(v=>{l===1&&(a(null),c(null));let w=[...i.slice(0,v),"",...i.slice(v+1)];s(w),v>0&&document.querySelector(`input[name=pin-${v-1}]`)?.focus(),WQ(w)?t(w.join("")):t(null)})(p)},inputMode:"numeric",autoFocus:p===0,pattern:"[0-9]",className:h,autoComplete:Vr.isMobile?"one-time-code":"off",disabled:e},p)))}),d.jsx("div",{children:d.jsx(fpt,{$fail:!!r||!!o,children:r||o})})]})})};let hpt=ie.div.withConfig({displayName:"PinInputContainer",componentId:"sc-7a171f6-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),fpt=ie.div.withConfig({displayName:"InputHelp",componentId:"sc-7a171f6-1"})(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:",";"],(t=>t.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"));const lme=({selectedMethod:t,submitSuccess:e,hasBlockingError:r,onClose:n,onBack:i,handleSubmitCode:s})=>{let{app:o}=It(),{pendingTransaction:a}=bt();switch(t){case"sms":return d.jsxs(d.Fragment,{children:[d.jsx(xr,{onClose:n},"header"),d.jsx(Dl,{style:{marginBottom:"1.5rem"},children:d.jsx(rp,{})}),d.jsx(ca,{children:"Enter verification code"}),d.jsxs(og,{children:[d.jsx(TC,{success:e,disabled:r,onChange:s}),d.jsxs(Ml,{children:["To continue, please enter the 6-digit code sent to your ",d.jsx("strong",{children:"mobile device"})]}),a&&d.jsx(HO,{pendingTransaction:a})]}),i&&d.jsx(qO,{theme:o?.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),d.jsx(ou,{onClick:n,children:"Cancel"}),d.jsx(vi,{})]});case"totp":return d.jsxs(d.Fragment,{children:[d.jsx(xr,{onClose:n},"header"),d.jsx(Dl,{style:{marginBottom:"1.5rem"},children:d.jsx(t8,{})}),d.jsx(ca,{children:"Enter verification code"}),d.jsxs(og,{children:[d.jsx(TC,{success:e,disabled:r,onChange:s}),d.jsxs(Ml,{children:["To continue, please enter the 6-digit code generated from your"," ",d.jsx("strong",{children:"authenticator app"})]}),a&&d.jsx(HO,{pendingTransaction:a})]}),i&&d.jsx(qO,{theme:o?.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),d.jsx(ou,{onClick:n,children:"Cancel"}),d.jsx(vi,{})]});default:return null}},ppt=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];class Jn extends Error{constructor(e,r){super(r),this.type=e}}function Z1(t){let e=t.type;return typeof e=="string"&&ppt.includes(e)}function rx(t){return Z1(t)&&t.type==="wallet_not_on_device"}function IL(t){return!!Z1(t)&&t.type==="mfa_timeout"}function PL(t){return!!Z1(t)&&t.type==="missing_or_invalid_mfa"}function gpt(t){return!!Z1(t)&&t.type==="mfa_verification_max_attempts_reached"}function cme(t){return!(!Z1(t)||!t.message.includes("code 429"))}function ume(t){return!!(function(e){let r=e.type;return typeof r=="string"&&r==="client_error"})(t)&&t.message==="MFA canceled"}const IC=t=>gpt(t)?{isBlocking:!0,error:Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.")}:PL(t)?{isBlocking:!1,error:Error("The code you entered is not valid")}:IL(t)?{isBlocking:!0,error:Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")}:(console.error(t),{isBlocking:!1,error:Error("Something went wrong.")}),mpt={component:()=>{let{user:t}=Pr(),{data:e}=It(),[r,n]=x.useState(t?.mfaMethods[0]),[i,s]=x.useState(!1),[o,a]=x.useState(),[l,c]=x.useState();if(x.useEffect((()=>{n(t?.mfaMethods[0])}),[t?.mfaMethods]),!e?.mfaVerify)throw Error("Missing modal data for MFA verification screen.");let{onFailure:u,onSuccess:h,generateOptions:f,verifyTotpCode:p,verifyPasskey:m,verifySmsCode:v,sendSmsCode:w}=e.mfaVerify,b=async C=>{if(C!=="passkey")try{n(C),C==="sms"&&(n(C),await w()),C==="totp"&&n(C)}catch(k){console.error(k)}else try{n(C);let k=await f();if(!k)throw Error("something went wrong");a(k),await m(k),s(!0),c(void 0),h()}catch(k){c(IC(k))}},E=async C=>{c(void 0);try{if(!C||!r)return;if(r==="passkey"){if(!o)throw Error("Missing passkey challenge");await m(o)}else r==="sms"?await v(C):r==="totp"&&await p(C);c(void 0),s(!0),h()}catch(k){throw IC(k).error}},_=()=>{l||!i?u(l?.error??Error("Canceled MFA verification.")):h()},A=x.useRef(!1);return x.useEffect((()=>{!A.current&&r&&(A.current=!0,b(r).finally((()=>{A.current=!1})))}),[open]),t?r==="passkey"?d.jsx(ame,{account:t.linkedAccounts.filter((C=>C.type==="passkey"&&C.enrolledInMfa)).sort(((C,k)=>k.firstVerifiedAt.valueOf()-C.firstVerifiedAt.valueOf()))[0],submitSuccess:i,hasBlockingError:l?.isBlocking??!1,error:l?.error,onClose:_,onBack:()=>{n(void 0),c(void 0)},handleSubmit:()=>E(o).catch(c)}):r==="sms"||r==="totp"?d.jsx(lme,{selectedMethod:r,submitSuccess:i,hasBlockingError:l?.isBlocking??!1,handleSubmitCode:E,onClose:_,onBack:t.mfaMethods.length>1?()=>n(void 0):void 0}):d.jsx(Wge,{user:t,onSelect:b,handleClose:_}):null}};function dme(){let{promptMfa:t,init:e,submit:r,cancel:n,mfaMethods:i}=x.useContext(j1);return{promptMfa:t,init:e,submit:r,cancel:n,mfaMethods:i}}const HQ=({onClose:t})=>{let{user:e}=Pr(),[r,n]=x.useState(e?.mfaMethods[0]??null),{init:i,cancel:s,submit:o}=dme(),[a,l]=x.useState(!1),[c,u]=x.useState(null),[h,f]=x.useState();x.useEffect((()=>{n(e?.mfaMethods[0]??null)}),[e?.mfaMethods]);let p=x.useRef(!1);async function m(b){f(void 0);try{if(!b||!r)return;await o(r,b),l(!0),f(void 0),t()}catch(E){throw IC(E).error}}async function v(b){if(b!=="passkey")try{n(b),await i(b)}catch(E){console.error(E)}else try{n(b);let E=await i(b);if(!E)throw Error("something went wrong");u(E),await o(b,E),l(!0),f(void 0),t()}catch(E){f(IC(E))}}x.useEffect((()=>{!p.current&&r&&(p.current=!0,v(r).finally((()=>{p.current=!1})))}),[]);let w=()=>{n(null),f(void 0),s(),t()};return e?r==="passkey"?d.jsx(ame,{account:e.linkedAccounts.filter((b=>b.type==="passkey"&&b.enrolledInMfa)).sort(((b,E)=>E.firstVerifiedAt.valueOf()-b.firstVerifiedAt.valueOf()))[0],submitSuccess:a,hasBlockingError:h?.isBlocking??!1,error:h?.error,onClose:w,onBack:()=>{n(null),f(void 0)},handleSubmit:()=>m(c).catch(f)}):r?d.jsx(lme,{submitSuccess:a,hasBlockingError:h?.isBlocking??!1,handleSubmitCode:m,selectedMethod:r,onClose:w,onBack:e.mfaMethods.length>1?()=>n(null):void 0}):d.jsx(Wge,{user:e,onSelect:v,handleClose:w}):null},PC=D1((()=>({inProgressMfaFlow:void 0}))),ypt=uFe([":root{","};"],(t=>vpt(t.palette))),vpt=t=>Zi(["",""],Object.entries((function(e){return{"--privy-color-background":e.background,"--privy-color-background-2":e.background2,"--privy-color-background-3":e.background3,"--privy-color-foreground":e.foreground,"--privy-color-foreground-2":e.foreground2,"--privy-color-foreground-3":e.foreground3,"--privy-color-foreground-4":e.foreground4,"--privy-color-foreground-accent":e.foregroundAccent,"--privy-color-accent":e.accent,"--privy-color-accent-light":e.accentLight,"--privy-color-accent-hover":e.accentHover,"--privy-color-accent-dark":e.accentDark,"--privy-color-accent-darkest":e.accentDarkest,"--privy-color-success":e.success,"--privy-color-success-dark":e.successDark,"--privy-color-success-light":e.successLight,"--privy-color-success-bg":e.successBg,"--privy-color-error":e.error,"--privy-color-error-light":e.errorLight,"--privy-color-error-bg":e.errorBg,"--privy-color-error-bg-hover":e.errorBgHover,"--privy-color-warn":e.warn,"--privy-color-warn-light":e.warnLight,"--privy-color-warn-bg":e.warnBg,"--privy-color-warning-dark":e.warningDark,"--privy-color-error-dark":e.errorDark,"--privy-color-info-bg":e.infoBg,"--privy-color-info-bg-hover":e.infoBgHover,"--privy-color-border-default":e.borderDefault,"--privy-color-border-hover":e.borderHover,"--privy-color-border-focus":e.borderFocus,"--privy-color-border-error":e.borderError,"--privy-color-border-success":e.borderSuccess,"--privy-color-border-warning":e.borderWarning,"--privy-color-border-info":e.borderInfo,"--privy-color-border-interactive":e.borderInteractive,"--privy-color-border-interactive-hover":e.borderInteractiveHover,"--privy-color-background-hover":e.backgroundHover,"--privy-color-background-clicked":e.backgroundClicked,"--privy-color-background-disabled":e.backgroundDisabled,"--privy-color-background-interactive":e.backgroundInteractive,"--privy-color-background-interactive-hover":e.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":e.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":e.backgroundInteractiveDisabled,"--privy-color-foreground-hover":e.foregroundHover,"--privy-color-foreground-clicked":e.foregroundClicked,"--privy-color-foreground-disabled":e.foregroundDisabled,"--privy-color-foreground-interactive":e.foregroundInteractive,"--privy-color-foreground-interactive-hover":e.foregroundInteractiveHover,"--privy-link-navigation-color":e.linkNavigationColor,"--privy-link-navigation-decoration":e.linkNavigationDecoration,"--privy-accent-has-good-contrast":e.accentHasGoodContrast,"--privy-color-icon-default":e.iconDefault,"--privy-color-icon-muted":e.iconMuted,"--privy-color-icon-subtle":e.iconSubtle,"--privy-color-icon-inverse":e.iconInverse,"--privy-color-icon-success":e.iconSuccess,"--privy-color-icon-warning":e.iconWarning,"--privy-color-icon-error":e.iconError,"--privy-color-icon-interactive":e.iconInteractive,"--privy-color-icon-default-hover":e.iconDefaultHover,"--privy-color-icon-muted-hover":e.iconMutedHover,"--privy-color-icon-subtle-hover":e.iconSubtleHover,"--privy-color-icon-default-clicked":e.iconDefaultClicked,"--privy-color-icon-muted-clicked":e.iconMutedClicked,"--privy-color-icon-subtle-clicked":e.iconSubtleClicked,"--privy-color-icon-default-disabled":e.iconDefaultDisabled,"--privy-color-icon-muted-disabled":e.iconMutedDisabled,"--privy-color-icon-subtle-disabled":e.iconSubtleDisabled,"--privy-color-icon-error-hover":e.iconErrorHover,"--privy-color-icon-interactive-hover":e.iconInteractiveHover,"--privy-color-icon-error-clicked":e.iconErrorClicked,"--privy-color-icon-interactive-clicked":e.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":e.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":e.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}})(t)).map((([e,r])=>`${e}: ${r};`)).join(`
`)),VQ=ie.div.withConfig({displayName:"StylesWrapper",componentId:"sc-188229e4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 3px var(--privy-color-border-focus);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`),wpt=({children:t,open:e,onClick:r,...n})=>d.jsx($he,{show:e,as:ht.Fragment,children:d.jsxs(_qe,{onClose:r,...n,as:xpt,children:[d.jsx(q2,{as:ht.Fragment,enterFrom:"entering",leaveTo:"leaving",children:d.jsx(bpt,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),d.jsx(_pt,{children:d.jsx(q2,{as:ht.Fragment,enterFrom:"entering",leaveTo:"leaving",children:d.jsx(Nhe,{as:Cpt,children:t})})})]})});let bpt=ie.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),xpt=ie.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),_pt=ie.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const Cpt=ie.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),Ept=ie.div.withConfig({displayName:"CenterItem",componentId:"sc-3cfde0b5-4"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]);let hme=()=>{let{ready:t,isModalOpen:e}=Pr(),{headless:r}=zr(),{currentScreen:n}=It(),{status:i,execute:s,reset:o,enabled:a}=Ca(),l=PC((h=>h.inProgressMfaFlow)),c=()=>PC.setState({inProgressMfaFlow:void 0}),u=e&&n&&n.isCaptchaRequired&&!r&&i==="ready";return x.useEffect((()=>{u&&s()}),[u]),x.useEffect((()=>{!e&&a&&o()}),[e,a]),n&&!t&&n.isShownBeforeReady?d.jsxs(d.Fragment,{children:[d.jsx(xr,{}),d.jsx(fu,{}),d.jsx(Ept,{children:d.jsx(Ql,{})}),d.jsx(ol,{}),d.jsx(vi,{})]}):n||l!=="txn"?n?d.jsxs(d.Fragment,{children:[d.jsx(f1,{$if:!!l,children:d.jsx(n.component,{})}),l==="txn"&&d.jsx(HQ,{onClose:c}),l==="auth"&&d.jsx(mpt.component,{})]}):null:d.jsx(HQ,{onClose:c})},kpt=()=>{let t=x.useRef(null);return d.jsx(Apt,{style:{height:Pht(t)},id:"privy-modal-content",children:d.jsx("div",{ref:t,children:d.jsx(hme,{})})})};const Spt=({open:t})=>{let e=zr(),{gracefulClosePrivyModal:r}=(()=>{let{closePrivyModal:i}=bt(),{onUserCloseViaDialogOrKeybindRef:s}=It();return{gracefulClosePrivyModal:x.useCallback((()=>{if(!s?.current)return i({shouldCallAuthOnSuccess:!1});s.current()}),[i])}})(),n=PC((i=>i.inProgressMfaFlow));return Nht({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||PC.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?d.jsx(VQ,{children:d.jsx(fme,{id:"privy-modal-content",children:d.jsx(hme,{})})}):d.jsx(wpt,{open:!(!t&&!n),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>r(),children:d.jsx(VQ,{children:d.jsx(kpt,{})})})};let fme=ie.div.withConfig({displayName:"ContentWrapper",componentId:"sc-b220e1ee-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),Apt=ie(fme).withConfig({displayName:"BaseModal",componentId:"sc-b220e1ee-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]);function Tpt(t){let e=x.useRef(null),r=x.useRef();return x.useEffect((()=>{r.current?.remove(),r.current=(function({botUsername:n,scriptHost:i}){let s=document.createElement("script"),{origin:o}=new URL(i);return s.async=!0,s.src=`${o}/js/telegram-login.js`,s.setAttribute("data-telegram-login",n),s.setAttribute("data-request-access","write"),s.setAttribute("data-lang","en"),s})(t),e.current?.after(r.current)}),[t]),d.jsx("div",{ref:e,hidden:!0})}const Sr=({address:t,showCopyIcon:e,url:r,className:n})=>{let[i,s]=x.useState(!1);function o(a){a.stopPropagation(),navigator.clipboard.writeText(t).then((()=>s(!0))).catch(console.error)}return x.useEffect((()=>{if(i){let a=setTimeout((()=>s(!1)),3e3);return()=>clearTimeout(a)}}),[i]),d.jsxs(Ipt,r?{children:[d.jsx($pt,{title:t,className:n,href:`${r}/address/${t}`,target:"_blank",children:Fs(t)}),e&&d.jsx(ou,{onClick:o,size:"sm",style:{gap:"0.375rem"},children:d.jsxs(d.Fragment,i?{children:["Copied",d.jsx(W2,{size:16})]}:{children:["Copy",d.jsx(eC,{size:16})]})})]}:{children:[d.jsx(Ppt,{title:t,className:n,children:Fs(t)}),e&&d.jsx(ou,{onClick:o,size:"sm",style:{gap:"0.375rem",fontSize:"14px"},children:d.jsxs(d.Fragment,i?{children:["Copied",d.jsx(W2,{size:14})]}:{children:["Copy",d.jsx(eC,{size:14})]})})]})};let Ipt=ie.span.withConfig({displayName:"AddressContainer",componentId:"sc-3a987cc8-0"})(["display:inline-flex;align-items:center;gap:0.5rem;"]),Ppt=ie.span.withConfig({displayName:"AddressText",componentId:"sc-3a987cc8-1"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),$pt=ie.a.withConfig({displayName:"AddressLink",componentId:"sc-3a987cc8-2"})(["font-size:14px;color:var(--privy-color-foreground);text-decoration:none;&:hover{text-decoration:underline;}"]);const Npt=()=>{let{solanaWallets:t}=bt(),{ready:e,wallets:r}=pu();return x.useEffect((()=>{if(e){let n=[...r,...t].map((i=>({address:i.address,connectorType:i.connectorType,walletClientType:i.walletClientType,connectedAt:i.connectedAt,id:i.meta.id})));Jt.put(tge,n)}}),[e,r,t]),null};async function Cl(t,e,r,n,i,s=!1){let o=s,a=async c=>{if(o&&e&&e.length>0){c===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):n.current?.reject(new Jn("missing_or_invalid_mfa","MFA verification failed, retry."));let u=await new Promise(((h,f)=>{r.current={resolve:h,reject:f},setTimeout((()=>{let p=new Jn("mfa_timeout","Timed out waiting for MFA code");n.current?.reject(p),f(p)}),3e5)}));return await t(u)}return await t()},l=null;for(let c=0;c<4;c++)try{l=await a(c),n.current?.resolve(void 0);break}catch(u){if(u.type!=="missing_or_invalid_mfa")throw n.current?.resolve(void 0),u;o=!0}if(l===null){let c=new Jn("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw n.current?.reject(c),c}return l}var GQ;let Rpt=(GQ=0,()=>"id-"+GQ++);function Bi(t){return t.error!==void 0}let Ei=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let r=this.callbacks[e];if(!r)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return r;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},L7=new Map,Opt=(t,e)=>typeof e=="bigint"?e.toString():e;function zi(t,e,r,n){let i=r.contentWindow;if(!i)throw Error("iframe not initialized");let s=((a,l)=>`${a}${JSON.stringify(l,Opt)}`)(t,e);if(t==="privy:wallet:create"){let a=L7.get(s);if(a)return a}let o=new Promise(((a,l)=>{let c=Rpt();Ei.enqueue(c,{resolve:a,reject:l}),i.postMessage({id:c,event:t,data:e},n)})).finally((()=>{L7.delete(s)}));return L7.set(s,o),o}function jpt(t){let e=Rge(),r=x.useRef(null),n=x.useRef(t.mfaMethods),i=Dh(),[s,o]=x.useState(!1);return x.useEffect((()=>{n.current=t.mfaMethods}),[t.mfaMethods]),x.useEffect((()=>{if(!s)return;let a=r.current;if(!a)return;function l(h){var f;h&&h.origin===t.origin&&typeof(f=h.data).event=="string"&&/^privy:.+/.test(f.event)&&(function(p){switch(p.event){case"privy:iframe:ready":let m=Ei.dequeue(p.event,p.id);return Bi(p)?m.reject(new Jn(p.error.type,p.error.message)):m.resolve(p.data);case"privy:user-signer:sign":{let _=Ei.dequeue(p.event,p.id);return Bi(p)?_.reject(new Jn(p.error.type,p.error.message)):_.resolve(p.data)}case"privy:wallets:add":{let _=Ei.dequeue(p.event,p.id);return Bi(p)?_.reject(new Jn(p.error.type,p.error.message)):_.resolve(p.data)}case"privy:wallets:set-recovery":{let _=Ei.dequeue(p.event,p.id);return Bi(p)?_.reject(new Jn(p.error.type,p.error.message)):_.resolve(p.data)}case"privy:wallets:connect":{let _=Ei.dequeue(p.event,p.id);return Bi(p)?_.reject(new Jn(p.error.type,p.error.message)):_.resolve(p.data)}case"privy:wallets:recover":{let _=Ei.dequeue(p.event,p.id);return Bi(p)?_.reject(new Jn(p.error.type,p.error.message)):_.resolve(p.data)}case"privy:wallets:rpc":{let _=Ei.dequeue(p.event,p.id);return Bi(p)?_.reject(new Jn(p.error.type,p.error.message)):_.resolve(p.data)}case"privy:wallet:create":let v=Ei.dequeue(p.event,p.id);return Bi(p)?v.reject(new Jn(p.error.type,p.error.message)):v.resolve(p.data);case"privy:wallets:import":let w=Ei.dequeue(p.event,p.id);return Bi(p)?w.reject(new Jn(p.error.type,p.error.message)):w.resolve(p.data);case"privy:mfa:verify":let b=Ei.dequeue(p.event,p.id);return Bi(p)?b.reject(new Jn(p.error.type,p.error.message)):b.resolve(p.data);case"privy:mfa:init-enrollment":{let _=Ei.dequeue(p.event,p.id);return Bi(p)?_.reject(new Jn(p.error.type,p.error.message)):_.resolve(p.data)}case"privy:mfa:submit-enrollment":{let _=Ei.dequeue(p.event,p.id);return Bi(p)?_.reject(new Jn(p.error.type,p.error.message)):_.resolve(p.data)}case"privy:mfa:unenroll":{let _=Ei.dequeue(p.event,p.id);return Bi(p)?_.reject(new Jn(p.error.type,p.error.message)):_.resolve(p.data)}case"privy:mfa:clear":{let _=Ei.dequeue(p.event,p.id);return Bi(p)?_.reject(new Jn(p.error.type,p.error.message)):_.resolve(p.data)}case"privy:auth:unlink-passkey":{let _=Ei.dequeue(p.event,p.id);return Bi(p)?_.reject(new Jn(p.error.type,p.error.message)):_.resolve(p.data)}case"privy:solana-wallet:create":let E=Ei.dequeue(p.event,p.id);return Bi(p)?E.reject(new Jn(p.error.type,p.error.message)):E.resolve(p.data);case"privy:farcaster:init-signer":{let _=Ei.dequeue(p.event,p.id);return Bi(p)?_.reject(new Jn(p.error.type,p.error.message)):_.resolve(p.data)}case"privy:farcaster:sign":{let _=Ei.dequeue(p.event,p.id);return Bi(p)?_.reject(new Jn(p.error.type,p.error.message)):_.resolve(p.data)}case"privy:delegated-actions:consent":{let _=Ei.dequeue(p.event,p.id);return Bi(p)?_.reject(new Jn(p.error.type,p.error.message)):_.resolve(p.data)}default:console.warn("Unsupported wallet proxy method:",p)}})(h.data)}let c={signWithUserSigner:h=>Cl((f=>zi("privy:user-signer:sign",{...h,...f},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:h=>Cl((f=>zi("privy:wallets:add",{...h,...f},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:h=>Cl((f=>zi("privy:wallets:set-recovery",{...h,...f},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:h=>Cl((f=>zi("privy:wallets:connect",{...h,...f},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:h=>Cl((f=>zi("privy:wallets:recover",{...h,...f},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i,!h.recoveryAccessToken&&!h.recoveryPassword&&!h.recoverySecretOverride),rpc:h=>Cl((f=>zi("privy:wallets:rpc",{...h,...f},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),create:h=>zi("privy:wallet:create",h,a,t.origin),importWallet:h=>zi("privy:wallets:import",h,a,t.origin),createSolana:h=>Cl((f=>zi("privy:solana-wallet:create",{...h,...f},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:h=>zi("privy:delegated-actions:consent",h,a,t.origin),verifyMfa:h=>Cl((f=>zi("privy:mfa:verify",{...h,...f},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:h=>Cl((f=>zi("privy:mfa:init-enrollment",{...h,...f},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:h=>Cl((f=>zi("privy:mfa:submit-enrollment",{...h,...f},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:h=>Cl((f=>zi("privy:mfa:unenroll",{...h,...f},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:h=>zi("privy:mfa:clear",h,a,t.origin),unlinkPasskeyAccount:h=>Cl((f=>zi("privy:auth:unlink-passkey",{...h,...f},a,t.origin)),n.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:h=>zi("privy:farcaster:init-signer",h,a,t.origin),signFarcasterMessage:h=>zi("privy:farcaster:sign",h,a,t.origin)};window.addEventListener("message",l);let u=new AbortController;return MO((()=>zi("privy:iframe:ready",{},a,t.origin)),{abortSignal:u.signal}).then((()=>t.onLoad(c)),((...h)=>{console.warn("Privy iframe failed to load: ",...h),t.onLoadFailed()})),()=>{window.removeEventListener("message",l),u.abort()}}),[s]),e?d.jsx("iframe",{ref:r,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>o(!0),src:wge(t.origin,`/apps/${t.appId}/embedded-wallets`,{caid:t.clientAnalyticsId,client_id:t.appClientId})}):null}function p1(t){return["ethereum","solana"].includes(t.chainType)}const Mpt=({address:t,user:e})=>{let r=e.linkedAccounts.find((n=>n.type==="wallet"&&n.walletClientType==="privy"&&n.address===t));if(!r)throw new fe("Address to delegate is not associated with current user.");if(!p1(r))throw new fe(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,walletIndex:r.walletIndex??0}},Dpt=({address:t,user:e})=>{let r=e.linkedAccounts.find((i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t));if(!r)throw new fe("Address to delegate is not associated with current user.");let n=r.imported?r:Kl(e);if(!n)throw new fe("Unable to determine root address for delegated address.");if(!p1(n))throw new fe(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,imported:n.imported}},KQ=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated)),Fpt=()=>{let t=zr();x.useEffect((()=>{(async e=>{let r=new URL("v3/wallets","https://explorer-api.walletconnect.com");r.searchParams.append("projectId",e);let n=await fetch(r);return n.ok?Object.values((await n.json()).listings).sort((({slug:i},{slug:s})=>i==="rainbow"&&s==="metamask"?1:i==="metamask"||i==="rainbow"?-1:1)):(console.debug(`Failed to fetch WalletConnect listings: ${await n.text().catch((()=>"No response."))}`),[])})(t.walletConnectCloudProjectId).then((e=>cht({listings:e}))).catch(console.error)}),[t.walletConnectCloudProjectId])};function pme(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const YQ="popup-privy-oauth",JQ="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class Lpt{async authenticate(){if(!this.api)throw new fe("Auth flow has no API instance");try{return await this.api.post(qce,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw jr(e)}}async link(){if(!this.api)throw new fe("Auth flow has no API instance");try{return await this.api.post(Wce,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw jr(e)}}constructor({authorizationCode:e,stateCode:r,codeVerifier:n,provider:i}){this.meta={authorizationCode:e,stateCode:r,codeVerifier:n,provider:i}}}async function gme({api:t,requesterAppId:e,providerAppId:r}){let n=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find((i=>i.provider_app_id===r));if(!n)throw new fe("Invalid connected app");return{name:n.provider_app_name,logoUrl:n.provider_app_icon_url||void 0,apiUrl:n.provider_app_custom_api_url,readOnly:n.read_only,customAuthAuthorizeUrl:n.provider_app_custom_auth_authorize_url,customAuthTransactUrl:n.provider_app_custom_auth_transact_url}}const G8=()=>window.open(void 0,void 0,Upt({w:440,h:680}));let Upt=({w:t,h:e})=>{let r=window.screenLeft!==void 0?window.screenLeft:window.screenX,n=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+r},top=${(s-e)/2/(s/window.screen.availHeight)+n}`};const U6=async({user:t,address:e,client:r,request:n,requesterAppId:i,reconnect:s})=>{r.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:n.method}});let o=t?.linkedAccounts.find((h=>h.type==="cross_app"&&(h.embeddedWallets.some((f=>f.address===e))||h.smartWallets.some((f=>f.address===e)))));if(!t||!o)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new fe("Cannot request a signature with this wallet address");let a=r.getProviderAccessToken(o.providerApp.id),l=await gme({api:r.api,requesterAppId:i,providerAppId:o.providerApp.id});if(!a){if(l.readOnly)throw console.error("cannot transact against a read-only provider app"),new fe("Cannot transact against a read-only provider app");await s({appId:o.providerApp.id,action:"link"})&&(a=r.getProviderAccessToken(o.providerApp.id))}if(!a)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new fe("Transactions require a valid token");let c=G8();if(!c)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new fe("Failed to initialize signature request");let u=new URL(l.customAuthTransactUrl||`${l.apiUrl}/oauth/transact`);return u.searchParams.set("token",a||""),u.searchParams.set("request",Bpt(n)),c.location=u.href,new Promise(((h,f)=>{let p=setTimeout((()=>{w(),f(new fe("Request timeout")),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})}),12e4),m=setInterval((()=>{c.closed&&(w(),f(new fe("User rejected request")),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))}),300),v=b=>{b.data&&(b.data.token?.action==="set"&&b.data.token?.value!==void 0?r.storeProviderAccessToken(o.providerApp.id,b.data.token.value):b.data.token?.action==="clear"&&r.storeProviderAccessToken(o.providerApp.id,null),b.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&b.data.result&&(w(),h(b.data.result),r.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:n.method}})),b.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&b.data.error&&(w(),f(b.data.error),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:b.data.error,address:e}})))};window.addEventListener("message",v);let w=()=>{c.close(),clearInterval(m),clearTimeout(p),window.removeEventListener("message",v)}}))};let Bpt=t=>JSON.stringify({content:{request:{request:GO(t,Fn)}},timestamp:Date.now(),callbackUrl:window.origin});const GO=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map((r=>GO(r,e))):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map((([r,n])=>[r,GO(n,e)]))):t,zpt=({title:t,description:e,children:r,...n})=>d.jsx(mme,{...n,children:d.jsxs(d.Fragment,{children:[d.jsx("h3",{children:t}),typeof e=="string"?d.jsx("p",{children:e}):e,r]})}),tl=({title:t,description:e,icon:r,children:n,...i})=>d.jsxs(qpt,{...i,children:[r||null,d.jsx("h3",{children:t}),e&&typeof e=="string"?d.jsx("p",{children:e}):e,n]});let mme=ie.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),qpt=ie(mme).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]);const yme=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",...t,children:[d.jsx("path",{fill:"url(#icloud-gradient)",d:"M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z"}),d.jsx("defs",{children:d.jsxs("linearGradient",{id:"icloud-gradient",x1:19.086,x2:3.333,y1:14.38,y2:14.163,gradientUnits:"userSpaceOnUse",children:[d.jsx("stop",{stopColor:"#3E82F4"}),d.jsx("stop",{offset:1,stopColor:"#93DCF7"})]})})]}),vme=({style:t,...e})=>d.jsxs("svg",{width:"16",height:"14",style:t,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsxs("g",{clipPath:"url(#clip0_2115_829)",children:[d.jsx("path",{d:"M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z",fill:"#0066DA",stroke:"#6366F1"}),d.jsx("path",{d:"M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z",fill:"#00AC47"}),d.jsx("path",{d:"M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z",fill:"#EA4335"}),d.jsx("path",{d:"M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z",fill:"#00832D"}),d.jsx("path",{d:"M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z",fill:"#2684FC"}),d.jsx("path",{d:"M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z",fill:"#FFBA00"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2115_829",children:d.jsx("rect",{width:"16",height:"14",fill:"white"})})})]});async function XQ({url:t,popup:e,provider:r}){return e.location=t,new Promise(((n,i)=>{function s(){e?.close(),window.removeEventListener("message",o)}function o(a){a.data&&(a.data.type==="PRIVY_OAUTH_RESPONSE"&&a.data.stateCode&&a.data.authorizationCode&&(n(a.data),s()),a.origin==="https://cdn.apple-cloudkit.com"&&a.data.ckSession&&(n({type:"PRIVY_OAUTH_RESPONSE",ckWebAuthToken:a.data.ckSession}),s()),a.data.type==="PRIVY_OAUTH_ERROR"&&(i(a.data.error),s()))}window.addEventListener("message",o)}))}async function Wpt({api:t,provider:e,stateCode:r,codeVerifier:n,authorizationCode:i}){if(!i||!r)throw new fe("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(i==="undefined")throw new fe("User denied confirmation during OAuth flow");try{return(await t.post(qOe,{authorization_code:i,state_code:r,code_verifier:n,provider:e})).access_token}catch(s){let o=jr(s);throw o.privyErrorCode?new fe(o.message||"Invalid code during OAuth flow.",void 0,o.privyErrorCode):o.message==="User denied confirmation during OAuth flow"?new fe("Invalid code during oauth flow.",void 0,ye.OAUTH_USER_DENIED):new fe("Invalid code during OAuth flow.",void 0,ye.UNKNOWN_AUTH_ERROR)}}async function QQ({api:t,provider:e}){let r=U8(),n=uL(),i=await dL(r);try{return e==="icloud"?{url:(await t.post(zOe,{client_type:"web"})).url}:{url:(await t.post(BOe,{redirect_to:window.location.href,code_challenge:i,state_code:n})).url,codeVerifier:r,stateCode:n,provider:e}}catch(s){throw jr(s)}}const $L=(t,{chainType:e,walletIndex:r}={})=>t?.linkedAccounts.filter((n=>!(n.type!=="wallet"||n.walletClientType!=="privy"||r!==void 0&&n.walletIndex!==r||e!==void 0&&n.chainType!==e)))??[],wme=async({user:t,accessToken:e,proxy:r,refreshSessionAndUser:n,privy:i,appConfig:s,recoverEmbeddedWallet:o,setUser:a,walletIndex:l,chainType:c,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})=>{if(l===0)if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await zN(i,{request:{chain_type:c}});else if(c==="ethereum"){let v=yg(t);v&&await o({address:v.address}),await r.create({accessToken:e,solanaAddress:v?.address,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})}else{if(c!=="solana")throw Error("Invalid input to create wallet");{let v=Yu(t);v&&await o({address:v.address}),await r.createSolana({accessToken:e,ethereumAddress:v?.address,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})}}else if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await zN(i,{request:{chain_type:c}});else{let{entropyId:v,entropyIdVerifier:w}=js(t);await o(),await r.addWallet({accessToken:e,entropyId:v,entropyIdVerifier:w,chainType:c,hdWalletIndex:l})}let p=await n(),m=$L(p,{chainType:c,walletIndex:l})[0];return a(p),{user:p,account:m}},NL=()=>{let{walletProxy:t,recoverEmbeddedWallet:e,setUser:r,refreshSessionAndUser:n,privy:i,client:s}=bt(),o=zr();return{create:async({walletIndex:a,chainType:l,latestUser:c,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})=>{let p=c;p||(p=await n());let m=await s.getAccessToken();if(!p||!m||!t)throw Error("User must be authenticated before creating a Privy wallet");return await wme({appConfig:o,user:p,refreshSessionAndUser:n,privy:i,accessToken:m,proxy:t,recoverEmbeddedWallet:e,setUser:r,walletIndex:a,chainType:l,recoveryMethod:u,recoveryPassword:h,recoveryAccessToken:f})}}},Hpt=({title:t,description:e,onClose:r})=>d.jsx(Mr,{title:t,subtitle:e,icon:e3,iconVariant:"success",watermark:!0,onBack:r}),RL={component:()=>{let{user:t}=Pr(),{closePrivyModal:e,isNewUserThisSession:r,updateWallets:n}=bt(),{app:i,data:s,onUserCloseViaDialogOrKeybindRef:o}=It(),{onSuccess:a,onFailure:l,callAuthOnSuccessOnClose:c}=s.createWallet,u=()=>{let h=Yu(t)??yg(t);t&&h?(n(),a({user:t,account:h})):l(Error("Failed to create wallet")),e({shouldCallAuthOnSuccess:c})};return x.useEffect((()=>{let h=setTimeout(u,lL);return()=>clearTimeout(h)}),[]),o.current=u,d.jsx(Hpt,{title:r?"Welcome"+(i?.name?` to ${i?.name}`:""):"All set!",description:r?"You've successfully created an account.":"Your account is secured.",onClose:u})}},KO=ie.div.withConfig({displayName:"RecoveryContainer",componentId:"sc-12b46968-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),Vpt=ie.div.withConfig({displayName:"RecoveryExplainerContainer",componentId:"sc-12b46968-1"})(["padding-bottom:24px;"]);let ZQ={"google-drive":{name:"Google Drive",component:vme},icloud:{name:"iCloud",component:yme}};const bme={component:()=>{let{logout:t}=Pr(),{navigate:e,setModalData:r,data:n}=It(),{closePrivyModal:i,createAnalyticsEvent:s}=bt(),{execute:o}=(()=>{let{client:$,walletProxy:U,refreshSessionAndUser:O}=bt(),{data:D}=It(),{user:T}=Pr(),I=Dh(),{create:R}=NL();return{execute:async({provider:L,action:B,popup:q,shouldCreateEth:G,shouldCreateSol:W})=>{let j,Y;if(!$)throw new fe("Missing client");function Q(z){if(!z&&$)throw $.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:"Unable to open recovery OAuth popup",provider:L}}),new fe("Recovery OAuth failed")}switch(L){case"google-drive":{let z,Z,{url:ee,codeVerifier:te,stateCode:se}=await QQ({api:$.api,provider:L});Q(ee);try{let ce=await XQ({url:ee,popup:q,provider:L});if(z=ce.stateCode,Z=ce.authorizationCode,z!==se)throw $.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:L,storedStateCode:se??"",returnedStateCode:z??""}}),new fe("Unexpected auth flow. This may be a phishing attempt.",void 0,ye.OAUTH_UNEXPECTED)}catch(ce){throw $.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:ce.toString(),provider:L}}),new fe("Recovery OAuth failed")}[j,Y]=await Promise.all([$.getAccessToken(),Wpt({api:$.api,provider:L,codeVerifier:te,stateCode:z,authorizationCode:Z})]);break}case"icloud":{let{url:z}=await QQ({api:$.api,provider:L});Q(z);let{ckWebAuthToken:Z}=await XQ({url:z,popup:q,provider:L});Y=Z,j=await $.getAccessToken()}}if(!U)throw new fe("Cannot connect to wallet proxy");if(!j)throw new fe("Unable to authorize user");switch(B){case"recover":{let z=D?.recoverWallet?.entropyId,Z=D?.recoverWallet?.entropyIdVerifier;if(!z||!Z)throw new fe("Recovery OAuth failed");$.createAnalyticsEvent({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:z,recoveryMethod:L}}),await U.recover({accessToken:j,entropyId:z,entropyIdVerifier:Z,recoveryAccessToken:Y}),$.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:z,recoveryMethod:L}});break}case"create-wallet":{let z;if($.createAnalyticsEvent({eventName:"embedded_wallet_creation_started"}),G&&W)z=await R({recoveryMethod:L,recoveryAccessToken:Y,chainType:"ethereum",walletIndex:0,latestUser:T}),z=await R({chainType:"solana",walletIndex:0,latestUser:z.user});else if(W)z=await R({recoveryMethod:L,recoveryAccessToken:Y,chainType:"solana",walletIndex:0,latestUser:T});else{if(!G)throw Error("Invalid args to create wallet");z=await R({recoveryMethod:L,recoveryAccessToken:Y,chainType:"ethereum",walletIndex:0,latestUser:T})}if(!z)throw I("createWallet","onError",ye.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");$.createAnalyticsEvent({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:z.account.address}}),I("createWallet","onSuccess",{wallet:z.account});break}case"set-recovery":{let z=Kl(T);if(!z)throw I("setWalletRecovery","onError",ye.EMBEDDED_WALLET_NOT_FOUND),Error("Embedded wallet not found");$.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:z.address,existingRecoveryMethod:z.recoveryMethod,targetRecoveryMethod:L}});let{entropyId:Z,entropyIdVerifier:ee}=js(T);await U.setRecovery({accessToken:j,entropyId:Z,entropyIdVerifier:ee,recoveryMethod:L,recoveryAccessToken:Y});let te=Kl(await O());if(!te)throw I("createWallet","onError",ye.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to set recovery on wallet");$.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:z.address,existingRecoveryMethod:z.recoveryMethod,targetRecoveryMethod:L}}),I("setWalletRecovery","onSuccess",{method:L,wallet:te});break}default:throw new fe("Unsupported recovery action")}}}})(),[a,l]=x.useState(!1),{provider:c,action:u,isInAccountCreateFlow:h,shouldCreateEth:f,shouldCreateSol:p}=n?.recoveryOAuthStatus,[m,v]=x.useState(void 0),[w,b]=x.useState(u==="create-wallet");if(c==="user-passcode")throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`");let E=ZQ[c].name,_=ZQ[c].component,A=n?.recoverWallet?.onCompleteNavigateTo,C=new No((async($="create-wallet")=>(b(!0),new Promise(((U,O)=>{setTimeout((async()=>{try{let D=window.open();await o({provider:c,action:$,popup:D,shouldCreateEth:f,shouldCreateSol:p}),l(!0),U()}catch{v({message:`${$==="recover"?"Recovery":"Back up"} with ${E} unsuccessful`,detail:u==="recover"?`Please verify that you are selecting the ${E} account associated with your backup.`:"",retryable:!0}),O()}}),0)})))));x.useEffect((()=>{u!=="recover"&&C.execute(h?"create-wallet":"set-recovery")}),[]),x.useEffect((()=>{if(!a)return;let $=setTimeout((()=>{h?(r({createWallet:{onSuccess:()=>{},onFailure:U=>{s({eventName:"embedded_wallet_creation_failure_logout",payload:{error:U,screen:"RecoveryOAuthScreen"}}),t()},callAuthOnSuccessOnClose:!0,shouldCreateEth:!1,shouldCreateSol:!1}}),e(RL)):i({shouldCallAuthOnSuccess:!1})}),Bn);return()=>clearTimeout($)}),[a]);let k=x.useCallback((async()=>{await C.execute("recover"),A?e(A):l(!0)}),[]),P=c==="google-drive"?"Google Drive":"Apple iCloud",F=a&&`Successfully ${u==="recover"?"recovered":"backed up"} with ${P}.`||m&&m.message||`${u==="recover"?"Recovering":"Backing up"} with ${P}...`,N=m?m.detail:"";return d.jsxs(d.Fragment,{children:[d.jsx(xr,{}),w?d.jsx(d.Fragment,{children:d.jsxs(KO,{children:[d.jsx(tl,{title:F,icon:d.jsx(_,{style:{width:"38px",height:"38px"}}),description:N}),m&&m?.retryable?d.jsx(an,{onClick:()=>{OO(),v(void 0),u==="create-wallet"?C.execute("create-wallet"):k()},disabled:!a&&!m?.retryable,children:"Try again"}):null]})}):d.jsxs(KO,{children:[d.jsx(tl,{title:"Confirm it's really you",icon:d.jsx(_,{style:{height:42,width:48}}),description:`To confirm your identity, please log in to ${P} where your account is backed up.`}),d.jsxs(an,{onClick:k,children:["Confirm with ",P]})]}),d.jsx(Ur,{})]})}};let U7=ie.div.withConfig({displayName:"IconContainer",componentId:"sc-ccfae04f-0"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]),Gpt={"google-drive":"Google Drive",icloud:"iCloud","user-passcode":"password",privy:"Privy","privy-v2":"Privy"},Kpt=({onClose:t})=>d.jsxs(Vpt,{children:[d.jsx(tl,{title:"Why do I need to secure my account?",icon:d.jsx(jy,{width:48}),description:d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them."}),d.jsx("p",{children:"To use this app on new devices, secure account secrets using a password, your Google or your Apple account. Its important you dont lose access to the method you choose."})]})}),d.jsx(an,{onClick:t,children:"Select backup method"})]});const YO={component:()=>{let[t,e]=x.useState(!1),{navigate:r,lastScreen:n,navigateBack:i,setModalData:s,data:o,onUserCloseViaDialogOrKeybindRef:a}=It(),{user:l}=Pr(),{embeddedWallets:c}=zr(),{closePrivyModal:u}=bt(),h=Kl(l),f=h===null,{isInAccountCreateFlow:p,isResettingPassword:m,shouldCreateEth:v,shouldCreateSol:w}=o.recoverySelection,b=h&&h.recoveryMethod!=="privy",E=b?d.jsxs("span",{children:["Your account is currently secured using"," ",d.jsx("strong",{children:Gpt[h?.recoveryMethod||"user-passcode"]}),"."]}):"Select a method for logging in on new devices and recovering your account.";function _(C){s({recoveryOAuthStatus:{provider:C,action:f?"create-wallet":"set-recovery",isInAccountCreateFlow:p,shouldCreateEth:v,shouldCreateSol:w}}),r(bme)}function A(){o?.setWalletPassword?.onFailure(Error("User exited set recovery flow")),u({shouldCallAuthOnSuccess:o?.setWalletPassword?.callAuthOnSuccessOnClose??!1})}return a.current=A,d.jsxs(d.Fragment,{children:[d.jsx(xr,{onClose:A,backFn:t?()=>e(!1):n?i:void 0,infoFn:n||t?void 0:()=>e(!0)},"header"),t?d.jsx(Kpt,{onClose:()=>e(!1)}):d.jsxs(d.Fragment,{children:[d.jsx(tl,{title:b?"Update backup method":"Secure your account",icon:d.jsx(W0e,{width:48}),description:E}),d.jsx(KO,{children:c.userOwnedRecoveryOptions.filter((C=>!["icloud","google-drive"].includes(h?.recoveryMethod||"")||C!==h?.recoveryMethod)).sort().map((C=>{switch(C){case"google-drive":return d.jsxs(Vn,{onClick:()=>_("google-drive"),children:[d.jsx(U7,{children:d.jsx(vme,{style:{width:18}})}),"Back up to Google Drive"]},C);case"icloud":return d.jsxs(Vn,{onClick:()=>_("icloud"),children:[d.jsx(U7,{children:d.jsx(yme,{style:{width:24}})}),"Back up to Apple iCloud"]},C);case"user-passcode":return d.jsxs(Vn,{onClick:()=>{r(fye({isCreatingWallet:f,skipSplashScreen:!0}))},children:[d.jsx(U7,{children:d.jsx(tdt,{style:{width:18}})}),m?"Reset your":"Set a"," password"]},C);default:return null}}))})]}),d.jsx(Ur,{})]})}};let Ypt=Zi(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]);const xme=ie.span.withConfig({displayName:"StatusText",componentId:"sc-acac4b9-0"})([""," transition:color 0.1s ease-in;color:",";text-transform:",";&[aria-hidden='true']{visibility:hidden;}"],Ypt,(({error:t})=>t?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),(({error:t})=>t?"":"capitalize")),K8=ie.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-acac4b9-1"})(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]),Y8=ie(an).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-acac4b9-2"})(["",""],(({$hideAnimations:t})=>t&&Zi(["&&{transition:none;}"])));let _me=Zi(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]);const OL=ie.input.withConfig({displayName:"PasswordInput",componentId:"sc-acac4b9-3"})([""," &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],_me),Jpt=ie.div.withConfig({displayName:"PasswordDisplay",componentId:"sc-acac4b9-4"})(["",""],_me),J8=ie.div.withConfig({displayName:"PasswordContainer",componentId:"sc-acac4b9-5"})(["position:relative;width:100%;display:flex;align-items:center;justify-content:",";"],(({centered:t})=>t?"center":"space-between")),X8=ie.div.withConfig({displayName:"Header",componentId:"sc-acac4b9-6"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),jL=ie.div.withConfig({displayName:"Details",componentId:"sc-acac4b9-7"})(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]),JO=ie.div.withConfig({displayName:"DetailItem",componentId:"sc-acac4b9-8"})(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]),eZ=ie(sg).withConfig({displayName:"ExportButton",componentId:"sc-acac4b9-10"})(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]),Q8=ie.div.withConfig({displayName:"InputRightIcons",componentId:"sc-acac4b9-11"})(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]),Xpt=ie(_ut).withConfig({displayName:"RegenerateIcon",componentId:"sc-acac4b9-12"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),Z8=ie(zut).withConfig({displayName:"HiddenIcon",componentId:"sc-acac4b9-13"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),ek=ie(Wut).withConfig({displayName:"ShownIcon",componentId:"sc-acac4b9-14"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),Qpt=ie.progress.withConfig({displayName:"StrengthMeter",componentId:"sc-acac4b9-15"})(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:",";}"],(({label:t})=>(t==="Strong"?"#78dca6":t==="Medium"&&"var(--privy-color-warn)")||"var(--privy-color-error)")),Zpt=({buttonHideAnimations:t,buttonLoading:e,password:r,onSubmit:n,onBack:i})=>{let[s,o]=x.useState(!0),[a,l]=x.useState(!1),[c,u]=x.useState(""),h=r===c;return x.useEffect((()=>{c&&!a&&l(!0)}),[c]),d.jsxs(d.Fragment,{children:[d.jsx(xr,{closeable:!1,backFn:i}),d.jsx(fu,{}),d.jsxs(K8,{children:[d.jsxs(X8,{children:[d.jsx(vg,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm your password"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please re-enter your password below to continue."})]}),d.jsxs(J8,{children:[d.jsx(OL,{value:c,onChange:f=>u(f.target.value),onKeyUp:f=>{f.key==="Enter"&&n()},onBlur:()=>l(!0),placeholder:"confirm your password",type:s?"password":"text",style:{paddingRight:"2.3rem"}}),d.jsx(Q8,{style:{right:"0.75rem"},children:s?d.jsx(Z8,{onClick:()=>o(!1)}):d.jsx(ek,{onClick:()=>o(!0)})})]}),d.jsx(xme,{"aria-hidden":!a||h,error:!0,children:"Passwords do not match"})]}),d.jsx(Y8,{onClick:n,loading:e,disabled:!h,$hideAnimations:t,children:"Continue"}),d.jsx(ol,{}),d.jsx(Ur,{})]})},Cme=({className:t,checked:e,color:r="var(--privy-color-accent)",...n})=>d.jsx("label",{children:d.jsxs(e0t,{className:t,children:[d.jsx(kme,{checked:e,...n}),d.jsx(t0t,{color:r,checked:e,children:d.jsx(Eme,{viewBox:"0 0 24 24",children:d.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})});let e0t=ie.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-db51b935-1"})(["display:inline-block;vertical-align:middle;"]),Eme=ie.svg.withConfig({displayName:"Icon",componentId:"sc-db51b935-2"})(["fill:none;stroke:white;stroke-width:3px;"]),kme=ie.input.attrs({type:"checkbox"}).withConfig({displayName:"HiddenCheckbox",componentId:"sc-db51b935-3"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]),t0t=ie.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-db51b935-4"})(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:",";border-radius:3px;background:",";&&{border-width:1px;}",":focus + &{box-shadow:0 0 0 1px ",";}","{visibility:",";}"],(t=>t.color),(t=>t.checked?t.color:"var(--privy-color-background)"),kme,(t=>t.color),Eme,(t=>t.checked?"visible":"hidden"));const r0t=({buttonHideAnimations:t,buttonLoading:e,onSubmit:r,onBack:n,config:i})=>{let[s,o]=x.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsx(xr,{closeable:!1,backFn:n}),d.jsx(fu,{}),d.jsxs(K8,{children:[d.jsxs(X8,{children:[d.jsx(vg,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-error)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm you have saved"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Losing access to your password means you will lose access to your account."})]}),d.jsx(jL,{children:d.jsxs(JO,{style:{color:"var(--privy-color-error)",cursor:"pointer"},onClick:a=>{a.preventDefault(),o((l=>!l))},children:[d.jsx(Cme,{color:"var(--privy-color-error)",readOnly:!0,checked:s}),d.jsx(d.Fragment,{children:"I understand that if I lose my password and device, I will lose access to my account and my assets."})]})})]}),d.jsxs(n0t,{children:[i.initiatedBy==="user"&&d.jsx(ou,{onClick:i.onCancel,disabled:e,children:"Cancel"}),d.jsx(Y8,{onClick:r,loading:e,$hideAnimations:t,disabled:!s,children:"Set Password"})]}),d.jsx(ol,{}),d.jsx(Ur,{})]})};let n0t=ie.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-d1659c5f-0"})(["display:flex;gap:10px;"]),i0t=/[a-z]/,s0t=/[A-Z]/,o0t=/[0-9]/,Sme="!@#$%^&*()\\-_+.",Ame=`a-zA-Z0-9${Sme}`,a0t=RegExp(`[${Sme}]`),l0t=RegExp(`[${Ame}]`);const c0t=RegExp(`^[${Ame}]{6,}$`),Tme=()=>aut(4,cut);function u0t(t){return t>.9?"Strong":t>.5?"Medium":"Weak"}function d0t(t=""){return(.3*(function(e){if(e.length<8)return 0;let r=0;return i0t.test(e)&&(r+=1),s0t.test(e)&&(r+=1),o0t.test(e)&&(r+=1),a0t.test(e)&&(r+=1),Math.max(0,Math.min(1,r/3))})(t)+tut(t)/95)/2}const h0t=({buttonHideAnimations:t,buttonLoading:e,password:r="",config:n,isResettingPassword:i,onSubmit:s,onClose:o,onBack:a,onPasswordChange:l,onPasswordGenerate:c})=>{let[u,h]=x.useState(!1),[f,p]=x.useState(!1);x.useEffect((()=>{r&&!f&&p(!0)}),[r]);let m=x.useMemo((()=>f?6>(r?.length||0)?"Password must be at least 6 characters":c0t.test(r||"")?null:`Invalid characters used ( ${((b="")=>[...new Set(b.split("").filter((E=>!l0t.test(E))).map((E=>E.replace(" ","SPACE"))))])(r).join(" ")} )`:null),[r,f]),v=x.useMemo((()=>m?{value:0,label:"Weak"}:(function(b=""){let E=d0t(b);return{value:E,label:u0t(E)}})(r)),[r,m]),w=x.useMemo((()=>!r?.length||!!m),[m,r]);return d.jsxs(d.Fragment,{children:[d.jsx(xr,{onClose:o,closeable:n.initiatedBy==="user",backFn:a}),d.jsx(fu,{}),d.jsxs(K8,{children:[d.jsxs(X8,{children:[d.jsx(Yut,{height:48,width:48,stroke:"var(--privy-color-accent)"}),d.jsxs("h3",{style:{color:"var(--privy-color-foreground)"},children:[i?"Reset":"Set"," your password"]}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),d.jsxs(J8,{children:[d.jsx(OL,{value:r,onChange:b=>l(b.target.value),onKeyUp:b=>{b.key==="Enter"&&s()},placeholder:"enter or generate a strong password",type:u?"password":"text",style:{paddingRight:"3.8rem"}}),d.jsxs(Q8,{style:{width:"3.5rem"},children:[u?d.jsx(Z8,{onClick:()=>h(!1)}):d.jsx(ek,{onClick:()=>h(!0)}),d.jsx(Xpt,{onClick:c})]})]}),d.jsx(Qpt,{value:v.value===0?.01:v.value,label:v.label}),d.jsx(xme,{error:!!m,children:m||`Password Strength: ${f?v.label:"--"}`}),d.jsxs(p0t,{children:[d.jsx(f0t,{children:d.jsxs(jL,{children:[d.jsxs(JO,{children:[d.jsx(ex,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),d.jsxs(JO,{children:[d.jsx(ex,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),d.jsx(Y8,{onClick:s,loading:e,disabled:w,$hideAnimations:t,children:"Continue"})]})]}),d.jsx(ol,{}),d.jsx(Ur,{})]})};let f0t=ie(jL).withConfig({displayName:"DetailsContainer",componentId:"sc-2da5fe90-0"})(["flex:1;padding-top:1rem;"]),p0t=ie.div.withConfig({displayName:"LowerContainer",componentId:"sc-2da5fe90-1"})(["display:flex;flex-direction:column;height:100%;"]);const g0t=({buttonHideAnimations:t,buttonLoading:e,appName:r,password:n,onSubmit:i,onBack:s})=>{let[o,a]=x.useState(!1),[l,c]=x.useState(!0),u=x.useCallback((()=>{a(!0),n&&navigator.clipboard.writeText(n)}),[n]),h=x.useCallback((()=>{let f=document.createElement("a"),p=r.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s/g,"-"),m=new Blob([m0t(r,n)],{type:"text/plain"}),v=URL.createObjectURL(m);f.href=v,f.target="_blank",f.download=`${p}-privy-wallet-recovery.txt`,document.body.appendChild(f),f.click(),setTimeout((()=>{f.remove(),URL.revokeObjectURL(v)}),5e3)}),[n]);return d.jsxs(d.Fragment,{children:[d.jsx(xr,{backFn:s,closeable:!1}),d.jsx(fu,{}),d.jsxs(K8,{children:[d.jsxs(X8,{children:[d.jsx(vg,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),d.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Save your password"}),d.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"For your security, this password cannot be reset, so keep it somewhere safe."})]}),d.jsxs(J8,{centered:!0,children:[d.jsx(Jpt,{children:l?"".repeat(n.length):n}),d.jsx(Q8,{style:{right:"0.75rem"},children:l?d.jsx(Z8,{onClick:()=>c(!1)}):d.jsx(ek,{onClick:()=>c(!0)})})]}),d.jsxs("div",{style:{display:"flex",margin:"12px 0",gap:"12px"},children:[d.jsx(eZ,{onClick:u,children:d.jsxs(d.Fragment,o?{children:[d.jsx(z0e,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copied"]}:{children:[d.jsx(Uut,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copy"]})}),d.jsxs(eZ,{onClick:h,children:[d.jsx(but,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Download"]})]})]}),d.jsx(Y8,{onClick:i,loading:e,$hideAnimations:t,children:"Continue"}),d.jsx(ol,{}),d.jsx(Ur,{})]})};let m0t=(t,e)=>`Your wallet recovery password for ${t} is

${e}

You will need this password to access your ${t} wallet on a new device. Please keep it somewhere safe.`;const y0t=({error:t,onClose:e})=>d.jsxs(d.Fragment,{children:[d.jsx(xr,{closeable:!1}),d.jsx(fu,{}),d.jsxs(p3,t?{children:[d.jsx(Idt,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),d.jsx(tl,{title:"Something went wrong",description:t})]}:{children:[d.jsx(ex,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(tl,{title:"Success"})]}),d.jsx(an,{onClick:e,children:"Close"}),d.jsx(ol,{}),d.jsx(Ur,{})]});let v0t=(t,e)=>{switch(t){case"creating":return e==="back"?t:"saving";case"saving":return e==="back"?"creating":"confirming";case"confirming":return e==="back"?"saving":"finalizing";case"finalizing":return e==="back"?"confirming":"done";default:return t}};const Ime=({onSubmit:t,...e})=>{let{lastScreen:r,navigate:n}=It(),{send:i,state:s}=(()=>{let[c,u]=x.useReducer(v0t,"creating");return{send:u,state:c}})(),o=x.useCallback((async()=>{s==="finalizing"&&await t(),i("next")}),[s,i,t]);x.useEffect((()=>{let c;return s==="done"&&e.config.initiatedBy==="automatic"&&(c=setTimeout((()=>e.onClose?.()),Bn)),()=>{c&&clearTimeout(c)}}),[s,e.config.initiatedBy,e.onClose]);let a=x.useCallback((()=>{i("back")}),[i]),l=x.useCallback((()=>{n(YO)}),[r,n]);return s==="creating"?d.jsx(h0t,{...e,onSubmit:o,onBack:r===YO?l:void 0}):s==="saving"?d.jsx(g0t,{...e,onSubmit:o,onBack:a}):s==="confirming"?d.jsx(Zpt,{...e,onSubmit:o,onBack:a}):s==="finalizing"?d.jsx(r0t,{...e,onSubmit:o,onBack:a}):s==="done"?d.jsx(y0t,{...e,onSubmit:o}):null};let w0t={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const tk=t=>{let e=w0t[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}};let Pme=x.createContext({});const b0t=({children:t})=>{let e=zr(),[r,n]=x.useState({});return X1("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(Jt.put(tZ(e.id),i.type),i.type==="wallet"?(Jt.put(B7(e.id),i.walletClientType),Jt.put(z7(e.id),i.chainType),n({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(Jt.del(B7(e.id)),Jt.del(z7(e.id)),n({accountType:i.type})))}}),x.useEffect((()=>{if(!e.id)return;let i=Jt.get(tZ(e.id)),s=Jt.get(B7(e.id)),o=Jt.get(z7(e.id));i&&n(i==="wallet"?{accountType:i,walletClientType:s,chainType:o}:{accountType:i})}),[e.id]),d.jsx(Pme.Provider,{value:r,children:t})};let tZ=t=>`privy:${t}:recent-login-method`,B7=t=>`privy:${t}:recent-login-wallet-client`,z7=t=>`privy:${t}:recent-login-chain-type`;const xp=()=>x.useContext(Pme),$me=()=>{let{app:t}=It(),e=t?.appearance?.logo,r=`${t?.name} logo`,n={maxHeight:"90px",maxWidth:"180px"};return e?typeof e=="string"?d.jsx("img",{src:e,alt:r,style:n}):e.type==="svg"||e.type==="img"?ht.cloneElement(e,{alt:r,style:n}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},x0t=t=>{let{app:e}=It();return e?.appearance.logo?d.jsx(_0t,{...t,children:d.jsx($me,{})}):null},_0t=ie.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-a206bd44-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),C0t=({name:t,logoUrl:e,size:r="38px"})=>typeof e=="string"?d.jsx("img",{src:e,alt:`${t??"Provider app"} logo`,style:{width:r,height:r,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):d.jsx("span",{}),E0t=({appId:t})=>{let[e,r]=x.useState(void 0),{startCrossAppAuthFlow:n,authenticated:i}=Pr(),{client:s}=bt();return x.useEffect((()=>{(async()=>s&&r(await s.getCrossAppProviderDetails(t)))()}),[s]),d.jsx(Vn,{onClick:()=>n({appId:t,action:i?"link":"login"}),disabled:!e,children:e?d.jsxs(d.Fragment,{children:[d.jsx(C0t,{name:e.name,logoUrl:e.icon_url||void 0,size:"24px"})," ",e.name]}):d.jsx(bp,{})})};let k0t=ie.a.withConfig({displayName:"StyledLink",componentId:"sc-c8577138-0"})(["&&{color:",";font-weight:400;text-decoration:",";text-underline-offset:4px;text-decoration-thickness:1px;cursor:",";opacity:",";font-size:",";line-height:",";transition:color 200ms ease,text-decoration-color 200ms ease,opacity 200ms ease;&:hover{color:",";text-decoration:",";text-underline-offset:4px;}&:active{color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;border-radius:2px;}}"],(({$variant:t})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))"),(({$variant:t})=>t==="underlined"?"underline":"var(--privy-link-navigation-decoration, none)"),(({$disabled:t})=>t?"not-allowed":"pointer"),(({$disabled:t})=>t?.5:1),(({$size:t})=>{switch(t){case"xs":return"12px";case"sm":return"14px";default:return"16px"}}),(({$size:t})=>{switch(t){case"xs":return"18px";case"sm":return"22px";default:return"24px"}}),(({$variant:t,$disabled:e})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))"),(({$disabled:t})=>t?"none":"underline"),(({$variant:t,$disabled:e})=>e?t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))":"var(--privy-color-foreground)"));const g1=({size:t="md",variant:e="navigation",disabled:r=!1,as:n,children:i,onClick:s,...o})=>d.jsx(k0t,{as:n,$size:t,$variant:e,$disabled:r,onClick:a=>{r?a.preventDefault():s?.(a)},...o,children:i}),ML=(t,e)=>!Yu(t)&&(e==="all-users"||e==="users-without-wallets"&&!S0t(t).length);let S0t=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="ethereum"));const DL=(t,e)=>!yg(t)&&(e==="all-users"||e==="users-without-wallets"&&!A0t(t).length);let A0t=t=>t.linkedAccounts.filter((e=>e.type==="wallet"&&e.chainType==="solana"));const _p=(t,e)=>ML(t,e.ethereum.createOnLogin)||DL(t,e.solana.createOnLogin),T0t=({title:t="Account not found",subtitle:e,appName:r="this app",ctaText:n="Try logging in again",onRetry:i})=>d.jsx(Mr,{title:t,subtitle:e||`Please try logging in again or go to ${r} to create an account.`,icon:eWe,iconVariant:"warning",primaryCta:{label:n,onClick:i},watermark:!0}),m3={component:()=>{let{navigate:t,app:e,setModalData:r,data:n}=It(),{getAuthMeta:i,client:s}=bt();return d.jsx(T0t,{appName:e?.name,onRetry:()=>{let o=i();r({...n,login:{...n?.login,...o?.disableSignup?{disableSignup:!0}:{}}}),s?.authFlow&&(s.authFlow=void 0),t(yo)}})}},I0t=ie.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],(t=>t.color??"var(--privy-color-accent)"),(t=>t.color??"var(--privy-color-accent)"));function P0t(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...t,children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),d.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}let rZ="0x0000000000000000000000000000000000000000";const zy=({originCurrency:t,destinationCurrency:e,...r})=>({tradeType:"EXPECTED_OUTPUT",originCurrency:t??rZ,destinationCurrency:e??rZ,...r});let Nme="https://api.relay.link",Rme="https://api.testnets.relay.link";const nx=async({input:t,isTestnet:e})=>{let r=await fetch((e?Rme:Nme)+"/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!(r.ok||typeof n.message=="string"&&n.message.startsWith("Invalid address")))throw console.error("Relay error:",n),Error(n.message??"Error fetching quote from relay");return n},$C=t=>{let e=t.steps[0]?.items?.[0];if(e)return{from:e.data.from,to:e.data.to,value:Number(e.data.value),chainId:Number(e.data.chainId),data:e.data.data}};function FL({transactionHash:t,wallet:e,isTestnet:r,bridgingStatus:n,setBridgingStatus:i,onSuccess:s,onFailure:o}){x.useEffect((()=>{if(t&&e&&n){if(["delayed","waiting","pending"].includes(n)){let a=setInterval((async()=>{try{let l=await(async function({transactionHash:c,isTestnet:u}){let h=await fetch((u?Rme:Nme)+"/requests/v2?hash="+c),f=await h.json();if(!h.ok)throw"message"in f&&typeof f.message=="string"?Error(f.message):Error("Error fetching request from relay");return f.requests.at(0)?.status??"pending"})({transactionHash:t,isTestnet:r});i(l)}catch(l){console.error(l)}}),1e3);return()=>clearInterval(a)}n==="success"?s({transactionHash:t,wallet:e}):["refund","failure"].includes(n)&&o({error:new Ome(t,r)})}}),[n,t,r,e])}class Ome extends fe{constructor(e,r){super("We were unable to complete the bridging transaction. Funds will be refunded on your wallet.",void 0,ye.TRANSACTION_FAILURE),this.relayLink=r?`https://testnets.relay.link/transaction/${e}`:`https://relay.link/transaction/${e}`}}const y3=({error:t,allowlistConfig:e,onRetry:r,onCaptchaReset:n,onBack:i})=>{let s=((o,a)=>{if(o instanceof Ome)return{title:"Transaction failed",detail:d.jsxs(d.Fragment,{children:[d.jsx("span",{children:o.message}),d.jsxs("span",{children:[" ","Check the"," ",d.jsx($0t,{href:o.relayLink,target:"_blank",children:"refund status"}),"."]})]}),ctaText:"Try again",icon:Ia};if(o instanceof fe)switch(o.privyErrorCode){case ye.CLIENT_REQUEST_TIMEOUT:return{title:"Timed out",detail:o.message,ctaText:"Try again",icon:Ia};case ye.INSUFFICIENT_BALANCE:return{title:"Insufficient balance",detail:o.message,ctaText:"Try again",icon:Ia};case ye.TRANSACTION_FAILURE:return{title:"Transaction failure",detail:o.message,ctaText:"Try again",icon:Ia};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Ia}}else{if(o instanceof Jn&&o.type==="twilio_verification_failed")return{title:"Something went wrong",detail:o.message,ctaText:"Try again",icon:iWe};if(!(o instanceof po))return o instanceof za&&o.status&&[400,422].includes(o.status)?{title:"Something went wrong",detail:o.message,ctaText:"Try again",icon:Ia}:{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Ia};switch(o.privyErrorCode){case ye.INVALID_CAPTCHA:return{title:"Something went wrong",detail:"Please try again.",ctaText:"Try again",icon:Ia};case ye.DISALLOWED_LOGIN_METHOD:return{title:"Not allowed",detail:o.message,ctaText:"Try another method",icon:Ia};case ye.ALLOWLIST_REJECTED:return{title:a.errorTitle||"You don't have access to this app",detail:a.errorDetail||"Have you been invited?",ctaText:a.errorCtaText||"Try another account",icon:xF};case ye.CAPTCHA_FAILURE:return{title:"Something went wrong",detail:"You did not pass CAPTCHA. Please try again.",ctaText:"Try again",icon:null};case ye.CAPTCHA_TIMEOUT:return{title:"Something went wrong",detail:"Something went wrong! Please try again later.",ctaText:"Try again",icon:null};case ye.LINKED_TO_ANOTHER_USER:return{title:"Authentication failed",detail:"This account has already been linked to another user.",ctaText:"Try again",icon:Ia};case ye.NOT_SUPPORTED:return{title:"This region is not supported",detail:"SMS authentication from this region is not available",ctaText:"Try another method",icon:Ia};case ye.TOO_MANY_REQUESTS:return{title:"Request failed",detail:"Too many attempts.",ctaText:"Try again later",icon:Ia};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:Ia}}}})(t,e);return d.jsx(Mr,{title:s.title,subtitle:s.detail,icon:s.icon,onBack:i,iconVariant:"error",primaryCta:{label:s.ctaText,onClick:()=>{t instanceof po&&(t.privyErrorCode===ye.INVALID_CAPTCHA&&n?.(),t.privyErrorCode===ye.ALLOWLIST_REJECTED&&e.errorCtaLink)?window.location.href=e.errorCtaLink:r?.()},variant:"error"},watermark:!0})},zn={component:()=>{let{navigate:t,data:e,lastScreen:r,currentScreen:n,app:i}=It(),{reset:s}=Ca(),o=e?.errorModalData?.previousScreen||(r===n?void 0:r);return d.jsx(y3,{error:e?.errorModalData?.error||Error(),allowlistConfig:i.allowlistConfig,onRetry:()=>{t(o||yo,!1)},onCaptchaReset:s})}};let $0t=ie.a.withConfig({displayName:"Link",componentId:"sc-89a5a605-0"})(["color:var(--privy-color-accent) !important;font-weight:600;"]);const jme=({onTransfer:t,isTransferring:e,transferSuccess:r})=>d.jsx(an,{...r?{success:!0,children:"Success!"}:{warn:!0,loading:e,onClick:t,children:"Transfer and delete account"}}),Mme=ie.div.withConfig({displayName:"ConnectContainer",componentId:"sc-3505eb4c-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),XO=ie.div.withConfig({displayName:"GappedContainer",componentId:"sc-3505eb4c-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),Dme=ie.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-3505eb4c-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),N0t=ie(iL).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-3505eb4c-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],(({$iconSize:t})=>`${t}px`),(({$iconSize:t})=>`${t}px`)),R0t=ie(vut).withConfig({displayName:"StyledCopyIcon",componentId:"sc-3505eb4c-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),O0t=ie.ol.withConfig({displayName:"ListContainer",componentId:"sc-3505eb4c-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),nZ=ie.li.withConfig({displayName:"ListItem",componentId:"sc-3505eb4c-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),j0t=ie.div.withConfig({displayName:"CircleContainer",componentId:"sc-3505eb4c-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]);let M0t=()=>d.jsx(j0t,{children:d.jsx(N0t,{$iconSize:60})});const D0t=({address:t,onClose:e,onRetry:r,onTransfer:n,isTransferring:i,transferSuccess:s})=>{let{defaultChain:o}=zr(),a=o.blockExplorers?.default.url??"https://etherscan.io";return d.jsxs(d.Fragment,{children:[d.jsx(xr,{onClose:e,backFn:r}),d.jsxs(Mme,{children:[d.jsx(M0t,{}),d.jsxs(XO,{children:[d.jsx("h3",{children:"Check account assets before transferring"}),d.jsx("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),d.jsxs(O0t,{children:[d.jsx("p",{children:" To check your balance, you can:"}),d.jsx(nZ,{children:"Log out and log back into the other account, or "}),d.jsxs(nZ,{children:["Copy your wallet address and use a"," ",d.jsx("u",{children:d.jsx("a",{target:"_blank",href:a,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),d.jsxs(Dme,{onClick:()=>navigator.clipboard.writeText(t).catch(console.error),children:[d.jsx(D8,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),d.jsx(Sr,{address:t,showCopyIcon:!1}),d.jsx(R0t,{})]}),d.jsx(jme,{onTransfer:n,isTransferring:i,transferSuccess:s})]})]}),d.jsx(Ur,{})]})},$g={component:()=>{let{initiateAccountTransfer:t,closePrivyModal:e}=bt(),{data:r,navigate:n,lastScreen:i,setModalData:s}=It(),[o,a]=x.useState(void 0),[l,c]=x.useState(!1),[u,h]=x.useState(!1),f=async()=>{try{if(!r?.accountTransfer?.nonce||!r?.accountTransfer?.account)throw Error("missing account transfer inputs");h(!0),await t({nonce:r?.accountTransfer?.nonce,account:r?.accountTransfer?.account,accountType:r?.accountTransfer?.linkMethod,externalWalletMetadata:r?.accountTransfer?.externalWalletMetadata,telegramWebAppData:r?.accountTransfer?.telegramWebAppData,telegramAuthResult:r?.accountTransfer?.telegramAuthResult,farcasterEmbeddedAddress:r?.accountTransfer?.farcasterEmbeddedAddress,oAuthUserInfo:r?.accountTransfer?.oAuthUserInfo}),c(!0),h(!1),setTimeout(e,1e3)}catch(p){s({errorModalData:{error:p,previousScreen:i||$g}}),n(zn,!0)}};return o?d.jsx(D0t,{address:o,onClose:e,onRetry:()=>a(void 0),onTransfer:f,isTransferring:u,transferSuccess:l}):d.jsx(F0t,{onClose:e,onInfo:()=>a(r?.accountTransfer?.embeddedWalletAddress),onContinue:()=>a(r?.accountTransfer?.embeddedWalletAddress),onTransfer:f,isTransferring:u,transferSuccess:l,data:r})}},F0t=({onClose:t,onContinue:e,onInfo:r,onTransfer:n,transferSuccess:i,isTransferring:s,data:o})=>{if(!o?.accountTransfer?.linkMethod||!o?.accountTransfer?.displayName)return;let a={method:o?.accountTransfer?.linkMethod,handle:o?.accountTransfer?.displayName,disclosedAccount:o?.accountTransfer?.embeddedWalletAddress?{type:"wallet",handle:o?.accountTransfer?.embeddedWalletAddress}:void 0};return d.jsxs(d.Fragment,{children:[d.jsx(xr,{closeable:!0}),d.jsxs(Mme,{children:[d.jsx(AL,{children:d.jsxs("div",{children:[d.jsx(I0t,{color:"var(--privy-color-error)"}),d.jsx(vg,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),d.jsxs(XO,{children:[d.jsxs("h3",{children:[(function(l){switch(l){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"siws":return"Solana wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"line":case"twitter":case"telegram":case"farcaster":return`${ige(l.replace("_oauth",""))} profile`;default:return l.startsWith("privy:")?"Cross-app account":l}})(a.method)," is associated with another account"]}),d.jsxs("p",{children:["Do you want to transfer",d.jsx("b",{children:a.handle?` ${a.handle}`:""})," to this account instead? This will delete your other account."]}),d.jsx(L0t,{onClick:r,disclosedAccount:a.disclosedAccount})]}),d.jsxs(XO,{style:{gap:12,marginTop:12},children:[o?.accountTransfer?.embeddedWalletAddress?d.jsx(an,{onClick:e,children:"Continue"}):d.jsx(jme,{onTransfer:n,transferSuccess:i,isTransferring:s}),d.jsx(ou,{onClick:t,children:"No thanks"})]})]}),d.jsx(Ur,{})]})};function L0t({disclosedAccount:t,onClick:e}){return t?d.jsxs(Dme,{onClick:e,children:[d.jsx(D8,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),d.jsx(Sr,{address:t.handle,showCopyIcon:!1}),d.jsx(P0t,{width:15,height:15,color:"var(--privy-color-foreground-3)",style:{marginLeft:"auto"}})]}):null}const U0t=({errorMessage:t,onClose:e})=>d.jsx(Mr,t?{title:"Something went wrong",subtitle:t,icon:v8,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Creating your wallet",subtitle:"Please wait...",iconVariant:"loading",watermark:!1}),Fh={component:()=>{let{app:t,setModalData:e,navigate:r,data:n,onUserCloseViaDialogOrKeybindRef:i}=It(),[s,o]=x.useState(""),{embeddedWallets:a}=zr(),{authenticated:l,user:c}=Pr(),{closePrivyModal:u,walletProxy:h,client:f}=bt(),{onSuccess:p,onFailure:m,callAuthOnSuccessOnClose:v,shouldCreateEth:w,shouldCreateSol:b}=n.createWallet,E=t.embeddedWallets.mode==="legacy-embedded-wallets-only"&&t?.embeddedWallets.requireUserOwnedRecoveryOnCreate===!0,[_,A]=x.useState(null),{create:C}=NL(),k=w??(!!c&&ML(c,t.embeddedWallets.ethereum.createOnLogin)),P=b??(!!c&&DL(c,t.embeddedWallets.solana.createOnLogin)),F=new No((async()=>{let N=await f.getAccessToken();if(c&&N&&h)try{let $;if(k&&P)$=await C({chainType:"ethereum",walletIndex:0,latestUser:c}),$=await C({chainType:"solana",walletIndex:0,latestUser:$.user});else if(P)$=await C({chainType:"solana",walletIndex:0,latestUser:c});else{if(!k)return void u({shouldCallAuthOnSuccess:v});$=await C({chainType:"ethereum",walletIndex:0,latestUser:c})}A($),r(RL)}catch($){o($.message)}}));return x.useEffect((()=>l&&c?E?(e({...n,createWallet:{...n.createWallet,shouldCreateEth:k,shouldCreateSol:P},recoverySelection:{...n?.recoverySelection,isInAccountCreateFlow:!0,shouldCreateEth:k,shouldCreateSol:P}}),r(pye({walletAction:"create",showAutomaticRecovery:!1,availableRecoveryMethods:a.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:!1,isResettingPassword:!1}))):void F.execute():(r(yo),void m(Error("User must be authenticated before creating a Privy wallet")))),[E,l]),i.current=()=>null,d.jsx(U0t,{errorMessage:s||void 0,onClose:()=>{_?(p(_),u({shouldCallAuthOnSuccess:v})):(m(new Gf("User wallet creation failed")),u({shouldCallAuthOnSuccess:!1}))}})}},Ng={component:()=>{let{user:t,logout:e}=Pr(),{app:r,onUserCloseViaDialogOrKeybindRef:n,setModalData:i,navigate:s}=It(),{acceptTerms:o,closePrivyModal:a,createAnalyticsEvent:l}=bt(),c=u=>{u?.preventDefault(),a({shouldCallAuthOnSuccess:!1}),e()};return n.current=c,d.jsx(B0t,{termsAndConditionsUrl:r?.legal.termsAndConditionsUrl,privacyPolicyUrl:r?.legal.privacyPolicyUrl,onAccept:async u=>{u?.preventDefault(),await o(),t&&_p(t,r.embeddedWallets)?(i({createWallet:{onSuccess:()=>{},onFailure:h=>{console.error(h),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:h,screen:"AffirmativeConsentScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(Fh)):a()},onDecline:c})}},B0t=({termsAndConditionsUrl:t,privacyPolicyUrl:e,onAccept:r,onDecline:n,title:i="One last step",subtitle:s="By signing up, you agree to our terms and privacy policy."})=>d.jsx(Mr,{title:i,subtitle:s,icon:nWe,primaryCta:{label:"Accept",onClick:r},secondaryCta:{label:"No thanks",onClick:n},watermark:!0,children:(t||e)&&d.jsxs(z0t,{children:[t&&d.jsxs(sg,{variant:"muted",href:t,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Terms",d.jsx($R,{width:16,height:16,strokeWidth:2.25})]}),e&&d.jsxs(sg,{variant:"muted",href:e,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Privacy Policy",d.jsx($R,{width:16,height:16,strokeWidth:2.25})]})]})});let z0t=ie.div.withConfig({displayName:"LinksContainer",componentId:"sc-b9d25a6d-0"})(["display:flex;flex-direction:column;gap:12px;margin-top:var(--screen-space);"]);const Fme=({color:t,...e})=>d.jsx("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...e,children:d.jsx("g",{children:d.jsx("path",{fill:t||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})});let q0t=ie.button.withConfig({displayName:"CopyTextButton",componentId:"sc-4b0620dc-0"})(["display:flex;align-items:center;gap:0.5rem;&:hover{text-decoration:underline;}svg{width:0.875rem;height:0.875rem;}"]),W0t=ie.span.withConfig({displayName:"CopiedText",componentId:"sc-4b0620dc-1"})(["display:flex;align-items:center;gap:0.25rem;font-size:0.875rem;color:var(--privy-color-foreground-2);"]),H0t=ie(Iut).withConfig({displayName:"GreenCheck",componentId:"sc-4b0620dc-2"})(["color:var(--privy-color-success);"]),V0t=ie(Fme).withConfig({displayName:"StyledCopy",componentId:"sc-4b0620dc-3"})(["color:var(--privy-color-foreground-3);opactiy:0.5;"]);function G0t({children:t,iconOnly:e,value:r,hideCopyIcon:n,...i}){let[s,o]=x.useState(!1);return d.jsxs(q0t,{...i,onClick:()=>{navigator.clipboard.writeText(r||t).catch(console.error),o(!0),setTimeout((()=>o(!1)),1500)},children:[t," ",s?d.jsxs(W0t,{children:[d.jsx(H0t,{})," ",!e&&"Copied"]}):!n&&d.jsx(V0t,{})]})}const K0t=()=>d.jsx("svg",{width:"200",height:"200",viewBox:"-77 -77 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px"},children:d.jsx("rect",{width:"50",height:"50",fill:"black",rx:10,ry:10})});let q7=(t,e,r,n,i)=>{for(let s=e;s<e+n;s++)for(let o=r;o<r+i;o++){let a=t?.[o];a&&a[s]&&(a[s]=0)}return t},Y0t=({x:t,y:e,cellSize:r,bgColor:n,fgColor:i})=>d.jsx(d.Fragment,{children:[0,1,2].map((s=>d.jsx("circle",{r:r*(7-2*s)/2,cx:t+7*r/2,cy:e+7*r/2,fill:s%2!=0?n:i},`finder-${t}-${e}-${s}`)))}),J0t=({cellSize:t,matrixSize:e,bgColor:r,fgColor:n})=>d.jsx(d.Fragment,{children:[[0,0],[(e-7)*t,0],[0,(e-7)*t]].map((([i,s])=>d.jsx(Y0t,{x:i,y:s,cellSize:t,bgColor:r,fgColor:n},`finder-${i}-${s}`)))}),X0t=({matrix:t,cellSize:e,color:r})=>d.jsx(d.Fragment,{children:t.map(((n,i)=>n.map(((s,o)=>s?d.jsx("rect",{height:e-.4,width:e-.4,x:i*e+.1*e,y:o*e+.1*e,rx:.5*e,ry:.5*e,fill:r},`cell-${i}-${o}`):d.jsx(ht.Fragment,{},`circle-${i}-${o}`)))))}),Q0t=({cellSize:t,matrixSize:e,element:r,sizePercentage:n,bgColor:i})=>{if(!r)return d.jsx(d.Fragment,{});let s=e*(n||.14),o=Math.floor(e/2-s/2),a=Math.floor(e/2+s/2);(a-o)%2!=e%2&&(a+=1);let l=(a-o)*t,c=l-.2*l,u=o*t;return d.jsxs(d.Fragment,{children:[d.jsx("rect",{x:o*t,y:o*t,width:l,height:l,fill:i}),d.jsx(r,{x:u+.1*l,y:u+.1*l,height:c,width:c})]})},Z0t=t=>{let e=t.outputSize,r=((s,o)=>{let a=Sdt.create(s,{errorCorrectionLevel:o}).modules,l=((c,u)=>{let h=c.slice(0),f=[];for(;h.length;)f.push(h.splice(0,u));return f})(Array.from(a.data),a.size);return l=q7(l,0,0,7,7),l=q7(l,l.length-7,0,7,7),q7(l,0,l.length-7,7,7)})(t.url,t.errorCorrectionLevel),n=e/r.length,i=(function(s,{min:o,max:a}){return Math.min(Math.max(s,o),a)})(2*n,{min:.025*e,max:.036*e});return d.jsxs("svg",{height:t.outputSize,width:t.outputSize,viewBox:`0 0 ${t.outputSize} ${t.outputSize}`,style:{height:"100%",width:"100%",padding:`${i}px`},children:[d.jsx(X0t,{matrix:r,cellSize:n,color:t.fgColor}),d.jsx(J0t,{cellSize:n,matrixSize:r.length,fgColor:t.fgColor,bgColor:t.bgColor}),d.jsx(Q0t,{cellSize:n,element:t.logo?.element,bgColor:t.bgColor,matrixSize:r.length})]})},egt=ie.div.attrs({className:"ph-no-capture"}).withConfig({displayName:"QrContainer",componentId:"sc-597e27f3-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],(t=>`${t.$size}px`),(t=>`${t.$size}px`),(t=>t.$bgColor),(t=>t.$borderColor));const v3=t=>{let{appearance:e}=zr(),r=t.bgColor||"#FFFFFF",n=t.fgColor||"#000000",i=t.size||160,s=e.palette.colorScheme==="dark"?r:n;return d.jsx(egt,{$size:i,$bgColor:r,$fgColor:n,$borderColor:s,children:d.jsx(Z0t,{url:t.url,logo:{element:t.squareLogoElement??K0t},outputSize:i,bgColor:r,fgColor:n,errorCorrectionLevel:t.errorCorrectionLevel||"Q"})})},Sh=ie.span.withConfig({displayName:"ErrorMessage",componentId:"sc-fcb8cd50-0"})(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]);let Lme=ie.label.withConfig({displayName:"BaseEmailForm",componentId:"sc-f34af797-0"})(["display:block;position:relative;width:100%;height:56px;&& > :first-child{position:absolute;left:0.75em;top:50%;transform:translate(0,-50%);}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ",";border-radius:var(--privy-border-radius-md);width:100%;height:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:",";box-shadow:",";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"],(({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)"),(({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-accent-light)"),(({$error:t})=>t?"none":"0 0 0 1px var(--privy-color-accent-light)"));const Ume=ie(Lme).withConfig({displayName:"EmailUpdateForm",componentId:"sc-f34af797-1"})(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]),tgt=ie(Lme).withConfig({displayName:"EmailInputForm",componentId:"sc-f34af797-2"})(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:",";border:1px solid ",";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"],(t=>t.$stacked?"16px":"88px"),(({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)")),Bme=ie.div.withConfig({displayName:"InputContainerForm",componentId:"sc-f34af797-3"})(["width:100%;&& > ","{display:block;text-align:left;padding-left:var(--privy-border-radius-md);padding-bottom:5px;}"],Sh),zme=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[d.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),d.jsx("path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}),d.jsx("path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"})]}),_y={phantom:{mobile:{native:"phantom://",universal:"https://phantom.app/ul/"}},solflare:{mobile:{native:void 0,universal:"https://solflare.com/ul/v1/"}},metamask:{image_url:{sm:LO,md:LO}}};class qa{static normalize(e){return e.replace(/[-_]wallet$/,"").replace(/[-_]extension$/,"").toLowerCase()}isEth(e){return e.chains.some((r=>r.startsWith("eip155:")))}isSol(e){return e.chains.some((r=>r.startsWith("solana:")))}inAllowList(e,r){if(!this.normalizedAllowList||this.normalizedAllowList.length===0||r==="listing"&&this.includeWalletConnect)return!0;let n=qa.normalize(e);return this.normalizedAllowList.some((i=>n===qa.normalize(i)))}chainMatches(e){return this.chainFilter==="ethereum-only"?e==="ethereum":this.chainFilter!=="solana-only"||e==="solana"}connectorOk(e){return!!(e.connectorType!=="null"&&this.chainMatches(e.chainType)&&(this.inAllowList(e.walletClientType,"connector")||(e.connectorType==="injected"||e.connectorType==="solana_adapter")&&(this.detectedGeneric||e.chainType==="ethereum"&&this.detectedEth||e.chainType==="solana"&&this.detectedSol)))}listingOk(e){if(e.slug.includes("coinbase"))return!1;if(this.chainFilter==="ethereum-only"){if(!this.isEth(e))return!1}else if(this.chainFilter==="solana-only"&&!this.isSol(e))return!1;return!!this.inAllowList(e.slug,"listing")}getWallets(e,r){let n=new Map,i=l=>{let c=n.get(l.id);if(c){c.chainType!==l.chainType&&(c.chainType="multi");let u=new Set(c.chains);l.chains.forEach((h=>u.add(h))),c.chains=Array.from(u),!c.icon&&l.icon&&(c.icon=l.icon),!c.url&&l.url&&(c.url=l.url),!c.listing&&l.listing&&(c.listing=l.listing)}else n.set(l.id,l)};e.filter((l=>this.connectorOk(l))).forEach((l=>{let c=qa.normalize(l.walletClientType);i({id:c,label:l.walletBranding?.name??c,source:"connector",connector:l,chainType:l.chainType,icon:l.walletBranding?.icon,url:void 0,chains:[l.chainType==="ethereum"?"eip155":"solana"]})})),r.filter((l=>this.listingOk(l))).forEach((l=>{let c=this.isEth(l),u=this.isSol(l),h=qa.normalize(l.slug),f=_y[l.slug],p=f?.image_url?.sm||l.image_url?.sm;i({id:h,label:l.name||h,source:"listing",listing:l,chainType:c&&u?"multi":c?"ethereum":"solana",icon:p,url:l.homepage,chains:l.chains})}));let s=e.find((l=>l.connectorType==="wallet_connect_v2"));this.includeWalletConnectQr&&s&&i({id:"wallet_connect_qr",label:"WalletConnect",source:"connector",connector:s,chainType:"ethereum",icon:jge,url:void 0,chains:[s.chainType==="ethereum"?"eip155":"solana"]});let o=Array.from(n.values());o.forEach((l=>{let c=_y[l.listing?.slug||l.id];c?.image_url?.sm&&(l.icon=c.image_url.sm)}));let a=new Map;return this.normalizedAllowList?.forEach(((l,c)=>{a.set(qa.normalize(l),c)})),{wallets:o.slice().sort(((l,c)=>{let u=qa.normalize(l.id),h=qa.normalize(c.id);u==="binance-defi"?u="binance":u==="universalprofiles"?u="universal_profile":u==="cryptocom-defi"&&(u="cryptocom"),h==="binance-defi"?h="binance":h==="universalprofiles"?h="universal_profile":h==="cryptocom-defi"&&(h="cryptocom");let f=a.has(u),p=a.has(h);return f&&p?a.get(u)-a.get(h):f?-1:p?1:l.source==="connector"&&c.source==="listing"?-1:l.source==="listing"&&c.source==="connector"?1:l.label.toLowerCase().localeCompare(c.label.toLowerCase())})),walletCount:o.length}}constructor(e,r){this.chainFilter=e,r&&r.length>0&&(this.normalizedAllowList=r.map(String),this.normalizedAllowList.includes("binance")&&this.normalizedAllowList.push("binance-defi-wallet")),this.detectedGeneric=this.normalizedAllowList?.includes("detected_wallets")??!1,this.detectedEth=this.normalizedAllowList?.includes("detected_ethereum_wallets")??!1,this.detectedSol=this.normalizedAllowList?.includes("detected_solana_wallets")??!1,this.includeWalletConnect=this.normalizedAllowList?.includes("wallet_connect")??!1,this.includeWalletConnectQr=this.normalizedAllowList?.includes("wallet_connect_qr")??!1}}var QO=t=>d.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("path",{d:"m0 0h32v32h-32z",fill:"#5469d4"}),d.jsx("path",{d:"m15.997 5.333-.143.486v14.106l.143.143 6.548-3.87z",fill:"#c2ccf4"}),d.jsx("path",{d:"m15.996 5.333-6.548 10.865 6.548 3.87z",fill:"#fff"}),d.jsx("path",{d:"m15.997 21.306-.08.098v5.025l.08.236 6.552-9.227z",fill:"#c2ccf4"}),d.jsx("path",{d:"m15.996 26.665v-5.36l-6.548-3.867z",fill:"#fff"}),d.jsx("path",{d:"m15.995 20.07 6.548-3.87-6.548-2.976v6.847z",fill:"#8698e8"}),d.jsx("path",{d:"m9.448 16.2 6.548 3.87v-6.846z",fill:"#c2ccf4"})]}),ZO=t=>d.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsxs("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"7.233",x2:"24.766",y1:"24.766",y2:"7.234",children:[d.jsx("stop",{offset:"0",stopColor:"#9945ff"}),d.jsx("stop",{offset:".2",stopColor:"#7962e7"}),d.jsx("stop",{offset:"1",stopColor:"#00d18c"})]}),d.jsx("path",{d:"m0 0h32v32h-32z",fill:"#10111a"}),d.jsx("path",{clipRule:"evenodd",d:"m9.873 20.41a.645.645 0 0 1 .476-.21l14.662.012a.323.323 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54zm15.376-2.862a.322.322 0 0 1 -.238.54l-14.662.012a.642.642 0 0 1 -.476-.21l-3.122-3.44a.323.323 0 0 1 .238-.54l14.662-.012a.644.644 0 0 1 .475.21zm-15.376-9.738a.644.644 0 0 1 .476-.21l14.662.012a.322.322 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54z",fill:"url(#a)",fillRule:"evenodd"})]});const rgt=ie.div.withConfig({displayName:"WalletIconWithActiveIndicator",componentId:"sc-9b65f2b6-2"})(["position:relative;display:inline-flex;align-items:center;&::after{content:' ';border-radius:var(--privy-border-radius-full);height:6px;width:6px;background-color:var(--privy-color-icon-success);position:absolute;right:-3px;top:-3px;}"]),Nb=ie.img.withConfig({displayName:"WalletIcon",componentId:"sc-9b65f2b6-3"})(["width:32px;height:32px;border-radius:0.25rem;object-fit:contain;"]),ngt=ie.span.withConfig({displayName:"Chip",componentId:"sc-9b65f2b6-4"})(["display:flex;gap:0.25rem;align-items:center;padding:0.25rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);background-color:var(--privy-color-background-2);svg{width:100%;max-width:1rem;max-height:1rem;stroke-width:2;}"]),igt=D1((()=>({isModalOpen:!1,resolvers:null})));D1((()=>({})));const sgt=({address:t,client:e,appId:r})=>{let n=`${e}:${t}`;r&&Jt.put(ogt(r),n),igt.setState({wallet:n})},ogt=t=>`privy:${t}:active-wallet-connection`;function qme({walletList:t,walletChainType:e}){let r=zr(),{connectors:n}=bt(),i=f3((v=>v.listings)),s=e??r.appearance.walletChainType,o=t??r.appearance?.walletList,a=x.useMemo((()=>new qa(s,o)),[s,o]),{wallets:l,walletCount:c}=x.useMemo((()=>a.getWallets(n,i)),[a,n,i]),[u,h]=x.useState(""),f=x.useMemo((()=>u?l.filter((v=>v.label.toLowerCase().includes(u.toLowerCase()))):l),[u,l]),[p,m]=x.useState();return{selected:p,setSelected:m,search:u,setSearch:h,wallets:f,walletCount:c}}let Wme=t=>!t||typeof t!="string"&&(t instanceof pL||t instanceof yL);const ej=({index:t,style:e,data:r,recent:n})=>{let i=r.wallets[t],{walletChainType:s,handleWalletClick:o}=r,a={...e,boxSizing:"border-box"};return i?d.jsxs(i_,{style:a,onClick:()=>o(i),children:[i.icon&&(i.connector&&!Wme(i.connector)?d.jsx(rgt,{children:typeof i.icon=="string"?d.jsx(Nb,{src:i.icon}):d.jsx(i.icon,{style:{width:"32px",height:"32px"}})}):typeof i.icon=="string"?d.jsx(Nb,{src:i.icon}):d.jsx(i.icon,{style:{width:"32px",height:"32px"}})),d.jsx(s_,{children:i.label}),n?d.jsxs(d.Fragment,{children:[d.jsx(ngt,{children:"Last used"}),d.jsx(NC,{children:d.jsxs(d.Fragment,{children:[s==="ethereum-only"&&d.jsx(QO,{}),s==="solana-only"&&d.jsx(ZO,{})]})})]}):d.jsx(NC,{children:!(s==="ethereum-only"||s==="solana-only")&&d.jsxs(d.Fragment,{children:[i.chains?.some((l=>l.startsWith("eip155")))&&d.jsx(QO,{}),i.chains?.some((l=>l.startsWith("solana")))&&d.jsx(ZO,{})]})})]}):null};var Hme=({className:t,suggestedAddress:e,customDescription:r,connectOnly:n,preSelectedWalletId:i,...s})=>{let o=zr(),{connectors:a}=bt(),l=s.walletChainType||o.appearance.walletChainType,c=s.walletList||o.appearance?.walletList,{onBack:u,onClose:h,app:f}=s,{selected:p,setSelected:m,qrUrl:v,setQrUrl:w,connecting:b,uiState:E,wallets:_,walletCount:A,handleConnect:C,handleBack:k,showSearchBar:P,isInitialConnectView:F,title:N,search:$,setSearch:U}=(function({onConnect:B,onBack:q,onClose:G,onConnectError:W,walletList:j,walletChainType:Y,app:Q}){let z=zr(),{connectors:Z}=bt(),{wallets:ee,walletCount:te,search:se,setSearch:ce,selected:ge,setSelected:ae}=qme({walletList:j,walletChainType:Y}),[_e,Ee]=x.useState(),[Ie,qe]=x.useState(),[me,ze]=x.useState(),rt=!ge&&!Ie&&!me,Ae=rt&&(te>6||se.length>0),Fe=Z.find((wt=>wt.connectorType==="wallet_connect_v2")),nt=x.useCallback((async(wt,xt)=>{if(wt){if(me?.connector===wt)return void console.log("Already connecting to this wallet, skipping duplicate attempt");if(Ee("loading"),typeof wt=="string")return ze({connector:wt,name:xt?.name??"Wallet",icon:xt?.icon}),void window.open(wt,"_blank");ze({connector:wt,name:xt?.name??wt.walletBranding.name??"Wallet",icon:xt?.icon??wt.walletBranding.icon});try{let Le=await wt.connect({showPrompt:!0});if(!Le)return Ee("error"),void W?.(new kn("Unable to connect wallet"));Ee("success"),sgt({address:Le.address,client:Le.walletClientType,appId:z.id}),setTimeout((()=>{B({connector:wt,wallet:Le})}),Bn)}catch(Le){if(console.error("ERROR: ",{e:Le}),Le?.message?.includes("already pending for origin")||Le?.message?.includes("wallet_requestPermissions"))return void console.log("Connection request already pending, maintaining loading state");Ee("error"),W?.(new kn("Unable to connect wallet"))}}}),[z.id,B,me]),_t=x.useCallback((()=>Ie?(Ee(void 0),ze(void 0),void qe(void 0)):me?(Ee(void 0),void ze(void 0)):ge?(Ee(void 0),ze(void 0),void ae(void 0)):_e==="error"||_e==="loading"?(Ee(void 0),void ze(void 0)):void q?.()),[Ie,me,ge,_e,q]),Ye=x.useMemo((()=>me?.connector===Fe&&Ie&&Vr.isMobile?`Go to ${me.name} to continue`:me?.connector===Fe&&Ie?`Scan code to connect to ${me.name}`:typeof me?.connector=="string"?`Open or install ${me.name}`:ge&&!me?"Select network":me?null:"Select your wallet"),[me,Ie,ge,Fe]);return{selected:ge,setSelected:ae,qrUrl:Ie,setQrUrl:qe,connecting:me,uiState:_e,search:se,setSearch:ce,wallets:ee,walletCount:te,wc:Fe,isInitialConnectView:rt,showSearchBar:Ae,title:Ye,handleConnect:nt,handleBack:_t,onClose:G,onConnect:B,app:Q}})({...s,walletList:c,walletChainType:l}),O=a.find((B=>B.connectorType==="wallet_connect_v2")),D=x.useRef(null),T=mUe({count:_.length,getScrollElement:()=>D.current,estimateSize:()=>56,overscan:6,gap:5}),I=x.useCallback((async B=>{let q,G=l!=="solana-only"&&B.chains?.some((Y=>Y.startsWith("eip155"))),W=l!=="ethereum-only"&&B.chains?.some((Y=>Y.startsWith("solana"))),j=mL[B.id];if(W&&j)q=j.getMobileRedirect({isSolana:!0,connectOnly:!!n,useUniversalLink:!1});else{let Y=B.listing?.mobile?.native;q=B.listing?.mobile?.universal||Y||B.url}if(G&&W){let Y=qa.normalize(B.id),Q=a.filter((ee=>qa.normalize(ee.walletClientType)===Y&&!(ee.chainType==="ethereum"&&ee instanceof pL||ee.chainType==="solana"&&ee instanceof yL))),z=Q.find((ee=>ee.chainType==="ethereum")),Z=Q.find((ee=>ee.chainType==="solana"));if(!z&&B.listing){let ee=_y[B.listing.slug]?{...B.listing,..._y[B.listing.slug]}:B.listing;O.setWalletEntry(ee,w),await O.resetConnection(B.id),z=O}if(!Z&&q&&(Z=q),z||Z)return void m({eth:z,sol:Z,name:B.label,icon:B.icon})}if(!Wme(B.connector))return B.connector?.connectorType==="wallet_connect_v2"&&(await O.resetConnection(B.id),O.setWalletEntry({id:"wallet_connect_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect",homepage:"",chains:["eip155"],mobile:{native:"",universal:void 0}},w)),void await C(B.connector,{name:B.label,icon:B.icon});if(G||W||B.url||B.listing){if(G&&B.listing){let Y=_y[B.listing.slug]?{...B.listing,..._y[B.listing.slug]}:B.listing;O.setWalletEntry(Y,w),await O.resetConnection(B.id)}if(G&&W)return void m({eth:O,sol:q,name:B.label,icon:B.icon});if(W)return void await C(q,{name:B.label,icon:B.icon});if(G)return void(B.listing?await C(O,{name:B.label,icon:B.icon}):B.url?await C(B.url,{name:B.label,icon:B.icon}):console.warn("Cannot connect to EVM wallet without connector or listing details:",B.label));if(B.url)return void await C(B.url,{name:B.label,icon:B.icon})}}),[O,C,m,w,k,h,f,F,N,r,e,o,a]),R=u||k,L=!!u||!F;return x.useEffect((()=>{if(!i)return;let B=_.find((({id:q})=>q===i));B&&I(B).catch(console.error)}),[i]),d.jsxs(un,{className:t,children:[d.jsx(un.Header,{icon:b&&!v||v&&Vr.isMobile&&b?.icon?b.icon:b?void 0:zme,iconVariant:b&&!v||v&&Vr.isMobile?"loading":void 0,iconLoadingStatus:b&&!v||v&&Vr.isMobile?{success:E==="success",fail:E==="error"}:void 0,title:b&&!v?`Waiting for ${b.name}`:v&&Vr.isMobile?`Waiting for ${b?.name??"connection"}`:N,subtitle:b&&!v&&typeof b.connector=="string"?`To connect to ${b.name}, install and open the app. Then confirm the connection when prompted.`:b&&!v&&typeof b.connector!="string"?E==="error"?"Please try connecting again.":"For the best experience, connect only one wallet at a time.":F?r??(e?d.jsxs("span",{children:["Connect the wallet with address ",d.jsx(Sr,{address:e})," ",f?.name?`to ${f.name}.`:"."]}):f?`Connect a wallet to your ${f.name} account`:null):null,showBack:L,showClose:!0,onBack:R,onClose:h}),d.jsxs(un.Body,{ref:D,$colorScheme:o.appearance.palette.colorScheme,style:{marginBottom:v?"0.5rem":void 0},children:[P&&d.jsx(agt,{children:d.jsxs(Ume,{style:{background:"transparent"},children:[d.jsx(ld,{children:d.jsx(Qut,{})}),d.jsx("input",{className:"login-method-button",type:"text",placeholder:"Search wallets",onChange:B=>U(B.target.value),value:$})]})}),v&&Vr.isMobile&&E==="loading"&&d.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:d.jsx(sg,{variant:"primary",onClick:()=>window.open(v.universal??v.native,"_blank"),style:{width:"100%"},children:"Open in app"})}),v&&!Vr.isMobile&&E==="loading"&&d.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:d.jsx(ugt,{value:v.universal??v.native,iconOnly:!0,children:"Copy link"})}),v&&!Vr.isMobile&&d.jsx(v3,{size:280,url:v.universal??v.native,squareLogoElement:b?.icon?typeof b.icon=="string"?B=>d.jsx("svg",{...B,children:d.jsx("image",{href:b.icon,height:B.height,width:B.width})}):b.icon:mht}),d.jsxs(lgt,{children:[b&&!v&&typeof b.connector=="string"&&d.jsxs(i_,{onClick:()=>window.open(b.connector,"_blank"),children:[b.icon&&(typeof b.icon=="string"?d.jsx(Nb,{src:b.icon}):d.jsx(b.icon,{})),d.jsx(s_,{children:b.name})]}),p?.eth&&!b&&d.jsxs(i_,{onClick:()=>C(p.eth,{name:p.name,icon:p.icon}),children:[p.icon&&(typeof p.icon=="string"?d.jsx(Nb,{src:p.icon}):d.jsx(p.icon,{})),d.jsx(s_,{children:p.name}),d.jsx(NC,{children:d.jsx(QO,{})})]}),p?.sol&&!b&&d.jsxs(i_,{onClick:()=>C(p.sol,{name:p.name,icon:p.icon}),children:[p.icon&&(typeof p.icon=="string"?d.jsx(Nb,{src:p.icon}):d.jsx(p.icon,{})),d.jsx(s_,{children:p.name}),d.jsx(NC,{children:d.jsx(ZO,{})})]}),F&&d.jsxs(d.Fragment,{children:[!(A>0)&&d.jsx(cgt,{children:"No wallets found. Try another search."}),A>0&&!v&&d.jsx("div",{style:{maxHeight:56*Math.min(_.length,5)+5,width:"100%"},children:d.jsx("div",{style:{height:`${T.getTotalSize()}px`,width:"100%",position:"relative"},children:T.getVirtualItems().map((B=>d.jsx(ej,{index:B.index,style:{position:"absolute",top:0,left:0,height:`${B.size}px`,transform:`translateY(${B.start}px)`},data:{wallets:_,walletChainType:l,handleWalletClick:I}},B.key)))})})]})]})]}),d.jsxs(un.Footer,{children:[b&&!v&&typeof b.connector!="string"&&E==="error"&&d.jsx(un.Actions,{children:d.jsx(sg,{style:{width:"100%",alignItems:"center"},variant:"error",onClick:()=>C(b.connector,{name:b.name,icon:b.icon}),children:"Retry"})}),!!(f&&f.legal.privacyPolicyUrl&&f.legal.termsAndConditionsUrl)&&d.jsx(wL,{app:f,alwaysShowImplicitConsent:!0}),d.jsx(un.Watermark,{})]})]})};let agt=ie.div.withConfig({displayName:"StickySearchContainer",componentId:"sc-ee081e08-0"})(["position:sticky;margin-top:-3px;padding-top:3px;top:-3px;z-index:1;background:var(--privy-color-background);padding-bottom:calc(var(--screen-space) / 2);"]),lgt=ie.div.withConfig({displayName:"WalletListContainer",componentId:"sc-ee081e08-1"})(["display:flex;flex-direction:column;gap:","px;"],5),i_=ie.button.withConfig({displayName:"Button",componentId:"sc-ee081e08-2"})(["button&{gap:0.5rem;align-items:center;display:flex;position:relative;text-align:left;font-weight:500;transition:background 200ms ease-in;width:calc(100% - 4px);border-radius:var(--privy-border-radius-md);padding:0.75em;border:1px solid var(--privy-color-foreground-4);justify-content:space-between;}&:hover{background:var(--privy-color-background-2);}"]),NC=ie.span.withConfig({displayName:"ButtonBadge",componentId:"sc-ee081e08-3"})(["display:flex;align-items:center;justify-content:end;position:relative;& > svg{border-radius:var(--privy-border-radius-full);stroke-width:2.5;width:100%;max-height:1rem;max-width:1rem;flex-shrink:0;}& > svg:not(:last-child){border-radius:var(--privy-border-radius-full);margin-right:-0.375rem;}"]),cgt=ie.div.withConfig({displayName:"EmptyContainer",componentId:"sc-ee081e08-4"})(["height:60px;display:flex;align-items:center;justify-content:center;text-align:center;"]),s_=ie.span.withConfig({displayName:"WalletName",componentId:"sc-ee081e08-5"})(["text-overflow:ellipsis;white-space:nowrap;color:var(--privy-color-foreground);font-weight:400;flex:1;"]),ugt=ie(G0t).withConfig({displayName:"StyledCopyableText",componentId:"sc-ee081e08-6"})(["&&{margin:0.5rem auto 0 auto;}"]);const dgt=({...t})=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...t,children:[d.jsxs("g",{clipPath:"url(#clip0_2856_1743)",children:[d.jsx("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2856_1743",children:d.jsx("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),iZ=t=>{let e=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses")?.split(" ").filter((r=>Bs(r,{strict:!0}))).map((r=>pi(r)));return!!e?.length&&!!t?.linkedAccounts.filter((r=>r.type=="wallet"&&e.includes(r.address))).length};let Vme=x.createContext({plugins:{current:{}}});const hgt=({children:t})=>{let e=x.useRef({});return d.jsx(Vme.Provider,{value:{plugins:e},children:t})},ev=()=>{let{plugins:t}=x.useContext(Vme);return x.useCallback((e=>t.current[e]),[t])},Gme=Symbol("solana-ledger-plugin"),fgt=({title:t="You don't have access to this app",subtitle:e="Have you been invited?",ctaText:r="Try another account",ctaLink:n,onCtaClick:i})=>d.jsx(Mr,{title:t,subtitle:e,icon:xF,iconVariant:"warning",primaryCta:{label:r,onClick:()=>{n?window.open(n,"_blank"):i?.()}},watermark:!0}),rk={component:()=>{let{navigate:t,app:e}=It(),r=e?.allowlistConfig.errorTitle||"You don't have access to this app",n=e?.allowlistConfig.errorDetail||"Have you been invited?",i=e?.allowlistConfig.errorCtaText||"Try another account",s=e?.allowlistConfig.errorCtaLink;return d.jsx(fgt,{title:r,subtitle:n,ctaText:i,ctaLink:s??void 0,onCtaClick:()=>{t(yo)}})}},pgt=({status:t,title:e,description:r,userIntentRequired:n,retriesRemaining:i,hasSelectedCta:s,onContinue:o,onRetry:a})=>{let l=x.useMemo((()=>{switch(t){case"loading":default:return;case"success":return n?{label:s?"Continuing...":"Continue",onClick:o,disabled:s,loading:s}:void 0;case"error":return i>0?{label:"Retry",onClick:a}:void 0}}),[t,s,o,a]),c=x.useMemo((()=>({loading:"loading",ready:"subtle",disabled:"subtle",success:"success",error:"error"})[t]||"loading"),[t]);return d.jsx(Mr,{icon:t==="loading"||t==="ready"?void 0:t==="success"?e3:v8,iconVariant:c,title:e,subtitle:r,primaryCta:l,watermark:!0})},au={component:()=>{let{lastScreen:t,data:e,navigate:r,setModalData:n}=It(),{status:i,token:s,waitForResult:o,reset:a,execute:l}=Ca(),c=x.useRef([]),u=P=>{c.current=[P,...c.current]},[h,f]=x.useState(!0);x.useEffect((()=>(u(setTimeout(f,1e3,!1)),()=>{c.current.forEach((P=>clearTimeout(P))),c.current=[]})),[]);let[p,m]=x.useState(""),[v,w]=x.useState("Checking that you are a human..."),[b,E]=x.useState(!1),[_,A]=x.useState(3),C=e?.captchaModalData,k=async P=>{try{await C?.callback(P),C?.onSuccessNavigateTo&&r(C?.onSuccessNavigateTo,!1)}catch(F){if(F instanceof B8)return;n({errorModalData:{error:F,previousScreen:t||yo}}),r(C?.onErrorNavigateTo||zn,!1)}};return x.useEffect((()=>{i==="success"?u(setTimeout((async()=>{let P=await o();!P||C?.userIntentRequired||k(P)}),1e3)):i==="ready"&&u(setTimeout((()=>{i==="ready"&&l()}),500))}),[i]),x.useEffect((()=>{if(!h)switch(i){case"success":m("Success!"),w("CAPTCHA passed successfully."),C?.userIntentRequired||setTimeout((()=>{E(!0),k(s)}),2e3);break;case"loading":m(""),w("Checking that you are a human...");break;case"error":m("Something went wrong"),w(_<=0?"If you use an adblocker or VPN, try disabling and re-attempting.":"You did not pass CAPTCHA. Please try again.")}}),[i,h,b]),d.jsx(pgt,{status:i,title:p,description:v,userIntentRequired:C?.userIntentRequired,retriesRemaining:_,hasSelectedCta:b,onContinue:()=>{E(!0),k(s)},onRetry:async()=>{if(_<=0)return;A((F=>F-1)),a(),l();let P=await o();!P||C?.userIntentRequired||k(P)}})}},ggt=t=>d.jsx("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"-0.625 12.48 397.647 399.546",width:"2500",height:"674",preserveAspectRatio:"none",...t,children:d.jsx("g",{children:d.jsx("path",{fill:"#333745",d:"M 333.9 12.8 L 150.9 12.8 L 150.9 258.4 L 396.5 258.4 L 396.5 76.7 C 396.6 42.2 368.4 12.8 333.9 12.8 Z M 94.7 12.8 L 64 12.8 C 29.5 12.8 0 40.9 0 76.8 L 0 107.5 L 94.7 107.5 L 94.7 12.8 Z M 0 165 L 94.7 165 L 94.7 259.7 L 0 259.7 L 0 165 Z M 301.9 410.6 L 332.6 410.6 C 367.1 410.6 396.6 382.5 396.6 346.6 L 396.6 316 L 301.9 316 L 301.9 410.6 Z M 150.9 316 L 245.6 316 L 245.6 410.7 L 150.9 410.7 L 150.9 316 Z M 0 316 L 0 346.7 C 0 381.2 28.1 410.7 64 410.7 L 94.7 410.7 L 94.7 316 L 0 316 Z"})})}),mgt=({onContinueWithLedger:t,onContinueWithoutLedger:e,title:r="Phantom supports Ledger",subtitle:n=`Are you using a Ledger hardware wallet?
Continue to sign with Ledger`})=>d.jsx(Mr,{title:r,subtitle:d.jsx(wgt,{children:n}),primaryCta:{label:"Continue with Ledger",onClick:t},secondaryCta:{label:"Continue without Ledger",onClick:e},watermark:!0,children:d.jsxs(vgt,{children:[d.jsx(Age,{style:{width:"48px",height:"48px"}}),d.jsx(Qqe,{strokeWidth:2,color:"var(--privy-color-icon-subtle)",width:22,height:22}),d.jsx(ggt,{style:{width:"48px",height:"48px"}})]})}),ygt={component:function(){let{data:t,setModalData:e,navigate:r}=It();return d.jsx(mgt,{onContinueWithLedger:function(){e({...t,login:{...t?.login,isSigningInWithLedgerSolana:!0}}),r(ph)},onContinueWithoutLedger:function(){e({...t,login:{...t?.login,isSigningInWithLedgerSolana:!1}}),r(ph)}})}};let vgt=ie.div.withConfig({displayName:"IconContainer",componentId:"sc-218811f1-0"})(["display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:var(--screen-space);"]),wgt=ie.span.withConfig({displayName:"SubtitleText",componentId:"sc-218811f1-1"})(["white-space:pre-wrap;"]);const bgt=({style:t,...e})=>d.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"38px",width:"38px",...t},...e,children:d.jsx("path",{d:"M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z",stroke:"currentColor",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"})}),xgt=({title:t="Unable to sign in",subtitle:e="This is a test application that has reached its user limit. To allow more users, this app needs to be upgraded to production.",onGoBack:r})=>d.jsx(Mr,{title:t,subtitle:e,icon:bgt,iconVariant:"subtle",primaryCta:{label:"Go back",onClick:r},showBack:!0,onBack:r,watermark:!0}),w3={component:()=>{let{navigate:t}=It();return d.jsx(xgt,{onGoBack:()=>{t(yo)}})}},Kme=t=>t?.privyErrorCode===ye.LINKED_TO_ANOTHER_USER?Df.ERROR_USER_EXISTS:t instanceof no&&!t.details.default?t.details:t instanceof Cge?Df.ERROR_TIMED_OUT:t instanceof Ege?Df.ERROR_USER_REJECTED_CONNECTION:t?.privyErrorCode===ye.CANNOT_LINK_MORE_OF_TYPE?Df.ERROR_USER_LIMIT_REACHED:Df.ERROR_WALLET_CONNECTION,_gt=({walletLogo:t,title:e,subtitle:r,signSuccess:n,errorMessage:i,connectSuccess:s,separateConnectAndSign:o,signing:a,walletConnectRedirectUri:l,walletConnectFallbackUniversalUri:c,hasTabbedAway:u,showCoinbaseWalletResetCta:h,numRetries:f,onBack:p,onSign:m,onRetry:v,onCoinbaseReset:w,onDifferentWallet:b})=>{let E=h?{label:"Use a different wallet",onClick:w,disabled:n}:i===Df.ERROR_USER_EXISTS&&p?{label:"Use a different wallet",onClick:b}:s&&!n&&o?{label:a?"Signing":"Sign with your wallet",onClick:m,disabled:a}:!n&&i?.retryable&&f<2?{label:"Retry",onClick:v,disabled:!1}:n||i?void 0:{label:"Connecting",onClick:()=>{},disabled:!0};return d.jsx(Mr,{title:e,subtitle:r,icon:t,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!i},primaryCta:E,onBack:p,watermark:!0,children:!s&&l&&!u&&d.jsxs(Cgt,{children:["Still here?"," ",d.jsx(g1,{href:l,target:"_blank",variant:"underlined",size:"sm",children:"Try connecting again"}),c&&d.jsxs(d.Fragment,{children:[" ","or"," ",d.jsx(g1,{href:c,target:"_blank",variant:"underlined",size:"sm",children:"use this different link"})]})]})})},ph={component:()=>{let t,[e,r]=x.useState(!1),[n,i]=x.useState(!1),[s,o]=x.useState(void 0),{authenticated:a,logout:l}=Pr(),{app:c,navigate:u,navigateBack:h,lastScreen:f,currentScreen:p,setModalData:m,data:v}=It(),{getAuthFlow:w,walletConnectionStatus:b,closePrivyModal:E,initLoginWithWallet:_,loginWithWallet:A,updateWallets:C,createAnalyticsEvent:k}=bt(),{walletConnectors:P}=Pr(),[F,N]=x.useState(0),{user:$}=Pr(),U=ev(),[O]=x.useState($?.linkedAccounts.length||0),[D,T]=x.useState(""),[I,R]=x.useState(""),[L,B]=x.useState(!1),{hasTabbedAway:q}=(function(){let[qe,me]=x.useState(!1),ze=x.useCallback((()=>{document.hidden&&me(!0)}),[]);return x.useEffect((()=>(document.addEventListener("visibilitychange",ze),()=>document.removeEventListener("visibilitychange",ze))),[ze]),{hasTabbedAway:qe,reset:()=>me(!1)}})(),{enabled:G,token:W}=Ca(),j=Mh(b?.connector?.walletClientType||"unknown"),Y=Vr.isMobile&&b?.connector?.connectorType==="wallet_connect_v2"||Vr.isMobile&&b?.connector?.connectorType==="coinbase_wallet"||Vr.isMobile&&b?.connector?.connectorType==="base_account"||Vr.isMobile&&b?.connector?.connectorType==="injected"&&b?.connector?.walletClientType==="phantom"||Vr.isMobile&&b?.connector?.connectorType==="solana_adapter"&&b.connector.walletClientType==="mobile_wallet_adapter",Q=b?.status==="connected",z=b?.status==="switching_to_supported_chain";x.useEffect((()=>{let qe=w(),me=qe instanceof Ly||qe instanceof _C?qe:void 0;Q&&b.connector?.chainType==="solana"&&b.connector?.walletClientType==="phantom"&&U(Gme)&&v?.login?.isSigningInWithLedgerSolana===void 0?u(ygt,!1):(Q&&!me&&(!G||W||a?_(b.connectedWallet,W,v?.login?.disableSignup,v?.login?.isSigningInWithLedgerSolana?"transaction":"plain").then((()=>{B(!0)})):(m({captchaModalData:{callback:ze=>_(b.connectedWallet,ze,v?.login?.disableSignup,v?.login?.isSigningInWithLedgerSolana?"transaction":"plain").then((()=>{B(!0)})),userIntentRequired:!1,onSuccessNavigateTo:ph,onErrorNavigateTo:zn}}),u(au,!1))),me instanceof _C&&v?.login?.isSigningInWithLedgerSolana&&(me.messageType="transaction"),me&&Y&&Q&&!me.preparedMessage?me.buildMessage():me&&!Y&&Q&&(n||(async()=>{i(!0),o(void 0);try{b?.connector?.connectorType==="wallet_connect_v2"&&b?.connector?.walletClientType==="metamask"&&await CC(2500),await ee()}catch(ze){console.warn("Auto-prompted signature failed",ze)}finally{i(!1)}})()))}),[F,Q,L]),x.useEffect((()=>{if($&&e){let qe=900;if(c?.legal.requireUsersAcceptTerms&&!$.hasAcceptedTerms){let ze=setTimeout((()=>{u(Ng)}),qe);return()=>clearTimeout(ze)}if(_p($,c.embeddedWallets)){let ze=setTimeout((()=>{m({createWallet:{onSuccess:()=>{},onFailure:rt=>{console.error(rt),k({eventName:"embedded_wallet_creation_failure_logout",payload:{error:rt,screen:"ConnectionStatusScreen"}}),l()},callAuthOnSuccessOnClose:!0}}),u(Fh)}),qe);return()=>clearTimeout(ze)}C();let me=setTimeout((()=>E({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Bn);return()=>clearTimeout(me)}}),[$,e]);let Z=qe=>{if(qe?.privyErrorCode!==ye.ALLOWLIST_REJECTED){if(qe?.privyErrorCode===ye.USER_LIMIT_REACHED)return console.error(new Vx(qe).toString()),void u(w3);if(qe?.privyErrorCode!==ye.USER_DOES_NOT_EXIST)return qe?.privyErrorCode===ye.ACCOUNT_TRANSFER_REQUIRED&&qe.data?.data?.nonce?(m({accountTransfer:{nonce:qe.data?.data?.nonce,account:w()?.meta.address,displayName:qe.data?.data?.account?.displayName,externalWalletMetadata:{walletClientType:w()?.meta.walletClientType,chainId:w()?.meta.chainId,connectorType:w()?.meta.connectorType},linkMethod:w()instanceof Ly?"siwe":"siws",embeddedWalletAddress:qe.data?.data?.otherUser?.embeddedWalletAddress}}),void u($g)):void o(Kme(qe));u(m3)}else u(rk)};async function ee(){try{await A(),r(!0)}catch(qe){Z(qe)}finally{i(!1)}}x.useEffect((()=>{b?.connectError&&Z(b?.connectError)}),[b]),((qe,me)=>{let ze=x.useRef((()=>{}));x.useEffect((()=>{ze.current=qe})),x.useEffect((()=>{if(me!==null){let rt=setInterval((()=>ze.current()),me||0);return()=>clearInterval(rt)}}),[me])})((()=>{let qe=te==="wallet_connect_v2"&&b?.connector instanceof By?b.connector.redirectUri:void 0;qe&&T(qe);let me=te==="wallet_connect_v2"&&b?.connector instanceof By?b.connector.fallbackUniversalRedirectUri:void 0;me&&R(me)}),b?.connector instanceof By&&!D?500:null);let te=b?.connector?.connectorType||"injected",se=b?.connector?.walletClientType||"unknown",ce=j?.metadata?.shortName||j?.name||b?.connector?.walletBranding.name||"Browser Extension",ge=j?.image_url?.md||b?.connector?.walletBranding.icon||(qe=>d.jsx(gL,{...qe})),ae=ce==="Browser Extension"?ce.toLowerCase():ce;t=e?`Successfully connected with ${ae}`:s?s.message:z?"Switching networks":Q?n&&Y?"Signing":"Sign to verify":`Waiting for ${ae}`;let _e="Dont see your wallet? Check your other browser windows.";e?_e=O===($?.linkedAccounts.length||0)?"Wallet was already linked.":"Youre good to go!":F>=2&&s?_e="Unable to connect wallet":s?_e=s.detail:z?_e="Switch your wallet to the requested network.":Q&&Y?_e="Sign the message in your wallet to verify it belongs to you.":se==="metamask"&&Vr.isMobile?_e="Click continue to open and connect MetaMask.":se==="metamask"?_e="For the best experience, connect only one wallet at a time.":te==="wallet_connect"?_e="Open your mobile wallet app to continue":te==="coinbase_wallet"?yge()||(_e=iZ($)?"Continue with the Coinbase app. Not the right wallet? Reset your connection below.":"Open the Coinbase app on your phone to continue."):v?.login?.isSigningInWithLedgerSolana&&(_e="Ledger requires a transaction to verify your identity. Youll sign a transaction that performs no onchain action.");let Ee=P?.walletConnectors?.find((qe=>qe.walletClientType==="coinbase_wallet")),Ie=se==="coinbase_wallet"&&(iZ($)||s===Df.ERROR_USER_EXISTS);return d.jsx(_gt,{walletLogo:ge,title:t,subtitle:_e,signSuccess:e,errorMessage:s,connectSuccess:Q,separateConnectAndSign:Y,signing:n,walletConnectRedirectUri:D,walletConnectFallbackUniversalUri:I,hasTabbedAway:q,showCoinbaseWalletResetCta:Ie,numRetries:F,onBack:f&&p!==f?h:void 0,onSign:()=>{i(!0),ee()},onRetry:()=>{N(F+1),o(void 0),Q?(i(!0),ee()):b?.connectRetry()},onCoinbaseReset:()=>{Ee&&Ee?.disconnect()},onDifferentWallet:h})}};let Cgt=ie.p.withConfig({displayName:"RedirectLinksContainer",componentId:"sc-a5253f07-0"})(["text-align:center;color:var(--privy-color-foreground-2);font-size:14px;line-height:22px;margin:16px 0;"]);const o_={component:()=>{let{setWalletConnectionStatus:t,closePrivyModal:e,inProgressAuthFlowRef:r}=bt(),{app:n,data:i,navigate:s}=It(),o=Dh(),a=i?.externalConnectWallet?.description,l=x.useRef(i?.externalConnectWallet?.suggestedAddress).current,c=x.useRef(i?.externalConnectWallet?.walletList??n.appearance.walletList),u=x.useRef(i?.externalConnectWallet?.walletChainType??n.appearance.walletChainType),h=c.current,f=u.current,p=r.current==="link"?void 0:()=>s(yo);return d.jsx(Hme,{walletList:h,walletChainType:f,onClose:e,onConnect:x.useCallback((({connector:m,wallet:v})=>{o("connectWallet","onSuccess",{wallet:v}),t({status:"connected",connectedWallet:v,connector:m,connectError:null,connectRetry:()=>null}),s(ph,!i?.externalConnectWallet?.preSelectedWalletId)}),[t,s,i?.login?.disableSignup,i?.externalConnectWallet?.preSelectedWalletId]),onConnectError:m=>{m instanceof po?(console.warn(m.cause?m.cause:m.message),o("connectWallet","onError",m.privyErrorCode||ye.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(m),o("connectWallet","onError",ye.UNKNOWN_CONNECT_WALLET_ERROR))},onBack:p,suggestedAddress:l,customDescription:a||"",preSelectedWalletId:i?.externalConnectWallet?.preSelectedWalletId,app:n})},isUnauthenticatedScreem:!0},tj={component:()=>{let{closePrivyModal:t}=bt(),{app:e,data:r}=It(),n=Dh(),i=r?.externalConnectWallet?.description,s=x.useRef(r?.externalConnectWallet?.suggestedAddress).current,o=x.useRef(r?.externalConnectWallet?.walletList??e.appearance.walletList),a=x.useRef(r?.externalConnectWallet?.walletChainType??e.appearance.walletChainType);return d.jsx(Hme,{walletList:o.current,walletChainType:a.current,onClose:()=>{n("connectWallet","onError",ye.GENERIC_CONNECT_WALLET_ERROR),t()},onConnect:({wallet:l})=>{n("connectWallet","onSuccess",{wallet:l}),t()},onConnectError:l=>{l instanceof po?(console.warn(l.cause?l.cause:l.message),n("connectWallet","onError",l.privyErrorCode||ye.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(l),n("connectWallet","onError",ye.UNKNOWN_CONNECT_WALLET_ERROR))},suggestedAddress:s,customDescription:i,app:e})},isUnauthenticatedScreem:!0},sZ=({chainType:t,withPadding:e})=>{let r="";return r=t==="ethereum-only"||t==="ethereum-and-solana"?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",d.jsx(Mht,{$withPadding:e,children:d.jsxs(Dht,{children:[d.jsx(jy,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),d.jsx("h3",{children:"No wallets available"}),d.jsxs("p",{children:["Please download an external wallet provider, like ",r,"."]})]})},"empty-wallet-state")};let Egt=lde(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]);const nk=Zi(["",""],(t=>t.$isLoading?Zi(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],Egt):"")),fd=({children:t,color:e,isLoading:r,isPulsing:n,...i})=>d.jsx(kgt,{$color:e,$isLoading:r,$isPulsing:n,...i,children:t});let kgt=ie.span.withConfig({displayName:"StyledSpan",componentId:"sc-80725f4-0"})(["padding:0.25rem;font-size:0.75rem;font-weight:500;line-height:1rem;border-radius:var(--privy-border-radius-xs);display:flex;align-items:center;"," ",""],(t=>{let e,r;t.$color==="green"&&(e="var(--privy-color-success-dark)",r="var(--privy-color-success-light)"),t.$color==="red"&&(e="var(--privy-color-error)",r="var(--privy-color-error-light)"),t.$color==="gray"&&(e="var(--privy-color-foreground-2)",r="var(--privy-color-background-2)");let n=lde(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],r,r);return Zi(["color:",";background-color:",";",";"],e,r,t.$isPulsing&&Zi(["animation:"," 3s linear infinite;"],n))}),nk);const M0=t=>d.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#855DCD"}),d.jsxs("g",{"clip-path":"url(#clip0_1715_1960)",children:[d.jsx("path",{d:"M4.5 4H28.5V28H4.5V4Z",fill:"#855DCD"}),d.jsx("path",{d:"M11.1072 8.42105H21.6983V23.5789H20.1437V16.6357H20.1284C19.9566 14.7167 18.3542 13.2129 16.4028 13.2129C14.4514 13.2129 12.849 14.7167 12.6771 16.6357H12.6619V23.5789H11.1072V8.42105Z",fill:"white"}),d.jsx("path",{d:"M8.28943 10.5725L8.92101 12.7239H9.45542V21.4275C9.1871 21.4275 8.96959 21.6464 8.96959 21.9165V22.5032H8.87242C8.60411 22.5032 8.38659 22.7221 8.38659 22.9922V23.5789H13.8279V22.9922C13.8279 22.7221 13.6104 22.5032 13.3421 22.5032H13.2449V21.9165C13.2449 21.6464 13.0274 21.4275 12.7591 21.4275H12.1761V10.5725H8.28943Z",fill:"white"}),d.jsx("path",{d:"M20.2408 21.4275C19.9725 21.4275 19.755 21.6464 19.755 21.9165V22.5032H19.6579C19.3895 22.5032 19.172 22.7221 19.172 22.9922V23.5789H24.6133V22.9922C24.6133 22.7221 24.3958 22.5032 24.1275 22.5032H24.0303V21.9165C24.0303 21.6464 23.8128 21.4275 23.5445 21.4275V12.7239H24.0789L24.7105 10.5725H20.8238V21.4275H20.2408Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_1715_1960",children:d.jsx("rect",{width:"24",height:"24",fill:"white",transform:"translate(4.5 4)"})})})]}),Yme=t=>{let[e,r]=x.useState(!1);return d.jsx(Sgt,{color:t.color,href:t.url,target:"_blank",rel:"noreferrer noopener",onClick:()=>{r(!0),setTimeout((()=>r(!1)),1500)},justOpened:e,children:t.text})};let Sgt=ie.a.withConfig({displayName:"StyledOpenLinkButton",componentId:"sc-4e695c83-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],(t=>t.justOpened?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)"),(t=>t.justOpened?"medium":"normal"),(t=>t.justOpened?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)"));const ta=ie.span.withConfig({displayName:"LabelXs",componentId:"sc-4c43f9fd-0"})(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]);let Agt=ie.div.withConfig({displayName:"Container",componentId:"sc-913deead-0"})(["width:100%;"]),Tgt=ie.div.withConfig({displayName:"InputContainer",componentId:"sc-913deead-1"})(["display:flex;align-items:center;justify-content:space-between;gap:0.75rem;padding:0.75rem;height:56px;background:",";border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);&:hover{border-color:",";}"],(t=>t.$disabled?"var(--privy-color-background-2)":"var(--privy-color-background)"),(t=>t.$disabled?"var(--privy-color-foreground-4)":"var(--privy-color-foreground-3)")),Igt=ie.div.withConfig({displayName:"TextContainer",componentId:"sc-913deead-2"})(["flex:1;min-width:0;display:flex;align-items:center;"]),Jme=ie.span.withConfig({displayName:"Text",componentId:"sc-913deead-3"})(["display:block;font-size:16px;line-height:24px;color:",";overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all;@media (min-width:441px){font-size:14px;line-height:20px;}"],(t=>t.$disabled?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)")),Pgt=ie(Jme).withConfig({displayName:"PlaceholderText",componentId:"sc-913deead-4"})(["color:var(--privy-color-foreground-3);font-style:italic;"]),$gt=ie(ta).withConfig({displayName:"TitleLabel",componentId:"sc-913deead-5"})(["margin-bottom:0.5rem;"]),Ngt=ie(ou).withConfig({displayName:"CopyButton",componentId:"sc-913deead-6"})(["&&{gap:0.375rem;font-size:14px;flex-shrink:0;}"]);const Rgt=({value:t,title:e,placeholder:r,className:n,showCopyButton:i=!0,truncate:s,maxLength:o=40,disabled:a=!1})=>{let[l,c]=x.useState(!1),u=s&&t?((h,f,p)=>{if((h=h.startsWith("https://")?h.slice(8):h).length<=p)return h;if(f==="middle"){let m=Math.ceil(p/2)-2,v=Math.floor(p/2)-1;return`${h.slice(0,m)}...${h.slice(-v)}`}return`${h.slice(0,p-3)}...`})(t,s,o):t;return x.useEffect((()=>{if(l){let h=setTimeout((()=>c(!1)),3e3);return()=>clearTimeout(h)}}),[l]),d.jsxs(Agt,{className:n,children:[e&&d.jsx($gt,{children:e}),d.jsxs(Tgt,{$disabled:a,children:[d.jsx(Igt,{children:t?d.jsx(Jme,{$disabled:a,title:t,children:u}):d.jsx(Pgt,{$disabled:a,children:r||"No value"})}),i&&t&&d.jsx(Ngt,{onClick:function(h){h.stopPropagation(),navigator.clipboard.writeText(t).then((()=>c(!0))).catch(console.error)},size:"sm",children:d.jsxs(d.Fragment,l?{children:["Copied",d.jsx(W2,{size:14})]}:{children:["Copy",d.jsx(eC,{size:14})]})})]})]})},Ogt=({connectUri:t,loading:e,success:r,errorMessage:n,onBack:i,onClose:s,onOpenFarcaster:o})=>d.jsx(Mr,Vr.isMobile||e?Vr.isIOS?{title:n?n.message:"Sign in with Farcaster",subtitle:n?n.detail:"To sign in with Farcaster, please open the Farcaster app.",icon:M0,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},primaryCta:t&&o?{label:"Open Farcaster app",onClick:o}:void 0,onBack:i,onClose:s,watermark:!0}:{title:n?n.message:"Signing in with Farcaster",subtitle:n?n.detail:"This should only take a moment",icon:M0,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},onBack:i,onClose:s,watermark:!0,children:t&&Vr.isMobile&&d.jsx(jgt,{children:d.jsx(Yme,{text:"Take me to Farcaster",url:t,color:"#8a63d2"})})}:{title:"Sign in with Farcaster",subtitle:"Scan with your phone's camera to continue.",onBack:i,onClose:s,watermark:!0,children:d.jsxs(Mgt,{children:[d.jsx(Dgt,{children:t?d.jsx(v3,{url:t,size:275,squareLogoElement:M0}):d.jsx(Ugt,{children:d.jsx(Ql,{})})}),d.jsxs(Fgt,{children:[d.jsx(Lgt,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),t&&d.jsx(Rgt,{value:t,truncate:"end",maxLength:30,showCopyButton:!0,disabled:!0})]})]})}),rj={component:()=>{let{authenticated:t,logout:e,ready:r,user:n}=Pr(),{lastScreen:i,navigate:s,navigateBack:o,setModalData:a,app:l}=It(),{getAuthFlow:c,loginWithFarcaster:u,closePrivyModal:h,createAnalyticsEvent:f}=bt(),[p,m]=x.useState(void 0),[v,w]=x.useState(!1),[b,E]=x.useState(!1),_=x.useRef([]),A=c(),C=A?.meta.connectUri;return x.useEffect((()=>{let k=Date.now(),P=setInterval((async()=>{let F=await A.pollForReady.execute(),N=Date.now()-k;if(F){clearInterval(P),w(!0);try{await u(),E(!0)}catch($){let U={retryable:!1,message:"Authentication failed"};if($?.privyErrorCode===ye.ALLOWLIST_REJECTED)return void s(rk);if($?.privyErrorCode===ye.USER_LIMIT_REACHED)return console.error(new Vx($).toString()),void s(w3);if($?.privyErrorCode===ye.USER_DOES_NOT_EXIST)return void s(m3);if($?.privyErrorCode===ye.LINKED_TO_ANOTHER_USER)U.detail=$.message??"This account has already been linked to another user.";else{if($?.privyErrorCode===ye.ACCOUNT_TRANSFER_REQUIRED&&$.data?.data?.nonce)return a({accountTransfer:{nonce:$.data?.data?.nonce,account:$.data?.data?.subject,displayName:$.data?.data?.account?.displayName,linkMethod:"farcaster",embeddedWalletAddress:$.data?.data?.otherUser?.embeddedWalletAddress,farcasterEmbeddedAddress:$.data?.data?.otherUser?.farcasterEmbeddedAddress}}),void s($g);$?.privyErrorCode===ye.INVALID_CREDENTIALS?(U.retryable=!0,U.detail="Something went wrong. Try again."):$?.privyErrorCode===ye.TOO_MANY_REQUESTS&&(U.detail="Too many requests. Please wait before trying again.")}m(U)}}else N>12e4&&(clearInterval(P),m({retryable:!0,message:"Authentication failed",detail:"The request timed out. Try again."}))}),2e3);return()=>{clearInterval(P),_.current.forEach((F=>clearTimeout(F)))}}),[]),x.useEffect((()=>{if(r&&t&&b&&n){if(l?.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let k=setTimeout((()=>{s(Ng)}),Bn);return()=>clearTimeout(k)}b&&(_p(n,l.embeddedWallets)?_.current.push(setTimeout((()=>{a({createWallet:{onSuccess:()=>{},onFailure:k=>{console.error(k),f({eventName:"embedded_wallet_creation_failure_logout",payload:{error:k,screen:"FarcasterConnectStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(Fh)}),Bn)):_.current.push(setTimeout((()=>h({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Bn)))}}),[b,r,t,n]),d.jsx(Ogt,{connectUri:C,loading:v,success:b,errorMessage:p,onBack:i?o:void 0,onClose:h,onOpenFarcaster:()=>{C&&(window.location.href=C)}})}};let jgt=ie.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-8d74ecf6-0"})(["margin-top:24px;"]),Mgt=ie.div.withConfig({displayName:"ContentContainer",componentId:"sc-8d74ecf6-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),Dgt=ie.div.withConfig({displayName:"QrContainer",componentId:"sc-8d74ecf6-2"})(["display:flex;align-items:center;justify-content:center;min-height:275px;"]),Fgt=ie.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-8d74ecf6-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),Lgt=ie.div.withConfig({displayName:"InstructionText",componentId:"sc-8d74ecf6-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),Ugt=ie.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-8d74ecf6-5"})(["position:relative;width:82px;height:82px;"]);const Xme=()=>{let[t,e]=x.useState(!1),{currentScreen:r,navigate:n,setModalData:i,data:s}=It(),{enabled:o,token:a}=Ca(),{initLoginWithFarcaster:l}=bt(),{accountType:c}=xp();return d.jsxs(Vn,{onClick:async()=>{e(!0);try{o&&!a?(i({captchaModalData:{callback:u=>l(u,s?.login?.disableSignup),userIntentRequired:!0,onSuccessNavigateTo:rj,onErrorNavigateTo:zn}}),n(au)):(await l(a,s?.login?.disableSignup),n(rj))}catch(u){i({errorModalData:{error:u,previousScreen:r||yo}}),n(zn)}finally{e(!1)}},disabled:!1,children:[d.jsx(M0,{width:32,height:32})," Farcaster",t&&d.jsx(bp,{}),c==="farcaster"&&d.jsx(Bgt,{color:"gray",children:"Recent"})]})};let Bgt=ie(fd).withConfig({displayName:"StyledChip",componentId:"sc-c6317ff9-0"})(["margin-left:auto;"]);const zgt=({status:t,passkeySignupFlow:e=!1,error:r,onRetry:n})=>d.jsx(Mr,{title:(()=>{switch(t){case"loading":return"Waiting for passkey";case"success":return"Success";case"error":return"Something went wrong"}})(),subtitle:d.jsx(qgt,{children:(()=>{switch(t){case"loading":return e?"Please follow prompts to register your passkey.":`Please follow prompts to verify your passkey.
You will have to sign up with another method first to register a passkey for your account.`;case"success":return"You've successfully logged in with your passkey.";case"error":if(r instanceof po){if(r.privyErrorCode===ye.CANNOT_LINK_MORE_OF_TYPE)return"Cannot link more passkeys to account.";if(r.privyErrorCode===ye.PASSKEY_NOT_ALLOWED)return`Passkey request timed out or rejected by user.
You will have to sign up with another method first to register a passkey for your account.`}return`An unknown error occurred.
You will have to sign up with another method first to register a passkey for your account.`}})()}),icon:tC,iconVariant:"loading",iconLoadingStatus:{success:t==="success",fail:t==="error"},primaryCta:t==="error"&&n?{label:"Retry",onClick:n}:t==="success"?{label:"Continue",disabled:!0}:void 0,watermark:!0}),Cy={component:()=>{let{app:t,data:e,setModalData:r,navigate:n}=It(),{loginWithPasskey:i,signupWithPasskey:s,closePrivyModal:o,createAnalyticsEvent:a}=bt(),{user:l,logout:c}=Pr(),{passkeySignupFlow:u}=e?.passkeyAuthModalData??{},[h,f]=x.useState("loading"),[p,m]=x.useState(null),v=x.useRef([]),w=E=>{v.current=[E,...v.current]};x.useEffect((()=>()=>{v.current.forEach((E=>clearTimeout(E))),v.current=[]}),[]);let b=async()=>{f("loading");try{u?await s():await i(),f("success")}catch(E){m(E),f("error")}};return x.useEffect((()=>{if(h==="success"&&l){if(t?.legal.requireUsersAcceptTerms&&!l.hasAcceptedTerms)return void w(setTimeout((()=>{n(Ng)}),900));if(!_p(l,t?.embeddedWallets))return void w(setTimeout((()=>{o({shouldCallAuthOnSuccess:!0,isSuccess:!0})}),Bn));w(setTimeout((()=>{r({createWallet:{onSuccess:()=>{},onFailure:E=>{console.error(E),a({eventName:"embedded_wallet_creation_failure_logout",payload:{error:E,screen:"PasskeyStatusScreen"}}),c()},callAuthOnSuccessOnClose:!0}}),n(Fh)}),900))}}),[l,h]),x.useEffect((()=>{b()}),[]),d.jsx(zgt,{status:h,passkeySignupFlow:u,error:p,onRetry:b})}};let qgt=ie.span.withConfig({displayName:"SubtitleText",componentId:"sc-ad4f7fb3-0"})(["white-space:pre-wrap;"]);const Wgt=({title:t="Log in or create a new account?",subtitle:e="Create a new account with a passkey or use a passkey to log in to an existing account.",onSignup:r,onLogin:n})=>d.jsx(Mr,{title:t,subtitle:e,icon:tC,primaryCta:{label:"Create new account",onClick:r},secondaryCta:{label:"Log in with a passkey",onClick:n},watermark:!0}),Hgt={component:()=>{let{enabled:t,token:e}=Ca(),{navigate:r,setModalData:n}=It(),{initSignupWithPasskey:i,initLoginWithPasskey:s}=bt();return d.jsx(Wgt,{onSignup:async()=>{t&&!e?(n({passkeyAuthModalData:{passkeySignupFlow:!0},captchaModalData:{callback:o=>i({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Cy,onErrorNavigateTo:zn}}),r(au)):(await i({withPrivyUi:!0}),n({passkeyAuthModalData:{passkeySignupFlow:!0}}),r(Cy))},onLogin:async()=>{t&&!e?(n({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:o=>s({captchaToken:o,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Cy,onErrorNavigateTo:zn}}),r(au)):(await s({withPrivyUi:!0}),n({passkeyAuthModalData:{passkeySignupFlow:!1}}),r(Cy))}})}},Qme=()=>{let{enabled:t,token:e}=Ca(),{navigate:r,setModalData:n,app:i,data:s}=It(),{initLoginWithPasskey:o}=bt(),a=()=>{i.loginConfig.passkeysForSignupEnabled?r(Hgt):(async()=>t&&!e?(n({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:l=>o({captchaToken:l,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Cy,onErrorNavigateTo:zn}}),r(au)):(await o({withPrivyUi:!0}),n({passkeyAuthModalData:{passkeySignupFlow:!1}}),r(Cy)))()};return x.useMemo((()=>{let l=s?.login?.loginMethods;return l?l.filter((c=>c!=="passkey")).length:Object.entries(i.loginMethods).filter((([c,u])=>u)).filter((([c])=>c!=="passkey")).length}),[i.loginMethods,s?.login])===0?d.jsxs(Vn,{onClick:a,children:[d.jsx(iF,{})," Continue with passkey"]}):d.jsx(g1,{as:"button",onClick:a,size:"sm",variant:"navigation",style:{width:"100%",justifyContent:"center"},children:"I have a passkey"})},Vgt=({value:t,onChange:e})=>d.jsx("select",{value:t,onChange:e,children:rRe.map((r=>d.jsxs("option",{value:r.code,children:[r.code," +",r.callCode]},r.code)))}),ik=x.forwardRef(((t,e)=>{let{app:r}=It(),[n,i]=x.useState(!1),{accountType:s}=xp(),[o,a]=x.useState(""),[l,c]=x.useState(r?.intl.defaultCountry??"US"),u=n6(o,l),h=tRe(l),f=nRe(l),p=MD(l),m=!u,[v,w]=x.useState(!1),b=p.length,E=C=>{let k=C.target.value;c(k),a(""),t.onChange&&t.onChange({rawPhoneNumber:o,qualifiedPhoneNumber:k9(o,k),countryCode:k,isValid:n6(o,l)})},_=(C,k)=>{try{let P=C.replace(/\D/g,"")===o.replace(/\D/g,"")?C:h.input(C);a(P),t.onChange&&t.onChange({rawPhoneNumber:P,qualifiedPhoneNumber:k9(C,k),countryCode:k,isValid:n6(C,k)})}catch(P){console.error("Error processing phone number:",P)}},A=()=>{w(!0);let C=k9(o,l);t.onSubmit({rawPhoneNumber:o,qualifiedPhoneNumber:C,countryCode:l,isValid:n6(o,l)}).finally((()=>w(!1)))};return x.useEffect((()=>{if(t.defaultValue){let C=iRe(t.defaultValue);h.reset(),E({target:{value:C.countryCode}}),_(C.phone,C.countryCode)}}),[t.defaultValue]),d.jsxs(d.Fragment,{children:[d.jsx(Ggt,{children:d.jsxs(Kgt,{$callingCodeLength:b,$stacked:t.stacked,children:[d.jsx(Vgt,{value:l,onChange:E}),d.jsx("input",{ref:e,id:"phone-number-input",className:"login-method-button",type:"tel",placeholder:f,onFocus:()=>i(!0),onChange:C=>{_(C.target.value,l)},onKeyUp:C=>{C.key==="Enter"&&A()},value:o,autoComplete:"tel"}),s!=="phone"||n||t.hideRecent?t.stacked||t.noIncludeSubmitButton?d.jsx("span",{}):d.jsx(q8,{isSubmitting:v,onClick:A,disabled:m,children:"Submit"}):d.jsx(fd,{color:"gray",children:"Recent"})]})}),t.stacked&&!t.noIncludeSubmitButton?d.jsx(an,{loading:v,loadingText:null,onClick:A,disabled:m,children:"Submit"}):null]})}));let Ggt=ie.div.withConfig({displayName:"InputContainer",componentId:"sc-f29a1304-0"})(["width:100%;"]),Kgt=ie.label.withConfig({displayName:"PhoneNumberInput",componentId:"sc-f29a1304-1"})(["--country-code-dropdown-width:calc(54px + calc(12 * ","px));--phone-input-extra-padding-left:calc(12px + calc(3 * ","px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ","px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:",";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"],(t=>t.$callingCodeLength),(t=>t.$callingCodeLength),(t=>t.$callingCodeLength),(t=>t.$stacked?"16px":"88px"));const Zme=({isEditable:t,setIsEditable:e,defaultValue:r})=>{let n=x.useRef(null),{authenticated:i}=Pr(),{navigate:s,setModalData:o,currentScreen:a,data:l}=It(),{initLoginWithSms:c}=bt(),{enabled:u,token:h}=Ca(),{whatsAppEnabled:f}=zr();return d.jsxs(d.Fragment,{children:[d.jsx(f1,{$if:!t,children:d.jsx(ik,{ref:n,onSubmit:async function({qualifiedPhoneNumber:p}){if(!u||h||i)try{await c({phoneNumber:p,captchaToken:h,withPrivyUi:!0,disableSignup:l?.login?.disableSignup}),s(Ah)}catch(m){o({errorModalData:{error:m,previousScreen:a||yo}}),s(zn)}else o({captchaModalData:{callback:m=>c({phoneNumber:p,captchaToken:m,withPrivyUi:!0,disableSignup:l?.login?.disableSignup}),userIntentRequired:!1,onSuccessNavigateTo:Ah,onErrorNavigateTo:zn}}),s(au)},defaultValue:r})}),d.jsx(f1,{$if:t,children:d.jsxs(Vn,{onClick:()=>{e(),setTimeout((()=>{n.current?.focus()}),0)},children:[d.jsx(ld,{children:d.jsx(Bhe,{})}),"Continue with ",f?"WhatsApp":"SMS"]})})]})};let Ygt={apple:{logo:sge,displayName:"Apple"},discord:{logo:oge,displayName:"Discord"},github:{logo:age,displayName:"GitHub"},google:{logo:lge,displayName:"Google"},linkedin:{logo:dge,displayName:"LinkedIn"},spotify:{logo:hge,displayName:"Spotify"},instagram:{logo:cge,displayName:"Instagram"},twitter:{logo:pge,displayName:"Twitter"},tiktok:{logo:fge,displayName:"TikTok"},line:{logo:uge,displayName:"LINE"}};const Ti=({provider:t})=>{let{enabled:e,token:r}=Ca(),{navigate:n,setModalData:i,data:s}=It(),[o,a]=x.useState(!1),{initLoginWithOAuth:l}=bt(),{accountType:c}=xp(),u=x.useMemo((()=>c&&c!=="guest"&&c!=="authorization_key"&&c!=="cross_app"?tk(c):null),[c]),{displayName:h,logo:f}=Ygt[t];return d.jsxs(Vn,{onClick:()=>{a(!0),setTimeout((()=>{a(!1)}),2e3),e&&!r?(i({captchaModalData:{callback:p=>l(t,p,s?.login?.disableSignup),userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:zn}}),n(au)):l(t,void 0,s?.login?.disableSignup)},disabled:o,children:[d.jsx(ld,{$fullSize:!0,children:d.jsx(f,{style:{width:"32px",height:"32px"}})}),h,u?.loginMethod===t&&d.jsx(Jgt,{color:"gray",children:"Recent"})]})};let Jgt=ie(fd).withConfig({displayName:"StyledChip",componentId:"sc-afd4ca87-0"})(["margin-left:auto;"]);function eye(t){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...t,children:[d.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#37aee2"}),d.jsx("path",{fill:"#c8daea",d:"M199 404c-11 0-10-4-13-14l-32-105 245-144"}),d.jsx("path",{fill:"#a9c9dd",d:"M199 404c7 0 11-4 16-8l45-43-56-34"}),d.jsx("path",{fill:"#f6fbfe",d:"M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"})]})}const Xgt=({success:t,errorMessage:e,onRetry:r})=>{let n=t?"Successfully connected with Telegram":e?e.message:"Verifying connection to Telegram";return d.jsx(Mr,{title:n,subtitle:t?"You're good to go!":e?e.detail:"Just a few moments more",icon:eye,iconVariant:"loading",iconLoadingStatus:{success:t,fail:!!e},secondaryCta:e?.retryable&&r?{label:"Retry",onClick:r}:void 0,watermark:!0})},a_={component:()=>{let{authenticated:t,logout:e,ready:r,user:n}=Pr(),{app:i,setModalData:s,navigate:o,resetNavigation:a,data:l}=It(),{initLoginWithTelegram:c,loginWithTelegram:u,updateWallets:h,setReadyToTrue:f,closePrivyModal:p,createAnalyticsEvent:m,getAuthMeta:v}=bt(),[w,b]=x.useState(!1),[E,_]=x.useState(void 0),A=Ca();async function C(){try{let k=await(async function(){let P;if(!t){if(A.enabled&&A.status==="error")throw new B8(A.error,null,ye.CAPTCHA_FAILURE);return A.enabled&&A.status!=="success"&&(A.execute(),P=await A.waitForResult()),P}})();await u({captchaToken:k}),b(!0),f(!0)}catch(k){if(k?.privyErrorCode===ye.ALLOWLIST_REJECTED)return _(void 0),a(),void o(rk);if(k?.privyErrorCode===ye.USER_LIMIT_REACHED)return console.error(new Vx(k).toString()),_(void 0),a(),void o(w3);if(k?.privyErrorCode===ye.USER_DOES_NOT_EXIST)return _(void 0),a(),void o(m3);if(k?.privyErrorCode===ye.ACCOUNT_TRANSFER_REQUIRED&&k.data?.data?.nonce)return _(void 0),a(),s({accountTransfer:{nonce:k.data?.data?.nonce,account:k.data?.data?.subject,telegramAuthResult:v()?.telegramAuthResult,telegramWebAppData:v()?.telegramWebAppData,displayName:k.data?.data?.account?.displayName,linkMethod:"telegram",embeddedWalletAddress:k.data?.data?.otherUser?.embeddedWalletAddress}}),void o($g);let{retryable:P,detail:F}=AQ(k);_({retryable:P,detail:F,message:"Authentication failed"})}}return x.useEffect((()=>{C()}),[]),x.useEffect((()=>{if(!(r&&t&&w&&n))return;if(i?.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let P=setTimeout((()=>{o(Ng)}),Bn);return()=>clearTimeout(P)}if(_p(n,i.embeddedWallets)){let P=setTimeout((()=>{s({createWallet:{onSuccess:()=>{},onFailure:F=>{console.error(F),m({eventName:"embedded_wallet_creation_failure_logout",payload:{error:F,provider:"telegram",screen:"TelegramAuthScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(Fh)}),Bn);return()=>clearTimeout(P)}h();let k=setTimeout((()=>p({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Bn);return()=>clearTimeout(k)}),[r,t,w,n]),d.jsx(Xgt,{success:w,errorMessage:E,onRetry:E?.retryable?async()=>{try{_(void 0),l?.telegramAuthModalData?.seamlessAuth||await c(void 0,l?.login?.disableSignup),await C()}catch(k){let{retryable:P,detail:F}=AQ(k);_({retryable:P,detail:F,message:"Authentication failed"})}}:void 0})},isCaptchaRequired:!0},tye=()=>{let{enabled:t,token:e}=Ca(),{navigate:r,setModalData:n,data:i}=It(),[s,o]=x.useState(!1),{initLoginWithTelegram:a}=bt(),{accountType:l}=xp();async function c(u){try{await a(u,i?.login?.disableSignup),n({telegramAuthModalData:{seamlessAuth:!1}}),r(a_)}catch(h){console.error(h),o(!1)}}return d.jsxs(Vn,{onClick:async function(){if(o(!0),t&&!e)return n({captchaModalData:{callback:c,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:zn}}),void r(au);await c(e)},disabled:s,children:[d.jsx(eye,{width:32,height:32}),"Telegram",l==="telegram"&&d.jsx(Qgt,{color:"gray",children:"Recent"})]})};let Qgt=ie(fd).withConfig({displayName:"StyledChip",componentId:"sc-4b233cf1-0"})(["margin-left:auto;"]);const rye=({onClick:t,text:e})=>d.jsxs(Vn,{onClick:t,children:[d.jsx(ld,{children:d.jsx(aWe,{})}),d.jsx(op,{children:e})]}),nye=({onClick:t,text:e,icon:r})=>d.jsxs(Vn,{onClick:t,children:[d.jsx(ld,{children:r}),d.jsx(op,{children:e})]}),iye=({connectOnly:t})=>{let{closePrivyModal:e}=bt(),{data:r,setModalData:n,onUserCloseViaDialogOrKeybindRef:i,navigate:s}=It(),o=zr(),a=r?.login,l=o.appearance.walletList,c=a?.walletChainType??o.appearance.walletChainType,{accountType:u,walletClientType:h,chainType:f}=xp(),{wallets:p}=qme({walletList:l,walletChainType:c}),m=x.useMemo((()=>u&&u!=="guest"&&u!=="authorization_key"&&u!=="cross_app"?tk(u):null),[u]),{email:v,sms:w,google:b,twitter:E,discord:_,github:A,spotify:C,instagram:k,tiktok:P,line:F,linkedin:N,apple:$,wallet:U,farcaster:O,telegram:D}=x.useMemo((()=>a?.loginMethods?sRe(a.loginMethods,!0):null),[a])??o.loginMethods,{passkey:T}=o.loginMethods,I=[v&&"email",w&&"sms",b&&"google",E&&"twitter",_&&"discord",A&&"github",C&&"spotify",k&&"instagram",P&&"tiktok",F&&"line",N&&"linkedin",$&&"apple",O&&"farcaster",D&&"telegram"].filter((nt=>!!nt)),R=I.length>0,L=x.useMemo((()=>U&&!R?"web3-first":U&&o?.appearance.loginGroupPriority||"web2-first"),[U,R,o?.appearance.loginGroupPriority]),B=o?.appearance.hideDirectWeb2Inputs,[q,G]=x.useState("default"),[W,j]=x.useState(RC({mostRecentlyUsedAccountType:u,smsAvailable:w,emailAvailable:v,prefilledType:a?.prefill?.type}));x.useEffect((()=>{j(RC({mostRecentlyUsedAccountType:u,smsAvailable:w,emailAvailable:v,prefilledType:a?.prefill?.type}))}),[v,w,u]);let Y=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{G("default")}),150)};i.current=Y;let Q=[];h&&U?Q.push(h):m?.loginMethod&&I.includes(m.loginMethod)&&Q.push(m.loginMethod);let z=nt=>{if(nt==="email")return d.jsx(aye,{isEditable:W==="email",setIsEditable:()=>{j("email")},defaultValue:a?.prefill?.type==="email"?a.prefill.value:void 0},nt);if(nt==="sms")return d.jsx(Zme,{isEditable:W==="sms",setIsEditable:()=>{j("sms")},defaultValue:a?.prefill?.type==="phone"?a.prefill.value:void 0},nt);if(nt==="apple")return d.jsx(Ti,{provider:"apple"},nt);if(nt==="discord")return d.jsx(Ti,{provider:"discord"},nt);if(nt==="farcaster")return d.jsx(Xme,{},nt);if(nt==="github")return d.jsx(Ti,{provider:"github"},nt);if(nt==="google")return d.jsx(Ti,{provider:"google"},nt);if(nt==="linkedin")return d.jsx(Ti,{provider:"linkedin"},nt);if(nt==="tiktok")return d.jsx(Ti,{provider:"tiktok"},nt);if(nt==="line")return d.jsx(Ti,{provider:"line"},nt);if(nt==="spotify")return d.jsx(Ti,{provider:"spotify"},nt);if(nt==="instagram")return d.jsx(Ti,{provider:"instagram"},nt);if(nt==="twitter")return d.jsx(Ti,{provider:"twitter"},nt);if(nt==="telegram")return d.jsx(tye,{},nt);let _t=p.findIndex((({id:wt})=>wt===qa.normalize(nt))),Ye=f==="solana"?"solana-only":"ethereum-only";return d.jsx(ej,{recent:!0,index:_t,data:{wallets:p,walletChainType:Ye,handleWalletClick(wt){n((xt=>({...xt,externalConnectWallet:{walletList:l,walletChainType:Ye,preSelectedWalletId:wt.id}}))),s(t?tj:o_)}}})},Z=p.filter((nt=>nt.id!==qa.normalize(h||""))),ee=Z.map(((nt,_t)=>d.jsx(ej,{index:_t,data:{walletChainType:c,wallets:Z,handleWalletClick(Ye){n((wt=>({...wt,externalConnectWallet:{walletList:l,walletChainType:c,preSelectedWalletId:Ye.id}}))),s(t?tj:o_)}}},nt.id))),te=I.filter((nt=>nt!==m?.loginMethod)).flatMap(z),se=Q.flatMap(z);L==="web3-first"&&q==="default"?ee.unshift(...se):L==="web2-first"&&te.unshift(...se);let ce=q==="web2-overflow"?()=>G("default"):void 0,ge=I.filter((nt=>nt!=="email"&&nt!=="sms")),ae=tmt({priority:L,email:v,sms:w,social:ge}),_e=rmt({priority:L,email:v,sms:w,social:ge}),Ee=d.jsx(rye,{text:nmt({priority:L}),onClick:()=>{n({...r,externalConnectWallet:{walletChainType:a?.walletChainType??o.appearance.walletChainType}}),s(o_)}}),Ie=d.jsx(nye,{text:ae,icon:_e,onClick:()=>G("web2-overflow")}),qe=B?0:1,me=U&&ee.length>0,ze=te.length===0&&U&&ee.length===0,rt=5-(me?1:0),Ae=q==="default"&&o?.appearance.logo,Fe=q==="default"&&o.appearance.loginMessage;return d.jsxs(Mr,{title:o.appearance.landingHeader,icon:Ae?d.jsx($me,{}):void 0,iconVariant:Ae?"logo":void 0,onClose:Y,showClose:!0,onBack:ce,showBack:!!ce,helpText:o||T&&q==="default"?d.jsxs(d.Fragment,{children:[T&&q==="default"&&d.jsx(Qme,{}),o&&d.jsx(wL,{app:o})]}):void 0,watermark:!0,children:[Fe&&(typeof o.appearance.loginMessage=="string"?d.jsx(Zgt,{children:o.appearance.loginMessage}):d.jsx(emt,{children:o.appearance.loginMessage})),d.jsx(Lge,{$colorScheme:o.appearance.palette.colorScheme,children:q==="default"&&L==="web2-first"?d.jsxs(d.Fragment,{children:[te.length>rt?te.slice(0,rt-1):te,te.length>rt&&Ie,me&&Ee,ze&&d.jsx(sZ,{chainType:o.appearance.walletChainType})]}):q==="default"&&L==="web3-first"?d.jsxs(d.Fragment,{children:[U&&d.jsxs(d.Fragment,{children:[ee.length>rt?ee.slice(0,rt-1):ee,ee.length>rt&&Ee]}),te.length>qe&&Ie,te.length===qe&&te[0],ze&&d.jsx(sZ,{chainType:o.appearance.walletChainType})]}):q==="web2-overflow"?d.jsx(d.Fragment,{children:L==="web3-first"?te:te.slice(3)}):null})]})};let Zgt=ie.div.withConfig({displayName:"StyledSubtitle",componentId:"sc-a0c826dc-0"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),emt=ie.div.withConfig({displayName:"MessageContainer",componentId:"sc-a0c826dc-1"})(["margin-bottom:24px;"]),tmt=({priority:t,email:e,sms:r,social:n})=>t==="web2-first"?"Other socials":e&&r&&n.length>0||e&&n.length>0?"Log in with email or socials":r&&n.length>0?"Log in with sms or socials":e&&r?"Continue with email or sms":e?"Continue with email":r?"Continue with sms":"Log in with a social account",rmt=({priority:t,email:e,sms:r,social:n})=>t==="web2-first"||n.length>0?d.jsx(tWe,{}):e&&r?d.jsx(dgt,{}):e?d.jsx(_F,{}):r?d.jsx(Bhe,{}):null,nmt=({priority:t})=>t==="web2-first"?"Continue with a wallet":"Other wallets";const RC=({mostRecentlyUsedAccountType:t,smsAvailable:e,emailAvailable:r,prefilledType:n})=>r&&(t==="email"&&n!=="phone"||n==="email")||!e||t!=="phone"&&n!=="phone"?"email":"sms",sye={component:()=>{let{app:t}=It();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?d.jsx(dye,{connectOnly:!0}):d.jsx(iye,{connectOnly:!0})}},imt=({contactMethod:t,authFlow:e,appName:r="Privy",whatsAppEnabled:n=!1,onBack:i,onCodeSubmit:s,onResend:o,errorMessage:a,success:l=!1,resendCountdown:c=0,onInvalidInput:u,onClearError:h})=>{let[f,p]=x.useState(aZ);x.useEffect((()=>{a||p(aZ)}),[a]);let m=async v=>{v.preventDefault();let w=v.currentTarget.value.replace(" ","");if(w==="")return;if(isNaN(Number(w)))return void u?.("Code should be numeric");h?.();let b=Number(v.currentTarget.name?.charAt(5)),E=[...w||[""]].slice(0,oZ-b),_=[...f.slice(0,b),...E,...f.slice(b+E.length)];p(_);let A=Math.min(Math.max(b+E.length,0),oZ-1);isNaN(Number(v.currentTarget.value))||document.querySelector(`input[name=code-${A}]`)?.focus(),_.every((C=>C&&!isNaN(+C)))&&(document.querySelector(`input[name=code-${A}]`)?.blur(),await s?.(_.join("")))};return d.jsx(Mr,{title:"Enter confirmation code",subtitle:d.jsxs("span",e==="email"?{children:["Please check ",d.jsx(lZ,{children:t})," for an email from privy.io and enter your code below."]}:{children:["Please check ",d.jsx(lZ,{children:t})," for a",n?" WhatsApp":""," message from ",r," and enter your code below."]}),icon:e==="email"?M8:rp,onBack:i,showBack:!0,helpText:d.jsxs(umt,{children:[d.jsxs("span",{children:["Didn't get ",e==="email"?"an email":"a message","?"]}),c?d.jsxs(dmt,{children:[d.jsx(fut,{color:"var(--privy-color-foreground)",strokeWidth:1.33,height:"12px",width:"12px"}),d.jsx("span",{children:"Code sent"})]}):d.jsx(g1,{as:"button",size:"sm",onClick:o,children:"Resend code"})]}),children:d.jsx(amt,{children:d.jsx(zft,{children:d.jsxs(lmt,{children:[d.jsx("div",{children:f.map(((v,w)=>d.jsx("input",{name:`code-${w}`,type:"text",value:f[w],onChange:m,onKeyUp:b=>{b.key==="Backspace"&&(E=>{h?.(),p([...f.slice(0,E),"",...f.slice(E+1)]),E>0&&document.querySelector(`input[name=code-${E-1}]`)?.focus()})(w)},inputMode:"numeric",autoFocus:w===0,pattern:"[0-9]",className:`${l?"success":""} ${a?"fail":""}`,autoComplete:Vr.isMobile?"one-time-code":"off"},w)))}),d.jsx(cmt,{$fail:!!a,$success:l,children:d.jsx("span",{children:a==="Invalid or expired verification code"?"Incorrect code":a||(l?"Success!":"")})})]})})})})};let oZ=6,aZ=Array(6).fill("");var _w,Cw,smt=((_w=smt||{})[_w.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",_w[_w.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",_w),omt=((Cw=omt||{})[Cw.EMAIL=0]="EMAIL",Cw[Cw.SMS=1]="SMS",Cw);const Ah={component:()=>{let{app:t,navigate:e,lastScreen:r,navigateBack:n,setModalData:i,onUserCloseViaDialogOrKeybindRef:s}=It(),{closePrivyModal:o,resendEmailCode:a,resendSmsCode:l,getAuthMeta:c,loginWithCode:u,updateWallets:h,createAnalyticsEvent:f}=bt(),{authenticated:p,logout:m,user:v}=Pr(),{whatsAppEnabled:w}=zr(),[b,E]=x.useState(!1),[_,A]=x.useState(null),[C,k]=x.useState(null),[P,F]=x.useState(0);s.current=()=>null;let N=c()?.email?0:1,$=N===0?c()?.email||"":c()?.phoneNumber||"";return x.useEffect((()=>{if(P){let U=setTimeout((()=>{F(P-1)}),1e3);return()=>clearTimeout(U)}}),[P]),x.useEffect((()=>{if(p&&b&&v){if(t?.legal.requireUsersAcceptTerms&&!v.hasAcceptedTerms){let U=setTimeout((()=>{e(Ng)}),900);return()=>clearTimeout(U)}if(_p(v,t.embeddedWallets)){let U=setTimeout((()=>{i({createWallet:{onSuccess:()=>{},onFailure:O=>{console.error(O),f({eventName:"embedded_wallet_creation_failure_logout",payload:{error:O,screen:"AwaitingPasswordlessCodeScreen"}}),m()},callAuthOnSuccessOnClose:!0}}),e(Fh)}),900);return()=>clearTimeout(U)}{h();let U=setTimeout((()=>o({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Bn);return()=>clearTimeout(U)}}}),[p,b,v]),x.useEffect((()=>{if(_&&C===0){let U=setTimeout((()=>{A(null),k(null),document.querySelector("input[name=code-0]")?.focus()}),1400);return()=>clearTimeout(U)}}),[_,C]),d.jsx(imt,{contactMethod:$,authFlow:N===0?"email":"sms",appName:t?.name,whatsAppEnabled:w,onBack:()=>n(),onCodeSubmit:async U=>{try{await u(U),E(!0)}catch(O){if(O instanceof za&&O.privyErrorCode===ye.INVALID_CREDENTIALS)A("Invalid or expired verification code"),k(0);else if(O instanceof za&&O.privyErrorCode===ye.CANNOT_LINK_MORE_OF_TYPE)A(O.message);else{if(O instanceof za&&O.privyErrorCode===ye.USER_LIMIT_REACHED)return console.error(new Vx(O).toString()),void e(w3);if(O instanceof za&&O.privyErrorCode===ye.USER_DOES_NOT_EXIST)return void e(m3);if(O instanceof za&&O.privyErrorCode===ye.LINKED_TO_ANOTHER_USER)return i({errorModalData:{error:O,previousScreen:r??Ah}}),void e(zn,!1);if(O instanceof za&&O.privyErrorCode===ye.DISALLOWED_PLUS_EMAIL)return i({inlineError:{error:O}}),void e(sye,!1);if(O instanceof za&&O.privyErrorCode===ye.ACCOUNT_TRANSFER_REQUIRED&&O.data?.data?.nonce)return i({accountTransfer:{nonce:O.data?.data?.nonce,account:$,displayName:O.data?.data?.account?.displayName,linkMethod:N===0?"email":"sms",embeddedWalletAddress:O.data?.data?.otherUser?.embeddedWalletAddress}}),void e($g);A("Issue verifying code"),k(0)}}},onResend:async()=>{F(30),N===0?await a():await l()},errorMessage:_||void 0,success:b,resendCountdown:P,onInvalidInput:U=>{A(U),k(1)},onClearError:()=>{C===1&&(A(null),k(null))}})}};let amt=ie.div.withConfig({displayName:"PasswordlessCodeContainer",componentId:"sc-5dd8bc26-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:auto;gap:16px;flex-grow:1;width:100%;"]),lmt=ie.div.withConfig({displayName:"CodeInput",componentId:"sc-5dd8bc26-1"})(["display:flex;flex-direction:column;width:100%;gap:12px;> div:first-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-sm);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-sm);padding:8px 10px;height:48px;width:40px;text-align:center;font-size:18px;font-weight:600;color:var(--privy-color-foreground);transition:all 0.2s ease;}> input:focus{border:1px solid var(--privy-color-foreground);box-shadow:0 0 0 1px var(--privy-color-foreground);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-border-success);background:var(--privy-color-success-bg);}> input.fail{border:1px solid var(--privy-color-border-error);background:var(--privy-color-error-bg);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),cmt=ie.div.withConfig({displayName:"InputHelp",componentId:"sc-5dd8bc26-2"})(["line-height:20px;min-height:20px;font-size:14px;font-weight:400;color:",";display:flex;justify-content:center;width:100%;text-align:center;"],(t=>t.$success?"var(--privy-color-success-dark)":t.$fail?"var(--privy-color-error-dark)":"transparent")),umt=ie.div.withConfig({displayName:"HelpTextContainer",componentId:"sc-5dd8bc26-3"})(["display:flex;gap:8px;align-items:center;justify-content:center;width:100%;color:var(--privy-color-foreground-2);"]),dmt=ie.div.withConfig({displayName:"Badge",componentId:"sc-5dd8bc26-4"})(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]),lZ=ie.span.withConfig({displayName:"BoldWrappingSpan",componentId:"sc-5dd8bc26-5"})(["font-weight:500;word-break:break-all;color:var(--privy-color-foreground);"]);const oye=x.forwardRef(((t,e)=>{let[r,n]=x.useState(t.defaultValue||""),[i,s]=x.useState(""),[o,a]=x.useState(!1),{authenticated:l}=Pr(),{initLoginWithEmail:c}=bt(),{navigate:u,setModalData:h,currentScreen:f,data:p}=It(),{enabled:m,token:v}=Ca(),[w,b]=x.useState(!1),{accountType:E}=xp(),_=zr();x.useEffect((()=>{!r&&_.disablePlusEmails&&p?.inlineError?.error instanceof po&&p?.inlineError?.error.privyErrorCode===ye.DISALLOWED_PLUS_EMAIL&&!i&&s("Please enter a valid email address without a '+'."),i&&s("")}),[r]);let A=vge(r),C=o||!A,k=()=>{h({login:p?.login,inlineError:void 0}),!m||v||l?(P=>{a(!0),c({email:r,captchaToken:P,disableSignup:p?.login?.disableSignup,withPrivyUi:!0}).then((()=>{u(Ah)})).catch((F=>{h({errorModalData:{error:F,previousScreen:f||yo}}),u(zn)})).finally((()=>{a(!1)}))})(v):(h({captchaModalData:{callback:P=>c({email:r,captchaToken:P,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Ah,onErrorNavigateTo:zn}}),u(au))};return d.jsxs(d.Fragment,{children:[d.jsxs(hmt,{children:[i&&d.jsx(Sh,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:i}),d.jsxs(fmt,{stacked:t.stacked,$error:!!i,children:[d.jsx(pmt,{children:d.jsx(_F,{})}),d.jsx("input",{ref:e,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>b(!0),onChange:P=>n(P.target.value),onKeyUp:P=>{P.key==="Enter"&&k()},value:r,autoComplete:"email"}),E!=="email"||w?t.stacked?d.jsx("span",{}):d.jsx(q8,{isSubmitting:o,onClick:k,disabled:C,children:"Submit"}):d.jsx(fd,{color:"gray",children:"Recent"})]})]}),t.stacked?d.jsx(an,{loadingText:null,loading:o,disabled:C,onClick:k,style:{width:"100%"},children:"Submit"}):null]})}));let hmt=Bme,fmt=tgt,pmt=ie(ld).withConfig({displayName:"StyledLoginMethodIconWrapper",componentId:"sc-e33d938a-0"})(["display:inline-flex;"]);const aye=({isEditable:t,setIsEditable:e,defaultValue:r})=>{let n=x.useRef(null);return d.jsxs(d.Fragment,{children:[d.jsx(f1,{$if:!t,children:d.jsx(oye,{ref:n,defaultValue:r})}),d.jsx(f1,{$if:t,children:d.jsxs(Vn,{onClick:()=>{e(),setTimeout((()=>{n.current?.focus()}),0)},children:[d.jsx(ld,{children:d.jsx(_F,{})}),"Continue with Email"]})})]})},lye=({icon:t,name:e})=>typeof t=="string"?d.jsx("img",{alt:`${e||"wallet"} logo`,src:t,style:{height:24,width:24,borderRadius:4}}):t===void 0?d.jsx(D8,{style:{height:24,width:24}}):t?d.jsx(t,{}):null;function nj(t){let e=t.toLowerCase();return!!window?.webkit?.messageHandlers?.ReactNativeWebView||!!window?.ReactNativeWebView||["fbav","fban","instagram","snapchat","linkedinapp"].some((r=>e.includes(r)))}const gmt=({walletLogo:t,success:e,errorMessage:r,title:n,subtitle:i,onRetry:s,onUseDifferentWallet:o,onBack:a,numRetries:l,maxRetries:c})=>d.jsx(Mr,{title:n,subtitle:i,icon:t,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!r},primaryCta:r===Df.ERROR_USER_EXISTS?{label:"Use a different wallet",onClick:o}:!e&&r?.retryable&&l<c?{label:"Retry",onClick:s,disabled:!r?.retryable||l>=c}:!e&&r&&l>=c?{label:"Use a different wallet",onClick:o}:void 0,onBack:a,watermark:!0}),ij={component:()=>{let t,{navigateBack:e,navigate:r,lastScreen:n,currentScreen:i,data:s,setModalData:o}=It(),{walletConnectionStatus:a,closePrivyModal:l}=bt(),[c,u]=x.useState(void 0),[h,f]=x.useState(0),p=Mh(a?.connector?.walletClientType||"unknown"),m=a?.status==="connected",v=a?.status==="switching_to_supported_chain";x.useEffect((()=>{if(m){let k;if(s?.externalConnectWallet?.onCompleteNavigateTo){let P=s.externalConnectWallet.onCompleteNavigateTo,F=a.connectedWallet?.address;k=setTimeout((()=>{s.funding&&o({...s,funding:{...s.funding,connectedWalletAddress:F}}),r(P({address:F,walletClientType:a.connector?.walletClientType,walletChainType:a.connector?.chainType}))}),Bn)}else k=setTimeout(l,Bn);return()=>clearTimeout(k)}}),[m]),x.useEffect((()=>{a?.connectError&&(k=>{u(Kme(k))})(a?.connectError)}),[a]);let w=a?.connector?.connectorType||"injected",b=a?.connector?.walletClientType||"unknown",E=p?.metadata?.shortName||p?.name||a?.connector?.walletBranding.name||"Browser Extension",_=p?.image_url?.md||a?.connector?.walletBranding.icon||(k=>d.jsx(gL,{...k})),A=E==="Browser Extension"?E.toLowerCase():E;t=m?`Successfully connected with ${A}`:c?c.message:v?"Switching networks":`Waiting for ${A}`;let C="Dont see your wallet? Check your other browser windows.";return m?C="Youre good to go!":h>=2&&c?C="Unable to connect wallet":c?C=c.detail:v?C="Switch your wallet to the requested network.":b==="metamask"&&Vr.isMobile?C="Click to continue to open and connect MetaMask.":b==="metamask"?C="For the best experience, connect only one wallet at a time.":w==="wallet_connect_v2"?C="Open your mobile wallet app to continue":w==="coinbase_wallet"&&(C="Open the Coinbase app on your phone to continue."),d.jsx(gmt,{walletName:E,walletLogo:_,success:m,errorMessage:c,title:t,subtitle:C,onRetry:()=>{f(h+1),u(void 0),a?.connectRetry()},onUseDifferentWallet:e,onBack:i===n?void 0:e,numRetries:h,maxRetries:2})}},cye=ie.div.withConfig({displayName:"TodoList",componentId:"sc-bcc78743-0"})(["display:flex;flex-direction:column;justify-content:flex-start;gap:10px;padding-left:8px;"]),qy=({children:t,variant:e="default",icon:r})=>{let n=()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}};return d.jsxs(ymt,{children:[d.jsx(mmt,{$variant:e,"data-variant":e,children:(()=>{if(r)return ht.isValidElement(r)?ht.cloneElement(r,{stroke:n(),strokeWidth:2}):r;switch(e){case"success":default:return d.jsx(W2,{size:12,stroke:n(),strokeWidth:3});case"error":return d.jsx(lWe,{size:12,stroke:n(),strokeWidth:3})}})()}),t]})};let mmt=ie.div.withConfig({displayName:"IconBackground",componentId:"sc-bcc78743-2"})(["display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background-color:",";flex-shrink:0;"],(({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";default:return"var(--privy-color-background-2)"}})),ymt=ie.div.withConfig({displayName:"TodoItemWrapper",componentId:"sc-bcc78743-3"})(["display:flex;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;&&{a{color:var(--privy-color-accent);}}"]);const vmt=({walletName:t,installLink:e,title:r,subtitle:n="Follow the instructions below to get started.",onReload:i,onBack:s})=>{let o=r||`Create a ${t} wallet`.replace(/wallet wallet/gi,"wallet");return d.jsx(Mr,{title:o,subtitle:n,onBack:s,showBack:!0,primaryCta:{label:"Reload the page to use your wallet",onClick:i},helpText:d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"Still not sure? "}),d.jsx(g1,{size:"sm",target:"_blank",href:"https://solana.com/docs/intro/wallets",children:"Learn more"})]}),watermark:!0,children:d.jsxs(cye,{children:[d.jsx(qy,{children:d.jsxs("div",{children:[d.jsx("span",{children:"Install the "})," ",d.jsxs(g1,{href:e,target:"_blank",children:[t," browser extension"]})]})}),d.jsx(qy,{children:"Set up your first wallet"}),d.jsx(qy,{children:"Store your recovery phrase in a safe place!"})]})})},wmt={component:()=>{let{navigateBack:t,data:e}=It();if(!e?.installWalletModalData)throw Error("Wallet data is missing");let{walletConfig:r}=e.installWalletModalData;return d.jsx(vmt,{walletName:r.name,installLink:r.installLink,onReload:()=>{window.location.reload()},onBack:t})}},bmt=({title:t,subtitle:e,buttonText:r,buttonHref:n,isLoading:i=!1,helpText:s,onButtonClick:o})=>d.jsx(Mr,{title:t,subtitle:e,primaryCta:{label:r,onClick:()=>{n&&window.open(n,"_self"),o?.()},disabled:i},helpText:s,watermark:!0}),xmt={component:()=>{let{ready:t}=Pr(),{data:e}=It(),[r,n]=x.useState(!1);if(!e?.installWalletModalData)throw Error("Wallet data is missing");let{walletConfig:i,connectOnly:s,chainType:o}=e.installWalletModalData,a=i.getMobileRedirect({useUniversalLink:!r,isSolana:o==="solana",connectOnly:s}),l=i.name.replace(/ wallet/gi,""),c={title:`Redirecting to ${l} Mobile Wallet`,description:`We'll take you to the ${l} Mobile Wallet app to continue your login experience.`,footnote:""};return t&&(c.description=`For the best experience, we'll automatically log you into the ${l} Mobile Wallet in-app browser.`,c.footnote="You can always return here to login via other methods."),r&&(c.title="Still here?",c.description=`You may need to install the ${i.name} mobile app.`,c.footnote=`Once you're done, you can connect with ${i.name} wallet to complete the login.`),d.jsx(bmt,{title:c.title,subtitle:c.description,buttonText:r?"Go to App Store":"Continue",buttonHref:a,isLoading:t&&!a,helpText:c.footnote||void 0,onButtonClick:()=>{setTimeout((()=>n(!0)),1e3)}})}},Du=({provider:t,displayName:e,logo:r,connectOnly:n,connector:i})=>{let s,{navigate:o,setModalData:a}=It(),{connectWallet:l}=bt(),c=xp(),u=Mh(t),h=i.connectorType==="wallet_connect_v2"?t:i.walletClientType,f=window.matchMedia("(display-mode: standalone)").matches,p=Ige({connectorType:i.connectorType,walletClientType:h});s=p&&p.chainTypes.includes(i.chainType)?()=>{p.isInstalled||i.chainType==="solana"&&"isInstalled"in i&&i.isInstalled?(l(i,h),o(n?ij:ph)):Vr.isMobile?(a({installWalletModalData:{walletConfig:p,chainType:i.chainType,connectOnly:n}}),o(xmt)):(a({installWalletModalData:{walletConfig:p,chainType:i.chainType,connectOnly:n}}),o(wmt))}:i.connectorType!=="coinbase_wallet"||i.coinbaseWalletConfig.preference?.options!=="eoaOnly"||!Vr.isMobile||f||yge()?()=>{(!nj(window.navigator.userAgent)||event?.isTrusted)&&(l(i,h),o(n?ij:ph))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`};let m=e||u?.metadata?.shortName||u?.name||i.walletClientType;return d.jsxs(_mt,{onClick:s,children:[d.jsx(lye,{icon:r||u?.image_url?.md,name:m}),d.jsx("span",{children:m}),d.jsxs(Cmt,{id:"chip-container",children:[c?.walletClientType===h&&c?.chainType===i.chainType?d.jsx(cZ,{color:"gray",children:"Recent"}):d.jsx("span",{id:"connect-text",children:"Connect"}),i.chainType==="solana"&&d.jsx(cZ,{color:"gray",children:"Solana"})]})]})};let _mt=ie(Vn).withConfig({displayName:"ConnectWalletButton",componentId:"sc-42d67b97-0"})(["> span{color:var(--privy-color-foreground);}> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),cZ=ie(fd).withConfig({displayName:"StyledChip",componentId:"sc-42d67b97-1"})(["margin-left:auto;"]),Cmt=ie.div.withConfig({displayName:"ChipContainer",componentId:"sc-42d67b97-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]);const Emt=["coinbase_wallet","base_account"];let kmt=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","ronin_wallet","haha_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom","binance"];const Smt=["safe"],Amt=["phantom","backpack","solflare","universal_profile"],uye=({walletList:t,walletChainType:e,connectors:r,connectOnly:n,ignore:i,walletConnectEnabled:s,forceWallet:o})=>{let a=[],l=[],c=[],u=r.filter((f=>e==="ethereum-only"?f.chainType==="ethereum":e!=="solana-only"||f.chainType==="solana")),h=u.find((f=>f.connectorType==="wallet_connect_v2"));for(let[f,p]of(o?[o.wallet]:t).entries()){if(p==="detected_ethereum_wallets"||p==="detected_wallets")for(let[m,v]of u.filter((({chainType:w,connectorType:b,walletClientType:E})=>w!=="solana"&&(E==="uniswap_wallet_extension"||E==="uniswap_extension"?!i.includes("uniswap"):E==="crypto.com_wallet_extension"||E==="crypto.com_onchain"?!i.includes("cryptocom"):b==="injected"&&!i.includes(E)))).entries()){let{walletClientType:w,walletBranding:b,chainType:E}=v;(w==="unknown"?l:a).push(d.jsx(Du,{connectOnly:n,provider:w,logo:b.icon,displayName:b.name,connector:v},`${f}-${p}-${w}-${E}-${m}`))}if(p==="detected_solana_wallets"||p==="detected_wallets")for(let[m,v]of u.filter((({chainType:w,walletClientType:b})=>{if(w==="solana")return e!=="ethereum-only"&&!i.includes(b)})).entries()){let{walletClientType:w,walletBranding:b,chainType:E}=v;(w==="unknown"?l:a).push(d.jsx(Du,{connectOnly:n,provider:w,logo:b.icon,displayName:b.name,connector:v},`${f}-${p}-${w}-${E}-${m}`))}if(Amt.includes(p)){let m=u.find((v=>v.connectorType==="injected"&&v.walletClientType===p||v.connectorType===p));if(m&&a.push(d.jsx(Du,{connectOnly:n,provider:p,connector:m},`${f}-${p}`)),e==="solana-only"||e==="ethereum-and-solana"){let v=u.find((({chainType:w,walletClientType:b})=>w==="solana"&&b===p));v&&a.push(d.jsx(Du,{connectOnly:n,provider:p,connector:v},`${p}-solana`))}}else if(kmt.includes(p)){let m=u.find((v=>p==="uniswap"?v.walletClientType==="uniswap_wallet_extension"||v.walletClientType==="uniswap_extension":p==="cryptocom"?v.walletClientType==="crypto.com_wallet_extension"||v.walletClientType==="crypto.com_onchain":v.connectorType==="injected"&&v.walletClientType===p));if(s&&!m&&(m=h),m&&a.push(d.jsx(Du,{connectOnly:n,provider:p,connector:m,logo:m.connectorType==="injected"?m.walletBranding.icon:void 0,displayName:m.connectorType==="injected"?m.walletBranding.name:void 0},`${f}-${p}`)),e==="solana-only"||e==="ethereum-and-solana"){let v=u.find((({chainType:w,walletClientType:b})=>w==="solana"&&b===p));v&&a.push(d.jsx(Du,{connectOnly:n,provider:p,connector:v},`${p}-solana`))}}else if(Emt.includes(p)){let m=u.find((({connectorType:v})=>v===p));m&&a.push(d.jsx(Du,{connectOnly:n,provider:p,connector:m,displayName:m.walletClientType==="coinbase_wallet"?"Coinbase":"Base",logo:m.walletClientType==="coinbase_wallet"?xge:_ge},`${f}-${p}`))}else if(Smt.includes(p))h&&c.push(d.jsx(Du,{connectOnly:n,provider:p,connector:h},`${f}-${p}`));else if(p==="wallet_connect")h&&c.push(d.jsx(Du,{connectOnly:n,provider:p,connector:h,logo:h.walletBranding.icon,displayName:"WalletConnect"},`${f}-${p}`));else if(p===o?.wallet){let m=o.chainType==="ethereum"&&t.includes("detected_ethereum_wallets"),v=o.chainType==="solana"&&t.includes("detected_solana_wallets");if(t.includes("detected_wallets")||m||v){let w=u.find((({walletClientType:b})=>b===p));w&&a.push(d.jsx(Du,{connectOnly:n,provider:p,displayName:w.walletBranding?.name,logo:w.walletBranding?.icon,connector:w},`${f}-${p}`))}}}return[...l,...a,...c]},dye=({connectOnly:t})=>{let{closePrivyModal:e,connectors:r}=bt(),{app:n,onUserCloseViaDialogOrKeybindRef:i,data:s}=It(),{appearance:{palette:{colorScheme:o}}}=zr(),{accountType:a,walletClientType:l,chainType:c}=xp(),u=x.useMemo((()=>a&&a!=="guest"&&a!=="authorization_key"&&a!=="cross_app"?tk(a):null),[a]),h=n.loginMethodsAndOrder?.primary??[],f=n.loginMethodsAndOrder?.overflow??[],p=x.useMemo((()=>[...h,...f]),[h,f]),m=n.loginMethods.passkey,v=s?.login,w=[];l&&p.includes(l)?w.push(l):a&&p.includes(u?.loginMethod)&&w.push(u?.loginMethod);let[b,E]=x.useState("default"),[_,A]=x.useState(RC({mostRecentlyUsedAccountType:a,smsAvailable:p.includes("sms"),emailAvailable:p.includes("email"),prefilledType:v?.prefill?.type}));x.useEffect((()=>{A(RC({mostRecentlyUsedAccountType:a,smsAvailable:p.includes("sms"),emailAvailable:p.includes("email"),prefilledType:v?.prefill?.type}))}),[p,a]),x.useEffect((()=>{a==="phone"&&A("sms");let O=p.indexOf("sms"),D=p.indexOf("email");O>-1&&O<D&&A("sms")}),[a,h,f]);let C=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout((()=>{E("default")}),150)};i.current=C;let k=O=>O==="email"?d.jsx(aye,{isEditable:_==="email",setIsEditable:()=>{A("email")},defaultValue:v?.prefill?.type==="email"?v.prefill.value:void 0},O):O==="sms"?d.jsx(Zme,{isEditable:_==="sms",setIsEditable:()=>{A("sms")},defaultValue:v?.prefill?.type==="phone"?v.prefill.value:void 0},O):O==="apple"?d.jsx(Ti,{provider:"apple"},O):O==="discord"?d.jsx(Ti,{provider:"discord"},O):O==="farcaster"?d.jsx(Xme,{},O):O==="github"?d.jsx(Ti,{provider:"github"},O):O==="google"?d.jsx(Ti,{provider:"google"},O):O==="linkedin"?d.jsx(Ti,{provider:"linkedin"},O):O==="spotify"?d.jsx(Ti,{provider:"spotify"},O):O==="instagram"?d.jsx(Ti,{provider:"instagram"},O):O==="tiktok"?d.jsx(Ti,{provider:"tiktok"},O):O==="line"?d.jsx(Ti,{provider:"line"},O):O==="twitter"?d.jsx(Ti,{provider:"twitter"},O):O==="telegram"?d.jsx(tye,{},O):O.startsWith("privy:")?d.jsx(E0t,{appId:O.replace("privy:","")},O):uye({walletList:n.appearance.walletList,walletChainType:v?.walletChainType??n.appearance.walletChainType,connectors:r,connectOnly:t,ignore:p,walletConnectEnabled:n.externalWallets.walletConnect.enabled,forceWallet:{wallet:O,chainType:c??"ethereum"}}),P=w.flatMap(k),F=h.filter((O=>O!==l&&O!==u?.loginMethod)).flatMap(k),N=f.filter((O=>O!==l&&O!==u?.loginMethod)).flatMap(k),[$,U]=((O,D)=>{let T=[],I=[];for(let[R,L]of O.entries())R<D?T.push(L):I.push(L);return[T,I]})([...P,...F,...N],Tmt({primary:F.length+P.length,overflow:N.length}));return d.jsxs(d.Fragment,{children:[d.jsx(xr,{title:n.appearance.landingHeader,onClose:C,backFn:b==="default"?void 0:()=>{E("default")}}),b==="default"&&d.jsx(Imt,{}),b==="default"&&(typeof n.appearance.loginMessage=="string"?d.jsx(jht,{children:n.appearance.loginMessage}):n.appearance.loginMessage),d.jsx(Rht,{style:{overflow:"hidden"},children:d.jsxs(Lge,{$colorScheme:o,children:[b==="default"&&d.jsxs(d.Fragment,{children:[$,U.length>0&&d.jsx(nye,{text:"More options",icon:d.jsx(dut,{}),onClick:()=>E("overflow")})]}),b==="overflow"&&d.jsx(d.Fragment,{children:U}),m&&b==="default"&&d.jsx(Qme,{})]})}),n&&d.jsx(wL,{app:n}),d.jsx(Ur,{})]})};let Tmt=({primary:t,overflow:e})=>t<5?t:t===5&&e===0?5:4,Imt=ie(x0t).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-d846420a-0"})(["margin-bottom:16px;"]);const yo={component:()=>{let{app:t}=It();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?d.jsx(dye,{connectOnly:!1}):d.jsx(iye,{connectOnly:!1})},isCaptchaRequired:!0,isUnauthenticatedScreem:!0},hye={component:()=>{let[t,e]=x.useState(null),[r,n]=x.useState(!1),[i,s]=x.useState(null),[o,a]=x.useState(""),{authenticated:l,user:c}=Pr(),{client:u,walletProxy:h,refreshSessionAndUser:f,closePrivyModal:p,createAnalyticsEvent:m}=bt(),{app:v,navigate:w,data:b,onUserCloseViaDialogOrKeybindRef:E}=It(),{onSuccess:_,onFailure:A}=b.setWalletPassword,C=Kl(c),k=t?.recoveryMethod==="user-passcode",P=C?.recoveryMethod==="user-passcode";x.useEffect((()=>{l||(w(yo),A(new cOe("User must be authenticated before setting a password on a Privy wallet")))}),[l]);let F=()=>i?(A(i),void p({shouldCallAuthOnSuccess:!1})):k?(_(t),void p({shouldCallAuthOnSuccess:!1})):(A(new Gf("Exited before password was added to wallet")),void p({shouldCallAuthOnSuccess:!1}));return E.current=F,d.jsx(Ime,{appName:v?.name||"privy",config:{initiatedBy:"user",onCancel:F},error:i?"An error has occurred, please try again.":void 0,buttonLoading:r,buttonHideAnimations:!1,password:o,isResettingPassword:P,onPasswordGenerate:()=>a(Tme()),onPasswordChange:a,onSubmit:async()=>{k?(_(t),p({shouldCallAuthOnSuccess:!1})):(n(!0),s(null),await(async()=>{let N=await u.getAccessToken();if(N&&c&&C?.address&&o&&h)try{m({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:C.address,existingRecoveryMethod:C.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:P}});let{entropyId:$,entropyIdVerifier:U}=js(c);if(!(await h.setRecovery({accessToken:N,entropyId:$,entropyIdVerifier:U,recoveryPassword:o,recoveryMethod:"user-passcode"})).entropyId)return s(new Gf("Error setting password on privy wallet")),void m({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:C.address,existingRecoveryMethod:C.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:P,reason:"error setting password"}});let O=await f(),D=Kl(O);if(!D)return s(new Gf("Error setting password on privy wallet")),void m({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:C.address,existingRecoveryMethod:C.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:P,reason:"wallet disconnected"}});e(D),m({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:C.address,existingRecoveryMethod:C.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:P}})}catch($){console.warn($),s($ instanceof Error?$:Error("Error setting password on privy wallet")),m({eventName:"embedded_wallet_set_password_failed",payload:{walletAddress:C.address,reason:$}})}})(),n(!1))},onClose:F})}},Pmt=({onClose:t,onProceed:e})=>d.jsx(Mr,{title:"Secure Your Account",subtitle:d.jsxs(d.Fragment,{children:["Please set a password to secure your account.",d.jsx("br",{}),"Losing access to this password and this device will make your account inaccessible."]}),icon:xF,primaryCta:{label:"Add password",onClick:e},onClose:t,watermark:!0}),$mt={component:()=>{let{closePrivyModal:t}=bt(),{data:e,navigate:r,onUserCloseViaDialogOrKeybindRef:n}=It(),{onFailure:i}=e.setWalletPassword,s=()=>{i(new Gf("Exited before password was added to wallet")),t({shouldCallAuthOnSuccess:!1})};return n.current=s,d.jsx(Pmt,{onClose:s,onProceed:()=>{r(hye)}})}},Nmt={component:()=>{let[t,e]=x.useState(!0),{authenticated:r,user:n}=Pr(),{walletProxy:i,closePrivyModal:s,createAnalyticsEvent:o,client:a}=bt(),{navigate:l,data:c,onUserCloseViaDialogOrKeybindRef:u}=It(),[h,f]=x.useState(void 0),[p,m]=x.useState(""),[v,w]=x.useState(!1),{entropyId:b,entropyIdVerifier:E,onCompleteNavigateTo:_,onSuccess:A,onFailure:C}=c.recoverWallet,k=(P="User exited before their wallet could be recovered")=>{s({shouldCallAuthOnSuccess:!1}),C(typeof P=="string"?new Gf(P):P)};return u.current=k,x.useEffect((()=>{if(!r)return k("User must be authenticated and have a Privy wallet before it can be recovered")}),[r]),d.jsxs(un,{children:[d.jsx(un.Header,{icon:X0,title:"Enter your password",subtitle:"Please provision your account on this new device. To continue, enter your recovery password.",showClose:!0,onClose:k}),d.jsx(un.Body,{children:d.jsx(Rmt,{children:d.jsxs("div",{children:[d.jsxs(J8,{children:[d.jsx(OL,{type:t?"password":"text",onChange:P=>(F=>{F&&f(F)})(P.target.value),disabled:v,style:{paddingRight:"2.3rem"}}),d.jsx(Q8,{style:{right:"0.75rem"},children:t?d.jsx(Z8,{onClick:()=>e(!1)}):d.jsx(ek,{onClick:()=>e(!0)})})]}),!!p&&d.jsx(Omt,{children:p})]})})}),d.jsxs(un.Footer,{children:[d.jsx(un.HelpText,{children:d.jsxs(Wft,{children:[d.jsx("h4",{children:"Why is this necessary?"}),d.jsx("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]})}),d.jsx(un.Actions,{children:d.jsx(jmt,{loading:v||!i,disabled:!h,onClick:async()=>{w(!0);let P=await a.getAccessToken(),F=Pl(n,b);if(!P||!F||h===null)return k("User must be authenticated and have a Privy wallet before it can be recovered");try{o({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:F.address}}),await i?.recover({accessToken:P,entropyId:b,entropyIdVerifier:E,recoveryPassword:h}),m(""),_?l(_):s({shouldCallAuthOnSuccess:!1}),A?.(F),o({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:F.address}})}catch(N){(function($){return Z1($)&&($.type==="invalid_recovery_pin"||$.type==="invalid_request_arguments")})(N)?m("Invalid recovery password, please try again."):m("An error has occurred, please try again.")}finally{w(!1)}},$hideAnimations:!b&&v,children:"Recover your account"})}),d.jsx(un.Watermark,{})]})]})}};let Rmt=ie.div.withConfig({displayName:"Content",componentId:"sc-f366413c-0"})(["display:flex;flex-direction:column;gap:1.5rem;"]),Omt=ie.div.withConfig({displayName:"ErrorMessage",componentId:"sc-f366413c-1"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),jmt=ie(an).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-f366413c-2"})(["",""],(({$hideAnimations:t})=>t&&Zi(["&&{transition:none;}"])));const Mmt={component:()=>{let{app:t,navigate:e,data:r,onUserCloseViaDialogOrKeybindRef:n}=It(),[i,s]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(),[u,h]=x.useState(null),{create:f}=NL(),{authenticated:p,user:m}=Pr(),{closePrivyModal:v,isNewUserThisSession:w,initializeWalletProxy:b}=bt(),{onSuccess:E,onFailure:_,callAuthOnSuccessOnClose:A,shouldCreateEth:C,shouldCreateSol:k}=r.createWallet,[P,F]=x.useState(null),N=new No((async()=>{try{let $;if(C&&k)$=await f({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:m}),$=await f({chainType:"solana",walletIndex:0,latestUser:$.user});else if(k)$=await f({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"solana",walletIndex:0,latestUser:m});else{if(!C)throw Error("Invalid args to create wallet");$=await f({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:m})}F($),w?e(RL):(E($),v({shouldCallAuthOnSuccess:A}))}catch($){s($.message)}}));return x.useEffect((()=>{u||b(3e4).then(($=>h($)))}),[u]),x.useEffect((()=>{if(!p||!m)return e(yo),void _(Error("User must be authenticated before creating a Privy wallet"))}),[p]),n.current=()=>null,d.jsx(Ime,{config:{initiatedBy:"automatic"},appName:t?.name||"privy",loading:!u,buttonLoading:o,buttonHideAnimations:!P&&o,isResettingPassword:!1,error:i,password:l||"",onClose:()=>{P&&P.account.recoveryMethod!=="user-passcode"?(_(new Gf("User created a wallet but failed to set a password for it")),v({shouldCallAuthOnSuccess:!1})):P?(E(P),v({shouldCallAuthOnSuccess:A})):(_(new Gf("User wallet creation failed")),v({shouldCallAuthOnSuccess:!1}))},onPasswordChange:c,onPasswordGenerate:()=>c(Tme()),onSubmit:async()=>(a(!0),N.execute().then((()=>new Promise(($=>setTimeout($,250))))).finally((()=>a(!1))))})}},Dmt=ie.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],(t=>t.$color??"var(--privy-color-accent)")),lp=ie.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]),Th=ie.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]),Fmt={component:()=>{let{user:t}=Pr(),{client:e,walletProxy:r,refreshSessionAndUser:n,closePrivyModal:i}=bt(),s=It(),{entropyId:o,entropyIdVerifier:a}=s.data?.recoverWallet,[l,c]=x.useState(!1),[u,h]=x.useState(null),[f,p]=x.useState(null);function m(){if(!l){if(f)return s.data?.setWalletPassword?.onFailure(f),void i();if(!u)return s.data?.setWalletPassword?.onFailure(Error("User exited set recovery flow")),void i()}}s.onUserCloseViaDialogOrKeybindRef.current=m;let v=!(!l&&!u);return d.jsxs(d.Fragment,f?{children:[d.jsx(xr,{onClose:m},"header"),d.jsx(Dmt,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:d.jsx(vg,{height:38,width:38,stroke:"var(--privy-color-error)"})}),d.jsx(Th,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),d.jsx(op,{style:{minHeight:"2rem"}}),d.jsx(kC,{onClick:()=>p(null),children:"Try again"}),d.jsx(Ur,{})]}:{children:[d.jsx(xr,{onClose:m},"header"),d.jsx(W0e,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),d.jsx(Th,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),d.jsx(lp,{style:{marginTop:"1rem"},children:"When you log into a new device, youll only need to authenticate to access your account. Never get logged out if you forget your password."}),d.jsx(op,{style:{minHeight:"2rem"}}),d.jsx(kC,{loading:l,disabled:v,onClick:()=>(async function(){c(!0);try{let w=await e.getAccessToken(),b=Pl(t,o);if(!w||!r||!b)return;if(!(await r.setRecovery({accessToken:w,entropyId:o,entropyIdVerifier:a,existingRecoveryMethod:b.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let E=await n();if(!E)throw Error("Unable to set recovery on wallet");let _=Pl(E,b.address);if(!_)throw Error("Unabled to set recovery on wallet");h(!!E),setTimeout((()=>{s.data?.setWalletPassword?.onSuccess(_),i()}),Bn)}catch(w){p(w)}finally{c(!1)}})(),children:u?"Success":"Confirm"}),d.jsx(Ur,{})]})}};function fye({isCreatingWallet:t,skipSplashScreen:e}){return t?Mmt:e?hye:$mt}function pye({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:r,isResettingPassword:n,showAutomaticRecovery:i}){return i?Fmt:r||e.length===1?fye({isCreatingWallet:t==="create",skipSplashScreen:n}):YO}function gye(t){switch(t){case"user-passcode":return Nmt;case"google-drive":case"icloud":return bme;default:throw Error("Recovery method not supported")}}const mye=({children:t,theme:e})=>d.jsxs(Lmt,{$theme:e,children:[d.jsx(Gut,{width:"20px",height:"20px",color:"var(--privy-color-icon-subtle)",strokeWidth:2,style:{flexShrink:0}}),d.jsx(Umt,{$theme:e,children:t})]});let Lmt=ie.div.withConfig({displayName:"Container",componentId:"sc-1b5ed8dd-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-background-2);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),Umt=ie.div.withConfig({displayName:"Content",componentId:"sc-1b5ed8dd-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],(t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"));const yye=Zi(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;",""],(t=>t.$state==="error"?`
        border-color: var(--privy-color-error);
        background: var(--privy-color-error-bg);
      `:"")),sk=ie.div.withConfig({displayName:"Box",componentId:"sc-7252360a-0"})(["",""],yye);let Bmt=ie(sk).withConfig({displayName:"StyledBox",componentId:"sc-4010d8f3-0"})(["&&{padding:0.75rem;height:56px;}"]),zmt=ie.div.withConfig({displayName:"WalletContent",componentId:"sc-4010d8f3-1"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),qmt=ie.div.withConfig({displayName:"AddressContainer",componentId:"sc-4010d8f3-2"})(["display:flex;flex-direction:column;gap:0;"]),Wmt=ie.div.withConfig({displayName:"BalanceText",componentId:"sc-4010d8f3-3"})(["font-size:12px;line-height:1rem;color:var(--privy-color-foreground-3);"]),Hmt=ie(ta).withConfig({displayName:"TitleLabel",componentId:"sc-4010d8f3-4"})(["text-align:left;margin-bottom:0.5rem;"]),Vmt=ie(Sh).withConfig({displayName:"StyledErrorMessage",componentId:"sc-4010d8f3-5"})(["margin-top:0.25rem;"]),Gmt=ie(ou).withConfig({displayName:"CopyButton",componentId:"sc-4010d8f3-6"})(["&&{gap:0.375rem;font-size:14px;}"]);const ok=({errMsg:t,balance:e,address:r,className:n,title:i,showCopyButton:s=!1})=>{let[o,a]=x.useState(!1);return x.useEffect((()=>{if(o){let l=setTimeout((()=>a(!1)),3e3);return()=>clearTimeout(l)}}),[o]),d.jsxs("div",{children:[i&&d.jsx(Hmt,{children:i}),d.jsx(Bmt,{className:n,$state:t?"error":void 0,children:d.jsxs(zmt,{children:[d.jsxs(qmt,{children:[d.jsx(Sr,{address:r,showCopyIcon:!1}),e!==void 0&&d.jsx(Wmt,{children:e})]}),s&&d.jsx(Gmt,{onClick:function(l){l.stopPropagation(),navigator.clipboard.writeText(r).then((()=>a(!0))).catch(console.error)},size:"sm",children:d.jsxs(d.Fragment,o?{children:["Copied",d.jsx(W2,{size:14})]}:{children:["Copy",d.jsx(eC,{size:14})]})})]})}),t&&d.jsx(Vmt,{children:t})]})};function vye({rpcConfig:t,appId:e,address:r,chain:n}){let{chains:i}=bt(),[s,o]=x.useState(0n),[a,l]=x.useState(!1),c=x.useMemo((()=>{let h=n||i[0];if(h)return eu({chain:n,transport:cd(kh(h,t,e))})}),[n,t,e]),u=x.useCallback((async()=>{if(!r||!c)return;l(!0);let h=await c.getBalance({address:r}).catch(console.error);return h?(o(h),l(!1),h):void 0}),[c,r,o]);return x.useEffect((()=>{u().catch(console.error)}),[]),{balance:s,isLoading:a,reloadBalance:u}}const lu="sdk_fiat_on_ramp_completed_with_status",LL=async({chain:t,address:e,appId:r,rpcConfig:n,erc20Address:i})=>({balance:await eu({chain:t,transport:cd(kh(t,n,r))}).readContract({address:i,abi:Kmt,functionName:"balanceOf",args:[e]}).catch((()=>0n)),chain:t});let Kmt=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const b3=Symbol("solana-funding-plugin"),Ymt=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:r,refreshSessionAndUser:n,user:i,appConfig:s},{privateKey:o,chainType:a})=>{if(!i)throw t("linkAccount","onError",ye.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new fe("User must be authenticated before linking an account.");let[l,c]=await Promise.all([e(),r(15e3)]);if(!c||!l)throw t("linkAccount","onError",ye.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new fe("User must be authenticated before linking an account.");await c.importWallet({privateKey:o,accessToken:l,chainType:a,mode:s.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device"});let u=await n(),h=a==="solana"?WE(u):QN(u);if(!h)throw t("createWallet","onError",ye.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:h}),h};class Jmt{async handleSignMessage(e){if(!e.params||typeof e.params.message!="string")throw Error("Message must be provided as a string for Solana signMessage RPC");let r=await this.signMessage(uo(e.params.message,"base64"));return{signature:uo(r).toString("base64")}}async request(e){if(console.debug("EmbeddedSolanaProvider.request() called with args",e),!await cn())throw Error("User must be authenticated to use embedded Solana wallet");if(!await ywt({address:this.address}))throw new fe("Unable to connect to Solana embedded wallet");if(e.method==="signMessage")return await this.handleSignMessage(e);throw Error("Embedded Solana provider does not yet support this RPC method.")}constructor(e,r,n){this.walletProxy=e,this.address=r,this.signMessage=n}}async function sj({tx:t,accessToken:e,walletProxy:r,entropyId:n,entropyIdVerifier:i,transactingWalletAddress:s,transactingWalletIndex:o}){let a=SC(t,s),l=ap(t)?uo(t.message.serialize()):t.serializeMessage(),{response:c}=await r.rpc({accessToken:e,entropyId:n,entropyIdVerifier:i,chainType:"solana",hdWalletIndex:o,request:{method:"signMessage",params:{message:l.toString("base64")}}}),u=uo(c.data.signature,"base64");return t.addSignature(a,u),t}const Xmt=t=>t.reduce(((e,r)=>!e||e.walletIndex<r.walletIndex?r:e),null);let uZ=async({accessToken:t,appConfig:e,privy:r,emitPrivyEvent:n,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:o,user:a,walletIndex:l,setModalData:c,openModal:u,chainType:h,setUser:f})=>{if(l<0)throw n("createWallet","onError",ye.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${l}) is invalid.`);let p=Kl(a);if(l>0&&!p)throw n("createWallet","onError",ye.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw n("createWallet","onError",ye.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!p&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await dZ({emitPrivyEvent:n,setModalData:c,openModal:u,chainType:h});let m=$L(a,{chainType:h,walletIndex:l})[0];if(m)return{user:a,account:m};if(l===0&&!i)return dZ({emitPrivyEvent:n,setModalData:c,openModal:u,chainType:h});if(!i)throw n("createWallet","onError",ye.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return wme({appConfig:e,walletIndex:l,chainType:h,user:a,accessToken:t,proxy:i,refreshSessionAndUser:s,privy:r,recoverEmbeddedWallet:o,setUser:f})},dZ=async({emitPrivyEvent:t,setModalData:e,openModal:r,chainType:n})=>new Promise(((i,s)=>{e({createWallet:{onSuccess:({user:o,account:a})=>{t("createWallet","onSuccess",{wallet:a}),i({user:o,account:a})},onFailure:o=>{t("createWallet","onError",ye.UNKNOWN_EMBEDDED_WALLET_ERROR),s(o)},callAuthOnSuccessOnClose:!1,shouldCreateEth:n==="ethereum",shouldCreateSol:n==="solana"}}),r(Fh)}));const wye=()=>{let t=zr(),e=Dh(),{setModalData:r}=It(),{initializeWalletProxy:n,recoverEmbeddedWallet:i,setUser:s,openModal:o,refreshSessionAndUser:a,privy:l,client:c}=bt();return{create:async({chainType:u,options:h,latestUser:f})=>{let p=f;if(p||(p=await a()),!p)throw e("createWallet","onError",ye.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await(async({appConfig:m,getAccessToken:v,initializeWalletProxy:w,user:b,privy:E,emitPrivyEvent:_,recoverEmbeddedWallet:A,setModalData:C,openModal:k,setUser:P,options:F,timeoutDuration:N,refreshSessionAndUser:$,chainType:U})=>{let[O,D]=await Promise.all([w(N),v()]);if(!D||!b)throw _("createWallet","onError",ye.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!O&&m.customAuth?.enabled)throw _("createWallet","onError",ye.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(F&&"walletIndex"in F&&typeof F.walletIndex=="number"){if(m.embeddedWallets.mode==="user-controlled-server-wallets-only")throw _("createWallet","onError",ye.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return uZ({accessToken:D,appConfig:m,privy:E,emitPrivyEvent:_,openModal:k,proxy:O,refreshSessionAndUser:$,recoverEmbeddedWallet:A,setModalData:C,user:b,walletIndex:F.walletIndex,chainType:U,setUser:P})}let T=F&&"createAdditional"in F&&F.createAdditional,I=$L(b,{chainType:U});if(I[0]&&!T)throw _("createWallet","onError",ye.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return uZ({accessToken:D,appConfig:m,privy:E,emitPrivyEvent:_,openModal:k,proxy:O,recoverEmbeddedWallet:A,setModalData:C,user:b,walletIndex:(Xmt(I)?.walletIndex??-1)+1,chainType:U,refreshSessionAndUser:$,setUser:P})})({appConfig:t,privy:l,getAccessToken:()=>c.getAccessToken(),refreshSessionAndUser:a,initializeWalletProxy:n,user:p,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:r,openModal:o,setUser:s,options:h,timeoutDuration:rge,chainType:u})}}};function Qmt(t){let{create:e}=wye();return X1("createWallet",t),{createWallet:async r=>{r&&"target"in r&&r&&(r=void 0);let{account:n}=await e({chainType:"ethereum",options:r});return n}}}const Zmt=()=>{let{user:t}=Pr(),{client:e,refreshSessionAndUser:r,initializeWalletProxy:n}=bt(),i=Dh(),s=zr();return{importWallet:x.useCallback((({privateKey:o})=>Ymt({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:n,refreshSessionAndUser:r,emitPrivyEvent:i,appConfig:s},{privateKey:o,chainType:"ethereum"})),[t,e,r,n,i])}},x3=()=>{let{importWallet:t}=Zmt(),{createWallet:e}=Qmt();return{...x.useContext(j1),importWallet:t,createWallet:e}},UL=t=>t.filter((e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1)))),bye=t=>!!t.fundingConfig&&UL(t.fundingConfig.options).length>=1,oj=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}];let eyt=2n**256n-1n;const OC=({amount:t,decimals:e})=>t===eyt?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:e}).format(Number(t)/10**e),xye=({chains:t,appId:e,address:r,rpcConfig:n,includeUsdc:i})=>Promise.all(t.map((async s=>{let o=eu({chain:s,transport:cd(kh(s,n,e))}),a=await o.getBalance({address:r}).catch((()=>0n)),l=null,c=oRe[s.id];if(i&&c){let{balance:u}=await LL({address:r,chain:s,rpcConfig:n,appId:e,erc20Address:c});l=u}return{balance:a,erc20Balance:l,erc20Address:c,chain:s}}))),tv=ie.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),kt=ie.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]),jt=ie.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),tyt=ie(jt).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),qt=ie.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],nk),ryt=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 397.7 311.7",enableBackground:"new 0 0 397.7 311.7",xmlSpace:"preserve",...t,children:[d.jsxs("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#SVGID_1_)"}),d.jsxs("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"264.8291",y1:"401.6014",x2:"45.163",y2:"-19.1475",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#SVGID_2_)"}),d.jsxs("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:"312.5484",y1:"376.688",x2:"92.8822",y2:"-44.061",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[d.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),d.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),d.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#SVGID_3_)"})]});let nyt={[nc.id]:t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2500 2500",xmlSpace:"preserve",...t,children:d.jsx("g",{id:"Layer_x0020_1",children:d.jsxs("g",{id:"_2405588477232",children:[d.jsx("rect",{fill:"none",width:"2500",height:"2500"}),d.jsx("g",{children:d.jsxs("g",{children:[d.jsx("path",{fill:"#213147",d:"M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z"}),d.jsx("g",{children:d.jsxs("g",{children:[d.jsx("g",{children:d.jsx("path",{fill:"#12AAFF",d:"M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z"})}),d.jsx("g",{children:d.jsx("path",{fill:"#12AAFF",d:"M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z"})})]})}),d.jsx("g",{children:d.jsx("path",{fill:"#9DCCED",d:"M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z"})}),d.jsx("polygon",{fill:"#213147",points:"642,2179 727,1947 897,2088 738,2234     "}),d.jsxs("g",{children:[d.jsx("path",{fill:"#FFFFFF",d:"M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z"}),d.jsx("path",{fill:"#FFFFFF",d:"M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z"})]})]})})]})})}),[N1.id]:t=>d.jsxs("svg",{width:"1503",height:"1504",viewBox:"0 0 1503 1504",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{x:"287",y:"258",width:"928",height:"844",fill:"white"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z",fill:"#E84142"})]}),[ic.id]:t=>d.jsxs("svg",{width:"146",height:"146",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),d.jsx("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]}),[RE.id]:t=>d.jsxs("svg",{fill:"none",height:"400",viewBox:"0 0 400 400",width:"400",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("path",{d:"m0 0h400v400h-400z",fill:"#fcff52"}),d.jsx("path",{d:"m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z",fill:"#000"})]}),[Ile.id]:t=>d.jsxs("svg",{width:"200",height:"208",viewBox:"0 0 200 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{width:"199.4",height:"207.623",fill:"#121212"}),d.jsxs("g",{"clip-path":"url(#clip0_2303_643)",children:[d.jsx("path",{d:"M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z",fill:"white"}),d.jsx("path",{d:"M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z",fill:"white"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_2303_643",children:d.jsx("rect",{width:"99.5407",height:"103.977",fill:"white",transform:"translate(49.7001 52.0134)"})})})]}),[sc.id]:t=>d.jsxs("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 327.5 533.3",enableBackground:"new 0 0 327.5 533.3;",xmlSpace:"preserve",...t,children:[d.jsx("path",{fill:"#8492B2",d:"M163.7,197.2V0L0,271.6L163.7,197.2z"}),d.jsx("path",{fill:"#62688F",d:"M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z"}),d.jsx("path",{fill:"#454A75",d:"M163.7,197.2v171.2l163.7-96.8L163.7,197.2z"}),d.jsx("path",{fill:"#8492B2",d:"M163.7,399.4L0,302.7l163.7,230.7V399.4z"}),d.jsx("path",{fill:"#62688F",d:"M327.5,302.7l-163.8,96.7v134L327.5,302.7z"})]}),[md.id]:t=>d.jsxs("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("circle",{cx:"250",cy:"250",r:"250",fill:"#FF0420"}),d.jsx("path",{d:"M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z",fill:"white"}),d.jsx("path",{d:"M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z",fill:"white"})]}),[ba.id]:t=>d.jsxs("svg",{width:"360",height:"360",viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[d.jsx("rect",{width:"360",height:"360",rx:"180",fill:"#6C00F6"}),d.jsx("path",{d:"M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z",fill:"white"})]}),[wD.id]:t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",...t,children:[d.jsx("g",{clipPath:"url(#clip0)",children:d.jsx("g",{clipPath:"url(#clip1)",children:d.jsx("path",{d:"M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z",fill:"url(#paint0)"})})}),d.jsxs("defs",{children:[d.jsxs("radialGradient",{id:"paint0",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.6921 8.02215) rotate(180) scale(25.2008)",children:[d.jsx("stop",{offset:"0.00682297",stopColor:"#F2CEFE"}),d.jsx("stop",{offset:"0.1913",stopColor:"#AFBAF1"}),d.jsx("stop",{offset:"0.4982",stopColor:"#4281D3"}),d.jsx("stop",{offset:"0.666667",stopColor:"#2E427D"}),d.jsx("stop",{offset:"0.822917",stopColor:"#230101"}),d.jsx("stop",{offset:"1",stopColor:"#8F6B40"})]}),d.jsx("clipPath",{id:"clip0",children:d.jsx("rect",{width:"30",height:"30",fill:"white"})}),d.jsx("clipPath",{id:"clip1",children:d.jsx("rect",{width:"30",height:"30",fill:"white"})})]})]})};const _ye=({chainId:t,...e})=>{if(t==="solana")return d.jsx(ryt,{...e});let r=nyt[t];return d.jsx(r||q0e,{...e})},iyt=({balance:t,className:e,chain:r})=>d.jsx(sk,{className:e,$state:void 0,children:d.jsx(aj,{balance:t,chain:r})}),aj=({balance:t,chain:e})=>d.jsxs(d.Fragment,{children:[d.jsxs(syt,{children:[d.jsx(ayt,{chainId:"id"in e?e.id:"solana"}),d.jsx(qt,{children:e.name})]}),d.jsxs(fd,{isLoading:!1,isPulsing:!1,color:"gray",children:[d.jsx(oyt,{children:d.jsx(D8,{})}),t]})]});let syt=ie.div.withConfig({displayName:"Container",componentId:"sc-d24ae982-0"})(["display:flex;align-items:center;"]),oyt=ie.div.withConfig({displayName:"IconContainer",componentId:"sc-d24ae982-1"})(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]),ayt=ie(_ye).withConfig({displayName:"StyledNetworkIcon",componentId:"sc-d24ae982-2"})(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]);const lyt=({options:t,onSelect:e,selected:r,className:n})=>d.jsxs(Kqe,{as:cyt,children:[d.jsxs(Mhe,{as:hyt,children:[d.jsx(aj,{balance:r.balance,chain:r.chain}),d.jsx(lj,{height:16})]}),d.jsx(Dhe,{as:uyt,className:n,children:t.map(((i,s)=>d.jsx(Fhe,{as:dyt,onClick:()=>e(s),children:d.jsx(aj,{balance:i.balance,chain:i.chain})},s)))})]});let cyt=ie.div.withConfig({displayName:"Wrapper",componentId:"sc-31c00f79-0"})(["width:100%;position:relative;"]),uyt=ie.div.withConfig({displayName:"Popover",componentId:"sc-31c00f79-1"})(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]),dyt=ie.button.withConfig({displayName:"Button",componentId:"sc-31c00f79-2"})(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]),lj=ie(r8).withConfig({displayName:"StyledChevronIcon",componentId:"sc-31c00f79-3"})(["height:1rem;margin-left:0.5rem;"]),hyt=ie.button.withConfig({displayName:"StyledMenuButton",componentId:"sc-31c00f79-4"})([""," span{margin-left:auto;}","{transition:rotate 100ms ease-in;}&[aria-expanded='true']{","{rotate:-180deg;}}"],yye,lj,lj);const fyt=({passkeys:t,isLoading:e,errorReason:r,success:n,expanded:i,onLinkPasskey:s,onUnlinkPasskey:o,onExpand:a,onBack:l,onClose:c})=>d.jsx(Mr,n?{title:"Passkeys updated",icon:e3,iconVariant:"success",primaryCta:{label:"Done",onClick:c},onClose:c,watermark:!0}:i?{icon:tC,title:"Your passkeys",onBack:l,onClose:c,watermark:!0,children:d.jsx(hZ,{passkeys:t,expanded:i,onUnlink:o,onExpand:a})}:{icon:tC,title:"Set up passkey verification",subtitle:"Verify with passkey",primaryCta:{label:"Add new passkey",onClick:s,loading:e},onClose:c,watermark:!0,helpText:r||void 0,children:t.length===0?d.jsx(gyt,{}):d.jsx(pyt,{children:d.jsx(hZ,{passkeys:t,expanded:i,onUnlink:o,onExpand:a})})});let pyt=ie.div.withConfig({displayName:"ContentContainer",componentId:"sc-e693657c-0"})(["margin-bottom:12px;"]),hZ=({passkeys:t,expanded:e,onUnlink:r,onExpand:n})=>{let[i,s]=x.useState([]),o=e?t.length:2,a=l=>l.authenticatorName?l.createdWithBrowser?`${l.authenticatorName} on ${l.createdWithBrowser}`:l.authenticatorName:l.createdWithBrowser?l.createdWithOs?`${l.createdWithBrowser} on ${l.createdWithOs}`:`${l.createdWithBrowser}`:"Unknown device";return d.jsxs("div",{children:[d.jsx(byt,{children:"Your passkeys"}),d.jsxs(wyt,{children:[t.slice(0,o).map((l=>d.jsxs(Cyt,{children:[d.jsxs("div",{children:[d.jsx(xyt,{children:a(l)}),d.jsxs(_yt,{children:["Last used: ",(l.latestVerifiedAt??l.verifiedAt).toLocaleString()]})]}),d.jsx(kyt,{disabled:i.includes(l.credentialId),onClick:()=>(async c=>{s((u=>u.concat([c]))),await r(c),s((u=>u.filter((h=>h!==c))))})(l.credentialId),children:i.includes(l.credentialId)?d.jsx(bp,{}):d.jsx(oWe,{size:16})})]},l.credentialId))),t.length>2&&!e&&d.jsx(vyt,{onClick:n,children:"View all"})]})]})},gyt=()=>d.jsxs(cye,{style:{color:"var(--privy-color-foreground)"},children:[d.jsx(qy,{children:"Verify with Touch ID, Face ID, PIN, or hardware key"}),d.jsx(qy,{children:"Takes seconds to set up and use"}),d.jsx(qy,{children:"Use your passkey to verify transactions and login to your account"})]});const myt={component:()=>{let{user:t,unlinkPasskey:e}=Pr(),{linkWithPasskey:r,closePrivyModal:n}=bt(),i=t?.linkedAccounts.filter((p=>p.type==="passkey")),[s,o]=x.useState(!1),[a,l]=x.useState(""),[c,u]=x.useState(!1),[h,f]=x.useState(!1);return x.useEffect((()=>{i.length===0&&f(!1)}),[i.length]),d.jsx(fyt,{passkeys:i,isLoading:s,errorReason:a,success:c,expanded:h,onLinkPasskey:()=>{o(!0),r().then((()=>u(!0))).catch((p=>{if(p instanceof po){if(p.privyErrorCode===ye.CANNOT_LINK_MORE_OF_TYPE)return void l("Cannot link more passkeys to account.");if(p.privyErrorCode===ye.PASSKEY_NOT_ALLOWED)return void l("Passkey request timed out or rejected by user.")}l("Unknown error occurred.")})).finally((()=>{o(!1)}))},onUnlinkPasskey:async p=>(o(!0),await e(p).then((()=>u(!0))).catch((m=>{m instanceof po&&m.privyErrorCode===ye.MISSING_MFA_CREDENTIALS?l("Cannot unlink a passkey enrolled in MFA"):l("Unknown error occurred.")})).finally((()=>{o(!1)}))),onExpand:()=>f(!0),onBack:()=>f(!1),onClose:()=>n()})}},Cye=ie.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-e693657c-1"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]);let yyt=Zi(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]);const vyt=ie.button.withConfig({displayName:"LinkButton",componentId:"sc-e693657c-2"})(["",""],yyt);let wyt=ie.div.withConfig({displayName:"List",componentId:"sc-e693657c-3"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]),byt=ie.div.withConfig({displayName:"PasskeyListTitle",componentId:"sc-e693657c-4"})(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]),xyt=ie.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-e693657c-5"})(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]),_yt=ie.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-e693657c-6"})(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]),Cyt=ie.div.withConfig({displayName:"PasskeyListItem",componentId:"sc-e693657c-7"})(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]),Eyt=Zi([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]),kyt=ie.button.withConfig({displayName:"PasskeyItemUnlinkButton",componentId:"sc-e693657c-8"})(["",""],Eyt);const Syt=ie.div.withConfig({displayName:"FundingMethodContainer",componentId:"sc-eaaa12a-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),Zw=ie.div.withConfig({displayName:"IconContainer",componentId:"sc-eaaa12a-1"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]),Eye=ie.div.withConfig({displayName:"FundingQuantityWrapper",componentId:"sc-eaaa12a-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;"]),kye=ie.div.withConfig({displayName:"FundingQuantity",componentId:"sc-eaaa12a-3"})(["display:flex;align-items:center;gap:4px;width:100%;padding:0 16px;border-width:1px !important;border-radius:12px;cursor:text;&:focus-within{border-color:var(--privy-color-accent);}"]),Sye=ie.input.withConfig({displayName:"FundingAmountInput",componentId:"sc-eaaa12a-5"})(["background-color:var(--privy-color-background);width:100%;&:focus{outline:none !important;border:none !important;box-shadow:none !important;}&&{font-size:26px;}"]),Ayt=ie(Sye).withConfig({displayName:"FundingAmountInputLarge",componentId:"sc-eaaa12a-6"})(["&&{font-size:42px;}"]),Aye=ie.div.withConfig({displayName:"FundingCurrency",componentId:"sc-eaaa12a-8"})(["font-size:18px;"]),Tye=ie.div.withConfig({displayName:"FundingDollars",componentId:"sc-eaaa12a-9"})(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]),Tyt=ie.div.withConfig({displayName:"InfoButtonText",componentId:"sc-eaaa12a-13"})([""]),Iyt=ie.a.withConfig({displayName:"InfoButtonLink",componentId:"sc-eaaa12a-14"})(["&&{color:var(--privy-color-accent);}cursor:pointer;"]),Iye=({displayName:t,errorMessage:e,configuredFundingChain:r,formattedBalance:n,fundingAmount:i,fundingCurrency:s,fundingAmountInUsd:o,options:a,selectedOption:l,isPreparing:c,isSubmitting:u,addressToFund:h,fundingWalletAddress:f,onSubmit:p,onSelect:m,onAmountChange:v,erc20ContractInfo:w})=>{let b=x.useRef(null);return d.jsxs(d.Fragment,{children:[d.jsx(ma,{}),d.jsx(fu,{}),d.jsx(Th,{children:"Transfer from another network"}),d.jsxs(lp,{children:["You need more funds on the ",r.name," network. Bridge from another blockchain network."]}),d.jsxs(Eye,{style:{marginTop:"2rem"},children:[d.jsxs(kye,{onClick:()=>b.current?.focus(),children:[d.jsx(Sye,{ref:b,value:i,onChange:E=>{let _=E.target.value;if(/^[0-9.]*$/.test(_)&&_.split(".").length-1<=1){let A=/\.$/.test(_)?".":"",C=Number(_.replace(/\.$/,"")||"0");if(Number.isNaN(C))return void v("0");v(C.toString()+A)}}}),d.jsx(Aye,{children:s})]}),o&&d.jsx(Tye,{children:o})]}),d.jsxs(kt,{style:{marginTop:"1.5rem"},children:[d.jsx(jt,{children:"From"}),d.jsx(jt,{children:xV(f)})]}),d.jsx(lyt,{selected:{chain:l.chain,balance:l.isErc20Quote?OC({amount:l.erc20Balance??0n,decimals:w?.decimals??6})+` ${w?.symbol||""}`:Kc(l.balance,l.chain.nativeCurrency.symbol,3,!0)},options:a.map((({chain:E,balance:_,isErc20Quote:A,erc20Balance:C})=>({chain:E,balance:A?OC({amount:C??0n,decimals:w?.decimals??6})+` ${w?.symbol||""}`:Kc(_,E.nativeCurrency.symbol,3,!0)}))),onSelect:m}),d.jsxs(kt,{style:{marginTop:"1.5rem"},children:[d.jsx(jt,{children:"To"}),d.jsx(jt,{children:xV(h)})]}),d.jsx(iyt,{chain:r,balance:n}),d.jsx(Sh,{style:{marginTop:"1rem"},children:e}),d.jsxs(kC,{style:{marginTop:"1rem"},loading:u||c,disabled:c||u,onClick:p,children:["Confirm with ",t]}),d.jsx(ol,{}),d.jsx(Ur,{})]})},ak=({wallet:t,displayName:e,addressToFund:r,chainId:n,chainName:i,isBridging:s,isErc20Flow:o,totalPriceInNativeCurrency:a,totalPriceInUsd:l,gasPriceInNativeCurrency:c,gasPriceInUsd:u})=>{let h=Mh(t.walletClientType);return d.jsxs(d.Fragment,{children:[d.jsx(ma,{}),d.jsx(Pg,{}),d.jsx(kL,{style:{marginTop:"16px"},children:d.jsx(lye,{icon:h?.image_url?.md,name:t.walletClientType})}),d.jsx(tl,{style:{marginTop:"8px",marginBottom:"12px"},title:`${s?"Bridging":"Confirming"} with ${e}`}),!s&&!o&&d.jsxs(tv,{children:[d.jsxs(kt,{children:[d.jsx(jt,{children:"Total"}),d.jsx(qt,{children:l||a})]}),d.jsxs(kt,{children:[d.jsx(jt,{children:"To"}),d.jsx(qt,{children:d.jsx(Sr,{address:r,showCopyIcon:!1})})]}),d.jsxs(kt,{children:[d.jsx(jt,{children:"Network"}),d.jsx(qt,{children:d.jsxs(Pyt,{children:[d.jsx(_ye,{chainId:n,height:16,width:16})," ",i]})})]}),c&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Estimated fee"}),d.jsx(qt,{children:u||c})]})]}),d.jsx(Hft,{height:24}),d.jsx(Ur,{})]})};let Pyt=ie.div.withConfig({displayName:"NetworkColumn",componentId:"sc-ec6320ce-0"})(["display:flex;flex-direction:row;align-items:center;gap:4px;"]);const Pye={component:()=>{let{rpcConfig:t,appId:e,closePrivyModal:r,createAnalyticsEvent:n}=bt(),{navigate:i,setModalData:s,app:o,data:a}=It(),{wallets:l}=pu(),[c,u]=x.useState(!1),[h,f]=x.useState(0n),[p,m]=x.useState(!1),[v,w]=x.useState(null),[b,E]=x.useState(null),[_,A]=x.useState([]),[C,k]=x.useState(0),[P,F]=x.useState(!1),[N,$]=x.useState(!1),[U,O]=x.useState(!1),[D,T]=x.useState(!1),[I,R]=x.useState(),[L,B]=x.useState();if(!a?.funding||a.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{erc20ContractInfo:q,chain:G,connectedWalletAddress:W}=a.funding,j=a.funding.address,Y=a.funding.erc20Address,[Q,z]=x.useState(a.funding.amount);x.useEffect((()=>{Y&&!q&&w(Error("Unable to fetch token details"))}),[]);let Z=!!Y&&!!q,ee=Z?BigInt(parseFloat(Q)*10**q.decimals):Oae(Q),te=W?l.find((({address:Ke})=>Ke===W)):l[0],se=Mh(te?.walletClientType||"unknown"),ce=se?.name||"wallet",[ge,ae]=x.useState(null);x.useEffect((()=>{(async()=>{if(!te)return;let Ke=await te.getEthereumProvider();ae(mD({account:te.address,transport:PE(Ke)}).extend(gD))})().catch(console.error)}),[te]);let[_e,Ee]=x.useState(0n);x.useEffect((()=>{eu({chain:G,transport:cd(kh(G,t,e))}).getBalance({address:j}).then(Ee).catch(console.error)}),[]);let[Ie,qe]=x.useState(0n);x.useEffect((()=>{Z&&LL({chain:G,address:j,appId:e,rpcConfig:t,erc20Address:Y}).then((Ke=>qe(Ke.balance))).catch(console.error)}),[]);let{tokenPrice:me}=Q1(G.id),[ze,rt]=x.useState({to:j,chain:G,value:ee,data:void 0});x.useEffect((()=>{(async()=>{let Ke,Qe;if(!ge||!te||P||U)return;F(!0);let it=eu({chain:ze.chain,transport:cd(kh(ze.chain,t,e))});if(Z&&!ze.data)return await it.simulateContract({address:Y,chain:ze.chain,abi:oj,functionName:"transfer",args:[j,ee],account:te.address}).catch((st=>{console.warn("Simulated token transfer failed with error, fetching bridge options.",st)}))?(F(!1),void rt({to:Y,chain:ze.chain,data:va({abi:oj,functionName:"transfer",args:[j,ee]}),value:"0x0"})):(F(!1),void m(!0));try{Ke=await it.prepareTransactionRequest({account:te.address,to:ze.to,chain:ze.chain,data:ze.data,value:BigInt(ze.value??0)})}catch(st){if(console.error(st),_.length>1)E(st.shortMessage??"Something went wrong");else if(N&&_.length===0)return void w(new fe(`Wallet ${Fs(te.address)} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE))}if(!Ke)return F(!1),void m(!0);F(!1),O(!0),u(!0),f(Ke.gas);try{await ge.switchChain({id:ze.chain.id})}catch{await ge.addChain({chain:ze.chain}),await ge.switchChain({id:ze.chain.id})}try{Qe=await ge.sendTransaction(Ke)}catch(st){if(console.error(st),st.name==="TransactionExecutionError")if(_.length<1){let pt=st.shortMessage;(st.shortMessage.includes("rejected the request")||st.details.includes("rejected the request"))&&(pt="User rejected the request."),w(new fe(pt,void 0,ye.TRANSACTION_FAILURE))}else E(st.shortMessage??"Something went wrong")}if(Qe)return await ge.waitForTransactionReceipt({hash:Qe}),O(!1),N?(R(Qe),void B("pending")):(T(!0),void n({eventName:lu,payload:{provider:"external",status:"success",txHash:Qe,address:te.address,chainId:ze.chain.id,chainType:"ethereum",value:ze.value?Ni(BigInt(ze.value),q?.decimals??18):void 0,token:q?.symbol??Y??"ETH",destinationAddress:j,destinationChainId:G.id,destinationChainType:"ethereum",destinationValue:ee?Ni(ee,q?.decimals??18):void 0,destinationToken:q?.symbol??Y??G.nativeCurrency.name}}));O(!1)})().catch(console.error)}),[ge,ze]),x.useEffect((()=>{(async()=>{if(!p||!ge||!te)return;let Ke=bD(o.chains).filter((ue=>ue.id!==G.id&&!!ue.testnet==!!G.testnet));Z&&Ke.unshift(G);let Qe=await xye({chains:Ke,address:te.address,appId:e,rpcConfig:t,includeUsdc:a.funding?.isUSDC}),it=Z?Qe.filter((ue=>ue.balance>0n)):Qe.filter((ue=>ue.balance>ee)),st=Z&&Qe.every((ue=>ue.balance===0n));if(it.length<1)return void w(new fe(st?`Wallet ${Fs(te.address)} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`:`Wallet ${Fs(te.address)} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE));it.sort(((ue,we)=>Number(Z?(we.erc20Balance??0n)-(ue.erc20Balance??0n):we.balance-ue.balance)));let pt=it.flatMap((ue=>{let we=[{...ue,isErc20Quote:!1,isTestnet:!!G.testnet,input:zy({amount:ee.toString(),user:te.address,recipient:j,destinationChainId:G.id,destinationCurrency:Y,originChainId:ue.chain.id})}];return Z&&Y&&(ue.erc20Balance??0n)>=ee&&we.push({...ue,isErc20Quote:!0,isTestnet:!!G.testnet,input:zy({amount:ee.toString(),user:te.address,recipient:j,destinationChainId:G.id,destinationCurrency:Y,originChainId:ue.chain.id,originCurrency:ue.erc20Address})}),we})),Ze=(await Promise.allSettled(pt.map((async ue=>({...ue,quote:await nx(ue)}))))).filter((ue=>ue.status==="fulfilled")).map((ue=>ue.value));if(Ze.length<1)return void w(new fe(`Wallet ${Fs(te.address)} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE));let Mt=Ze.map((ue=>({bridgeTx:$C(ue.quote),balance:ue.balance,chain:ue.chain,erc20Balance:ue.erc20Balance,isErc20Quote:ue.isErc20Quote}))).filter((ue=>!!ue.bridgeTx));if(Mt.length>1)return void A(Mt);let yt=Mt[0];yt?($(!0),rt({data:yt.bridgeTx.data,to:yt.bridgeTx.to,value:yt.bridgeTx.value,chain:yt.chain})):w(new fe(`Wallet ${Fs(te.address)} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE))})().catch(console.error)}),[p]),FL({transactionHash:I,wallet:te,isTestnet:!!G.testnet,bridgingStatus:L,setBridgingStatus:B,onSuccess({transactionHash:Ke,wallet:Qe}){$(!1),T(!0),n({eventName:lu,payload:{provider:"external",status:"success",txHash:Ke,address:Qe.address,chainId:ze.chain.id,chainType:"ethereum",value:ze.value?Ni(BigInt(ze.value),q?.decimals??18):void 0,token:q?.symbol??Y??"ETH",destinationAddress:j,destinationChainId:G.id,destinationChainType:"ethereum",destinationValue:ee?Ni(ee,q?.decimals??18):void 0,destinationToken:q?.symbol??Y??G.nativeCurrency.name}})},onFailure({error:Ke}){$(!1),w(Ke)}}),x.useEffect((()=>{v&&(s({funding:a?.funding,solanaFundingData:a?.solanaFundingData,sendTransaction:a?.sendTransaction,errorModalData:{error:v,previousScreen:rv}}),i(zn,!1))}),[v]);let Ae=!Z&&me?Vge(Q??"0",me):void 0,Fe=Z?h:CL([h,ee]),nt=Fe&&me?j0(Fe,me):void 0,_t=Fe?Kc(Fe,a?.funding?.erc20Address?a?.funding?.erc20ContractInfo?.symbol||"ETH":a?.funding?.chain.nativeCurrency.symbol||"ETH"):void 0,Ye=h&&me?j0(h,me):void 0,wt=h?Kc(h,G?.nativeCurrency?.symbol||"ETH"):void 0;if(x.useEffect((()=>{if(!D)return;let Ke=setTimeout(r,F8);return()=>clearTimeout(Ke)}),[D]),D)return d.jsxs(d.Fragment,{children:[d.jsx(ma,{}),d.jsx(fu,{}),d.jsxs(p3,{children:[d.jsx(Y1,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(tl,{title:"Success!",description:`Youve successfully added ${Q} ${Z?q.symbol:G.nativeCurrency.symbol} to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(ol,{}),d.jsx(Ur,{})]});let xt=Z?`${OC({amount:Ie,decimals:q.decimals})}  ${q.symbol}`:Kc(_e,G.nativeCurrency.symbol,3,!0),Le=_[C];return _.length>1&&Le?d.jsx(Iye,{displayName:ce,configuredFundingChain:G,erc20ContractInfo:q,formattedBalance:xt,fundingAmount:Q,fundingCurrency:Z?q.symbol:G.nativeCurrency.symbol,fundingAmountInUsd:Ae,options:_,selectedOption:Le,isPreparing:P,isSubmitting:U,addressToFund:j,fundingWalletAddress:te?.address||"",errorMessage:b,onSubmit:()=>{a.funding?.amount!==Q?(async function(){if(te&&Le)try{let Ke=await nx({isTestnet:!!G.testnet,input:zy({amount:ee.toString(),user:te.address,recipient:j,destinationChainId:G.id,destinationCurrency:Y,originChainId:Le.chain.id})}),Qe=$C(Ke);if(!Qe)throw Error("Invalid transaction request");$(!0),rt({data:Qe.data,to:Qe.to,value:Qe.value,chain:Le.chain})}catch(Ke){console.error(Ke),w(new fe("Unable to fetch quotes for bridging",Ke,ye.INSUFFICIENT_BALANCE))}})().catch(console.error):rt({to:Le.bridgeTx.to,data:Le.bridgeTx.data,value:Le.bridgeTx.value,chain:Le.chain})},onSelect:Ke=>{Ke!==C&&(E(null),k(Ke))},onAmountChange:z}):c&&h&&te&&a?.funding?d.jsx(ak,{wallet:te,displayName:ce,addressToFund:j,isBridging:N,isErc20Flow:Z,totalPriceInUsd:nt,totalPriceInNativeCurrency:_t,gasPriceInUsd:Ye,gasPriceInNativeCurrency:wt,chainId:G.id,chainName:G.name}):d.jsxs(d.Fragment,{children:[d.jsx(ma,{}),d.jsx(Pg,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(Ur,{})]})}},$ye={component:function(){let{closePrivyModal:t,createAnalyticsEvent:e}=bt(),{navigate:r,setModalData:n,app:i,data:s}=It(),{wallets:o}=_3(),a=x.useRef(!1),l=ev(),[c,u]=x.useState(!1),[h,f]=x.useState(!1),[p,m]=x.useState(null),[v,w]=x.useState(),[b,E]=x.useState();if(!s?.funding||s.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{amount:_,connectedWalletAddress:A,chain:C,cluster:k,isUSDC:P}=s.funding,F=s.funding.address,N=s.funding.erc20Address,$=s.funding.isUSDC?"USDC":C.nativeCurrency.symbol,U=k??{name:"mainnet-beta"},O=A?o.find((({address:I})=>I===A)):o[0],D=Mh(O?.walletClientType||"unknown"),T=D?.name||"wallet";return x.useEffect((()=>{(async function(){if(!O||!C||a.current)return;let I=l(b3);if(!I)return void m(new fe("Unable to solana plugin"));a.current=!0,C?.testnet&&console.warn("Solana testnets are not supported for bridging");let R=P?1e6*parseFloat(_):Oae(_),L=await nx({isTestnet:!!C.testnet,input:zy({amount:R.toString(),user:O.address,recipient:F,destinationChainId:C.id,originChainId:UO,originCurrency:P?"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":BO,destinationCurrency:P?N:void 0})}).catch(console.error);if(!L)return void m(new fe(`Unable to fetch quotes for bridging. Wallet ${k7(O.address)} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE));let B=await I.createBridgeTransactionFromRelayQuote({quote:L,from:O.address,cluster:U});if(B)try{u(!0);let{connection:q,transaction:G}=B,W=await q.simulateTransaction(G);if(W.value.err)return W.value.logs?.find((Q=>/insufficient (lamports|funds)/gi.test(Q)))?void m(new fe(`Wallet ${k7(O?.address)} does not have enough funds. ${L.details.currencyIn.amountFormatted} ${$} are needed to complete the transaction.`,void 0,ye.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",W.value.err),void m(new fe("Something went wrong",void 0,ye.TRANSACTION_FAILURE)));let j=await O.sendTransaction(G,q),Y=await q.confirmTransaction(j);if(Y.value.err)return console.error("Transaction failed:",Y.value.err),void m(new fe("Something went wrong",void 0,ye.TRANSACTION_FAILURE));w(j),E("pending")}catch(q){if(console.error(q),/user rejected the request/gi.test(q.message||""))return void m(new fe("Transaction was rejected by the user",void 0,ye.TRANSACTION_FAILURE));m(new fe("Something went wrong",void 0,ye.TRANSACTION_FAILURE))}else m(new fe(`Unable to select bridge option from quotes. Wallet ${k7(O.address)} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE))})().catch(console.error)}),[]),FL({transactionHash:v,wallet:O,isTestnet:!1,bridgingStatus:b,setBridgingStatus:E,onSuccess({transactionHash:I,wallet:R}){u(!1),f(!0),e({eventName:lu,payload:{provider:"external",status:"success",txHash:I,address:R.address,chainType:"solana",clusterName:U.name,token:"SOL",destinationAddress:F,destinationChainId:C.id,destinationChainType:"ethereum",destinationValue:_,destinationToken:P?"USDC":"ETH"}})},onFailure({error:I}){u(!1),m(I)}}),x.useEffect((()=>{if(!h)return;let I=setTimeout(t,F8);return()=>clearTimeout(I)}),[h]),x.useEffect((()=>{p&&(n({funding:s?.funding,solanaFundingData:s?.solanaFundingData,sendTransaction:s?.sendTransaction,errorModalData:{error:p,previousScreen:rv}}),r(zn,!1))}),[p]),h?d.jsxs(d.Fragment,{children:[d.jsx(ma,{}),d.jsx(fu,{}),d.jsxs(p3,{children:[d.jsx(Y1,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(tl,{title:"Success!",description:`Youve successfully added ${_} ${$} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(ol,{}),d.jsx(Ur,{})]}):c&&O?d.jsx(ak,{wallet:O,displayName:T,addressToFund:F,isBridging:c,isErc20Flow:!1,chainId:C.id,chainName:C.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):d.jsxs(d.Fragment,{children:[d.jsx(ma,{}),d.jsx(Pg,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(Ur,{})]})}},fZ={component:()=>{let{data:t,setModalData:e}=It(),r=t?.funding,n=r.chainType==="solana",i=x.useRef(null),{tokenPrice:s}=Q1(n?"solana":r.chain.id),o=n?void 0:r,a=!(!o?.erc20Address||o?.erc20ContractInfo),l=n?r.isUSDC?"USDC":"SOL":r.erc20Address?r.erc20ContractInfo?.symbol:r.chain.nativeCurrency.symbol||"ETH",c=parseFloat(r.amount),u=!isNaN(c)&&c>0,h=s?Vge(r.amount,s):void 0;return d.jsxs(d.Fragment,{children:[d.jsx(ma,{}),d.jsx(Th,{children:"Confirm or edit amount"}),d.jsxs(H8,{style:{marginTop:"32px"},children:[d.jsx(Eye,{children:a?d.jsx(Pg,{size:"50px"}):d.jsxs(d.Fragment,{children:[d.jsxs(kye,{onClick:()=>i.current?.focus(),children:[d.jsx(Ayt,{ref:i,value:r.amount,onChange:f=>{let p=f.target.value;/^[0-9.]*$/.test(p)&&p.split(".").length-1<=1&&e({...t,funding:{...r,amount:p},solanaFundingData:t?.solanaFundingData?{...t.solanaFundingData,amount:p}:void 0})}}),d.jsx(Aye,{children:l})]}),!o?.erc20Address&&d.jsx(Tye,{children:h&&u?`${h} USD`:""})]})}),d.jsx(kC,{style:{marginTop:"1rem"},disabled:!u,onClick:r.onContinueWithExternalWallet,children:"Continue"})]}),d.jsx(Ur,{})]})}},rv={component:()=>{let t,{connectors:e}=bt(),{app:r,setModalData:n,data:i,navigate:s}=It(),{wallets:o}=pu(),{wallets:a}=_3(),[l,c]=x.useState("default"),u=i?.funding?.chainType==="solana",h=!!i?.funding?.crossChainBridgingEnabled;t=i?.funding?.chainType==="ethereum"?i.funding.erc20Address&&!i.funding.isUSDC?"ethereum-only":h&&!i.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":h&&!i.funding?.isUSDC?"ethereum-and-solana":"solana-only";let f=o.filter((C=>C.walletClientType!=="privy")),p=f.map((C=>C.walletClientType)),m=a.filter((C=>C.walletClientType!=="privy")),v=m.map((C=>C.walletClientType)),w=[],b={...i.funding};b.usingDefaultFundingMethod&&(b.usingDefaultFundingMethod=!1);let E=({address:C,walletChainType:k,walletClientType:P})=>{n({...i,funding:{...b,connectedWalletAddress:C,onContinueWithExternalWallet:()=>s(A({destChainType:u?"solana":"ethereum",sourceChainType:k}))},solanaFundingData:i?.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:C,walletClientType:P}}:void 0}),s(fZ)};t!=="solana-only"&&w.push(...f.map(((C,k)=>d.jsx(pZ,{onClick:()=>E({address:C.address,walletChainType:"ethereum",walletClientType:C.walletClientType}),icon:C.meta.icon,name:C.meta.name,chainType:C.type},k)))),t!=="ethereum-only"&&w.push(...m.map(((C,k)=>d.jsx(pZ,{onClick:()=>E({address:C.address,walletChainType:"solana",walletClientType:C.walletClientType}),icon:C.meta.icon,name:C.meta.name,chainType:C.type},k)))),w.push(...uye({walletList:r.appearance.walletList.filter((C=>!f.some((k=>k.walletClientType===C))&&!m.some((k=>k.walletClientType===C)))),walletChainType:t,connectors:e,connectOnly:!0,ignore:[...r.appearance.walletList,...p,...v],walletConnectEnabled:r.externalWallets.walletConnect.enabled}));let _=d.jsx(rye,{text:"More wallets",onClick:()=>c("overflow")}),A=({sourceChainType:C,destChainType:k})=>C==="ethereum"&&k==="solana"?Vye:C==="ethereum"&&k==="ethereum"?Pye:C==="solana"&&k==="ethereum"?$ye:b.externalSolanaFundingScreen;return x.useEffect((()=>{n({...i,externalConnectWallet:{onCompleteNavigateTo:({address:C,walletClientType:k,walletChainType:P})=>(n({...i,funding:{...b,onContinueWithExternalWallet:()=>{s(A({destChainType:u?"solana":"ethereum",sourceChainType:P??"ethereum"}))}},solanaFundingData:i?.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:C||"",walletClientType:k||""}}:void 0}),fZ)}})}),[]),d.jsxs(d.Fragment,l==="overflow"?{children:[d.jsx(xr,{backFn:()=>c("default")},"header"),d.jsxs(zO,{children:[d.jsx(lp,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),w]}),d.jsx(Ur,{})]}:{children:[d.jsx(ma,{}),d.jsx(tl,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),d.jsxs(zO,{children:[w.length>4?w.slice(0,3):w,w.length>4&&_]}),d.jsx(Ur,{})]})}};let pZ=({onClick:t,icon:e,name:r,chainType:n})=>d.jsxs(Vn,{onClick:t,children:[d.jsx(Zw,{style:{width:20},children:d.jsx("img",{src:e})}),r,d.jsx(fd,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),n==="solana"&&d.jsx(fd,{color:"gray",children:"Solana"})]});const BL={component:()=>{let{closePrivyModal:t,createAnalyticsEvent:e}=bt(),{navigate:r,setModalData:n,app:i,data:s}=It(),{wallets:o}=_3(),a=ev(),[l,c]=x.useState(0n),[u,h]=x.useState(null),[f,p]=x.useState(!1),[m,v]=x.useState(!1),w=x.useRef(!1);if(!s?.funding||s.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:b,amount:E,cluster:_,connectedWalletAddress:A}=s.funding,C=(function({name:I,rpcUrl:R}){if(R)return R;switch(I){case"mainnet-beta":return"https://api.mainnet-beta.solana.com";case"testnet":return"https://api.testnet.solana.com";case"devnet":return"https://api.devnet.solana.com"}})(_),{tokenPrice:k}=Q1("solana"),{fundingAmountInBaseUnit:P,totalPriceInUsd:F,totalPriceInNativeCurrency:N,feePriceInNativeCurrency:$,feePriceInUsd:U}=Kge({amount:E,fee:l,tokenPrice:k,isUsdc:s.funding.isUSDC}),O=A?o.find((({address:I})=>I===A)):o[0],D=Mh(O?.walletClientType||"unknown"),T=D?.name||"wallet";return x.useEffect((()=>{(async()=>{if(O?.type==="solana"&&O.sendTransaction&&!f&&!w.current){w.current=!0;try{let I=a(b3);if(!I)throw new fe("Unable to load solana plugin");let{connection:R,transaction:L}=s.funding?.isUSDC?await I.createSplTransferTransaction({from:O.address,to:b,amount:P,mintAddress:M4[_.name],cluster:_}):await I.createTransferTransaction({from:O.address,to:b,amount:P,cluster:_}),B=await L.getEstimatedFee(R);B!=null&&c(BigInt(B)),p(!0);let q=await R.simulateTransaction(L);if(q.value.err){let Y=q.value.logs?.find((z=>/insufficient funds/gi.test(z))),Q=q.value.logs?.find((z=>/insufficient lamports/gi.test(z)));return Y?void h(new fe(`Wallet ${Fs(O.address,void 0,void 0,"solana")} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE)):Q?void h(new fe(`Wallet ${Fs(O.address,void 0,void 0,"solana")} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`,void 0,ye.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",q.value.err),void h(new fe("Something went wrong",void 0,ye.TRANSACTION_FAILURE)))}let G=await O.sendTransaction(L,R),{value:W,token:j}=s.funding?.isUSDC?{value:Ni(P,6),token:"USDC"}:{value:Ni(P,9),token:"SOL"};e({eventName:lu,payload:{provider:"external",status:"success",txHash:G,rpcEndpoint:C,address:O.address,value:W,chainType:"solana",clusterName:_.name,token:j,destinationAddress:b,destinationValue:W,destinationChainType:"solana",destinationClusterName:_.name,destinationToken:j}}),p(!1),v(!0)}catch(I){if(console.error(I),p(!1),/user rejected the request/gi.test(I.message||""))return void h(new fe("Transaction was rejected by the user",void 0,ye.TRANSACTION_FAILURE));h(new fe("Something went wrong",void 0,ye.TRANSACTION_FAILURE))}}})().catch(console.error).finally((()=>w.current=!1))}),[]),x.useEffect((()=>{u&&(n({funding:s?.funding,solanaFundingData:s?.solanaFundingData,sendTransaction:s?.sendTransaction,errorModalData:{error:u,previousScreen:rv}}),r(zn,!1))}),[u]),x.useEffect((()=>{if(!m)return;let I=setTimeout(t,F8);return()=>clearTimeout(I)}),[m]),m?d.jsxs(d.Fragment,{children:[d.jsx(ma,{}),d.jsx(fu,{}),d.jsxs(p3,{children:[d.jsx(Y1,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(tl,{title:"Success!",description:`Youve successfully added ${E} ${s.funding?.isUSDC?"USDC":"SOL"} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(ol,{}),d.jsx(Ur,{})]}):O&&f?d.jsx(ak,{wallet:O,displayName:T,addressToFund:b,isBridging:!1,isErc20Flow:!!s.funding?.isUSDC,totalPriceInUsd:F,totalPriceInNativeCurrency:N,gasPriceInUsd:U,gasPriceInNativeCurrency:$,chainId:"solana",chainName:_.name}):d.jsxs(d.Fragment,{children:[d.jsx(ma,{}),d.jsx(Pg,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(Ur,{})]})}},Nye=({children:t,theme:e})=>d.jsxs($yt,{$theme:e,children:[d.jsx(iL,{width:"20px",height:"20px",color:"var(--privy-color-icon-error)",strokeWidth:2,style:{flexShrink:0}}),d.jsx(Nyt,{$theme:e,children:t})]});let $yt=ie.div.withConfig({displayName:"Container",componentId:"sc-34910fd1-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-error-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),Nyt=ie.div.withConfig({displayName:"Content",componentId:"sc-34910fd1-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],(t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"));const Ryt=t=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 210.2",xmlSpace:"preserve",...t,children:d.jsx("path",{d:"M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z"})}),Oyt=t=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 38.1",xmlSpace:"preserve",...t,children:[d.jsx("path",{style:{fill:"#5F6368"},d:"M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z"}),d.jsx("path",{style:{fill:"#5F6368"},d:"M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z"}),d.jsx("path",{style:{fill:"#5F6368"},d:"M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z"}),d.jsx("path",{style:{fill:"#4285F4"},d:"M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z"}),d.jsx("path",{style:{fill:"#34A853"},d:"M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z"}),d.jsx("path",{style:{fill:"#FBBC04"},d:"M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z"}),d.jsx("path",{style:{fill:"#EA4335"},d:"M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z"})]}),gZ=t=>{let[e,r]=x.useState();return x.useEffect((()=>{t().then((n=>{r(n)})).catch((()=>{}))}),[]),e},Rye=async({address:t,chain:e,rpcConfig:r,privyAppId:n})=>{try{let i=eu({chain:e,transport:cd(kh(e,r,n))}),[s,o]=await Promise.all([i.readContract({abi:mZ,address:t,functionName:"symbol"}),i.readContract({abi:mZ,address:t,functionName:"decimals"})]);return{decimals:o,symbol:s}}catch(i){return console.log(i),null}};let mZ=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];const jyt={component:()=>{let{data:t,setModalData:e,navigate:r,navigateBack:n}=It(),{closePrivyModal:i,createAnalyticsEvent:s,client:o}=bt(),[a,l]=x.useState("pending-in-flow"),c=x.useRef(0),u={...t?.funding,showAlternateFundingMethod:!0};u.usingDefaultFundingMethod&&(u.usingDefaultFundingMethod=!1);let{partnerUserId:h,popup:f}=t?.coinbaseOnrampStatus??{};return x.useEffect((()=>{if(a==="pending-in-flow"||a==="pending-after-flow"){let p=setInterval((async()=>{if(h)try{let{status:m}=await o.getCoinbaseOnRampStatus({partnerUserId:h});if(m==="success")return void l("success");if(m==="failure")throw Error("There was an error completing Coinbase Onramp flow.");if(c.current>=3)return e({funding:u,solanaFundingData:t?.solanaFundingData}),void r(ga);f?.closed&&(c.current=c.current+1,l("pending-after-flow"))}catch(m){console.error(m),l("error"),s({eventName:lu,payload:{status:"failure",provider:"coinbase-onramp",error:m.message}}),e({funding:{...u,errorMessage:"Something went wrong adding funds. Please try again or use another method."},solanaFundingData:t?.solanaFundingData}),r(ga)}}),1500);return()=>clearInterval(p)}}),[h,f,a]),d.jsxs(d.Fragment,{children:[d.jsx(xr,{title:"Fund account",backFn:()=>{e({funding:u,solanaFundingData:t?.solanaFundingData}),n()}},"header"),d.jsx(Myt,{status:a,onClickCta:i}),d.jsx(Ur,{})]})}};let Myt=({status:t,onClickCta:e})=>{let{title:r,body:n,cta:i}=x.useMemo((()=>(s=>{switch(s){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(t)),[t]);return d.jsxs(d.Fragment,{children:[d.jsxs(Lyt,{children:[d.jsx(Dyt,{isSucccess:t==="success"}),d.jsxs(SL,{children:[d.jsx("h3",{children:r}),d.jsx(Fyt,{children:n})]})]}),i&&d.jsx(an,{onClick:e,children:i})]})},Dyt=({isSucccess:t})=>{if(!t){let n="var(--privy-color-foreground-4)";return d.jsxs("div",{style:{position:"relative"},children:[d.jsx(Ql,{color:n,style:{position:"absolute"}}),d.jsx(bL,{color:n}),d.jsx(Xdt,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let e=(n=>n?ex:()=>d.jsx(oL,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}))(t),r=(n=>n?"var(--privy-color-success)":"var(--privy-color-foreground-4)")(t);return d.jsx("div",{style:{borderColor:r,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&d.jsx(e,{width:"4rem",height:"4rem",color:r})})},Fyt=ie.p.withConfig({displayName:"StatusBody",componentId:"sc-8428a551-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),Lyt=ie.div.withConfig({displayName:"ConnectContainer",componentId:"sc-8428a551-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),Uyt={[sc.id]:"ethereum",[ic.id]:"base",[md.id]:"optimism",[ba.id]:"polygon",[nc.id]:"arbitrum"};const yZ=(t,e,r,n,i,s)=>new Promise((async(o,a)=>{let l=G8();if(!l)return void a(Error("Unable to initialize flow"));let c=e.chainType==="ethereum"?(function(m){let v=Uyt[m];if(!v)throw new fe(`Unsupported chainId: ${m} for Coinbase Onramp`);return v})(e.chain.id):"solana",u=e.isUSDC?"USDC":e.chainType==="ethereum"?fRe(e.chain.id):"SOL",h=await t.initCoinbaseOnRamp({addresses:[{address:e.address,blockchains:[c]}],assets:[u]}),{url:f}=dRe({appId:t.getAppId(),input:h,amount:e.amount,blockchain:c,asset:u,experience:s});l.location=f.toString();let p={...i?.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(p.usingDefaultFundingMethod=!1),r({funding:p,solanaFundingData:i?.solanaFundingData,coinbaseOnrampStatus:{popup:l}}),n(jyt),t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"coinbase-onramp",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.cluster.name}}),setTimeout((()=>{r({funding:p,solanaFundingData:i?.solanaFundingData,coinbaseOnrampStatus:{partnerUserId:h.partner_user_id,popup:l}})}),5e3),o()})),Byt=({size:t=61,...e})=>d.jsx("svg",{width:t,height:t,viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsxs("g",{id:"moonpay_symbol_wht 2",children:[d.jsx("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),d.jsx("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}),Oye={component:()=>{let{app:t,data:e,setModalData:r,navigateBack:n}=It(),{closePrivyModal:i}=bt(),{externalTransactionId:s}=e?.moonpayStatus,o=(function(a,l=!1){let[c,u]=x.useState(null),{createAnalyticsEvent:h}=bt(),{data:f,navigate:p,setModalData:m}=It(),v=f?.funding,w=x.useRef(0);return x.useEffect((()=>{let b=setInterval((async()=>{if(a)try{let[E]=await(async function(A,C){return Lce(`${C?Udt:Ldt}/transactions/ext/${A}`,{query:{apiKey:C?zdt:Bdt}})})(a,l),_=E.status==="waitingAuthorization"&&E.paymentMethod==="credit_debit_card"?"pending":E.status;if(["failed","completed","awaitingAuthorization"].includes(_)&&(h({eventName:lu,payload:{status:_,provider:vZ,paymentMethod:E.paymentMethod,cardPaymentType:E.cardPaymentType,currency:E.currency?.code,baseCurrencyAmount:E.baseCurrencyAmount,quoteCurrencyAmount:E.quoteCurrencyAmount,feeAmount:E.feeAmount,extraFeeAmount:E.extraFeeAmount,networkFeeAmount:E.networkFeeAmount,isSandbox:l}}),clearInterval(b)),_==="failed"||_==="serviceFailure")return m({funding:{...v,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:f?.solanaFundingData}),void p(ga);u(_)}catch(E){E.response?.status!==404&&(w.current+=1),w.current>=3&&(h({eventName:lu,payload:{status:"serviceFailure",provider:vZ}}),clearInterval(b),m({funding:{...v,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:f?.solanaFundingData}),p(ga))}}),3e3);return()=>clearInterval(b)}),[a,w]),c})(s||null,t.fundingMethodConfig.moonpay.useSandbox??!1);return d.jsxs(d.Fragment,{children:[d.jsx(xr,{title:"Fund account",backFn:()=>{let a={...e?.funding,showAlternateFundingMethod:!0};a.usingDefaultFundingMethod&&(a.usingDefaultFundingMethod=!1),r({funding:a,solanaFundingData:e?.solanaFundingData}),n()}}),d.jsx(zyt,{status:o,onClickCta:i}),d.jsx(Ur,{})]})}};let zyt=({status:t,onClickCta:e})=>{let{title:r,body:n,cta:i}=x.useMemo((()=>(s=>{switch(s){case"completed":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"waitingAuthorization":return{title:"Processing payment",body:"This may take up to a few hours. You will receive an email when the purchase is complete.",cta:"Continue"};default:return{title:"In Progress",body:"Go back to MoonPay to finish funding your account.",cta:""}}})(t)),[t]);return d.jsxs(d.Fragment,{children:[d.jsxs(Hyt,{children:[d.jsx(qyt,{status:t}),d.jsxs(SL,{children:[d.jsx("h3",{children:r}),d.jsx(Wyt,{children:n})]})]}),i&&d.jsx(an,{onClick:e,children:i})]})},qyt=({status:t})=>{if(!t||t==="pending"){let n="var(--privy-color-foreground-4)";return d.jsxs("div",{style:{position:"relative"},children:[d.jsx(Ql,{color:n,style:{position:"absolute"}}),d.jsx(bL,{color:n}),d.jsx(Byt,{size:"3rem",style:{position:"absolute",top:"1rem",left:"1rem"}})]})}let e=(n=>{switch(n){case"completed":return ex;case"waitingAuthorization":return()=>d.jsx(oL,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}});default:return}})(t),r=(n=>n?{completed:"var(--privy-color-success)",failed:"var(--privy-color-error)",serviceFailure:"var(--privy-color-error)",waitingAuthorization:"var(--privy-color-accent)",pending:"var(--privy-color-foreground-4)"}[n]:"var(--privy-color-foreground-4)")(t);return d.jsx("div",{style:{borderColor:r,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&d.jsx(e,{width:"4rem",height:"4rem",color:r})})},Wyt=ie.p.withConfig({displayName:"StatusBody",componentId:"sc-75e2a891-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),Hyt=ie.div.withConfig({displayName:"ConnectContainer",componentId:"sc-75e2a891-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]);const Vyt=async(t,e,r,n,i,s,o,a)=>{let l=G8();if(!l)throw Error("Unable to initialize flow");let c=e.chainType==="ethereum"?e.moonpayConfigOverride?.currencyCode??UNe(e.chain.id,n):e.isUSDC?"USDC_SOL":"SOL",{signedUrl:u,externalTransactionId:h}=await t.signMoonpayOnRampUrl({address:e.address,useSandbox:r.fundingMethodConfig.moonpay.useSandbox??!1,config:{uiConfig:{accentColor:r.appearance.palette.accent,theme:r.appearance.palette.colorScheme},...e.moonpayConfigOverride,paymentMethod:a,currencyCode:c,quoteCurrencyAmount:e.moonpayConfigOverride?.quoteCurrencyAmount??Yyt(e.amount)}});t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"moonpay",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.cluster.name}}),l.location=u;let f={...o?.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(f.usingDefaultFundingMethod=!1),i({moonpayStatus:{},funding:f,solanaFundingData:o?.solanaFundingData}),s(Oye),setTimeout((()=>{i({moonpayStatus:{externalTransactionId:h},funding:f,solanaFundingData:o?.solanaFundingData})}),8e3)};let jye=async t=>typeof window<"u"&&"PaymentRequest"in window&&await new window.PaymentRequest([{supportedMethods:t}],{id:"0",total:{label:"Item",amount:{currency:"USD",value:"1.00"}}}).canMakePayment();const Gyt=()=>jye("https://apple.com/apple-pay"),Kyt=()=>jye("https://google.com/pay"),ga={component:()=>{let{wallets:t}=pu(),{wallets:e}=_3(),{navigate:r,data:n,setModalData:i}=It(),{client:s}=bt(),o=zr(),a=n?.funding,l=gZ(Gyt),c=gZ(Kyt),u=a.chainType==="solana",h=u?void 0:a,f=x.useMemo((()=>((_,A,C,k,P,F)=>{let N,$,U=C.chainType==="solana",O=U?void 0:C,D=C.isUSDC?"USDC":O?.erc20Address?void 0:"native-currency",T=!!U||D&&LNe(Number(C.chain.id),D),I=!!U||D&&hRe(Number(C.chain.id),D),R=[];for(let L of(C.preferredCardProvider&&C.supportedOptions.sort((B=>B.provider===C.preferredCardProvider?-1:1)),C.supportedOptions))L.method==="card"&&L.provider==="coinbase"&&I&&R.push((()=>yZ(A,C,k,P,F,"buy"))),L.method==="card"&&L.provider==="moonpay"&&T&&D&&R.push((()=>Vyt(A,C,_,D,k,P,F,"credit_debit_card")));for(let L of C.supportedOptions)L.method==="exchange"&&L.provider==="coinbase"&&I&&(N=()=>yZ(A,C,k,P,F,"buy"));for(let L of F?.funding?.supportedOptions??[])L.method==="wallets"&&($=()=>P(rv));return{onFundWithCard:R,onFundWithExchange:N,onFundWithWallet:$}})(o,s,a,i,r,n)),[o,s,a,n,i,r]),p=u?e.find((({address:_})=>_===a.address)):t.find((({address:_})=>pi(_)===pi(a.address))),m=Mh(p?.walletClientType||"unknown"),v=m?.name||"wallet",w=p&&p.walletClientType!=="privy"?v:o.name,b=x.useMemo((()=>a.uiConfig?.landing?.title?a.uiConfig?.landing?.title:`Add funds to your ${w?.toLowerCase().endsWith("wallet")?w:w+" wallet"}`),[a.uiConfig?.landing?.title,w]);x.useEffect((()=>{if(a?.defaultFundingMethod&&a.usingDefaultFundingMethod)switch(i({funding:{...a,usingDefaultFundingMethod:!1},solanaFundingData:n?.solanaFundingData}),a?.defaultFundingMethod){case"card":f.onFundWithCard[0]&&f.onFundWithCard[0]();break;case"exchange":f.onFundWithExchange&&f.onFundWithExchange();break;case"wallet":f.onFundWithWallet&&f.onFundWithWallet();break;case"manual":r(jC)}}),[]),x.useEffect((()=>{h?.erc20Address&&!h.erc20ContractInfo&&Rye({address:h.erc20Address,chain:h.chain,rpcConfig:o.rpcConfig,privyAppId:o.id}).then((_=>{i({...n,funding:{...h,erc20ContractInfo:_?{symbol:_.symbol,decimals:_.decimals}:void 0}})})).catch(console.error)}),[h?.erc20Address,h?.chain]);let E=!(!h?.erc20Address||h?.erc20ContractInfo);return d.jsxs(d.Fragment,{children:[d.jsx(ma,{}),d.jsx("h3",{children:b}),d.jsxs(Syt,{children:[a.errorMessage&&d.jsx(Nye,{theme:o.appearance.palette.colorScheme,children:a.errorMessage}),f.onFundWithCard?.[0]&&d.jsxs(Vn,{disabled:E,onClick:f.onFundWithCard[0],children:[d.jsx(Zw,{children:d.jsx(Fut,{style:{width:24}})}),"Pay with card",l?d.jsx(Ryt,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):c?d.jsx(Oyt,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):null]}),f.onFundWithExchange&&d.jsxs(Vn,{disabled:E,onClick:f.onFundWithExchange,children:[d.jsx(Zw,{children:d.jsx(oL,{style:{width:24}})}),"Transfer from an exchange"]}),f.onFundWithWallet&&d.jsxs(Vn,{disabled:E,onClick:f.onFundWithWallet,children:[d.jsx(Zw,{children:d.jsx(zme,{style:{width:24}})}),"Transfer from wallet"]}),d.jsxs(Vn,{disabled:E,onClick:()=>r(jC),children:[d.jsx(Zw,{children:d.jsx(ndt,{style:{width:24}})}),"Receive funds"]}),a?.showAlternateFundingMethod&&f.onFundWithCard?.[1]&&d.jsx(mye,{theme:o.appearance.palette.colorScheme,children:d.jsxs(Tyt,{children:["Having trouble or facing location restrictions?"," ",d.jsx(Iyt,{onClick:f.onFundWithCard[1],children:"Try a different provider."})]})})]}),d.jsx(Ur,{})]})}},vZ="moonpay";function Yyt(t){return parseFloat(t)}function Jyt(t){return!!t&&t.config!==void 0&&t.provider!==void 0}function W7(t){return!!t&&(t.chain!==void 0||t.amount!==void 0)}const wZ={[sc.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[vD.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[md.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[OE.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[ba.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[Bx.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[ic.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[NE.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[N1.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[yD.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[nc.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[$E.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},bZ=({address:t,appConfig:e,fundWalletConfig:r,methodScreen:n,chainIdOverride:i,comingFromSendTransactionScreen:s=!1})=>{let o,a;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let l=UL(e.fundingConfig.options);if(l.length<1)throw Error("Wallet funding is not enabled");o=i||(W7(r)&&r.chain?r.chain.id:pme(e.fundingConfig.defaultRecommendedCurrency.chain));let c=e.chains.find((m=>m.id===o));if(!c)throw new fe(`Funding chain ${o} is not in PrivyProvider chains list`);let u=W7(r)&&r.amount?r.amount:e.fundingConfig.defaultRecommendedAmount,h=!1;function f(){if(!o)return;let m=wZ[o];l.find((v=>v.method==="wallets"))&&!m&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),a=m,h=!0}W7(r)&&"asset"in r?r.asset==="USDC"?f():typeof r.asset!="string"&&"erc20"in r.asset&&(h=((m,v)=>m===wZ[v.id])(a=r.asset.erc20,c)):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&f();let p=r?.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:u,chain:c,erc20Address:a,erc20ContractInfo:h?{symbol:"USDC",decimals:6}:void 0,isUSDC:h,methodScreen:n,supportedOptions:l,comingFromSendTransactionScreen:s,defaultFundingMethod:p,usingDefaultFundingMethod:!!p,preferredCardProvider:r?.card?.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,cluster:{name:"mainnet-beta",rpcUrl:e.solanaClusters["mainnet-beta"].rpcUrl},...Jyt(r)?{moonpayConfigOverride:r.config}:{},uiConfig:r&&"uiConfig"in r?r.uiConfig:void 0,externalSolanaFundingScreen:BL}};function Xyt({address:t,fundWalletConfig:e,appConfig:r,comingFromSendTransactionScreen:n,externalSolanaFundingScreen:i,methodScreen:s}){if(!r.fundingConfig)throw Error("Wallet funding is not enabled");let o=UL(r.fundingConfig.options);if(o.length<1)throw Error("Wallet funding is not enabled");if(e?.asset==="USDC"&&e?.cluster?.name==="testnet")throw Error("USDC funding is not supported on the Solana testnet");let a=e?.amount??r.fundingConfig.defaultRecommendedAmount,l=e?.defaultFundingMethod;return{chainType:"solana",address:t,supportedOptions:o,amount:a,isUSDC:e?.asset==="USDC",methodScreen:s,comingFromSendTransactionScreen:n,cluster:{name:e?.cluster?.name??"mainnet-beta",rpcUrl:r.solanaClusters[e?.cluster?.name??"mainnet-beta"].rpcUrl},crossChainBridgingEnabled:r.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:l,preferredCardProvider:e?.card?.preferredProvider,usingDefaultFundingMethod:!!l,uiConfig:e?.uiConfig,externalSolanaFundingScreen:i}}const Mye=({children:t,theme:e})=>d.jsxs(Qyt,{$theme:e,children:[d.jsx(vg,{width:"20px",height:"20px",color:"var(--privy-color-icon-warning)",strokeWidth:2,style:{flexShrink:0}}),d.jsx(Zyt,{$theme:e,children:t})]});let Qyt=ie.div.withConfig({displayName:"Container",componentId:"sc-a77c2854-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-warn-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),Zyt=ie.div.withConfig({displayName:"Content",componentId:"sc-a77c2854-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],(t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"));const e1t=({address:t,accessToken:e,appConfigTheme:r,onClose:n,isLoading:i=!1,exportButtonProps:s})=>d.jsx(Mr,{title:"Export wallet",subtitle:d.jsxs(d.Fragment,{children:["Copy either your private key or seed phrase to export your wallet."," ",d.jsx("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),onClose:n,watermark:!0,children:d.jsxs(t1t,{children:[d.jsx(Mye,{theme:r,children:"Never share your private key or seed phrase with anyone."}),d.jsx(ok,{title:"Your wallet",address:t,showCopyButton:!0}),d.jsx("div",{style:{width:"100%"},children:i?d.jsx(r1t,{}):e&&s&&d.jsx(s1t,{accessToken:e,dimensions:{height:"44px"},...s})})]})});let t1t=ie.div.withConfig({displayName:"ContentContainer",componentId:"sc-e0132ced-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),r1t=()=>d.jsx(n1t,{children:d.jsx(i1t,{children:"Loading..."})}),n1t=ie.div.withConfig({displayName:"PlaceholderContainer",componentId:"sc-e0132ced-1"})(["display:flex;gap:12px;height:44px;"]),i1t=ie.div.withConfig({displayName:"PlaceholderButton",componentId:"sc-e0132ced-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);function s1t(t){let[e,r]=x.useState(t.dimensions.width),[n,i]=x.useState(void 0),s=x.useRef(null);x.useEffect((()=>{if(s.current&&e===void 0){let{width:l}=s.current.getBoundingClientRect();r(l)}let a=getComputedStyle(document.documentElement);i({background:a.getPropertyValue("--privy-color-background"),background2:a.getPropertyValue("--privy-color-background-2"),foreground3:a.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:a.getPropertyValue("--privy-color-foreground-accent"),accent:a.getPropertyValue("--privy-color-accent"),accentDark:a.getPropertyValue("--privy-color-accent-dark"),success:a.getPropertyValue("--privy-color-success"),colorScheme:a.getPropertyValue("color-scheme")})}),[]);let o=t.chainType==="ethereum"&&!t.imported&&!t.isUnifiedWallet;return d.jsx("div",{ref:s,children:e&&d.jsxs(o1t,{children:[d.jsx("iframe",{style:{position:"absolute",zIndex:1},width:e,height:t.dimensions.height,allow:"clipboard-write self *",src:wge(t.origin,`/apps/${t.appId}/embedded-wallets/export`,t.isUnifiedWallet?{v:"1-unified",wallet_id:t.walletId,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...n}:{v:"1",entropy_id:t.entropyId,entropy_id_verifier:t.entropyIdVerifier,hd_wallet_index:t.hdWalletIndex,chain_type:t.chainType,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:o,...n},{token:t.accessToken})}),d.jsx(xZ,{children:"Loading..."}),o&&d.jsx(xZ,{children:"Loading..."})]})})}const cj={component:()=>{let[t,e]=x.useState(null),{authenticated:r,user:n}=Pr(),{closePrivyModal:i,createAnalyticsEvent:s,clientAnalyticsId:o,client:a}=bt(),l=zr(),{data:c,onUserCloseViaDialogOrKeybindRef:u}=It(),{onFailure:h,onSuccess:f,origin:p,appId:m,appClientId:v,entropyId:w,entropyIdVerifier:b,walletId:E,hdWalletIndex:_,chainType:A,address:C,isUnifiedWallet:k,imported:P}=c.keyExport,F=$=>{i({shouldCallAuthOnSuccess:!1}),h(typeof $=="string"?Error($):$)},N=()=>{i({shouldCallAuthOnSuccess:!1}),f(),s({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:C}})};return x.useEffect((()=>{if(!r)return F("User must be authenticated before exporting their wallet");a.getAccessToken().then(e).catch(F)}),[r,n]),u.current=N,d.jsx(e1t,{address:C,accessToken:t,appConfigTheme:l.appearance.palette.colorScheme,onClose:N,isLoading:!t,exportButtonProps:t?{origin:p,appId:m,appClientId:v,clientAnalyticsId:o,entropyId:w,entropyIdVerifier:b,walletId:E,hdWalletIndex:_,isUnifiedWallet:k,imported:P,chainType:A}:void 0})}};let o1t=ie.div.withConfig({displayName:"ButtonContainer",componentId:"sc-e0132ced-3"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),xZ=ie.div.withConfig({displayName:"LoadingButton",componentId:"sc-e0132ced-4"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);const a1t=({connectionFailed:t,onClose:e})=>d.jsx(Mr,t?{title:"Something went wrong",subtitle:"We're on it. Please try again later.",icon:v8,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Connecting to your wallet",subtitle:"Please wait...",iconVariant:"loading",showClose:!0,onClose:e,watermark:!1}),Tf={component:()=>{let{authenticated:t,user:e}=Pr(),{client:r,closePrivyModal:n,createAnalyticsEvent:i,walletProxy:s}=bt(),{navigate:o,data:a,setModalData:l,onUserCloseViaDialogOrKeybindRef:c}=It(),u=x.useMemo((()=>Date.now()),[]),[h,f]=x.useState(!1),{onCompleteNavigateTo:p,onFailure:m,shouldForceMFA:v,entropyId:w,entropyIdVerifier:b,recoveryMethod:E,connectingWalletAddress:_,isUnifiedWallet:A=!1}=a?.connectWallet,C=k=>{h||(f(!0),m(typeof k=="string"?Error(k):k))};return x.useEffect((()=>{let k;return t?s?((async()=>{let P=await r.getAccessToken();if(!P)return C("User must be authenticated and have a Privy wallet before it can be connected");try{A||await s.connect({accessToken:P,entropyId:w,entropyIdVerifier:b}),v&&await s.verifyMfa({accessToken:P});let F=(Date.now()-u)/1e3;p===cj&&F<1?k=setTimeout((()=>{o(p,!1)}),1e3*(1-F)):o(p,!1)}catch(F){if(rx(F)&&E==="privy"){let N=await r.getAccessToken();if(!N)return C("User must be authenticated and have a Privy wallet before it can be recovered");try{i({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:_}}),(await s?.recover({accessToken:N,entropyId:w,entropyIdVerifier:b}))?.entropyId||C(Error("Unable to recover wallet")),p?o(p):n({shouldCallAuthOnSuccess:!1}),i({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:_}}),o(p)}catch{C("An error has occurred, please try again.")}}else rx(F)&&E!=="privy"&&E!=="privy-v2"?(l({...a,recoverWallet:{entropyId:w,entropyIdVerifier:b,onCompleteNavigateTo:p,onFailure:m},recoveryOAuthStatus:{provider:E,action:"recover",isInAccountCreateFlow:!1,shouldCreateEth:!1,shouldCreateSol:!1}}),o(gye(E))):C(F)}})(),()=>clearTimeout(k)):void 0:C("User must be authenticated and have a Privy wallet before it can be connected")}),[t,e,s]),c.current=()=>{C("User exited before wallet could be connected"),n({shouldCallAuthOnSuccess:!1})},d.jsx(a1t,{connectionFailed:h,onClose:()=>n({shouldCallAuthOnSuccess:!1})})}},Dye=ie(jt).withConfig({displayName:"InteractiveLabel",componentId:"sc-b57d0824-0"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;color:var(--privy-color-accent);svg{fill:var(--privy-color-accent);}"]);var _Z=({iconUrl:t,value:e,symbol:r,usdValue:n,nftName:i,nftCount:s,decimals:o,$isLoading:a})=>{if(a)return d.jsx(CZ,{$isLoading:a});let l=e&&n&&o?(function(c,u,h){let f=parseFloat(c),p=parseFloat(h);if(f===0||p===0||Number.isNaN(f)||Number.isNaN(p))return c;let m=Math.ceil(-Math.log10(.01/(p/f))),v=Math.pow(10,m=Math.max(m=Math.min(m,u),1)),w=+(Math.floor(f*v)/v).toFixed(m).replace(/\.?0+$/,"");return Intl.NumberFormat(void 0,{maximumFractionDigits:u}).format(w)})(e,o,n):e;return d.jsxs("div",{children:[d.jsxs(CZ,{$isLoading:a,children:[t&&d.jsx(c1t,{src:t,alt:"Token icon"}),s&&s>1?s+"x":void 0," ",i,l," ",r]}),n&&d.jsxs(l1t,{$isLoading:a,children:["$",n]})]})};let CZ=ie.span.withConfig({displayName:"Value",componentId:"sc-991db279-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],nk);const l1t=ie.span.withConfig({displayName:"Subvalue",componentId:"sc-991db279-1"})(["color:var(--privy-color-foreground-2);font-size:12px;font-weight:400;line-height:18px;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],nk);let c1t=ie.img.withConfig({displayName:"TokenIcon",componentId:"sc-991db279-2"})(["height:14px;width:14px;margin-right:4px;object-fit:contain;"]);const u1t=t=>{let{chain:e,transactionDetails:r,isTokenContractInfoLoading:n,symbol:i}=t,{action:s,functionName:o}=r;return d.jsx(sk,{children:d.jsxs(tv,{children:[s!=="transaction"&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Action"}),d.jsx(qt,{children:o})]}),o==="mint"&&"args"in r&&r.args.filter((a=>a)).map(((a,l)=>d.jsxs(kt,{children:[d.jsx(jt,{children:`Param ${l}`}),d.jsx(qt,{children:typeof a=="string"&&oi(a)?d.jsx(Sr,{address:a,url:e?.blockExplorers?.default?.url,showCopyIcon:!1}):a?.toString()})]},l))),o==="setApprovalForAll"&&r.operator&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Operator"}),d.jsx(qt,{children:d.jsx(Sr,{address:r.operator,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),o==="setApprovalForAll"&&r.approved!==void 0&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Set approval to"}),d.jsx(qt,{children:r.approved?"true":"false"})]}),o==="transfer"||o==="transferFrom"||o==="safeTransferFrom"||o==="approve"?d.jsxs(d.Fragment,{children:["formattedAmount"in r&&r.formattedAmount&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Amount"}),d.jsxs(qt,{$isLoading:n,children:[r.formattedAmount," ",i]})]}),"tokenId"in r&&r.tokenId&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Token ID"}),d.jsx(qt,{children:r.tokenId.toString()})]})]}):null,o==="safeBatchTransferFrom"&&d.jsxs(d.Fragment,{children:["amounts"in r&&r.amounts&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Amounts"}),d.jsx(qt,{children:r.amounts.join(", ")})]}),"tokenIds"in r&&r.tokenIds&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Token IDs"}),d.jsx(qt,{children:r.tokenIds.join(", ")})]})]}),o==="approve"&&r.spender&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Spender"}),d.jsx(qt,{children:d.jsx(Sr,{address:r.spender,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&r.transferFrom&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Transferring from"}),d.jsx(qt,{children:d.jsx(Sr,{address:r.transferFrom,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),(o==="transferFrom"||o==="safeTransferFrom"||o==="safeBatchTransferFrom")&&r.transferTo&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Transferring to"}),d.jsx(qt,{children:d.jsx(Sr,{address:r.transferTo,url:e?.blockExplorers?.default?.url,showCopyIcon:!1})})]})]})})},d1t=({variant:t,setPreventMaliciousTransaction:e,colorScheme:r="light",preventMaliciousTransaction:n})=>t==="warn"?d.jsx(EZ,{children:d.jsxs(Mye,{theme:r,children:[d.jsx("span",{style:{fontWeight:"500"},children:"Warning: Suspicious transaction"}),d.jsx("br",{}),"This has been flagged as a potentially deceptive request. Approving could put your assets or funds at risk."]})}):t==="error"?d.jsx(d.Fragment,{children:d.jsxs(EZ,{children:[d.jsx(Nye,{theme:r,children:d.jsxs("div",{children:[d.jsx("strong",{children:"This is a malicious transaction"}),d.jsx("br",{}),"This transaction transfers tokens to a known malicious address. Proceeding may result in the loss of valuable assets."]})}),d.jsxs(h1t,{children:[d.jsx(Cme,{color:"var(--privy-color-error)",checked:!n,readOnly:!0,onClick:()=>e(!n)}),d.jsx("span",{children:"I understand and want to proceed anyways."})]})]})}):null;let EZ=ie.div.withConfig({displayName:"BannerContainer",componentId:"sc-ab8a5a0b-0"})(["margin-top:1.5rem;"]),h1t=ie.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-ab8a5a0b-1"})(["display:flex;align-items:center;gap:0.5rem;margin-top:0.75rem;"]);const f1t=({transactionIndex:t,maxIndex:e})=>typeof t!="number"||e===0?"":` (${t+1} / ${e+1})`,p1t=({img:t,submitError:e,prepareError:r,onClose:n,action:i,title:s,subtitle:o,to:a,tokenAddress:l,network:c,missingFunds:u,fee:h,from:f,cta:p,disabled:m,chain:v,isSubmitting:w,isPreparing:b,isTokenPriceLoading:E,isTokenContractInfoLoading:_,isSponsored:A,symbol:C,balance:k,onClick:P,transactionDetails:F,transactionIndex:N,maxIndex:$,onBack:U,chainName:O,validation:D,hasScanDetails:T,setIsScanDetailsOpen:I,preventMaliciousTransaction:R,setPreventMaliciousTransaction:L,tokensSent:B,tokensReceived:q,isScanning:G,isCancellable:W,functionName:j})=>{let{showTransactionDetails:Y,setShowTransactionDetails:Q,hasMoreDetails:z,isErc20Ish:Z}=(se=>{let[ce,ge]=x.useState(!1),ae=!0,_e=!1;return(!se||se.isErc20Ish||se.action==="transaction")&&(ae=!1),ae&&(_e=Object.entries(se||{}).some((([Ee,Ie])=>Ie&&!["action","isErc20Ish","isNFTIsh"].includes(Ee)))),{showTransactionDetails:ce,setShowTransactionDetails:ge,hasMoreDetails:ae&&_e,isErc20Ish:se?.isErc20Ish}})(F),ee=zr(),te=Z&&_||b||E||G;return d.jsxs(d.Fragment,{children:[d.jsx(xr,{onClose:n,backFn:U}),t&&d.jsx(Uye,{children:t}),d.jsxs(Th,{style:{marginTop:t?"1.5rem":0},children:[s,d.jsx(f1t,{maxIndex:$,transactionIndex:N})]}),d.jsx(lp,{children:o}),d.jsxs(tv,{style:{marginTop:"2rem"},children:[(!!B[0]||te)&&d.jsxs(kt,{children:[q.length>0?d.jsx(jt,{children:"Send"}):d.jsx(jt,{children:i==="approve"?"Approval amount":"Amount"}),d.jsx("div",{className:"flex flex-col",children:B.map(((se,ce)=>d.jsx(_Z,{iconUrl:se.iconUrl,value:j==="setApprovalForAll"?"All":se.value,usdValue:se.usdValue,symbol:se.symbol,nftName:se.nftName,nftCount:se.nftCount,decimals:se.decimals},ce)))})]}),q.length>0&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Receive"}),d.jsx("div",{className:"flex flex-col",children:q.map(((se,ce)=>d.jsx(_Z,{iconUrl:se.iconUrl,value:se.value,usdValue:se.usdValue,symbol:se.symbol,nftName:se.nftName,nftCount:se.nftCount,decimals:se.decimals},ce)))})]}),F&&"spender"in F&&F?.spender?d.jsxs(kt,{children:[d.jsx(jt,{children:"Spender"}),d.jsx(qt,{children:d.jsx(Sr,{address:F.spender,url:v?.blockExplorers?.default?.url})})]}):null,a&&d.jsxs(kt,{children:[d.jsx(jt,{children:"To"}),d.jsx(qt,{children:d.jsx(Sr,{address:a,url:v?.blockExplorers?.default?.url,showCopyIcon:!0})})]}),l&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Token address"}),d.jsx(qt,{children:d.jsx(Sr,{address:l,url:v?.blockExplorers?.default?.url})})]}),d.jsxs(kt,{children:[d.jsx(jt,{children:"Network"}),d.jsx(qt,{children:c})]}),d.jsxs(kt,{children:[d.jsx(jt,{children:"Estimated fee"}),d.jsx(qt,{$isLoading:b||E||A===void 0,children:A?d.jsxs(m1t,{children:[d.jsxs(y1t,{children:["Sponsored by ",ee.name]}),d.jsx(Sut,{height:16,width:16})]}):h})]}),z&&!T&&d.jsxs(d.Fragment,{children:[d.jsx(kt,{className:"cursor-pointer",onClick:()=>Q(!Y),children:d.jsxs(tyt,{className:"flex items-center gap-x-1",children:["Details"," ",d.jsx(r8,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:Y?"rotate(180deg)":void 0}})]})}),Y&&F&&d.jsx(u1t,{action:i,chain:v,transactionDetails:F,isTokenContractInfoLoading:_,symbol:C})]}),T&&d.jsx(kt,{children:d.jsxs(Dye,{onClick:()=>I(!0),children:[d.jsx("span",{className:"text-color-primary",children:"Details"}),d.jsx(zFe,{height:"14px",width:"14px",strokeWidth:"2"})]})})]}),d.jsx(op,{}),e?d.jsx(Sh,{style:{marginTop:"2rem"},children:e.message}):r&&N===0?d.jsx(Sh,{style:{marginTop:"2rem"},children:r.shortMessage??Lye}):null,d.jsx(d1t,{variant:D,preventMaliciousTransaction:R,setPreventMaliciousTransaction:L}),d.jsx(Fye,{$useSmallMargins:!(!r&&!e&&D!=="warn"&&D!=="error"),address:f,balance:k,errMsg:b||r||e||!u?void 0:`Add funds on ${v?.name??O} to complete transaction.`}),d.jsx(an,{style:{marginTop:"1rem"},loading:w,disabled:m||b,onClick:P,children:p}),W&&d.jsx(q8,{style:{marginTop:"1rem"},onClick:n,isSubmitting:!1,children:"Not now"}),d.jsx(Ur,{})]})},g1t=({img:t,title:e,subtitle:r,cta:n,instructions:i,network:s,blockExplorerUrl:o,isMissingFunds:a,submitError:l,parseError:c,total:u,swap:h,transactingWalletAddress:f,fee:p,balance:m,disabled:v,isSubmitting:w,isPreparing:b,isTokenPriceLoading:E,onClick:_,onClose:A,onBack:C})=>{let k=b||E,[P,F]=x.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsx(xr,{onClose:A,backFn:C}),t&&d.jsx(Uye,{children:t}),d.jsx(Th,{style:{marginTop:t?"1.5rem":0},children:e}),d.jsx(lp,{children:r}),d.jsxs(tv,{style:{marginTop:"2rem",marginBottom:".5rem"},children:[(u||k)&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Amount"}),d.jsx(qt,{$isLoading:k,children:u})]}),h&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Swap"}),d.jsx(qt,{children:h})]}),s&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Network"}),d.jsx(qt,{children:s})]}),(p||k)&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Estimated fee"}),d.jsx(qt,{$isLoading:k,children:p})]})]}),d.jsx(kt,{children:d.jsxs(Dye,{onClick:()=>F((N=>!N)),children:[d.jsx("span",{children:"Advanced"}),d.jsx(r8,{height:"16px",width:"16px",strokeWidth:"2",style:{transition:"all 300ms",transform:P?"rotate(180deg)":void 0}})]})}),P&&d.jsx(d.Fragment,{children:i.map(((N,$)=>N.type==="sol-transfer"?d.jsxs(El,{children:[d.jsx(kt,{children:d.jsxs(ta,{children:["Transfer ",N.withSeed?"with seed":""]})}),d.jsxs(kt,{children:[d.jsx(jt,{children:"Amount"}),d.jsxs(qt,{children:[Co({amount:N.value,decimals:N.token.decimals})," ",N.token.symbol]})]}),!!N.toAccount&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Destination"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.toAccount,url:o})})]})]},$):N.type==="spl-transfer"?d.jsxs(El,{children:[d.jsx(kt,{children:d.jsxs(ta,{children:["Transfer ",N.token.symbol]})}),d.jsxs(kt,{children:[d.jsx(jt,{children:"Amount"}),d.jsx(qt,{children:N.value.toString()})]}),!!N.fromAta&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Source"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.fromAta,url:o})})]}),!!N.toAta&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Destination"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.toAta,url:o})})]}),!!N.token.address&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Token"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.token.address,url:o})})]})]},$):N.type==="ata-creation"?d.jsxs(El,{children:[d.jsx(kt,{children:d.jsx(ta,{children:"Create token account"})}),d.jsxs(kt,{children:[d.jsx(jt,{children:"Program ID"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.program,url:o})})]}),!!N.owner&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Owner"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.owner,url:o})})]})]},$):N.type==="create-account"?d.jsxs(El,{children:[d.jsx(kt,{children:d.jsxs(ta,{children:["Create account ",N.withSeed?"with seed":""]})}),!!N.account&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Account"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.account,url:o})})]}),d.jsxs(kt,{children:[d.jsx(jt,{children:"Amount"}),d.jsxs(qt,{children:[Co({amount:N.value,decimals:9})," SOL"]})]})]},$):N.type==="spl-init-account"?d.jsxs(El,{children:[d.jsx(kt,{children:d.jsx(ta,{children:"Initialize token account"})}),!!N.account&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Account"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.account,url:o})})]}),!!N.mint&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Mint"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.mint,url:o})})]}),!!N.owner&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Owner"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.owner,url:o})})]})]},$):N.type==="spl-close-account"?d.jsxs(El,{children:[d.jsx(kt,{children:d.jsx(ta,{children:"Close token account"})}),!!N.source&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Source"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.source,url:o})})]}),!!N.destination&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Destination"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.destination,url:o})})]}),!!N.owner&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Owner"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.owner,url:o})})]})]},$):N.type==="spl-sync-native"?d.jsxs(El,{children:[d.jsx(kt,{children:d.jsx(ta,{children:"Sync native"})}),d.jsxs(kt,{children:[d.jsx(jt,{children:"Program ID"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.program,url:o})})]})]},$):N.type==="raydium-swap-base-input"?d.jsxs(El,{children:[d.jsx(kt,{children:d.jsxs(ta,{children:["Raydium swap"," ",N.tokenIn&&N.tokenOut?`${N.tokenIn.symbol}  ${N.tokenOut.symbol}`:""]})}),d.jsxs(kt,{children:[d.jsx(jt,{children:"Amount in"}),d.jsx(qt,{children:N.amountIn.toString()})]}),d.jsxs(kt,{children:[d.jsx(jt,{children:"Minimum amount out"}),d.jsx(qt,{children:N.minimumAmountOut.toString()})]}),N.mintIn&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Token in"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.mintIn,url:o})})]}),N.mintOut&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Token out"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.mintOut,url:o})})]})]},$):N.type==="raydium-swap-base-output"?d.jsxs(El,{children:[d.jsx(kt,{children:d.jsxs(ta,{children:["Raydium swap"," ",N.tokenIn&&N.tokenOut?`${N.tokenIn.symbol}  ${N.tokenOut.symbol}`:""]})}),d.jsxs(kt,{children:[d.jsx(jt,{children:"Max amount in"}),d.jsx(qt,{children:N.maxAmountIn.toString()})]}),d.jsxs(kt,{children:[d.jsx(jt,{children:"Amount out"}),d.jsx(qt,{children:N.amountOut.toString()})]}),N.mintIn&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Token in"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.mintIn,url:o})})]}),N.mintOut&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Token out"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.mintOut,url:o})})]})]},$):N.type==="jupiter-swap-shared-accounts-route"?d.jsxs(El,{children:[d.jsx(kt,{children:d.jsxs(ta,{children:["Jupiter swap"," ",N.tokenIn&&N.tokenOut?`${N.tokenIn.symbol}  ${N.tokenOut.symbol}`:""]})}),d.jsxs(kt,{children:[d.jsx(jt,{children:"In amount"}),d.jsx(qt,{children:N.inAmount.toString()})]}),d.jsxs(kt,{children:[d.jsx(jt,{children:"Quoted out amount"}),d.jsx(qt,{children:N.quotedOutAmount.toString()})]}),N.mintIn&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Token in"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.mintIn,url:o})})]}),N.mintOut&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Token out"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.mintOut,url:o})})]})]},$):N.type==="jupiter-swap-exact-out-route"?d.jsxs(El,{children:[d.jsx(kt,{children:d.jsxs(ta,{children:["Jupiter swap"," ",N.tokenIn&&N.tokenOut?`${N.tokenIn.symbol}  ${N.tokenOut.symbol}`:""]})}),d.jsxs(kt,{children:[d.jsx(jt,{children:"Quoted in amount"}),d.jsx(qt,{children:N.quotedInAmount.toString()})]}),d.jsxs(kt,{children:[d.jsx(jt,{children:"Amount out"}),d.jsx(qt,{children:N.outAmount.toString()})]}),N.mintIn&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Token in"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.mintIn,url:o})})]}),N.mintOut&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Token out"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.mintOut,url:o})})]})]},$):d.jsxs(El,{children:[d.jsxs(kt,{children:[d.jsx(jt,{children:"Program ID"}),d.jsx(qt,{children:d.jsx(Sr,{address:N.program,url:o})})]}),d.jsxs(kt,{children:[d.jsx(jt,{children:"Data"}),d.jsx(qt,{children:N.discriminator})]})]},$)))}),d.jsx(op,{}),l?d.jsx(Sh,{style:{marginTop:"2rem"},children:l.message}):c?d.jsx(Sh,{style:{marginTop:"2rem"},children:Lye}):null,d.jsx(Fye,{$useSmallMargins:!(!c&&!l),title:"Your wallet",address:f,balance:m,errMsg:b||c||l||!a?void 0:"Add funds on Solana to complete transaction."}),d.jsx(an,{style:{marginTop:"1rem"},loading:w,disabled:v||b,onClick:_,children:n}),d.jsx(Ur,{})]})};let Fye=ie(ok).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-4e16a794-0"})(["",""],(t=>t.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;")),El=ie(tv).withConfig({displayName:"InstructionRows",componentId:"sc-4e16a794-1"})(["margin-top:0.5rem;border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-sm);padding:0.5rem;"]),Lye="There was an error preparing your transaction. Your transaction request will likely fail.",Uye=ie.div.withConfig({displayName:"ImageContainer",componentId:"sc-4e16a794-2"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]),m1t=ie.span.withConfig({displayName:"SponsoredRow",componentId:"sc-4e16a794-3"})(["display:inline-flex;align-items:center;gap:0.3rem;"]),y1t=ie.span.withConfig({displayName:"SponsoredText",componentId:"sc-4e16a794-4"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),v1t=()=>d.jsxs(_1t,{children:[d.jsx(E1t,{}),d.jsx(C1t,{})]});const Bye=({transactionError:t,chainId:e,onClose:r,onRetry:n,network:i,rpcEndpoint:s,transactionHash:o})=>{let{chains:a}=bt(),[l,c]=x.useState(!1),{errorCode:u,errorMessage:h}=((p,m)=>{if(m==="ethereum")return{errorCode:p.details??p.message,errorMessage:p.shortMessage};let v=p.txSignature,w=p?.transactionMessage||"Something went wrong.";if(Array.isArray(p.logs)){let b=p.logs.find((E=>/insufficient (lamports|funds)/gi.test(E)));b&&(w=b)}return{transactionHash:v,errorMessage:w}})(t,i),f=(({chains:p,chainId:m,network:v,rpcEndpoint:w,transactionHash:b})=>v==="ethereum"?p.find((E=>E.id===m))?.blockExplorers?.default.url??"https://etherscan.io":(function(E,_){return`https://explorer.solana.com/tx/${E}?cluster=${_}`})(b||"",J1(w||"")))({chains:a,chainId:e,network:i,rpcEndpoint:s,transactionHash:o});return d.jsxs(d.Fragment,{children:[d.jsx(xr,{onClose:r}),d.jsxs(w1t,{children:[d.jsx(v1t,{}),d.jsx(b1t,{children:u}),d.jsx(x1t,{children:"Please try again."}),d.jsxs(SZ,{children:[d.jsx(kZ,{children:"Error message"}),d.jsx(AZ,{$clickable:!1,children:h})]}),o&&d.jsxs(SZ,{children:[d.jsx(kZ,{children:"Transaction hash"}),d.jsxs(S1t,{children:["Copy this hash to view details about the transaction on a"," ",d.jsx("u",{children:d.jsx("a",{href:f,children:"block explorer"})}),"."]}),d.jsxs(AZ,{$clickable:!0,onClick:async()=>{await navigator.clipboard.writeText(o),c(!0)},children:[o,d.jsx(I1t,{clicked:l})]})]}),d.jsx(k1t,{onClick:()=>n({resetNonce:!!o}),children:"Retry transaction"})]}),d.jsx(vi,{})]})};let w1t=ie.div.withConfig({displayName:"TransactionErrorScreenContainer",componentId:"sc-9ada48aa-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),b1t=ie.span.withConfig({displayName:"ErrorCode",componentId:"sc-9ada48aa-1"})(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]),x1t=ie.span.withConfig({displayName:"Subtitle",componentId:"sc-9ada48aa-2"})(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]),_1t=ie.div.withConfig({displayName:"CircleContainer",componentId:"sc-9ada48aa-3"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),C1t=ie(iL).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-9ada48aa-4"})(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]),E1t=ie.div.withConfig({displayName:"StyledRedCircle",componentId:"sc-9ada48aa-5"})(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]),k1t=ie(an).withConfig({displayName:"RetryButton",componentId:"sc-9ada48aa-6"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),kZ=ie.span.withConfig({displayName:"TextBoxTitle",componentId:"sc-9ada48aa-7"})(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]),SZ=ie.div.withConfig({displayName:"TextBoxContainer",componentId:"sc-9ada48aa-8"})(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),S1t=ie.text.withConfig({displayName:"HelperText",componentId:"sc-9ada48aa-9"})(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]),AZ=ie.span.withConfig({displayName:"TextBox",componentId:"sc-9ada48aa-10"})(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;",""],(t=>t.$clickable&&`cursor: pointer;
  transition: background-color 0.3s;
  padding-right: 45px;

  &:hover {
    background-color: var(--privy-color-foreground-4);
  }`)),A1t=ie(Out).withConfig({displayName:"StyledClipboardIcon",componentId:"sc-9ada48aa-11"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),T1t=ie(z0e).withConfig({displayName:"StyledClipboardCheckIcon",componentId:"sc-9ada48aa-12"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),I1t=({clicked:t})=>d.jsx(t?T1t:A1t,{});const P1t=ie.span.withConfig({displayName:"CircleBackground",componentId:"sc-c9f33cd-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";background-color:",";border-radius:50%;display:inline-block;box-sizing:border-box;}"],(t=>t.color??"var(--privy-color-accent)"),(t=>t.color??"var(--privy-color-accent)")),$1t=({instruction:t,fees:e,transactionInfo:r,solPrice:n,rpcEndpoint:i})=>d.jsxs(tv,{children:[r?.action&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Action"}),d.jsx(qt,{children:r.action})]}),t?.total!=null&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Total"}),d.jsx(qt,{children:t.total})]}),!t?.total&&t?.amount!=null&&d.jsxs(kt,{children:[d.jsx(jt,{children:"Total"}),d.jsx(qt,{children:d.jsx(qQ,{quantities:[t.amount,e],tokenPrice:n})})]}),d.jsxs(kt,{children:[d.jsx(jt,{children:"Fees"}),d.jsx(qt,{children:d.jsx(qQ,{quantities:[e],tokenPrice:n})})]}),t?.to&&d.jsxs(kt,{children:[d.jsx(jt,{children:"To"}),d.jsx(qt,{children:d.jsx(WO,{walletAddress:t.to,rpcEndpoint:i,network:"solana"})})]})]}),N1t=({fees:t,onClose:e,receiptHeader:r,receiptDescription:n,transactionInfo:i,solPrice:s,rpcEndpoint:o,signOnly:a,instruction:l})=>d.jsxs(d.Fragment,{children:[d.jsx(xr,{onClose:e}),d.jsx(AL,{style:{marginBottom:"16px"},children:d.jsxs("div",{children:[d.jsx(P1t,{color:"var(--privy-color-success-light)"}),d.jsx(Y1,{height:38,width:38,strokeWidth:2,stroke:"var(--privy-color-success)"})]})}),d.jsx(tl,{title:r??`Transaction ${a?"signed":"complete"}!`,description:n??"You're all set."}),d.jsx($1t,{solPrice:s,instruction:l,fees:t,transactionInfo:i,rpcEndpoint:o}),d.jsx(op,{}),d.jsx(R1t,{loading:!1,onClick:e,children:"Close"}),d.jsx(ol,{}),d.jsx(Ur,{})]});let R1t=ie(an).withConfig({displayName:"SubmitButton",componentId:"sc-df6d4eec-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const O1t={component:()=>{let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:r,navigate:n}=It(),{client:i,closePrivyModal:s,walletProxy:o,showFiatPrices:a}=bt(),l=zr(),{user:c}=Pr(),[u,h]=x.useState(t?.sendSolanaTransaction?.transactionRequest),[f,p]=x.useState(),[m,v]=x.useState(),[w,b]=x.useState({value:0n,isLoading:!1}),[E,_]=x.useState(!1),[A,C]=x.useState(),[k,P]=x.useState(),F=t?.sendSolanaTransaction?.connection,N=t?.sendSolanaTransaction?.transactingWallet,$=!!t?.sendSolanaTransaction?.signOnly,U=N?.imported?WE(c):Kl(c),O=J1(F?.rpcEndpoint||""),{solPrice:D,isSolPriceLoading:T}=sme({enabled:a}),I=x.useMemo((()=>{if(!f)return;let W=f.spender,j=Jf(f.fee),Y=Jf(w.value,3,!0),Q=f.instructions.filter((Z=>["sol-transfer","spl-transfer","raydium-swap-base-input","raydium-swap-base-output","jupiter-swap-shared-accounts-route","jupiter-swap-exact-out-route"].includes(Z.type))),z=Q.at(0);return!z||Q.length>1?{fee:j,spender:W,balance:Y}:z.type==="sol-transfer"?{fee:j,spender:W,balance:Y,total:Jf(z.value)}:z.type==="spl-transfer"?{fee:j,spender:W,balance:Y,total:`${Co({amount:z.value,decimals:z.token.decimals})} ${z.token.symbol}`}:z.type==="raydium-swap-base-input"&&z.tokenIn&&z.tokenOut?{fee:j,spender:W,balance:Y,swap:`${`${Co({amount:z.amountIn,decimals:z.tokenIn.decimals})} ${z.tokenIn.symbol}`}  ${`${Co({amount:z.minimumAmountOut,decimals:z.tokenOut.decimals})} ${z.tokenOut.symbol}`}`}:z.type==="raydium-swap-base-output"&&z.tokenIn&&z.tokenOut?{fee:j,spender:W,balance:Y,swap:`${`${Co({amount:z.maxAmountIn,decimals:z.tokenIn.decimals})} ${z.tokenIn.symbol}`}  ${`${Co({amount:z.amountOut,decimals:z.tokenOut.decimals})} ${z.tokenOut.symbol}`}`}:z.type==="jupiter-swap-shared-accounts-route"&&z.tokenIn&&z.tokenOut?{fee:j,spender:W,balance:Y,swap:`${`${Co({amount:z.inAmount,decimals:z.tokenIn.decimals})} ${z.tokenIn.symbol}`}  ${`${Co({amount:z.quotedOutAmount,decimals:z.tokenOut.decimals})} ${z.tokenOut.symbol}`}`}:z.type==="jupiter-swap-exact-out-route"&&z.tokenIn&&z.tokenOut?{fee:j,spender:W,balance:Y,swap:`${`${Co({amount:z.quotedInAmount,decimals:z.tokenIn.decimals})} ${z.tokenIn.symbol}`}  ${`${Co({amount:z.outAmount,decimals:z.tokenOut.decimals})} ${z.tokenOut.symbol}`}`}:{fee:j,spender:W,balance:Y}}),[f,N?.address,w]),R=x.useMemo((()=>{let W;if(!f||!a||!D||T)return;function j(...z){return $b(z.reduce(((Z,ee)=>Z+ee),0n),D??0)}N?.address===f.spender&&(W=j(f.fee));let Y=j(w.value),Q=f.instructions.filter((z=>z.type==="sol-transfer"||z.type==="spl-transfer")).at(0);return!Q||f.instructions.length>1?{fee:W,balance:Y}:Q.type==="sol-transfer"?{fee:W,balance:Y,total:j(Q.value,N?.address===f.spender?f.fee:0n)}:Q.type==="spl-transfer"?{fee:W,balance:Y,total:`${Co({amount:Q.value,decimals:Q.token.decimals})} ${Q.token.symbol}`}:{fee:W,balance:Y}}),[f,a,D,T,N?.address,w]);if(x.useEffect((()=>{(async function(){if(u&&F&&i)try{v(void 0);let W=await jft({tx:u,connection:F,client:i,checkFunds:!$});p(W)}catch(W){console.error("Failed to prepare transaction",W),v(W)}})()}),[u,F,i,$]),x.useEffect((()=>{(async function(){if(!N||!F)return;b({value:w.value,isLoading:!0});let W=new pRe({name:"mainnet-beta",rpcUrl:F.rpcEndpoint});b({value:await W.getBalance(N.address).catch((()=>0n))??0n,isLoading:!1})})().catch(console.error)}),[f,F]),!(u&&t?.sendSolanaTransaction&&N&&F)){let W=Error("Invalid transaction request");return d.jsx(y3,{error:W,allowlistConfig:l.allowlistConfig,onRetry:()=>{t?.sendSolanaTransaction?.onFailure(W),s({shouldCallAuthOnSuccess:!1})}})}let L=()=>{if(!E)return A?t?.sendSolanaTransaction?.onSuccess(A):t?.sendSolanaTransaction?.onFailure(k??m??Error("User exited the modal before submitting the transaction")),s({shouldCallAuthOnSuccess:!1})};e.current=L;let B=t.sendSolanaTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl?d.jsx("img",{src:t.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,q=!!(t.funding&&t.funding.supportedOptions.length>0),G=!f?.hasFunds&&q;if(A){let W=f?.instructions.filter((Y=>Y.type==="sol-transfer"||Y.type==="spl-transfer")),j=W?.length===1?W?.at(0):void 0;return d.jsx(N1t,{fees:A.fees,onClose:L,transactionInfo:t.sendSolanaTransaction?.uiOptions.transactionInfo,solPrice:D,receiptHeader:t.sendSolanaTransaction?.uiOptions.successHeader,receiptDescription:t.sendSolanaTransaction?.uiOptions.successDescription,rpcEndpoint:F.rpcEndpoint,signOnly:$,instruction:j?.type==="sol-transfer"?{to:j.toAccount,amount:j.value}:{to:j?.toAccount||j?.toAta,total:I?.total}})}return k?d.jsx(Bye,{transactionError:k,rpcEndpoint:F.rpcEndpoint,onClose:L,network:"solana",onRetry:async()=>{P(void 0);let{blockhash:W}=await F.getLatestBlockhash();ap(u)?u.message.recentBlockhash=W:u.recentBlockhash=W,h(u)}}):d.jsx(g1t,{img:B,title:t.sendSolanaTransaction?.uiOptions?.transactionInfo?.title||"Confirm transaction",subtitle:t.sendSolanaTransaction?.uiOptions?.description||`${l.name} wants your permission to approve the following transaction.`,cta:G?"Add funds":t.sendSolanaTransaction?.uiOptions?.buttonText||"Approve",instructions:f?.instructions??[],network:O=="mainnet-beta"?"Solana":O,blockExplorerUrl:l.solanaClusters[O].blockExplorerUrl,total:a?R?.total:I?.total,fee:a?R?.fee:I?.fee,balance:a?R?.balance:I?.balance,swap:I?.swap,transactingWalletAddress:N.address,disabled:!f?.hasFunds&&!q,isSubmitting:E,isPreparing:!f||w.isLoading,isTokenPriceLoading:a&&T,isMissingFunds:!f?.hasFunds,submitError:k??void 0,parseError:m,onClick:G?async()=>{if(N){if(!q)throw Error("Funding wallet is not enabled");r({...t,funding:{...t.funding,methodScreen:ga},solanaFundingData:t?.solanaFundingData}),n(ga)}}:async()=>{try{if(_(!0),E||!N||!o||!c||!U)return;let W=await t.sendSolanaTransaction.onConfirm();C(W)}catch(W){console.warn({transaction:u,error:W}),P(W)}finally{_(!1)}},onClose:L})}},j1t=({privy:t,appConfig:e,getAccessToken:r,isHeadlessSigning:n,emitPrivyEvent:i,setModalData:s,openModal:o,walletProxy:a,user:l,signWithUserSigner:c,recoverEmbeddedWallet:u,connectedExternalWallet:h},{transaction:f,connection:p,transactionOptions:m,fundWalletConfig:v,uiOptions:w,address:b,signOnly:E})=>new Promise((async(_,A)=>{let{requesterAppId:C}=w||{},k="sendSolanaTransaction",P=b?Pl(l,b):yg(l);if(!P&&b&&h)try{{let $=await h.sendTransaction(f,p,m),U=await p.getParsedTransaction($,{maxSupportedTransactionVersion:0}),O=zQ($,f,U??null);return i(k,"onSuccess",{response:O}),void _(O)}}catch($){throw i(k,"onError",ye.TRANSACTION_FAILURE),A($),$}if(!P)return i(k,"onError",ye.EMBEDDED_WALLET_NOT_FOUND),void A(new fe("No wallet found for address",ye.EMBEDDED_WALLET_NOT_FOUND));if(!l)return i(k,"onError",ye.MUST_BE_AUTHENTICATED),void A(new fe("User must be authenticated before signing with a Privy wallet",ye.MUST_BE_AUTHENTICATED));let F=as(P);if(!await u({address:P.address}).catch((()=>!1)))throw i(k,"onError",ye.EMBEDDED_WALLET_NOT_FOUND),new fe(`Cannot sendSolanaTransaction before embedded wallet ${P.address} is connected`,ye.EMBEDDED_WALLET_NOT_FOUND);let N=async()=>{let $=await r();if(!$||!a)throw i(k,"onError",ye.EMBEDDED_WALLET_NOT_FOUND),A(new fe("Must have valid access token and Privy wallet to send transaction",ye.EMBEDDED_WALLET_NOT_FOUND)),new fe("Must have valid access token and Privy wallet to send transaction",ye.EMBEDDED_WALLET_NOT_FOUND);try{let U,O;if(!await u({address:P.address}))throw i(k,"onError",ye.UNKNOWN_CONNECT_WALLET_ERROR),A(new fe("Unable to connect to wallet",ye.UNKNOWN_CONNECT_WALLET_ERROR)),new fe("Unable to connect to wallet",ye.UNKNOWN_CONNECT_WALLET_ERROR);if(n({showWalletUIs:w?.showWalletUIs})&&!E)try{if(!await Yge(f,p))throw i(k,"onError",ye.INSUFFICIENT_BALANCE),A(new fe("Solana wallet has insufficient funds for this transaction.",ye.INSUFFICIENT_BALANCE)),new fe("Solana wallet has insufficient funds for this transaction.",ye.INSUFFICIENT_BALANCE)}catch(I){throw console.error(I),i(k,"onError",ye.TRANSACTION_FAILURE),A(new fe(I instanceof Error?I.message:"Transaction failed.",ye.TRANSACTION_FAILURE)),new fe(I instanceof Error?I.message:"Transaction failed.",ye.TRANSACTION_FAILURE)}let{entropyId:D,entropyIdVerifier:T}=js(l);if(F){let I=ap(f)?uo(f.message.serialize()):f.serializeMessage(),R=await Ao(t,c,{chain_type:"solana",method:"signMessage",params:{message:I.toString("base64"),encoding:"base64"},wallet_id:P.id});if(!R.data||!("signature"in R.data))throw Error("Failed to sign transaction");f.addSignature(SC(f,P.address),uo(R.data.signature,"base64")),U=f}else U=await sj({accessToken:$,tx:f,walletProxy:a,entropyId:D,entropyIdVerifier:T,transactingWalletAddress:P.address,transactingWalletIndex:P.walletIndex??0});{let{signature:I,receipt:R}=await(async function({tx:L,connection:B,transactionOptions:q}){let G;try{let W=L.serialize();G=await B.sendRawTransaction(W,q);let j=await B.confirmTransaction(G);if(j.value.err||j.value.err){let Y=j.value.err||j.value.err;throw typeof Y=="string"?Error(Y):Y}return{signature:G,signedTransaction:L,receipt:await B.getParsedTransaction(G,{maxSupportedTransactionVersion:0})}}catch(W){throw W.txSignature=G,W}})({tx:U,connection:p,transactionOptions:m});O=zQ(I,f,R),i("sendSolanaTransaction","onSuccess",{response:O})}return _(O),O}catch(U){throw i(k,"onError",ye.TRANSACTION_FAILURE),A(U),U}};if(n({showWalletUIs:w?.showWalletUIs}))N();else{let{entropyId:$,entropyIdVerifier:U}=js(l,P),O={recoveryMethod:P.recoveryMethod,connectingWalletAddress:P.address,entropyId:$,entropyIdVerifier:U,isUnifiedWallet:F,onCompleteNavigateTo:O1t,onFailure:T=>{i(k,"onError",ye.UNKNOWN_CONNECT_WALLET_ERROR),A(T)}},D=bye(e)?Xyt({address:P.address,appConfig:e,methodScreen:ga,fundWalletConfig:v,comingFromSendTransactionScreen:!0,externalSolanaFundingScreen:BL}):void 0;s({connectWallet:O,sendSolanaTransaction:{transactionRequest:f,connection:p,transactionOptions:m,transactingWallet:P,onConfirm:N,onSuccess:T=>{i("sendSolanaTransaction","onSuccess",{response:T}),_(T)},onFailure:T=>{i(k,"onError",ye.TRANSACTION_FAILURE),A(T)},uiOptions:w||{},requesterAppId:C,signOnly:E},funding:D}),o(Tf)}}));function M1t(t){let e=zr(),{user:r}=x3(),{setModalData:n}=It(),{client:i,isHeadlessSigning:s,openModal:o,walletProxy:a,recoverEmbeddedWallet:l,privy:c,solanaWallets:u}=bt(),h=Dh(),{signWithUserSigner:f}=FD();return X1("sendSolanaTransaction",t),{sendTransaction:async({transaction:p,connection:m,uiOptions:v,transactionOptions:w,fundWalletConfig:b,address:E})=>{let _=E?u.find((A=>A.address===E&&A.walletClientType!=="privy")):void 0;return await j1t({privy:c,appConfig:e,getAccessToken:()=>i.getAccessToken(),isHeadlessSigning:s,emitPrivyEvent:h,setModalData:n,openModal:o,walletProxy:a,user:r,signWithUserSigner:f,recoverEmbeddedWallet:l,connectedExternalWallet:_},{transaction:p,connection:m,transactionOptions:w,uiOptions:v,fundWalletConfig:b,address:E,signOnly:!1})}}}const D1t=({style:t,color:e,...r})=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:e||"currentColor",style:{height:"1.5rem",width:"1.5rem",...t},...r,children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),zL=t=>{let[e,r]=x.useState(!1);return d.jsxs(F1t,{color:t.color,onClick:()=>{r(!0),navigator.clipboard.writeText(t.text),setTimeout((()=>r(!1)),1500)},$justCopied:e,children:[e?d.jsx(D1t,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):d.jsx(Fme,{style:{height:"14px",width:"14px"}}),e?"Copied":"Copy"," ",t.itemName?t.itemName:"to Clipboard"]})};let F1t=ie.button.withConfig({displayName:"StyledCopytoClipboardButton",componentId:"sc-46f4187f-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],(t=>t.$justCopied?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)"),(t=>t.$justCopied?"medium":"normal"),(t=>t.$justCopied?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)"));const L1t=ie.img.withConfig({displayName:"StyledLogo",componentId:"sc-68c1b1ea-0"})(["&&{height:",";width:",";border-radius:16px;margin-bottom:12px;}"],(t=>t.size==="sm"?"65px":"140px"),(t=>t.size==="sm"?"65px":"140px"));let U1t=({data:t})=>{let e=r=>typeof r=="object"&&r!==null?d.jsx(B1t,{children:Object.entries(r).map((([n,i])=>d.jsxs("li",{children:[d.jsxs("strong",{children:[n,":"]})," ",e(i)]},n)))}):d.jsx("span",{children:String(r)});return d.jsx("div",{children:e(t)})};const zye=ie.div.withConfig({displayName:"Message",componentId:"sc-70ec2a4f-0"})(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;font-size:0.875rem;font-weight:400;color:var(--privy-color-foreground);line-height:1.5;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]);let B1t=ie.ul.withConfig({displayName:"MessageList",componentId:"sc-70ec2a4f-1"})(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}"]);const qye=({data:t,className:e})=>d.jsx(zye,{className:e,children:d.jsx(U1t,{data:t})});let z1t=t=>{if(!Bs(t))return t;try{let e=A6e(t);return e.includes("")?t:e}catch{return t}},q1t=t=>JSON.stringify(t,null,2),W1t=t=>{let{types:e,primaryType:r,...n}=t.typedData;return d.jsxs(d.Fragment,{children:[d.jsx(K1t,{data:n}),d.jsx(zL,{text:q1t(t.typedData),itemName:"full payload to clipboard"})," "]})};const H1t=({method:t,messageData:e,copy:r,iconUrl:n,isLoading:i,success:s,walletProxyIsLoading:o,errorMessage:a,isCancellable:l,onSign:c,onCancel:u,onClose:h})=>d.jsx(Mr,{title:r.title,subtitle:r.description,showClose:!0,onClose:h,icon:sWe,iconVariant:"subtle",helpText:a?d.jsx(G1t,{children:a}):void 0,primaryCta:{label:r.buttonText,onClick:c,disabled:i||s||o,loading:i},secondaryCta:l?{label:"Not now",onClick:u,disabled:i||s||o}:void 0,watermark:!0,children:d.jsxs(SL,{children:[n?d.jsx(L1t,{style:{alignSelf:"center"},size:"sm",src:n,alt:"app image"}):null,d.jsxs(V1t,{children:[t==="personal_sign"&&d.jsx(TZ,{children:z1t(e)}),t==="eth_signTypedData_v4"&&d.jsx(W1t,{typedData:e}),t==="solana_signMessage"&&d.jsx(TZ,{children:e})]})]})}),uj={component:()=>{let{authenticated:t}=Pr(),{initializeWalletProxy:e,closePrivyModal:r}=bt(),{navigate:n,data:i,onUserCloseViaDialogOrKeybindRef:s}=It(),[o,a]=x.useState(!0),[l,c]=x.useState(""),[u,h]=x.useState(),[f,p]=x.useState(null),[m,v]=x.useState(!1);x.useEffect((()=>{t||n(yo)}),[t]),x.useEffect((()=>{e(rge).then((F=>{a(!1),F||(c("An error has occurred, please try again."),h(new no(new Uy(l,Lc.E32603_DEFAULT_INTERNAL_ERROR.eipCode))))}))}),[]);let{method:w,data:b,confirmAndSign:E,onSuccess:_,onFailure:A,uiOptions:C}=i.signMessage,k={title:C?.title||"Sign message",description:C?.description||"Signing this message will not cost you any fees.",buttonText:C?.buttonText||"Sign and continue"},P=F=>{F?_(F):A(u||new no(new Uy("The user rejected the request.",Lc.E4001_USER_REJECTED_REQUEST.eipCode))),r({shouldCallAuthOnSuccess:!1}),setTimeout((()=>{p(null),c(""),h(void 0)}),200)};return s.current=()=>{P(f)},d.jsx(H1t,{method:w,messageData:b,copy:k,iconUrl:C?.iconUrl&&typeof C.iconUrl=="string"?C.iconUrl:void 0,isLoading:m,success:f!==null,walletProxyIsLoading:o,errorMessage:l,isCancellable:C?.isCancellable,onSign:async()=>{v(!0),c("");try{let F=await E();p(F),v(!1),setTimeout((()=>{P(F)}),Bn)}catch(F){console.error(F),c("An error has occurred, please try again."),h(new no(new Uy(l,Lc.E32603_DEFAULT_INTERNAL_ERROR.eipCode))),v(!1)}},onCancel:()=>P(null),onClose:()=>P(f)})}};let V1t=ie.div.withConfig({displayName:"MessageContainer",componentId:"sc-21a0e112-0"})(["flex:1;display:flex;flex-direction:column;gap:16px;"]),G1t=ie.p.withConfig({displayName:"ErrorText",componentId:"sc-21a0e112-1"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-error-dark);font-size:14px;line-height:22px;}"]),K1t=ie(qye).withConfig({displayName:"StyledDisplayJsonTree",componentId:"sc-21a0e112-2"})(["margin-top:0;"]),TZ=ie(zye).withConfig({displayName:"StyledMessage",componentId:"sc-21a0e112-3"})(["margin-top:0;"]);function Y1t(t){let{isHeadlessSigning:e,walletProxy:r,initializeWalletProxy:n,recoverEmbeddedWallet:i,openModal:s,privy:o,solanaWallets:a,client:l}=bt(),{user:c}=x3(),u=Dh(),{setModalData:h}=It(),{signWithUserSigner:f}=FD();return X1("signSolanaMessage",t),{signMessage:({message:p,options:m})=>new Promise((async(v,w)=>{let b=m?.address?Pl(c,m.address):yg(c);if(!b&&m?.address){let P=a.find((F=>F.address===m.address&&F.walletClientType!=="privy"));if(P)try{let F=await P.signMessage(p);u("signSolanaMessage","onSuccess",{signature:F}),v(F)}catch(F){u("signSolanaMessage","onError",ye.UNABLE_TO_SIGN),w(F)}}if(!b)return u("signSolanaMessage","onError",ye.UNABLE_TO_SIGN),void w(Error("No embedded or connected wallet found for address."));if(!c)return u("signSolanaMessage","onError",ye.MUST_BE_AUTHENTICATED),void w(Error("User must be authenticated before signing with a Privy wallet"));let{entropyId:E,entropyIdVerifier:_}=js(c,b),A=as(b),C=uo(p).toString("base64");if(C.length<1)return u("signMessage","onError",ye.INVALID_MESSAGE),void w(Error("Message must be a non-empty string"));let k=async()=>{let P;if(!c)throw Error("User must be authenticated before signing with a Privy wallet");let F=await l.getAccessToken();if(!F)throw Error("User must be authenticated to use their embedded wallet.");let N=r??await n(15e3);if(!N)throw Error("Failed to initialize embedded wallet proxy.");if(!await i({address:b.address}))throw Error("Unable to connect to wallet");if(A){let $=await Ao(o,f,{chain_type:"solana",method:"signMessage",params:{message:C,encoding:"base64"},wallet_id:b.id});if(!$.data||!("signature"in $.data))throw Error("Failed to sign message");P=$.data.signature}else{let{response:$}=await N.rpc({accessToken:F,entropyId:E,entropyIdVerifier:_,chainType:"solana",hdWalletIndex:b.walletIndex??0,request:{method:"signMessage",params:{message:C}}});P=$.data.signature}return P};if(e({showWalletUIs:m?.uiOptions?.showWalletUIs}))try{let P=await k(),F=new Uint8Array(uo(P,"base64"));u("signSolanaMessage","onSuccess",{signature:F}),v(F)}catch(P){w(P)}else h({signMessage:{method:"solana_signMessage",data:C,confirmAndSign:k,onSuccess:P=>{let F=new Uint8Array(uo(P,"base64"));u("signSolanaMessage","onSuccess",{signature:F}),v(F)},onFailure:P=>{w(P)},uiOptions:m?.uiOptions},connectWallet:{recoveryMethod:b.recoveryMethod,connectingWalletAddress:b.address,entropyId:E,entropyIdVerifier:_,isUnifiedWallet:A,onCompleteNavigateTo:uj,onFailure:P=>{u("signSolanaMessage","onError",ye.UNKNOWN_CONNECT_WALLET_ERROR),w(P)}}}),s(Tf)}))}}const _3=()=>{let{client:t,exportSolanaWallet:e,solanaWallets:r,walletProxy:n,recoverEmbeddedWallet:i,privy:s}=bt(),{sendTransaction:o}=M1t(),{signMessage:a}=Y1t(),{create:l}=wye(),{signWithUserSigner:c}=FD(),{user:u}=x3(),{ready:h}=pu(),f=x.useMemo((()=>{if(!n)return r;let p=[...Yce(u),WE(u)].filter((m=>!!m)).map((m=>({type:"solana",imported:m.imported,address:m.address,connectedAt:Date.now(),walletClientType:"privy",connectorType:"embedded",walletIndex:m.walletIndex??void 0,meta:{name:"Privy Wallet",icon:void 0,id:"io.privy.solana.wallet"},linked:!0,fund(){throw new fe("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:()=>{throw new fe("Cannot unlink an embedded Solana wallet")},async getProvider(){return new Jmt(n,m.address,this.signMessage)},signMessage:async v=>await a({message:v,options:{address:m.address,uiOptions:{showWalletUIs:!1}}}),async sendTransaction(v,w,b){let{signature:E}=await o({transaction:v,connection:w,transactionOptions:b,address:m.address});return E},async signTransaction(v){let w=await t.getAccessToken();if(!w||!n)throw new fe("Must have valid access token and Privy wallet to send transaction",ye.MUST_BE_AUTHENTICATED);if(!await i({address:m.address}).catch((()=>!1)))throw new fe("Wallet couldn't be connected",ye.UNKNOWN_CONNECT_WALLET_ERROR);let{entropyId:b,entropyIdVerifier:E}=js(u,m);if(as(m)){let _=ap(v)?uo(v.message.serialize()):v.serializeMessage(),A=await Ao(s,c,{chain_type:"solana",method:"signMessage",params:{message:_.toString("base64"),encoding:"base64"},wallet_id:m.id});if(A.data&&"signature"in A.data)return v.addSignature(SC(v,m.address),uo(A.data.signature,"base64")),v;throw Error("Failed to sign transaction")}return await sj({tx:v,accessToken:w,walletProxy:n,entropyId:b,entropyIdVerifier:E,transactingWalletAddress:m.address,transactingWalletIndex:m.walletIndex??0})},async signAllTransactions(v){let w=await t.getAccessToken();if(!w||!n)throw new fe("Must have valid access token and Privy wallet to send transaction",ye.MUST_BE_AUTHENTICATED);if(!await i({address:m.address}).catch((()=>!1)))throw new fe("Wallet couldn't be connected",ye.UNKNOWN_CONNECT_WALLET_ERROR);let{entropyId:b,entropyIdVerifier:E}=js(u,m);if(as(m))return await Promise.all(v.map((async _=>{let A=ap(_)?uo(_.message.serialize()):_.serializeMessage(),C=await Ao(s,c,{chain_type:"solana",method:"signMessage",params:{message:A.toString("base64"),encoding:"base64"},wallet_id:m.id});if(C.data&&"signature"in C.data)return _.addSignature(SC(_,m.address),uo(C.data.signature,"base64")),_;throw Error("Failed to sign transaction")})));for(let _ of v)await sj({tx:_,accessToken:w,walletProxy:n,entropyId:b,entropyIdVerifier:E,transactingWalletAddress:m.address,transactingWalletIndex:m.walletIndex??0});return v},loginOrLink:async()=>{throw new fe("Cannot login or link with an embedded Solana wallet")},disconnect:()=>{},isConnected:async()=>!0})));return r.concat(p)}),[u,n,t,r]);return{ready:!(!h||!n),createWallet:async p=>{p&&"target"in p&&p&&(p=void 0);let{account:m}=await l({chainType:"solana",options:p});return m},exportWallet:e,wallets:f}},jC={component:()=>{let{wallets:t}=pu(),{wallets:e}=_3(),{data:r,setModalData:n,navigate:i,lastScreen:s}=It(),{rpcConfig:o,appId:a,createAnalyticsEvent:l,closePrivyModal:c}=bt(),u=zr(),[h,f]=x.useState(void 0),[p,m]=x.useState(!1),v=ev(),w=r?.funding,{reloadBalance:b}=vye({rpcConfig:o,appId:a,address:w.chainType==="ethereum"?w.address:void 0,chain:w.chainType==="ethereum"?w.chain:void 0}),E=w.chainType==="solana",_=E?w.isUSDC?"USDC":"SOL":w.erc20Address?w.erc20ContractInfo?.symbol:w.chain.nativeCurrency.symbol,A=E?e.find((({address:$})=>$===w.address)):t.find((({address:$})=>Fs($)===Fs(w.address)));if(!w)return n({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:s||ga},funding:r?.funding,solanaFundingData:r?.solanaFundingData,sendTransaction:r?.sendTransaction}),i(zn),d.jsx(d.Fragment,{});x.useEffect((()=>{let $=E?async function(){if(w.chainType!=="solana")return;let O=v(b3);O?(w.isUSDC?O.getTokenBalance({address:w.address,cluster:w.cluster,mintAddress:M4[w.cluster.name]}).then((({amount:D})=>D)):O.getBalance({address:w.address,cluster:w.cluster})).then((D=>{let T=BigInt(D);h&&T>h&&(m(!0),l({eventName:lu,payload:{provider:"manual",status:"success",chainType:"solana",address:A?.address,value:w.isUSDC?Ni(T-h,6):Ni(T-h,9),token:w.isUSDC?"USDC":"SOL"}})),f(T)})):console.warn("Unable to load solana plugin, skipping balance")}:async function(){w.chainType==="ethereum"&&(async()=>{if(!w.erc20Address)return await b()??BigInt(0);{let{balance:O}=await LL({chain:w.chain,address:w.address,erc20Address:w.erc20Address,rpcConfig:o,appId:a});return O}})().then((O=>{h&&O>h&&(m(!0),l({eventName:lu,payload:{provider:"manual",status:"success",chainType:"ethereum",address:A?.address,chainId:w.chain.id,value:Ni(O-h,w.erc20ContractInfo?.decimals??18),token:w.erc20ContractInfo?.symbol??w.erc20Address??"ETH"}})),f(O)})).catch((()=>f(void 0)))},U=setInterval($,2e3);return $(),()=>clearInterval(U)}),[h]);let C=x.useMemo((()=>h==null?"":w.isUSDC?Co({amount:h,decimals:6}):E?Jf(h,3,!0,!0):w.erc20ContractInfo?.decimals!=null?Co({amount:h,decimals:w.erc20ContractInfo.decimals}):gRe({wei:h})),[h,E,w]),k=w.chainType==="ethereum"?w.chain.name:X1t[w.cluster.name],P=x.useMemo((()=>w.uiConfig?.receiveFundsTitle===""?null:d.jsx(Th,{children:w.uiConfig?.receiveFundsTitle??`Receive ${w.amount} ${_??""}`.trim()})),[w.uiConfig?.receiveFundsTitle,w.amount,_]),F=x.useMemo((()=>w.uiConfig?.receiveFundsSubtitle===""?null:d.jsx(lp,{children:w.uiConfig?.receiveFundsSubtitle??`Scan this code or copy your wallet address to receive funds on ${k}.`})),[w.uiConfig?.receiveFundsSubtitle,k]),N=w.chainType==="solana"&&w.isUSDC&&M4[w.cluster.name]?`?spl-token=${M4[w.cluster.name]}`:"";return d.jsxs(d.Fragment,{children:[d.jsx(ma,{}),P,F,d.jsxs(H8,{style:{gap:"1rem",margin:P||F?"1rem 0":"0"},children:[d.jsx(v3,{url:`${w.chainType}:${w.address}${N}`,size:200,squareLogoElement:J1t}),d.jsxs(mye,{theme:u.appearance.palette.colorScheme,children:["Make sure to send funds on ",k,"."]}),d.jsx(ok,{title:"Your wallet",errMsg:void 0,showCopyButton:!0,balance:`${C} ${_}`,address:w.address}),p&&d.jsx(an,{onClick:()=>c({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),d.jsx(Ur,{})]})}};let J1t=({...t})=>d.jsx(Sge,{color:"black",...t}),X1t={devnet:"Devnet","mainnet-beta":"Solana",testnet:"Testnet"},Q1t=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],Z1t=ie.div.withConfig({displayName:"Container",componentId:"sc-b3a607dd-0"})(["display:flex;flex-direction:column;min-height:72px;"]);var evt=({onBack:t,details:e})=>d.jsxs(Z1t,{children:[d.jsx(xr,{backFn:t}),d.jsx(qye,{data:e}),d.jsx(Ur,{})]});let tvt=({gasUsed:t,effectiveGasPrice:e})=>{if(t&&e)try{return Fn(t*e)}catch{return}};const rvt=({txn:t,receipt:e,transactionInfo:r,onClose:n,tokenPrice:i,tokenSymbol:s,receiptHeader:o,receiptDescription:a})=>d.jsxs(d.Fragment,{children:[d.jsx(xr,{onClose:n}),d.jsx(zpt,{title:o??"Transaction complete!",description:a??"You're all set."}),d.jsx(ime,{tokenPrice:i,from:e.from,to:e.to,gas:tvt(e),txn:t,transactionInfo:r,tokenSymbol:s}),d.jsx(op,{}),d.jsx(nvt,{loading:!1,onClick:n,children:"All Done"}),d.jsx(ol,{}),d.jsx(Ur,{})]});let nvt=ie(an).withConfig({displayName:"SubmitButton",componentId:"sc-f70d0f7a-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const ivt=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],svt=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],ovt=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],avt=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],lvt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],cvt=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],uvt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],dvt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],hvt=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Wye=(t,e)=>{let r=Ld(ovt,t);if(r)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:r.args[0],amount:r.args[1]};let n=Ld(oj,t);if(n)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:n.args[0],amount:n.args[1]};if(!e)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let i=Ld(ivt,t);if(i&&typeof i.args[1]=="string"){let h=fvt(i.args[1]);if(h&&h[4].encodedInitData)return Wye(h[4].encodedInitData,e)}let s=Ld(cvt,t);if(s)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:s.args[0],approved:s.args[1]};let o=Ld(uvt,t);if(o)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenId:o.args[2]};let a=Ld(lvt,t);if(a)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:a.args[0],transferTo:a.args[1],tokenId:a.args[2]};let l=Ld(hvt,t);if(l)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:l.args[0],transferTo:l.args[1],tokenId:l.args[2],amount:l.args[3]};let c=Ld(dvt,t);if(c)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:c.args[0],transferTo:c.args[1],tokenIds:c.args[2],amounts:c.args[3]};let u=Ld(avt,t);return u?{action:"mint",functionName:u.functionName,isNFTIsh:!0,isErc20Ish:!1,args:u.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}};let Ld=(t,e)=>{try{let r=aoe({abi:t,data:e});return{functionName:r.functionName,args:r.args||[]}}catch{return null}},fvt=t=>{try{if(typeof t=="string")return T1(svt,`0x${t.slice(10)}`)}catch{return null}},H7=t=>`${parseFloat(t).toFixed(2)}`;const pvt=(t,e,r,n)=>{let[i,s]=x.useState(null),{walletProxy:o}=bt();return x.useEffect((()=>{i&&s(null),(async()=>{if(!o||!e)return null;let a=[],l=!0,c=await AC(t,r,e,n).catch((u=>(u.message&&u.message.includes("Insufficient balance for transaction")||u.details&&u.details.includes("insufficient funds")?l=!1:a.push(u),t)));return{tx:c,totalGasEstimate:c.gas,hasFunds:l,errors:a}})().then(s)}),[t]),i};let IZ=new no(new Uy("There was an issue preparing your transaction",Lc.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),PZ=(t,e)=>t?.sendTransaction?"transactionRequest"in t.sendTransaction?t.sendTransaction.transactionRequest:t.sendTransaction.transactionRequests[e]:void 0;const Hye={component:()=>{let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:r,navigate:n}=It(),{client:i,rpcConfig:s,chains:o,closePrivyModal:a,walletProxy:l,showFiatPrices:c}=bt(),{user:u}=Pr(),h=zr(),[f,p]=x.useState(0),[m,v]=x.useState(0),[w,b]=x.useState(PZ(t,f)),[E,_]=x.useState(null),[A,C]=x.useState(),[k,P]=x.useState(!1),[F,N]=x.useState(null),[$,U]=x.useState(null),[O,D]=x.useState(null),[T,I]=x.useState(void 0),[R,L]=x.useState(void 0),[B,q]=x.useState(!1),[G,W]=x.useState(!1),[j,Y]=x.useState([]),[Q,z]=x.useState([]),[Z,ee]=x.useState("uninitiated"),[te,se]=x.useState(void 0);if(!w||!t?.sendTransaction||!t?.sendTransaction)return d.jsx(y3,{error:Error("Invalid transaction request"),allowlistConfig:h.allowlistConfig,onRetry:()=>{t?.sendTransaction?.onFailure(IZ),a({shouldCallAuthOnSuccess:!1})}});let{transactingWalletAddress:ce}=t.sendTransaction,ge=x.useMemo((()=>o.find((Se=>Number(Se.id)===Number(w.chainId)))),[w.chainId]),ae=ge?.nativeCurrency.symbol??"ETH",_e=x.useMemo((()=>Wye(w.data,!!h.embeddedWallets.extendedCalldataDecoding)),[w.data]),{action:Ee,isErc20Ish:Ie,isNFTIsh:qe,functionName:me}=_e,{toAddress:ze,tokenAddress:rt}=x.useMemo((()=>({toAddress:_e.isErc20Ish?_e.transferTo:w.to??void 0,tokenAddress:_e.isErc20Ish?w.to:void 0})),[_e]);x.useEffect((()=>{w.to&&ge&&Ie&&Rye({address:w.to,chain:ge,rpcConfig:h.rpcConfig,privyAppId:h.id}).then(_).catch(console.error)}),[w.to,ge]);let{tokenPrice:Ae,isTokenPriceLoading:Fe}=Q1(w.chainId),{balance:nt}=vye({rpcConfig:h.rpcConfig,appId:h.id,address:ce,chain:ge}),_t=(function({rpcConfig:Se,appId:Me,address:Je,chain:Ue,tokenInfo:vt}){let{chains:tr}=bt(),[$t,X]=x.useState(null),[ne,oe]=x.useState(!1),le=x.useMemo((()=>{let be=Ue||tr[0];if(be)return eu({chain:Ue,transport:cd(z$e(be,Se,Me))})}),[Ue,Se,Me]),ve=x.useCallback((async()=>{if(Je&&le&&vt.address)try{return oe(!0),await le.readContract({address:vt.address,abi:Q1t,functionName:"balanceOf",args:[Je]})}catch(be){console.error(be)}finally{oe(!1)}}),[le,Je,vt?.address,Ue]);return x.useEffect((()=>{ve().then((be=>be!=null&&X(be)))}),[ve]),{balance:$t,isLoading:ne&&$t==null,formattedBalance:Co({amount:$t??BigInt(0),decimals:vt.decimals})}})({rpcConfig:h.rpcConfig,appId:h.id,address:ce,tokenInfo:{address:rt||"",decimals:E?.decimals??18},chain:ge}),Ye=x.useMemo((()=>h1(Number(w.chainId),o,s,{appId:h.id})),[w.chainId,s]),wt=pvt(w,ce,Ye,t?.sendTransaction?.prepareTransactionRequest);x.useEffect((()=>{b(PZ(t,f))}),[f]),x.useEffect((()=>{t.sendTransaction?.getIsSponsored?t.sendTransaction.getIsSponsored().then(C).catch(console.error):C(!1)}),[t.sendTransaction.getIsSponsored]);let xt=()=>{if(!k)return F?t?.sendTransaction?.onSuccess({hash:F}):O||wt?.errors[0]?t?.sendTransaction?.onFailure(O??wt?.errors[0]??IZ):t?.sendTransaction?.onFailure(new no(new Uy("The user rejected the request",Lc.E4001_USER_REJECTED_REQUEST.eipCode))),a({shouldCallAuthOnSuccess:!1})};e.current=xt;let Le=!!(t.funding&&t.funding.supportedOptions.length>0),Ke=Kc(BigInt(wt?.totalGasEstimate??0n),ae),Qe=c&&Ae?j0(BigInt(wt?.totalGasEstimate??0n),Ae):void 0,it=Kc(nt??0n,ae,void 0,!0),st=c&&Ae?j0(nt??0n,Ae):void 0,pt=E&&!_t.isLoading&&Ie&&Ee!=="approve"?`${_t.formattedBalance} ${E.symbol}`:void 0,Ze=t.sendTransaction?.uiOptions?.transactionInfo?.title;Ze||(Ze=Ee==="approve"?Ie?"Confirm address":"Confirm action":`Approve ${Ee}`);let Mt=x.useMemo((()=>{if(t.sendTransaction?.uiOptions?.description)return t.sendTransaction?.uiOptions?.description;if(Ee==="approve"&&me==="setApprovalForAll"&&_e.approved){let Se=d.jsx(Sr,{address:_e.operator||"",url:ge?.blockExplorers?.default?.url});return d.jsxs(d.Fragment,{children:[h.name," would like your permission for ",Se," to transfer tokens on your behalf."]})}if(Ee==="approve"&&me==="setApprovalForAll"&&!_e.approved){let Se=d.jsx(Sr,{address:_e.operator||"",url:ge?.blockExplorers?.default?.url});return d.jsxs(d.Fragment,{children:[h.name," would like your permission to revoke permissions of ",Se," from transferring tokens on your behalf."]})}return Ie&&Ee==="approve"||Ie&&Ee==="approve"?`${h.name} would like your permission for ${Fs(_e.spender)} to spend tokens on your behalf.`:`${h.name} wants your permission to approve the following transaction.`}),[h.name,Ie,_e,t.sendSolanaTransaction?.uiOptions.description,me]),yt=t.sendTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl?d.jsx("img",{src:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,ue=!(!wt||wt.errors[0]||wt.hasFunds||A!==!1),we=ue&&Le,Re=we?"Add funds":t.sendTransaction?.uiOptions?.buttonText||(f<m?"Continue":"Approve"),Ne=Se=>{if(!Se)throw Error("Transaction scan failed");if(Se.validation.status==="Success"&&(Se.validation.result_type==="Benign"?L("safe"):Se.validation.result_type==="Warning"?L("warn"):Se.validation.result_type==="Malicious"&&(L("error"),W(!0))),Se.simulation.status!=="Success")throw Error("Simulation failed");{I(Se.simulation.params);let{assetsIn:Me,assetsOut:Je}=(function(Ue,vt){let tr=[],$t=new Map;if(Ue){for(let X of Ue)if(X.in[0]){let ne;ne=X.asset.type==="ERC721"||X.in[0].value==="approve_for_all"?{id:`nft:${X.asset.name}`,nftName:X.asset.name,nftCount:X.in.length}:{id:`token:${X.asset.type}:${X.asset.symbol}:${X.asset.name}`,iconUrl:X.asset.logo_url,value:X.in[0].value,symbol:X.asset.symbol,usdValue:X.in[0].usd_price?H7(X.in[0].usd_price):void 0,decimals:X.asset.decimals},tr.push(ne)}else if(X.out[0]?.value){let ne;ne=X.asset.type==="ERC721"||X.out[0].value==="approve_for_all"?{id:`nft:${X.asset.name}`,nftName:X.asset.name}:{id:`token:${X.asset.type}:${X.asset.symbol}:${X.asset.name}`,iconUrl:X.asset.logo_url,value:X.out[0].value,symbol:X.asset.symbol,usdValue:X.out[0].usd_price?H7(X.out[0].usd_price):void 0,decimals:X.asset.decimals},$t.has(ne.id)||$t.set(ne.id,ne)}}for(let X of vt)for(let ne of Object.keys(X.spenders)){let oe;oe=X.asset.type==="ERC721"||X.spenders[ne]?.value==="approve_for_all"?{id:`nft:${X.asset.name}`,nftName:X.asset.name}:{id:`token:${X.asset.type}:${X.asset.symbol}:${X.asset.name}`,iconUrl:X.asset.logo_url,value:X.spenders[ne]?.value,symbol:X.asset.symbol,usdValue:X.spenders[ne]?.usd_price?H7(X.spenders[ne]?.usd_price):void 0,decimals:X.asset.decimals},$t.has(oe.id)||$t.set(oe.id,oe)}return{assetsIn:tr,assetsOut:Array.from($t.values())}})(Se.simulation.assets_diffs,Se.simulation.exposures);if(Je.length===0&&Me.length===0)throw Error("No tokens found");Y(Je),z(Me)}};if(x.useEffect((()=>{t.sendTransaction?.scanTransaction&&h.embeddedWallets.transactionScanning.enabled&&Z==="uninitiated"&&(ee("in progress"),t.sendTransaction.scanTransaction().then((Se=>{Ne(Se),ee("completed")})).catch((()=>ee("failed"))))}),[!!t.sendTransaction?.scanTransaction]),x.useEffect((()=>{t.sendTransaction?.scanTransaction&&Z!=="failed"||((Se,Me,Je)=>{if(v((Ue=>Ue?.sendTransaction?"transactionRequest"in Ue.sendTransaction?0:Ue.sendTransaction.transactionRequests.length-1:0)(t)),Me.isErc20Ish&&Me.amount&&Je){let Ue=OC({amount:Me.amount,decimals:Je.decimals});se(Ue),Y([{value:Ue,symbol:Je?.symbol,decimals:Je?.decimals}])}else if(Se.value){let Ue=BigInt(Se.value),vt=Ae?j0(Ue,Ae):void 0;Y(c&&vt?[{value:vt}]:[{value:Gge(Ue),symbol:ae,decimals:18,usdValue:vt}])}else Y(c?[{value:"$0"}]:[{value:"0",symbol:ae,decimals:18}])})(wt?.tx??w,_e,E)}),[w,wt?.tx,_e,E,Z]),$)return d.jsx(rvt,{txn:wt?.tx??w,onClose:xt,receipt:$,transactionInfo:t.sendTransaction?.uiOptions.transactionInfo,tokenPrice:Ae,tokenSymbol:ae,receiptHeader:t.sendTransaction?.uiOptions.successHeader,receiptDescription:t.sendTransaction?.uiOptions.successDescription});if(O)return d.jsx(Bye,{transactionError:O,transactionHash:F??void 0,network:"ethereum",chainId:wt?.tx.chainId??w.chainId,onClose:xt,onRetry:({resetNonce:Se})=>{D(null);let Me={...wt?.tx??w};Se&&(Me.nonce=void 0),b(Me)}});let Ve=m!==0&&typeof f=="number"&&f!==0?()=>{p(f-1)}:void 0;return B&&T?d.jsx(evt,{details:T,onBack:()=>q(!1)}):d.jsx(p1t,{transactionIndex:f,onBack:Ve,maxIndex:m,disabled:ue&&!Le||G,isSubmitting:k,submitError:O,isPreparing:!wt,isTokenPriceLoading:Fe,isTokenContractInfoLoading:!qe&&!E,prepareError:wt?.errors[0],symbol:E?.symbol,chain:ge,img:yt,title:Ze,subtitle:Mt,txValue:w.value,fee:Qe??Ke,isSponsored:A,from:ce??"",to:ze,tokenAddress:rt??void 0,network:h.chains.find((Se=>Se.id===w.chainId))?.name??"",transactionDetails:{..._e,formattedAmount:te},cta:Re,missingFunds:ue,action:Ee,balance:pt??st??it,onClose:xt,onClick:we?async()=>{if(ce){if(!Le)throw Error("Funding wallet is not enabled");r({...t,funding:{...t.funding,methodScreen:ga,chainType:"ethereum",amount:gg(BigInt(wt?.tx.value??0)+BigInt(wt?.totalGasEstimate?.toString()??0)),chain:ge},solanaFundingData:t?.solanaFundingData}),n(ga)}}:async()=>{if(f<m)p(f+1);else{P(!0);try{let Se=await i.getAccessToken();if(k||!Se||!l||!u)return;let Me=await t.sendTransaction.onConfirm({transactionRequest:wt?.tx??w});if(N(Me),t.sendTransaction?.signOnly)return await new Promise((Ue=>setTimeout(Ue,Bn))),t?.sendTransaction?.onSuccess({hash:Me}),a({shouldCallAuthOnSuccess:!1});let Je=await Ye.waitForTransactionReceipt({hash:Me});if(Je.status==="reverted")throw Error("Transaction failed");U(Je)}catch(Se){console.warn({transaction:wt?.tx??w,error:Se}),D(Se)}finally{P(!1)}}},validation:R,hasScanDetails:!!T,setIsScanDetailsOpen:q,preventMaliciousTransaction:G,setPreventMaliciousTransaction:W,tokensSent:j,tokensReceived:Q,isScanning:Z==="in progress",isCancellable:t.sendTransaction?.uiOptions?.isCancellable??!1,functionName:me})}};function ma({title:t}){let{currentScreen:e,navigateBack:r,navigate:n,data:i,setModalData:s}=It();return d.jsx(xr,{title:t,backFn:e===jC?r:e===i?.funding?.methodScreen?i.funding.comingFromSendTransactionScreen?()=>n(Hye):void 0:i?.funding?.methodScreen?()=>{let o=i.funding;o.usingDefaultFundingMethod&&(o.usingDefaultFundingMethod=!1),s({funding:o,solanaFundingData:i?.solanaFundingData}),n(o.methodScreen)}:void 0})}const Vye={component:()=>{let{rpcConfig:t,appId:e,closePrivyModal:r,createAnalyticsEvent:n}=bt(),{navigate:i,setModalData:s,app:o,data:a}=It(),{wallets:l}=pu(),c=ev(),[u,h]=x.useState(null),[f,p]=x.useState(null),[m,v]=x.useState([]),[w,b]=x.useState(0),[E,_]=x.useState(!1),[A,C]=x.useState(!1),[k,P]=x.useState(!1),[F,N]=x.useState(!1),[$,U]=x.useState(),[O,D]=x.useState();if(!a?.funding||a.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:T,cluster:I,connectedWalletAddress:R}=a.funding,[L,B]=x.useState(a.funding.amount),q=R?l.find((({address:_e})=>_e===R)):l[0],G=Mh(q?.walletClientType||"unknown"),W=G?.name||"wallet",[j,Y]=x.useState(null);x.useEffect((()=>{(async()=>{if(!q)return;let _e=await q.getEthereumProvider();Y(mD({account:q.address,transport:PE(_e)}).extend(gD))})().catch(console.error)}),[q]);let[Q,z]=x.useState(0n),Z=Jf(Q);x.useEffect((()=>{let _e=c(b3);_e?_e.getBalance({address:T,cluster:I}).then((Ee=>z(BigInt(Ee)))):console.warn("Unable to load solana plugin, skipping balance")}),[]);let[ee,te]=x.useState(),{tokenPrice:se}=Q1("solana"),{fundingAmountInBaseUnit:ce,fundingAmountInUsd:ge}=Kge({amount:L,fee:0n,tokenPrice:se,isUsdc:a.funding.isUSDC});if(x.useEffect((()=>{(async()=>{if(!j||!q)return;let _e=["testnet","devnet"].includes(I.name);_e&&console.warn("Solana testnets are not supported for bridging");let Ee=bD(o.chains).filter((({testnet:rt})=>!!rt===_e)),Ie=(await xye({chains:Ee,address:q.address,appId:e,rpcConfig:t})).filter((rt=>rt.balance>0n));if(Ie.length<1)return void h(new fe(`Wallet ${Fs(q.address)} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE));Ie.sort(((rt,Ae)=>Number(Ae.balance-rt.balance)));let qe=(await Promise.allSettled(Ie.map((async rt=>({...rt,quote:await nx({isTestnet:!1,input:zy({amount:ce.toString(),user:q.address,recipient:T,destinationChainId:UO,destinationCurrency:BO,originChainId:rt.chain.id})})}))))).filter((rt=>rt.status==="fulfilled")).map((rt=>rt.value));if(qe.length<1)return void h(new fe(`Unable to fetch quotes for bridging. Wallet ${Fs(q.address)} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE));let me=qe.map((({quote:rt,balance:Ae,chain:Fe})=>({bridgeTx:$C(rt),balance:Ae,chain:Fe,isErc20Quote:!1}))).filter((({bridgeTx:rt})=>!!rt));if(me.length>1)return void v(me);let ze=me.at(0);ze?(C(!0),te({data:ze.bridgeTx.data,to:ze.bridgeTx.to,value:ze.bridgeTx.value,chain:ze.chain})):h(new fe(`Unable to select bridge option from quotes. Wallet ${Fs(q.address)} does not have enough funds.`,void 0,ye.INSUFFICIENT_BALANCE))})().catch(console.error)}),[j]),x.useEffect((()=>{(async()=>{let _e,Ee;if(!j||!q||E||k||!ee)return;_(!0);let Ie=eu({chain:ee.chain,transport:cd(kh(ee.chain,t,e))});try{_e=await Ie.prepareTransactionRequest({account:q.address,to:ee.to,chain:ee.chain,data:ee.data,value:BigInt(ee.value??0)})}catch(qe){console.error(qe),m.length>1&&p(qe.shortMessage??"Something went wrong")}if(_e){_(!1),P(!0);try{await j.switchChain({id:ee.chain.id})}catch{await j.addChain({chain:ee.chain}),await j.switchChain({id:ee.chain.id})}try{Ee=await j.sendTransaction(_e)}catch(qe){console.error(qe),qe.name==="TransactionExecutionError"&&(m.length<1?h(new fe(qe.shortMessage,void 0,ye.TRANSACTION_FAILURE)):p(qe.shortMessage??"Something went wrong"))}if(Ee)return await j.waitForTransactionReceipt({hash:Ee}),A?(D("pending"),void U(Ee)):(P(!1),N(!0),void n({eventName:lu,payload:{provider:"external",status:"success",txHash:Ee,address:q.address,chainId:ee.chain.id,chainType:"ethereum",value:ee.value?Ni(BigInt(ee.value),18):void 0,token:"ETH",destination:T,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:Ni(ce,9),destinationToken:"SOL"}}));P(!1)}else _(!1)})().catch(console.error)}),[j,ee]),FL({transactionHash:$,wallet:q,isTestnet:!1,bridgingStatus:O,setBridgingStatus:D,onSuccess({transactionHash:_e,wallet:Ee}){C(!1),N(!0),n({eventName:lu,payload:{provider:"external",status:"success",txHash:_e,address:Ee.address,chainId:ee?.chain.id,chainType:"ethereum",value:ee?.value?Ni(BigInt(ee.value),18):void 0,token:"ETH",destination:T,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:Ni(ce,9),destinationToken:"SOL"}})},onFailure({error:_e}){C(!1),h(_e)}}),x.useEffect((()=>{u&&(s({funding:a?.funding,solanaFundingData:a?.solanaFundingData,sendTransaction:a?.sendTransaction,errorModalData:{error:u,previousScreen:rv}}),i(zn,!1))}),[u]),x.useEffect((()=>{if(!F)return;let _e=setTimeout(r,F8);return()=>clearTimeout(_e)}),[F]),F)return d.jsxs(d.Fragment,{children:[d.jsx(ma,{}),d.jsx(fu,{}),d.jsxs(p3,{children:[d.jsx(Y1,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),d.jsx(tl,{title:"Success!",description:`Youve successfully added ${L} SOL to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),d.jsx(ol,{}),d.jsx(Ur,{})]});let ae=m[w];return m.length>1&&ae?d.jsx(Iye,{displayName:W,configuredFundingChain:I,formattedBalance:Z,fundingAmount:L,fundingCurrency:"SOL",fundingAmountInUsd:ge,options:m,selectedOption:ae,isPreparing:E,isSubmitting:k,addressToFund:T,fundingWalletAddress:q?.address||"",errorMessage:f,onSubmit:()=>{a.funding?.amount!==L?(async function(){if(q&&ae)try{let _e=await nx({isTestnet:!1,input:zy({amount:ce.toString(),user:q.address,recipient:T,destinationChainId:UO,destinationCurrency:BO,originChainId:ae.chain.id})}),Ee=$C(_e);if(!Ee)throw Error("Invalid transaction request");C(!0),te({data:Ee.data,to:Ee.to,value:Ee.value,chain:ae.chain})}catch(_e){console.error(_e),h(new fe("Unable to fetch quotes for bridging",_e,ye.INSUFFICIENT_BALANCE))}})().catch(console.error):te({to:ae.bridgeTx.to,data:ae.bridgeTx.data,value:ae.bridgeTx.value,chain:ae.chain})},onSelect:_e=>{_e!==w&&(p(null),b(_e))},onAmountChange:B}):k&&q?d.jsx(ak,{wallet:q,displayName:W,addressToFund:T,isBridging:A,isErc20Flow:!1,chainId:"solana",chainName:I.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):d.jsxs(d.Fragment,{children:[d.jsx(ma,{}),d.jsx(Pg,{}),d.jsx("div",{style:{marginTop:"1rem"}}),d.jsx(Ur,{})]})}},V7=new Map([[ga,null],[rv,"external"],[Pye,"external"],[BL,"external"],[Vye,"external"],[$ye,"external"],[jC,"manual"],[Oye,"moonpay"]]),gvt=()=>{let t=zr(),{user:e}=Pr(),{client:r,refreshSessionAndUser:n,walletProxy:i}=bt();return{migrate:x.useCallback((async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0};if(!e)throw new fe("User must be authenticated before migrating wallets",ye.MUST_BE_AUTHENTICATED);let s=Kl(e);if(!s||as(s)||!p1(s))return{success:!0};if(!i)throw new fe("Cannot connect to wallet proxy");let o=await r.getAccessToken();if(!o)throw new fe("User must be authenticated before migrating wallets",ye.MUST_BE_AUTHENTICATED);let a=s.imported?[s]:e.linkedAccounts.filter((u=>u.type==="wallet"&&u.walletClientType==="privy"&&!u.imported)).filter(p1),{entropyId:l,entropyIdVerifier:c}=js(e,s);try{await i.connect({accessToken:o,entropyId:l,entropyIdVerifier:c})}catch(u){if(!rx(u)||s.recoveryMethod!=="privy")throw u;await i.recover({accessToken:o,entropyId:l,entropyIdVerifier:c})}return await i.createDelegatedAction({accessToken:o,rootWallet:{address:s.address,chainType:s.chainType,imported:s.imported},delegatedWallets:a}),await n(),{success:!0}}),[t.embeddedWallets.mode,e,i,r,n])}},mvt=({disabled:t})=>{let{migrate:e}=gvt(),{user:r}=Pr(),{walletProxy:n}=bt();return x.useEffect((()=>{!t&&r&&n&&e().catch((i=>{console.debug("Unable to migrate wallets: ",i)}))}),[r,n,t,e]),null},yvt=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type});function vvt(t){let{logout:e}=x.useContext(j1);return X1("logout",t),{logout:e}}const wvt=({providerApp:t,success:e,error:r,onClose:n})=>{let{title:i,subtitle:s}=x.useMemo((()=>e?{title:`Successfully connected with ${t.name}`,subtitle:"You're good to go!"}:r?{title:"Authentication failed",subtitle:r.message}:{title:`Connecting to ${t.name}`,subtitle:`Please check the pop-up from ${t.name} to continue`}),[e,r,t.name]);return d.jsx(Mr,{title:i,subtitle:s,icon:t.logoUrl,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!r},onBack:n,watermark:!0})},bvt={component:()=>{let t=zr(),{data:e,navigate:r,setModalData:n,onUserCloseViaDialogOrKeybindRef:i}=It(),{crossAppAuthFlow:s,updateWallets:o,closePrivyModal:a,createAnalyticsEvent:l}=bt(),{logout:c}=vvt(),[u,h]=x.useState({}),f=e?.crossAppAuth,p={id:f.appId,name:f.name,logoUrl:f.logoUrl},m=new fe(`There was an issue connecting your ${p.name} account. Please try again.`),v=new No((async b=>{if(f.popup)try{let E=await s({appId:b,popup:f.popup,action:f.action});h({data:E})}catch(E){if(E instanceof fe)h({error:E});else if(E instanceof za){if(E.privyErrorCode===ye.ACCOUNT_TRANSFER_REQUIRED&&E.data?.data?.nonce)return n({accountTransfer:{nonce:E.data?.data?.nonce,account:E.data?.data?.subject,displayName:E.data?.data?.account?.displayName,linkMethod:`privy:${p.id}`,embeddedWalletAddress:E.data?.data?.otherUser?.embeddedWalletAddress,oAuthUserInfo:E.data?.data?.otherUser?.oAuthUserInfo}}),void r($g);f.popup&&f.popup.close(),h({error:m})}else h({error:m})}else h({error:m})})),w=()=>{u.data&&(o(),f.onSuccess(u.data),a({shouldCallAuthOnSuccess:!0,isSuccess:!0})),f.onError(u.error??new fe("User canceled flow")),a({shouldCallAuthOnSuccess:!1,isSuccess:!1})};return i.current=w,x.useEffect((()=>{p.id.length&&v.execute(p.id)}),[p.id]),x.useEffect((()=>{if(!u.data)return;let b=u.data;if(t.legal.requireUsersAcceptTerms&&!b.hasAcceptedTerms){let _=setTimeout((()=>{r(Ng)}),Bn);return()=>clearTimeout(_)}if(_p(b,t.embeddedWallets)){let _=setTimeout((()=>{n({createWallet:{onSuccess:()=>{},onFailure:A=>{console.error(A),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:A,provider:`privy:${p.id}`,screen:"CrossAppAuthScreen"}}),c()},callAuthOnSuccessOnClose:!0}}),r(Fh)}),Bn);return()=>clearTimeout(_)}let E=setTimeout(w,Bn);return()=>clearTimeout(E)}),[u.data]),d.jsx(wvt,{providerApp:p,success:!!u.data,error:u.error,onClose:w})}},xvt=({appName:t,address:e,success:r,error:n,onAccept:i,onDecline:s,onClose:o})=>d.jsx(Mr,r||n?{title:n?"Something went wrong":"Success!",subtitle:n?"Please try again.":`You've successfully granted delegated action permissions to ${t}.`,icon:n?Uhe:e3,iconVariant:n?"error":"success",onBack:o,watermark:!0}:{title:"Enable offline access",subtitle:`By confirming, ${t} will be able to use your wallet for you even when you're not around. You can revoke this later.`,icon:rWe,primaryCta:{label:"Accept",onClick:i},secondaryCta:{label:"Not now",onClick:s},onBack:o,watermark:!0,children:d.jsx(ok,{address:e,title:"Wallet"})}),_vt={component:()=>{let{app:t,data:e}=It(),{closePrivyModal:r}=bt(),[n,i]=x.useState(!1),[s,o]=x.useState(),{address:a,onDelegate:l,onSuccess:c,onError:u}=e.delegatedActions.consent,h=async()=>{n?c():u(s??new fe("User declined delegating actions.")),r({shouldCallAuthOnSuccess:!1})};return x.useEffect((()=>{if(!n&&!s)return;let f=setTimeout(h,lL);return()=>clearTimeout(f)}),[n,s]),d.jsx(xvt,{appName:t.name,address:a,success:n,error:s,onAccept:async()=>{try{await l(),i(!0)}catch(f){o(f)}},onDecline:()=>{h()},onClose:h})}},Cvt=({appName:t,success:e,error:r,onRevoke:n,onDeny:i,onClose:s})=>d.jsx(Mr,e||r?{title:r?"Something went wrong":"Success!",subtitle:r?"Please try again.":"You've successfully revoked permissions.",icon:r?Uhe:e3,iconVariant:r?"error":"success",onBack:s,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${t} will no longer be able to use this wallet on your behalf when you are not online.`,icon:Zqe,primaryCta:{label:"Confirm",onClick:n},secondaryCta:{label:"Deny",onClick:i},onBack:s,watermark:!0}),Evt={component:()=>{let{app:t,data:e}=It(),{closePrivyModal:r}=bt(),[n,i]=x.useState(!1),[s,o]=x.useState(),{onRevoke:a,onSuccess:l,onError:c}=e.delegatedActions.revoke,u=async()=>{n?l():c(s??new fe("User declined revoking access to their delegated wallet.")),r({shouldCallAuthOnSuccess:!1})};return x.useEffect((()=>{if(!n&&!s)return;let h=setTimeout(u,lL);return()=>clearTimeout(h)}),[n,s]),d.jsx(Cvt,{appName:t.name,success:n,error:s,onRevoke:async()=>{try{await a(),i(!0)}catch(h){o(h)}},onDeny:()=>{u()},onClose:u})}};let $Z="#8a63d2";const kvt=({appName:t,loading:e,success:r,errorMessage:n,connectUri:i,onBack:s,onClose:o,onOpenFarcaster:a})=>d.jsx(Mr,Vr.isMobile||e?Vr.isIOS?{title:n?n.message:"Add a signer to Farcaster",subtitle:n?n.detail:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,icon:M0,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},primaryCta:i&&a?{label:"Open Farcaster app",onClick:a}:void 0,onBack:s,onClose:o,watermark:!0}:{title:n?n.message:"Requesting signer from Farcaster",subtitle:n?n.detail:"This should only take a moment",icon:M0,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},onBack:s,onClose:o,watermark:!0,children:i&&Vr.isMobile&&d.jsx(Svt,{children:d.jsx(Yme,{text:"Take me to Farcaster",url:i,color:$Z})})}:{title:"Add a signer to Farcaster",subtitle:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,onBack:s,onClose:o,watermark:!0,children:d.jsxs(Avt,{children:[d.jsx(Tvt,{children:i?d.jsx(v3,{url:i,size:275,squareLogoElement:M0}):d.jsx($vt,{children:d.jsx(Ql,{})})}),d.jsxs(Ivt,{children:[d.jsx(Pvt,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),i&&d.jsx(zL,{text:i,itemName:"link",color:$Z})]})]})});let Svt=ie.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-da518e1f-0"})(["margin-top:24px;"]),Avt=ie.div.withConfig({displayName:"ContentContainer",componentId:"sc-da518e1f-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),Tvt=ie.div.withConfig({displayName:"QrContainer",componentId:"sc-da518e1f-2"})(["padding:24px;position:relative;display:flex;align-items:center;justify-content:center;min-height:275px;"]),Ivt=ie.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-da518e1f-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),Pvt=ie.div.withConfig({displayName:"InstructionText",componentId:"sc-da518e1f-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),$vt=ie.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-da518e1f-5"})(["position:relative;width:82px;height:82px;"]);const Nvt={component:()=>{let{lastScreen:t,navigateBack:e,data:r,app:n}=It(),{requestFarcasterSignerStatus:i,closePrivyModal:s}=bt(),[o,a]=x.useState(void 0),[l,c]=x.useState(!1),[u,h]=x.useState(!1),f=x.useRef([]),p=r?.farcasterSigner;x.useEffect((()=>{let v=Date.now(),w=setInterval((async()=>{if(!p?.public_key)return clearInterval(w),void a({retryable:!0,message:"Connect failed",detail:"Something went wrong. Please try again."});p.status==="approved"&&(clearInterval(w),c(!1),h(!0),f.current.push(setTimeout((()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0})),Bn)));let b=await i(p?.public_key),E=Date.now()-v;b.status==="approved"?(clearInterval(w),c(!1),h(!0),f.current.push(setTimeout((()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0})),Bn))):E>3e5?(clearInterval(w),a({retryable:!0,message:"Connect failed",detail:"The request timed out. Try again."})):b.status==="revoked"&&(clearInterval(w),a({retryable:!0,message:"Request rejected",detail:"The request was rejected. Please try again."}))}),2e3);return()=>{clearInterval(w),f.current.forEach((b=>clearTimeout(b)))}}),[]);let m=p?.status==="pending_approval"?p.signer_approval_url:void 0;return d.jsx(kvt,{appName:n.name,loading:l,success:u,errorMessage:o,connectUri:m,onBack:t?e:void 0,onClose:s,onOpenFarcaster:()=>{m&&(window.location.href=m)}})}},Rvt=({onClose:t})=>d.jsx(Mr,{title:"Could not log in with provider",subtitle:"It looks like you're using an in-app browser. To log in, please try again using an external browser.",icon:$R,primaryCta:{label:"Close",onClick:t},watermark:!0}),NZ={component:()=>{let{closePrivyModal:t}=bt();return d.jsx(Rvt,{onClose:()=>t()})}},Ovt=({title:t="Connect your email",subtitle:e="Add your email to your account"})=>d.jsx(Mr,{title:t,subtitle:e,icon:M8,watermark:!0,children:d.jsx(Zge,{children:d.jsx(oye,{stacked:!0})})}),jvt={component:()=>{let{app:t}=It();return d.jsx(Ovt,{subtitle:`Add your email to your ${t?.name} account`})}},Mvt=({title:t="Connect your phone",subtitle:e="Add your number to your account",onSubmit:r,isSubmitting:n=!1})=>{let[i,s]=x.useState(null),o=async()=>{i?.qualifiedPhoneNumber&&await r(i)};return d.jsx(Mr,{title:t,subtitle:e,icon:rp,primaryCta:{label:n?"Submitting":"Submit",onClick:o,disabled:!i?.isValid||n},watermark:!0,children:d.jsx(ik,{onChange:a=>{s(a)},onSubmit:o,noIncludeSubmitButton:!0,hideRecent:!0})})},qL={component:()=>{let{app:t,currentScreen:e,data:r,navigate:n,setModalData:i}=It(),{initLoginWithSms:s}=bt(),[o,a]=x.useState(!1);return d.jsx(Mvt,{subtitle:`Add your number to your ${t?.name} account`,onSubmit:async l=>{a(!0);try{await s({phoneNumber:l.qualifiedPhoneNumber,withPrivyUi:!0}),n(Ah)}catch(c){i({errorModalData:{error:c,previousScreen:r?.errorModalData?.previousScreen||e||qL}}),n(zn)}finally{a(!1)}},isSubmitting:o})}},Dvt=({title:t="Could not connect with wallet",subtitle:e="Please check that Phantom multichain is enabled and try again.",primaryCtaText:r="Try again",secondaryCtaText:n="Cancel",onTryAgain:i,onCancel:s})=>d.jsx(Mr,{title:t,subtitle:e,icon:v8,iconVariant:"error",primaryCta:{label:r,onClick:i},secondaryCta:{label:n,onClick:s},watermark:!0}),Fvt={component:()=>{let{closePrivyModal:t}=bt(),{navigate:e}=It();return d.jsx(Dvt,{onTryAgain:()=>{e(yo)},onCancel:async()=>{await t()}})}};function Gye(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:r,submitEnrollmentWithSms:n,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:o,enrollInMfa:a}=x.useContext(j1);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:r,submitEnrollmentWithSms:n,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>o("sms"),unenrollWithTotp:()=>o("totp"),unenrollWithPasskey:l=>o("passkey",l),showMfaEnrollmentModal:()=>a(!0),closeMfaEnrollmentModal:()=>a(!1)}}const Lvt=t=>d.jsxs(Uvt,{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"88",height:"89",viewBox:"0 0 88 89",...t,children:[d.jsx("rect",{y:"0.666016",width:"88",height:"88",rx:"44"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z"})]});let Uvt=ie.svg.withConfig({displayName:"StyledSvg",componentId:"sc-59fa943f-0"})(["height:90px;width:90px;> rect{","}> path{fill:white;}"],(t=>t.color==="success"?"fill: var(--privy-color-success);":"fill: var(--privy-color-accent);"));const Bvt=({showIntro:t,userMfaMethods:e,appMfaMethods:r,userHasAuthSms:n,isTotpLoading:i,isPasskeyLoading:s,error:o,onClose:a,onBackToIntro:l,handleSelectMethod:c,setRemovingMfaMethod:u})=>{let h=e.reduce(((p,m)=>({...p,[m]:!0})),{}),f=r.reduce(((p,m)=>({...p,[m]:!0})),{});return d.jsxs(d.Fragment,{children:[d.jsx(xr,{backFn:t?l:void 0,onClose:a},"header"),d.jsx(Dl,{style:{marginBottom:"1.5rem"},children:d.jsx(X0,{})}),d.jsx(ca,{children:"Choose a verification method"}),e.length>0?d.jsx(Ml,{children:"To add or delete verification methods, verification is required."}):d.jsx(Ml,{children:"How would you like to verify your identity?"}),o&&d.jsx(qge,{style:{marginTop:"1.25rem"},children:o.message}),d.jsxs(Bge,{children:[(f.passkey||h.passkey)&&d.jsxs(O7,{children:[d.jsx(Vn,{style:{justifyContent:"center"},onClick:()=>c("passkey"),disabled:h.passkey||s,children:s?d.jsx(Ql,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):d.jsxs(D7,{children:[d.jsxs(M7,{children:[d.jsx(iF,{}),"Passkey"]}),h.passkey?d.jsx(G7,{color:"green",children:"Enabled"}):d.jsx(BQ,{$isAccent:!0,children:d.jsx($ut,{})})]})}),h.passkey&&d.jsx(j7,{style:{position:"absolute",right:0},onClick:()=>u("passkey"),children:d.jsx(JT,{})})]},"passkey"),(f.totp||h.totp)&&d.jsxs(O7,{children:[d.jsx(Vn,{style:{justifyContent:"center"},disabled:h.totp||i,onClick:()=>c("totp"),children:i?d.jsx(Ql,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):d.jsxs(D7,{children:[d.jsxs(M7,{children:[d.jsx(t8,{}),"Authenticator app"]}),h.totp&&d.jsx(G7,{color:"green",children:"Enabled"})]})}),h.totp&&d.jsx(j7,{style:{position:"absolute",right:0},onClick:()=>u("totp"),children:d.jsx(JT,{})})]},"totp"),(f.sms||h.sms)&&d.jsxs(O7,{children:[d.jsx(Vn,{disabled:h.sms||n,onClick:()=>c("sms"),children:d.jsxs(D7,{children:[d.jsxs(M7,{children:[d.jsx(rp,{}),"SMS"]}),h.sms&&d.jsx(G7,{color:"green",children:"Enabled"}),n&&d.jsx(BQ,{children:"Disabled"})]})}),h.sms&&d.jsx(j7,{style:{position:"absolute",right:0},onClick:()=>u("sms"),children:d.jsx(JT,{})})]},"sms")]}),d.jsx(zvt,{children:"You can always change your selection later"}),d.jsx(vi,{})]})};let G7=ie(fd).withConfig({displayName:"StyledChip",componentId:"sc-24f8b314-0"})(["margin-right:1.5rem;"]),zvt=ie(zge).withConfig({displayName:"StyledTerms",componentId:"sc-24f8b314-1"})(["&&{margin-top:1rem;}text-align:center;"]);const Kye=({style:t,...e})=>d.jsxs("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsxs("g",{clipPath:"url(#clip0_113_33841)",children:[d.jsx("path",{d:"M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z"}),d.jsx("path",{d:"M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z"}),d.jsx("path",{d:"M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z"}),d.jsx("path",{d:"M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z"}),d.jsx("path",{d:"M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z"}),d.jsx("path",{d:"M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z"}),d.jsx("path",{d:"M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z"}),d.jsx("path",{d:"M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z"}),d.jsx("path",{d:"M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z"}),d.jsx("path",{d:"M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z"}),d.jsx("path",{d:"M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z"}),d.jsx("path",{d:"M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z"}),d.jsx("path",{d:"M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z"}),d.jsx("path",{d:"M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z"}),d.jsx("path",{d:"M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z"}),d.jsx("path",{d:"M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z"}),d.jsx("path",{d:"M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z"}),d.jsx("path",{d:"M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z"}),d.jsx("path",{d:"M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z"}),d.jsx("path",{d:"M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z"}),d.jsx("path",{d:"M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z"}),d.jsx("path",{d:"M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0_113_33841",children:d.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(0.483887)"})})})]}),qvt=({onClose:t,onReset:e,submitEnrollmentWithPasskey:r})=>{let{user:n}=Pr(),{initLinkWithPasskey:i,linkWithPasskey:s}=bt(),{app:o}=It(),[a,l]=x.useState(!1),[c,u]=x.useState(!1),[h,f]=x.useState(null),p=x.useMemo((()=>n?.linkedAccounts.filter((w=>w.type==="passkey"))??[]),[n]),m=async w=>{l(!0);try{await r(w)}catch(b){f(b)}finally{l(!1)}},v=async()=>{u(!0),f(null);try{await i();let w=await s(),b=w?.linkedAccounts.filter((E=>E.type==="passkey")).map((E=>E.credentialId))??[];await m(b)}catch(w){f(w)}finally{u(!1)}};return p.length===0||c?d.jsx(Wvt,{onReset:e,onClose:t,onClick:v,isCreating:c}):h?d.jsx(y3,{allowlistConfig:o.allowlistConfig,error:h,onBack:()=>f(null),onRetry:()=>f(null)}):d.jsx(Hvt,{passkeys:p,isSubmitting:a,isCreating:c,onReset:e,onClose:t,onSubmitEnrollment:()=>m(p.map((w=>w.credentialId))),onAddPasskey:v})};let Wvt=({onReset:t,onClose:e,onClick:r,isCreating:n})=>d.jsxs(d.Fragment,{children:[d.jsx(xr,{backFn:t,onClose:e},"header"),d.jsx(_L,{children:d.jsxs(Cye,{children:[d.jsx(TL,{}),d.jsx(Kye,{})]})}),d.jsx(ca,{children:"Set up passkey verification"}),d.jsxs(W8,{children:[d.jsxs(O0,{children:[d.jsx(R0,{children:d.jsx(X0,{})}),"Verify with Touch ID, Face ID, PIN, or hardware key"]}),d.jsxs(O0,{children:[d.jsx(R0,{children:d.jsx(Mut,{})}),"Takes seconds to set up and use"]}),d.jsxs(O0,{children:[d.jsx(R0,{children:d.jsx(Eut,{})}),"Use your passkey to verify transactions and login to your account"]})]}),d.jsx(an,{style:{marginTop:"2.25rem"},onClick:r,loading:n,children:"Add a new passkey"}),d.jsx(vi,{})]}),Hvt=({onReset:t,onClose:e,onAddPasskey:r,onSubmitEnrollment:n,passkeys:i,isSubmitting:s,isCreating:o})=>{let[a,l]=x.useState(!1),c=a?i.length:i.length>3?2:3;return d.jsxs(d.Fragment,{children:[d.jsx(xr,{backFn:a?()=>l(!1):t,onClose:e},"header"),!a&&d.jsx(_L,{children:d.jsxs(Cye,{children:[d.jsx(TL,{}),d.jsx(Kye,{})]})}),d.jsx(ca,{children:"Enable your passkeys for verification"}),d.jsxs(W8,{children:[i.slice(0,c).map((u=>d.jsxs(Vvt,{children:[d.jsx(Gvt,{children:Yvt(u)}),d.jsxs(Kvt,{children:["Last used: ",u.latestVerifiedAt?.toLocaleString()]})]},u.credentialId))),!a&&i.length>3&&d.jsx(RZ,{onClick:()=>l(!0),children:"View All"})]}),d.jsx(an,{style:{marginTop:"1.5rem"},onClick:n,loading:s,children:"Enable passkeys"}),i.length<5&&d.jsx(RZ,{style:{marginTop:"0.5rem"},onClick:r,disabled:o,children:o?d.jsx(Ql,{style:{height:"1rem",width:"1rem",borderWidth:2}}):"Add new passkey"}),d.jsx(vi,{})]})},Vvt=ie.div.withConfig({displayName:"PasskeyItem",componentId:"sc-9b5fbdd5-0"})(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]),Gvt=ie.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-9b5fbdd5-1"})(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]),Kvt=ie.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-9b5fbdd5-2"})(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]),Yvt=t=>t.authenticatorName?t.createdWithBrowser?`${t.authenticatorName} on ${t.createdWithBrowser}`:t.authenticatorName:t.createdWithBrowser?t.createdWithOs?`${t.createdWithBrowser} on ${t.createdWithOs}`:`${t.createdWithBrowser}`:"Unknown device";const RZ=ie.button.withConfig({displayName:"StyledLink",componentId:"sc-9b5fbdd5-3"})(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]),Jvt=({appName:t,onComplete:e,onReset:r,onClose:n})=>{let[i,s]=x.useState(""),[o,a]=x.useState(!1),[l,c]=x.useState(null),[u,h]=x.useState("enroll"),{initEnrollmentWithSms:f,submitEnrollmentWithSms:p}=Gye(),{app:m,data:v}=It();function w(){v?.mfaEnrollmentFlow?.onSuccess(),e()}return l?d.jsx(y3,{allowlistConfig:m.allowlistConfig,error:l,onBack:()=>c(null),onRetry:()=>c(null)}):d.jsxs(d.Fragment,u==="enroll"?{children:[d.jsx(xr,{backFn:r,onClose:n},"header"),d.jsx(Dl,{style:{marginBottom:"1.5rem"},children:d.jsx(rp,{})}),d.jsx(ca,{children:"Set up SMS verification"}),d.jsxs(Ml,{children:["We'll text a verification code to this mobile device whenever you use your ",t," ","wallet."]}),d.jsxs(og,{children:[d.jsx(ik,{onSubmit:async function({qualifiedPhoneNumber:b}){try{await f({phoneNumber:b}),s(b),h("verify")}catch(E){c(E)}},hideRecent:!0}),d.jsxs(zge,{children:["By providing your mobile number, you agree to receive text messages from ",m?.name,". Some carrier charges may apply"]})]}),d.jsx(vi,{})]}:o?{children:[d.jsx(xr,{onClose:w},"header"),d.jsx(Dl,{style:{marginBottom:"1.5rem"},children:d.jsx(Y1,{})}),d.jsx(ca,{children:"SMS verification added"}),d.jsxs(Ml,{children:["From now on, you'll enter the verification code sent to your mobile device whenever you use your ",t," wallet."]}),d.jsx(sy,{children:d.jsx(an,{onClick:w,children:"Done"})}),d.jsx(vi,{})]}:{children:[d.jsx(xr,{backFn:function(){u==="verify"?h("enroll"):r()},onClose:n},"header"),d.jsx(Dl,{style:{marginBottom:"1.5rem"},children:d.jsx(rp,{})}),d.jsx(ca,{children:"Enter enrollment code"}),d.jsxs(og,{children:[d.jsx(TC,{onChange:async function(b){try{if(!b)return;await p({phoneNumber:i,mfaCode:b}),a(!0)}catch(E){throw cme(E)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):PL(E)?Error("The code you entered is not valid"):IL(E)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):ume(E)?Error("Verification canceled"):Error("Unknown error")}}}),d.jsxs(Ml,{children:["To continue, enter the 6-digit code sent to ",d.jsx("strong",{children:eRe(i)})]})]}),d.jsx(vi,{})]})},Xvt=ie.div.withConfig({displayName:"Column",componentId:"sc-cfc52180-0"})(["display:flex;flex-direction:column;"]),Qvt=({size:t,authUrl:e})=>d.jsx(v3,{url:e,squareLogoElement:Mdt,size:t,fgColor:"#1F1F1F"}),Zvt=({onClose:t,onReset:e,totpInfo:r,submitEnrollmentWithTotp:n,error:i})=>{let[s,o]=x.useState("enroll");return d.jsxs(d.Fragment,s==="enroll"?{children:[d.jsx(xr,{backFn:e,onClose:t},"header"),d.jsx(Th,{children:"Scan QR code"}),d.jsx(lp,{children:"Open your authenticator app and scan this code to continue"}),d.jsx(qft,{children:d.jsx(Qvt,{authUrl:r.authUrl,size:240})}),d.jsx(ta,{style:{textAlign:"left"},children:"Setup key"}),d.jsxs(sk,{style:{marginTop:"0.25rem"},children:[d.jsx(Xvt,{children:"".repeat(16)}),d.jsx(zL,{itemName:" ",text:r.secret})]}),d.jsx(an,{style:{marginTop:"1rem"},onClick:function(){o("verify")},children:"Continue"}),d.jsx(vi,{})]}:{children:[d.jsx(xr,{backFn:function(){s==="verify"?o("enroll"):e()},onClose:t},"header"),d.jsx(Dl,{style:{marginBottom:"1.5rem"},children:d.jsx(t8,{})}),d.jsx(Th,{children:"Enter enrollment code"}),d.jsx(lp,{children:"To continue, enter the 6-digit code generated from your authenticator app"}),d.jsx(og,{children:d.jsx(TC,{onChange:async function(a){try{if(!a)return;await n({mfaCode:a})}catch(l){throw cme(l)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):PL(l)?Error("The code you entered is not valid"):IL(l)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):ume(l)?Error("Verification canceled"):Error("Unknown error")}},errorReasonOverride:i?.message})}),d.jsx(vi,{})]})},ewt={component:()=>{let{user:t,enrollInMfa:e,ready:r}=Pr(),[n,i]=x.useState(null),{unenrollWithSms:s,unenrollWithTotp:o,unenrollWithPasskey:a,submitEnrollmentWithTotp:l,initEnrollmentWithPasskey:c,submitEnrollmentWithPasskey:u,initEnrollmentWithTotp:h}=Gye(),{app:f,data:p,onUserCloseViaDialogOrKeybindRef:m}=It(),{closePrivyModal:v}=bt(),{promptMfa:w}=dme(),[b,E]=x.useState(!1),[_,A]=x.useState(null),[C,k]=x.useState(null),P=()=>{v({shouldCallAuthOnSuccess:!0}),e(!1),setTimeout((()=>{i(null),A(null)}),500)},[F,N]=x.useState(!1),[$,U]=x.useState();m.current=P;let O=t?.mfaMethods.includes("sms"),D=!!t?.phone,T=t?.mfaMethods.includes("totp"),I=t?.mfaMethods.includes("passkey"),R=O||T||I,L=t?.linkedAccounts.filter((W=>W.type==="passkey")).map((W=>W.credentialId))??[];function B(){i(null),A(null)}async function q(W=L){N(!0);try{return await c(),await u({credentialIds:W},{removeForLogin:p?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa}),p?.mfaEnrollmentFlow?.onSuccess(),P()}catch(j){U(j)}finally{N(!1)}}if(x.useEffect((()=>{R&&E(!0)}),[R]),!r||!t||!f)return d.jsxs(d.Fragment,{children:[d.jsx(xr,{onClose:P},"header"),d.jsx(_L,{children:d.jsx(Lvt,{})}),d.jsx(og,{children:d.jsx(Ql,{})}),d.jsx(vi,{})]});if(n==="sms")return d.jsxs(d.Fragment,{children:[d.jsx(xr,{backFn:B,onClose:P},"header"),d.jsx(Dl,{style:{marginBottom:"1.5rem"},children:d.jsx(jy,{})}),d.jsx(ca,{children:"Remove SMS verification?"}),d.jsxs(Ml,{children:["MFA adds an extra layer of security to your ",f?.name," account. Make sure you have other methods to secure your account."]}),d.jsx(sy,{children:d.jsx(an,{$warn:!0,onClick:async function(){i(null);try{await s()}catch{i(null)}},children:"Remove"})}),d.jsx(vi,{})]});if(n==="totp")return d.jsxs(d.Fragment,{children:[d.jsx(xr,{backFn:B,onClose:P},"header"),d.jsx(Dl,{style:{marginBottom:"1.5rem"},children:d.jsx(jy,{})}),d.jsx(ca,{children:"Remove authenticator app verification?"}),d.jsxs(Ml,{children:["MFA adds an extra layer of security to your ",f?.name," account. Make sure you have other methods to secure your account."]}),d.jsx(sy,{children:d.jsx(an,{$warn:!0,onClick:async function(){i(null);try{await o()}catch{i(null)}},children:"Remove"})}),d.jsx(vi,{})]});if(n==="passkey"){let W=p?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa??!0;return d.jsxs(d.Fragment,{children:[d.jsx(xr,{backFn:B,onClose:P},"header"),d.jsx(Dl,{style:{marginBottom:"1.5rem"},children:d.jsx(jy,{})}),d.jsx(ca,{children:"Are you sure you want to remove this passkey?"}),d.jsx(Ml,{children:W?"Removing your passkey will remove as both a verification method and a login method.":"Removing your passkey will remove as a verification method."}),d.jsx(sy,{children:d.jsx(an,{$warn:!0,onClick:async function(){i(null);try{await a({removeForLogin:p?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa})}catch{i(null)}},children:"Remove"})}),d.jsx(vi,{})]})}if(p.mfaEnrollmentFlow.mfaMethods.length===0&&!R)return d.jsxs(d.Fragment,{children:[d.jsx(xr,{onClose:P},"header"),d.jsx(Dl,{style:{marginBottom:"1.5rem"},children:d.jsx(X0,{})}),d.jsx(ca,{children:"Add more security"}),d.jsxs(Ml,{children:[f?.name," does not have any verification methods enabled."]}),d.jsx(sy,{children:d.jsx(an,{onClick:P,children:"Close"})}),d.jsx(vi,{})]});let G=!R&&!b;return G?d.jsxs(d.Fragment,{children:[d.jsx(xr,{onClose:P},"header"),d.jsx(Dl,{style:{marginBottom:"1.5rem"},children:d.jsx(X0,{})}),d.jsx(ca,{children:"Transaction Protection"}),d.jsx(Ml,{children:"Set up transaction protection to add an extra layer of security to your account"}),d.jsxs(W8,{children:[d.jsxs(O0,{children:[d.jsx(R0,{children:d.jsx(Ndt,{})}),"Enable 2-Step verification for your ",f?.name," wallet."]}),d.jsxs(O0,{children:[d.jsx(R0,{children:d.jsx(Odt,{})}),"You'll be prompted to authenticate to complete transactions."]})]}),d.jsxs(sy,{children:[d.jsx(an,{onClick:()=>E(!0),children:"Continue"}),d.jsx(ou,{onClick:P,children:"Not now"})]}),d.jsx(vi,{})]}):_==="sms"?d.jsx(Jvt,{appName:f?.name||"Privy",onComplete:P,onReset:B,onClose:P}):_==="totp"&&C?d.jsx(Zvt,{onClose:P,onReset:B,submitEnrollmentWithTotp:({mfaCode:W})=>(async function(j){try{return U(void 0),await l({mfaCode:j}),p?.mfaEnrollmentFlow?.onSuccess(),P()}catch(Y){U(Y)}finally{i(null)}})(W),totpInfo:{...C,appName:f?.name||"Privy"}}):_==="passkey"?d.jsx(qvt,{onReset:B,onClose:P,submitEnrollmentWithPasskey:q}):d.jsx(Bvt,{showIntro:G,userMfaMethods:t.mfaMethods,appMfaMethods:f.mfa.methods,userHasAuthSms:D,onBackToIntro:function(){E(!1)},handleSelectMethod:async function(W){try{await w()}catch(j){return void U(j)}return W==="totp"?(A(W),k(null),void h().then((j=>{k(j)})).catch((()=>{k(null),B()}))):W==="passkey"&&L.length===1?await q():void A(W)},isTotpLoading:_==="totp"&&!C,isPasskeyLoading:F,error:$,onClose:P,setRemovingMfaMethod:async W=>{try{await w()}catch(j){return void U(j)}i(W)}})}},twt=({providerName:t,ProviderLogo:e,success:r,errorMessage:n,onRetry:i})=>{let s=r?`Successfully connected with ${t}`:n?n.message:`Verifying connection to ${t}`;return d.jsx(Mr,{title:s,subtitle:r?"You're good to go!":n?n.detail:"Just a few moments more",icon:e,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},secondaryCta:n?.retryable&&i?{label:"Retry",onClick:i}:void 0,watermark:!0})},OZ={component:()=>{let{authenticated:t,logout:e,ready:r,user:n}=Pr(),{app:i,setModalData:s,navigate:o,resetNavigation:a}=It(),{getAuthMeta:l,initLoginWithOAuth:c,loginWithOAuth:u,updateWallets:h,setReadyToTrue:f,closePrivyModal:p,createAnalyticsEvent:m}=bt(),[v,w]=x.useState(!1),[b,E]=x.useState(void 0),_=l()?.provider||"google",{name:A,component:C}=E7(_);return x.useEffect((()=>{u(_).then((()=>{w(!0),f(!0)})).catch((k=>{if(f(!1),k?.privyErrorCode===ye.ALLOWLIST_REJECTED)return E(void 0),a(),void o(rk);if(k?.privyErrorCode===ye.USER_LIMIT_REACHED)return console.error(new Vx(k).toString()),E(void 0),a(),void o(w3);if(k?.privyErrorCode===ye.USER_DOES_NOT_EXIST)return E(void 0),a(),void o(m3);if(k?.privyErrorCode===ye.ACCOUNT_TRANSFER_REQUIRED&&k.data?.data?.nonce)return E(void 0),a(),s({accountTransfer:{nonce:k.data?.data?.nonce,account:k.data?.data?.subject,displayName:k.data?.data?.account?.displayName,linkMethod:l()?.provider,embeddedWalletAddress:k.data?.data?.otherUser?.embeddedWalletAddress,oAuthUserInfo:k.data?.data?.otherUser?.oAuthUserInfo}}),void o($g);let{retryable:P,detail:F}=(function(N,$){let U={detail:"",retryable:!1},O=ige($);if(N?.privyErrorCode===ye.LINKED_TO_ANOTHER_USER&&(U.detail="This account has already been linked to another user."),N?.privyErrorCode===ye.INVALID_CREDENTIALS&&(U.retryable=!0,U.detail="Something went wrong. Try again."),N.privyErrorCode===ye.OAUTH_USER_DENIED&&(U.detail=`Retry and check ${O} to finish connecting your account.`,U.retryable=!0),N?.privyErrorCode===ye.TOO_MANY_REQUESTS&&(U.detail="Too many requests. Please wait before trying again."),N?.privyErrorCode===ye.TOO_MANY_REQUESTS&&N.message.includes("provider rate limit")){let D=E7($).name;U.detail=`Request limit reached for ${D}. Please wait a moment and try again.`}if(N?.privyErrorCode===ye.OAUTH_ACCOUNT_SUSPENDED){let D=E7($).name;U.detail=`Your ${D} account is suspended. Please try another login method.`}return N?.privyErrorCode===ye.CANNOT_LINK_MORE_OF_TYPE&&(U.detail="You cannot authorize more than one account for this user."),N?.privyErrorCode===ye.OAUTH_UNEXPECTED&&$.startsWith("privy:")&&(U.detail="Something went wrong. Please try again."),U})(k,_);E({retryable:P,detail:F,message:"Authentication failed"})})).finally((()=>{OO()}))}),[A,_]),x.useEffect((()=>{if(r&&t&&v&&n){if(i?.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let k=setTimeout((()=>{o(Ng)}),Bn);return()=>clearTimeout(k)}if(_p(n,i.embeddedWallets)){let k=setTimeout((()=>{s({createWallet:{onSuccess:()=>{},onFailure:P=>{console.error(P),m({eventName:"embedded_wallet_creation_failure_logout",payload:{error:P,provider:_,screen:"OAuthStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),o(Fh)}),Bn);return()=>clearTimeout(k)}{let k=setTimeout((()=>p({shouldCallAuthOnSuccess:!0,isSuccess:!0})),Bn);return h(),()=>clearTimeout(k)}}}),[r,t,v,n]),d.jsx(twt,{providerName:A,ProviderLogo:C,success:v,errorMessage:b,onRetry:b?.retryable?()=>{OO(),c(_),E(void 0)}:void 0})}},rwt=x.forwardRef(((t,e)=>{let[r,n]=x.useState(""),[i,s]=x.useState(""),[o,a]=x.useState(!1),{authenticated:l,user:c}=Pr(),{initUpdateEmail:u}=bt(),{navigate:h,setModalData:f,currentScreen:p}=It(),{enabled:m,token:v}=Ca(),w=zr(),b=vge(r)&&(w.disablePlusEmails&&r.includes("+")?(i||s("Please enter a valid email address without a '+'."),!1):(i&&s(""),!0)),E=o||!b,_=()=>{!m||v||l?(async A=>{if(!c?.email)throw Error("User is required to have an email address to update it.");a(!0);try{await u({oldAddress:c.email.address,newAddress:r,captchaToken:A}),h(Ah)}catch(C){f({errorModalData:{error:C,previousScreen:p||yo}})}a(!1)})(v):(f({captchaModalData:{callback:A=>{if(!c?.email)throw Error("User is required to have an email address to update it.");return u({oldAddress:c.email.address,newAddress:r,captchaToken:A})},userIntentRequired:!1,onSuccessNavigateTo:Ah,onErrorNavigateTo:zn}}),h(au))};return d.jsxs(d.Fragment,{children:[d.jsxs(nwt,{children:[i&&d.jsx(Sh,{style:{marginTop:"0.25rem",textAlign:"left"},children:i}),d.jsxs(iwt,{$error:!!i,children:[d.jsx(M8,{}),d.jsx("input",{ref:e,id:"email-input",type:"email",placeholder:"your@email.com",onChange:A=>n(A.target.value),onKeyUp:A=>{A.key==="Enter"&&_()},value:r,autoComplete:"email"}),t.stacked?null:d.jsx(q8,{isSubmitting:o,onClick:_,disabled:E,children:"Submit"})]})]}),t.stacked?d.jsx(an,{loadingText:null,loading:o,disabled:E,onClick:_,style:{width:"100%"},children:"Submit"}):null]})}));let nwt=Bme,iwt=Ume;const swt=({title:t="Update your email",subtitle:e="Add the email address you'd like to use going forward. We'll send you a confirmation code"})=>d.jsx(Mr,{title:t,subtitle:e,icon:M8,watermark:!0,children:d.jsx(Zge,{children:d.jsx(rwt,{stacked:!0})})}),owt={component:()=>d.jsx(swt,{})},awt=({title:t="Update your phone number",subtitle:e="Add the phone number you'd like to use going forward. We'll send you a confirmation code",onSubmit:r,isSubmitting:n=!1})=>{let[i,s]=x.useState(null);return d.jsx(Mr,{title:t,subtitle:e,icon:rp,primaryCta:{label:n?"Submitting":"Update",onClick:async()=>{i?.qualifiedPhoneNumber&&await r(i)},disabled:!i?.isValid||n},watermark:!0,children:d.jsx(ik,{onChange:o=>{s(o)},onSubmit:async()=>{},noIncludeSubmitButton:!0,hideRecent:!0})})},lwt={component:()=>{let{currentScreen:t,data:e,navigate:r,setModalData:n}=It(),{user:i}=Pr(),{initUpdatePhone:s}=bt(),[o,a]=x.useState(!1);return d.jsx(awt,{onSubmit:async l=>{a(!0);try{if(!i?.phone?.number)throw Error("User is required to have an phone number to update it.");await s(i?.phone?.number,l.qualifiedPhoneNumber),r(Ah)}catch(c){n({errorModalData:{error:c,previousScreen:e?.errorModalData?.previousScreen||t||qL}}),r(zn)}finally{a(!1)}},isSubmitting:o})}};function cwt({subscribe:t,getExternalJwt:e,enabled:r=!0,onAuthenticated:n,onUnauthenticated:i,onError:s}){let{client:o,onCustomAuthAuthenticated:a}=bt(),{logout:l,authenticated:c,ready:u}=x3();if(!o)throw new fe("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[h,f]=x.useState({status:"initial"}),p=x.useRef(),m=x.useRef(!1),v=x.useRef(e);x.useEffect((()=>{v.current=e}),[e]);let w=x.useRef(n);x.useEffect((()=>{w.current=n}),[n]);let b=x.useRef(i);x.useEffect((()=>{b.current=i}),[i]);let E=x.useRef(s);return x.useEffect((()=>{E.current=s}),[s]),x.useEffect((()=>{if(!r||!u)return;let _=async()=>{if(!m.current){m.current=!0;try{f({status:"loading"});let A=await v.current();if(p.current!==void 0&&p.current===A)return void f({status:"done"});if(!A)return c&&(await l(),b.current?.()),p.current=A,void f({status:"done"});o.startAuthFlow(new Mge(A));let{user:C,isNewUser:k=!1}=await o.authenticate();if(!C)throw new fe("Failed to sync with custom auth provider");w.current?.({user:C,isNewUser:k}),a(C,k),p.current=A,f({status:"done"})}catch(A){if(console.warn(A),await l().catch((()=>{})),b.current?.(),A instanceof za&&A.privyErrorCode===ye.LINKED_TO_ANOTHER_USER)return f({status:"initial"}),void setTimeout((()=>{_()}),0);E.current?.(A),f({status:"error",error:A})}finally{m.current=!1}}};return _(),t(_)}),[t,o,a,c,l,r,u]),r?{state:h}:{state:{status:"not-enabled"}}}let uwt=D1((()=>({jwtAuthFlowState:{status:"not-enabled"}})));function dwt({customAuth:t}){let{jwtAuthFlowState:e}=(function({customAuth:r}){let n=Dh(),i=x.useRef(),s=x.useCallback((l=>(i.current=l,()=>{i.current=void 0})),[]),o=r?.getCustomAccessToken??(()=>Promise.resolve(void 0)),{state:a}=cwt({enabled:r?.enabled===!0,subscribe:s,getExternalJwt:o,onAuthenticated:({user:l,isNewUser:c})=>{n("login","onComplete",{user:l,isNewUser:c,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),n("customAuth","onAuthenticated",{user:l})},onUnauthenticated:()=>{n("customAuth","onUnauthenticated")},onError:l=>{n("login","onError",l.privyErrorCode||ye.UNKNOWN_AUTH_ERROR)}});return x.useEffect((()=>{(async()=>r&&!r.isLoading&&i.current?.())()}),[r?.enabled,r?.getCustomAccessToken,r?.isLoading]),{jwtAuthFlowState:a}})({customAuth:t});return x.useEffect((()=>{uwt.setState({jwtAuthFlowState:e})}),[e]),null}const Yye=x.createContext(!1);let Ey,Jye,Xye,Qye,Zye,e1e,t1e;async function cn(){return Ey?Ey.getAccessToken():Promise.resolve(Jt.get(t_)||Jt.get(Xw)||null)}const hwt=(t,e)=>Jye(t,e),fwt=(t,e)=>Xye(t,e),pwt=(t,e)=>Qye(t,e),gwt=(t,e)=>Zye(t,e),mwt=t=>e1e(t),ywt=t=>t1e(t),vwt=({config:t,...e})=>{var r;if((()=>{if(x.useContext(Yye))throw new fe("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),typeof window<"u"&&0>["localhost","127.0.0.1"].indexOf(window.location.hostname)&&window.location.protocol!=="https:"&&window.location.protocol!=="chrome-extension:")throw new fe("Embedded wallet is only available over HTTPS");if(typeof(r=e.appId)!="string"||r.length!==25)throw new fe("Cannot initialize the Privy provider with an invalid Privy app ID");Ey||(Ey=new Aht({appId:e.appId,appClientId:e.clientId,apiUrl:e.apiUrl}));let n=Object.assign({},t),i=x.useMemo((()=>new YNe({appId:e.appId,clientId:e.clientId,storage:Jt,baseUrl:e.apiUrl,sdkVersion:"react-auth:2.25.0"})),[]);return d.jsx(pht,{client:i,legacyClient:Ey,clientConfig:n,children:d.jsx(hgt,{children:d.jsx(wwt,{...e,client:Ey,privy:i})})})};let wwt=t=>{let e=t.client,r=t.privy,n=ev();Fpt();let[i,s]=x.useState(!1),[o,a]=x.useState(!1),[l,c]=x.useState(!1),[u,h]=x.useState(null),[f,p]=x.useState([]),[m,v]=x.useState([]),[w,b]=x.useState(void 0),[E,_]=x.useState(!1),[A,C]=x.useState(null),[k,P]=x.useState(!1),[F,N]=x.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:De}),[$,U]=x.useState({status:"initial"}),[O,D]=x.useState({status:"initial"}),[T,I]=x.useState({status:"initial"}),[R,L]=x.useState({status:"initial"}),[B,q]=x.useState({status:"initial"}),[G,W]=x.useState({status:"initial"}),[j,Y]=x.useState(null),Q=zr(),z=Rge(),[Z,ee]=x.useState({}),[te,se]=x.useState(null),ce=x.useRef(null),[ge,ae]=x.useState(!1),[_e,Ee]=x.useState(!1),Ie=x.useRef(null),qe=x.useRef(null),me=x.useRef($ht),[ze,rt]=x.useState(!1);e.onStoreCustomerAccessToken=X=>{X&&ut(me,"accessToken","onAccessTokenGranted",{accessToken:X})},e.onDeleteCustomerAccessToken=()=>{h(null),c(!1),ut(me,"accessToken","onAccessTokenRemoved")};let Ae=x.useRef(null),Fe=x.useRef(null),nt=x.useRef(!1),_t=({showWalletUIs:X})=>nt.current?nt.current:X!==void 0?!X:!Q.embeddedWallets.showWalletUIs,Ye=X=>{C(X),setTimeout((()=>{s(!0)}),15)};x.useEffect((()=>{if(!u)return void e.connectors?.removeEmbeddedWalletConnectors();let X=Yu(u),ne=Gce(u),oe=QN(u);X&&ne.length||e.connectors?.removeEmbeddedWalletConnectors(),oe||e.connectors?.removeImportedWalletConnector(),e.connectors?j?(X&&e.connectors.addEmbeddedWalletConnectors({walletProxy:j,user:u,embeddedWallets:ne,defaultChain:Q.defaultChain,appId:t.appId,privyClient:r}),oe&&e.connectors.addImportedWalletConnector(j,oe.address,Q.defaultChain,t.appId)):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")}),[j,u]),x.useEffect((()=>{j&&ce.current?.(j)}),[j]);let wt=x.useCallback(((X,ne)=>{h(X),_(ne),c(!0),Ee(!0)}),[]);x.useEffect((()=>{_e&&j&&u&&(async()=>{let X=ML(u,Q.embeddedWallets.ethereum.createOnLogin),ne=DL(u,Q.embeddedWallets.solana.createOnLogin),oe=await cn();if(oe){if(X&&ne){let le=await j.create({accessToken:oe});return await j.createSolana({accessToken:oe,ethereumAddress:le?.address}),void Ee(!1)}if(ne)return await j.createSolana({accessToken:oe,ethereumAddress:Yu(u)?.address}),await Ue.refreshSessionAndUser(),void Ee(!1);if(X)return await j.create({accessToken:oe}),void Ee(!1)}})().catch(console.error)}),[_e&&j&&u]),x.useEffect((()=>{if(Q.externalWallets.solana.connectors)return Q.externalWallets.solana.connectors.onMount(),()=>Q.externalWallets.solana.connectors?.onUnmount()}),[Q.externalWallets.solana.connectors]),x.useEffect((()=>{!o&&z&&(async function(){let X,ne=xt(),oe=Le(),le=$5e();e.initializeConnectorManager({walletConnectCloudProjectId:Q.walletConnectCloudProjectId,rpcConfig:Q.rpcConfig,chains:Q.chains,defaultChain:Q.defaultChain,store:le,walletList:Q.appearance.walletList,shouldEnforceDefaultChainOnConnect:Q.shouldEnforceDefaultChainOnConnect,externalWalletConfig:Q.externalWallets,appName:Q.name??"Privy",walletChainType:Q.appearance.walletChainType,appKit:Q.externalWallets.walletConnect.appKit,setBaseAccountSdk:b}),e.connectors?.on("connectorInitialized",(()=>{X&&clearTimeout(X);let Pe=e.connectors.walletConnectors.length,Xe=e.connectors.walletConnectors.reduce(((gt,Pt)=>gt+(Pt.initialized?1:0)),0);Xe===Pe?rt(!0):X=setTimeout((()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:Xe,expected:Pe}),rt(!0)}),1500)})),e.connectors?.initialize().then((()=>{pt()}));let ve=await e.getAuthenticatedUser(),be=!!ve;Q.legal.requireUsersAcceptTerms&&ve&&!ve.hasAcceptedTerms?(await e.logout(),Ue.setReadyToTrue(!0),ut(me,"logout","onSuccess")):(Q.customAuth?.enabled||(c(!!ve),ve&&ut(me,"login","onComplete",{user:ve,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),h(ve)),ne?Fe.current=be?"link":"login":oe&&!be?(Fe.current="login",ee({telegramAuthModalData:{seamlessAuth:!0}}),Ye(a_)):Ue.setReadyToTrue(!!ve))})()}),[e,te,o,z]),x.useEffect((()=>{if(o){if(!u||!u.linkedAccounts.find((X=>X.type==="wallet"&&X.walletClientType==="privy")))return void ae(!!j);if([...f].some((X=>X.walletClientType==="privy")))return void ae(!0);ae(!!j)}}),[o,u,f,j]),x.useEffect((()=>{e.connectors?.setWalletList(Q.appearance.walletList)}),[Q.appearance.walletList.join()]);let xt=()=>{let X=Wdt();return X.inProgress&&X.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):X.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:X.stateCode,authorizationCode:X.authorizationCode}):(X.inProgress&&(function(ne){return ne.startsWith("privy:")})(X.provider)&&!X.popupFlow&&(new BroadcastChannel(YQ).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:X.stateCode,authorizationCode:X.authorizationCode}),window.close()),!!X.inProgress&&!!X.withPrivyUi&&(e.startAuthFlow(new iy({...X,customOAuthRedirectUrl:Q.customOAuthRedirectUrl})),Ye(OZ),!0))},Le=()=>{let X=(function(){let oe;return(oe=(function(){let le=new URLSearchParams(window.location.search),ve=Number(le.get("id")||""),be=le.get("hash"),Pe=Number(le.get("auth_date")||""),Xe=le.get("first_name");if(ve&&Xe&&Pe&&be)return Object.fromEntries(le.entries())})())?(IQ(),{flowType:"login-url",authData:oe}):(oe=(function(){let le=window.location.hash;if(!le||!le.startsWith("#tgWebAppData"))return;let ve=TQ(le.replace("#tgWebAppData=","")),{user:be,auth_date:Pe,hash:Xe}=ve;return be&&Pe&&Xe?ve:void 0})())?(IQ(),{flowType:"web-app",authData:oe}):void 0})();if(!X||!Q.loginMethods.telegram||!Q.loginConfig.telegramAuthConfiguration?.seamlessAuthEnabled)return;let ne=new yw;return e.startAuthFlow(ne),X.flowType==="login-url"&&(ne.meta.telegramWebAppData=void 0,ne.meta.telegramAuthResult=X.authData),X.flowType==="web-app"&&(ne.meta.telegramAuthResult=void 0,ne.meta.telegramWebAppData=X.authData),!0},Ke=async(X,ne,oe,le)=>{if(X!=="solana_adapter")Qe(await e.connectors?.createEthereumWalletConnector({connectorType:X,walletClientType:ne})||null,ne,oe,le);else{let ve=e.connectors?.findSolanaWalletConnector(ne);if(!ve)return;Qe(ve,ne,oe,le)}};async function Qe(X,ne,oe,le){if(!X)return N({status:"disconnected",connectedWallet:null,connectError:new kn("Unable to connect to wallet."),connector:null,connectRetry:De}),le?.(null,oe);N({status:"disconnected",connectedWallet:null,connectError:null,connector:X,connectRetry:De}),X instanceof By&&ne&&await X.resetConnection(ne),N({connector:X,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>Qe(X,ne,oe,le)});try{let ve=await X.connect({showPrompt:!0});if((!ve||nh(ve))&&Q.shouldEnforceDefaultChainOnConnect&&!Q.chains.find((be=>be.id===Number(ve?.chainId.replace("eip155:",""))))&&(ve?.connectorType!=="wallet_connect_v2"||ve?.walletClientType!=="metamask")){N((be=>({...be,connector:X,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:De})));try{await ve?.switchChain(Q.defaultChain.id),ve&&(ve.chainId=Pb(Fn(Q.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${Q.defaultChain.id}`)}}return N((be=>({...be,status:"connected",connectedWallet:ve,connectError:null,connectRetry:De}))),ve&&ut(me,"connectWallet","onSuccess",{wallet:ve}),le?.(ve,oe)}catch(ve){return ve instanceof po?(console.warn(ve.cause?ve.cause:ve.message),ut(me,"connectWallet","onError",ve.privyErrorCode||ye.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(ve),ut(me,"connectWallet","onError",ye.UNKNOWN_CONNECT_WALLET_ERROR)),N((be=>({...be,status:"disconnected",connectedWallet:null,connectError:ve}))),le?.(null,oe)}}let it=async(X,ne,oe)=>{if(X===null||!nh(X))return;let le=new Ly(e,X,ne,oe);e.startAuthFlow(le)},st=async(X,ne,oe,le="plain")=>{let ve=n(Gme);if(le==="transaction"&&!ve)throw new fe("useSolanaLedger plugin hook must be mounted");if(X===null||!RQ(X))return;let be=new _C(X,e,ne,oe,le,ve?{deserializeTransactionFromB64String:ve.deserializeTransactionFromB64String,prepareSiwsTransactionWithMemo:ve.prepareSiwsTransactionWithMemo}:void 0);e.startAuthFlow(be)},pt=()=>{let X=new URLSearchParams(window.location.search),ne=X.get("privy_connector"),oe=X.get("privy_wallet_client"),le=X.get("privy_connect_only")==="true";if(!ne||!oe)return;let ve=Ige({connectorType:ne,walletClientType:oe});if(!ve||!ve.isInstalled)return Ye(Fvt);if(!e.connectors)throw new fe("Connector not initialized");Ye(le?ij:ph);let be=new URL(window.location.href);be.searchParams.delete("privy_connector"),be.searchParams.delete("privy_wallet_client"),be.searchParams.delete("privy_connect_only"),window.history.pushState({},"",be),Ke(ne,oe,void 0,le?void 0:ne==="solana_adapter"?st:it)};x.useEffect((()=>{o&&l&&u===null&&e.getAuthenticatedUser().then(h)}),[o,l,u,e]);let Ze=X=>{if(!l)throw ut(me,"linkAccount","onError",ye.MUST_BE_AUTHENTICATED,{linkMethod:X}),new fe("User must be authenticated before linking an account.")},Mt=X=>{if(!l||!u)return!1;if(X.walletClientType==="privy")return!0;for(let ne of u.linkedAccounts)if(ne.type==="wallet"&&ne.address===X.address&&ne.walletClientType!=="privy")return!0;return!1},yt=async X=>{let ne;if(!e.connectors)throw new fe("Connector not initialized");ne=X.type==="ethereum"?e.connectors.findWalletConnector(X.connectorType,X.walletClientType)||null:e.connectors.findSolanaWalletConnector(X.walletClientType)||null,N((oe=>({...oe,connector:ne,status:"connected",connectedWallet:X,connectError:null,connectRetry:De}))),Q.captchaEnabled&&!l?(ee({captchaModalData:{callback:oe=>nh(X)?it(X,oe):st(X,oe),userIntentRequired:!1,onSuccessNavigateTo:ph,onErrorNavigateTo:zn}}),Ye(au)):(nh(X)?await it(X):await st(X),Ye(ph))},ue=()=>{p((X=>{let ne=e.connectors?.wallets.filter(nh).map((oe=>({...oe,linked:Mt(oe),loginOrLink:async()=>{if(!await oe.isConnected())throw new fe("Wallet is not connected");if(oe.connectorType==="embedded"&&oe.walletClientType==="privy")throw new fe("Cannot link or login with embedded wallet");yt(oe)},fund:async le=>{await Ue.fundWallet(oe.address,le)},unlink:async()=>{if(!l)throw new fe("User is not authenticated.");if(oe.connectorType==="embedded"&&oe.walletClientType==="privy")throw new fe("Cannot unlink an embedded wallet");h(await e.unlinkEthereumWallet(oe.address))}})))||[];return FO(X,ne)?X:ne})),v((X=>{let ne=(e.connectors?.wallets??[]).filter(RQ).map((oe=>({...oe,linked:Mt(oe),loginOrLink:async()=>{if(!await oe.isConnected())throw new fe("Wallet is not connected");if(oe.connectorType==="embedded"&&oe.walletClientType==="privy")throw new fe("Cannot link or login with embedded wallet");yt(oe)},fund:async()=>{throw new fe("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:async()=>{if(!l)throw new fe("User is not authenticated.");if(oe.connectorType==="embedded"&&oe.walletClientType==="privy")throw new fe("Cannot unlink an embedded wallet");h(await e.unlinkSolanaWallet(oe.address))}})));return FO(X,ne)?X:ne}))};x.useEffect((()=>{ue()}),[u?.linkedAccounts,l,o]),x.useEffect((()=>{if(o){if(!e.connectors)throw new fe("Connector not initialized");ue(),e.connectors.on("walletsUpdated",ue)}}),[o]),x.useEffect((()=>{[...Q.loginMethodsAndOrder?.primary??[],...Q.loginMethodsAndOrder?.overflow??[]].filter((X=>X.startsWith("privy:"))).forEach((X=>e.getCrossAppProviderDetails(X.replace("privy:",""))))}),[!!e]);let we=({transaction:X,sponsor:ne,uiOptions:oe,fundWalletConfig:le,address:ve,signOnly:be})=>new Promise((async(Pe,Xe)=>{let{requesterAppId:gt}=oe||{},Pt=be?"signTransaction":"sendTransaction",er=ve?Pl(u,ve):Yu(u);if(!er&&ve){let Cr=A9(f,ve);if(Cr){if(ne)throw new fe("Cannot sponsor transactions for externally connected wallet.");try{let Kr=await Cr.getEthereumProvider(),hr={...X,from:ve,chainId:X.chainId||Number(Cr.chainId.replace("eip155:","")),value:X.value!==void 0?Fn(X.value):void 0},sn=await Kr.request({method:Pt==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[hr]});return ut(me,Pt,"onSuccess",{hash:sn}),void Pe({hash:sn})}catch(Kr){return ut(me,Pt,"onError",ye.TRANSACTION_FAILURE),void Xe(Kr??new no("Unable to "+Pt+Kr))}}}if(!er)return ut(me,Pt,"onError",ye.EMBEDDED_WALLET_NOT_FOUND),void Xe(new fe("No embedded or connected wallet found for address."));if(!l||!u)return ut(me,Pt,"onError",ye.MUST_BE_AUTHENTICATED),void Xe(Error("User must be authenticated before signing with a Privy wallet"));let Nt=er.address,Et=er.walletIndex??0,{entropyId:Ct,entropyIdVerifier:Vt}=js(u,er),Lt=vt.wallets.find((Cr=>Cr.walletClientType==="privy"&&pi(Cr.address)===pi(Nt)));if(!Lt)return ut(me,Pt,"onError",ye.EMBEDDED_WALLET_NOT_FOUND),void Xe(Error("Must have a Privy wallet before signing"));let _r=await Lt.getEthereumProvider(),gr=await _r.request({method:"eth_chainId"}),Nr=X.chainId?Number(X.chainId):pme(gr);(Cr=>{if(!Q.chains.map((Kr=>Kr.id)).includes(Cr))throw new kn(`Chain ID ${Cr} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,ye.UNSUPPORTED_CHAIN_ID)})(Nr);let vr={...X,from:X.from??Nt,chainId:Nr},qr=await cn();if(!qr||!j)return ut(me,Pt,"onError",ye.EMBEDDED_WALLET_NOT_FOUND),void Xe(Error("Must have valid access token and Privy wallet to send transaction"));let ci=h1(vr.chainId,Q.chains,Q.rpcConfig,{appId:t.appId}),cl=as(er),nn=async({transactionRequest:Cr})=>{try{let Kr;if(!await Ue.recoverEmbeddedWallet({address:Nt}))throw ut(me,Pt,"onError",ye.UNKNOWN_CONNECT_WALLET_ERROR),Xe(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(ne){let hr=await(async({transactionRequest:sn})=>{if(!cl)throw new fe("Sponsoring is only supported for wallets on the TEE stack");if(be)throw new fe("Cannot sponsor a sign transaction request");let vs=ws=>ws==null?void 0:Fn(ws),zo=await Ao(r,(async({message:ws})=>await j.signWithUserSigner({accessToken:qr,requesterAppId:gt,message:ws})),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:Pb(Fn(sn.chainId)),sponsor:!0,params:{transaction:{from:sn.from,to:sn.to,chain_id:vs(sn.chainId),data:Bs(sn.data)?sn.data?sn.data:Fn(Uint8Array.from(sn.data)):void 0,value:vs(sn.value)}},wallet_id:er.id});if(zo.data&&"hash"in zo.data)return zo.data.hash;throw new no("Unable to sign transaction")})({transactionRequest:Cr});return ut(me,"sendTransaction","onSuccess",{hash:hr}),hr}if(cl){let hr=vs=>vs==null?void 0:Fn(vs),sn=await Ao(r,(async({message:vs})=>await j.signWithUserSigner({accessToken:qr,requesterAppId:gt,message:vs})),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:Cr.from,to:Cr.to,nonce:hr(Cr.nonce),chain_id:hr(Cr.chainId),data:Bs(Cr.data)?Cr.data?Cr.data:Fn(Uint8Array.from(Cr.data)):void 0,value:hr(Cr.value),type:Cr.type,gas_limit:hr(Cr.gasLimit??Cr.gas),gas_price:hr(Cr.gasPrice??Cr.gas),max_fee_per_gas:hr(Cr.maxFeePerGas),max_priority_fee_per_gas:hr(Cr.maxPriorityFeePerGas)}},wallet_id:er.id});if(!sn.data||!("signed_transaction"in sn.data))throw new no("Unable to sign transaction");Kr=sn.data.signed_transaction}else Kr=await(async function({accessToken:hr,entropyId:sn,entropyIdVerifier:vs,transactingWalletIndex:zo,walletProxy:ws,transactionRequest:es,requesterAppId:bd}){return(await ws.rpc({entropyId:sn,entropyIdVerifier:vs,hdWalletIndex:zo??0,chainType:"ethereum",accessToken:hr,requesterAppId:bd,request:{method:"eth_signTransaction",params:[es]}})).response.data})({accessToken:qr,entropyId:Ct,entropyIdVerifier:Vt,transactingWalletIndex:Et,walletProxy:j,transactionRequest:Cr,requesterAppId:gt});if(be)return ut(me,"signTransaction","onSuccess",{signature:Kr}),Kr;{let hr=await ci.sendRawTransaction({serializedTransaction:Kr});return ut(me,"sendTransaction","onSuccess",{hash:hr}),hr}}catch(Kr){throw ut(me,Pt,"onError",ye.TRANSACTION_FAILURE),Kr}};if(_t({showWalletUIs:oe?.showWalletUIs})){let Cr=be||ne?vr:await AC(vr,ci,vr.from);try{let Kr=await nn({transactionRequest:Cr});be?ut(me,"signTransaction","onSuccess",{signature:Kr}):ut(me,"sendTransaction","onSuccess",{hash:Kr}),Pe({hash:Kr})}catch(Kr){ut(me,Pt,"onError",ye.TRANSACTION_FAILURE),Xe(Kr)}}else{let Cr={connectingWalletAddress:Nt,recoveryMethod:er.recoveryMethod,entropyId:Ct,entropyIdVerifier:Vt,onCompleteNavigateTo:Hye,isUnifiedWallet:cl,onFailure:hr=>{ut(me,Pt,"onError",ye.UNKNOWN_CONNECT_WALLET_ERROR),Xe(hr)}},Kr=bye(Q)?bZ({address:Nt,appConfig:Q,fundWalletConfig:le,methodScreen:ga,chainIdOverride:vr.chainId,comingFromSendTransactionScreen:!0}):void 0;ee({connectWallet:Cr,sendTransaction:{transactionRequest:vr,transactingWalletIndex:Et,transactingWalletAddress:Nt,entropyId:Ct,entropyIdVerifier:Vt,signOnly:be,scanTransaction:async()=>{let hr=await AC(vr,ci,vr.from);return await e.scanTransaction({metadata:{domain:Q.embeddedWallets.transactionScanning.domain},chain_id:hr.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:hr.from,to:hr.to,value:hr.value?.toString(),gas:hr.gas?.toString(),gasPrice:hr.gasPrice?.toString(),nonce:hr.nonce?.toString(),data:hr.data}]}})},getIsSponsored:async()=>!!ne,onConfirm:({transactionRequest:hr})=>nn({transactionRequest:hr}),onSuccess:hr=>{be?ut(me,"signTransaction","onSuccess",{signature:hr.hash}):ut(me,"sendTransaction","onSuccess",{hash:hr.hash}),Pe(hr)},onFailure:hr=>{ut(me,Pt,"onError",ye.TRANSACTION_FAILURE),Xe(hr)},uiOptions:oe||{},fundWalletConfig:le,requesterAppId:gt},funding:Kr}),Ye(Tf)}}));function Re(){return new Promise((async(X,ne)=>{let oe=await cn();if(!oe||!j)throw Error("Must have valid access token to enroll in MFA");try{await j.verifyMfa({accessToken:oe}),X()}catch(le){ne(le)}}))}let Ne=X=>X?.linkedAccounts.filter((ne=>ne.latestVerifiedAt!==null&&!(ne.type==="wallet"&&ne.walletClientType==="privy"))).sort(((ne,oe)=>oe.latestVerifiedAt.getTime()-ne.latestVerifiedAt.getTime()))[0],Ve=X=>{let ne=u?.linkedAccounts.filter((ve=>ve.type===X)).length??0,{displayName:oe,loginMethod:le}=tk(X);if(X==="passkey"&&ne>=5||X!=="passkey"&&ne>=1)throw ut(me,"linkAccount","onError",ye.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:le}),new fe(`User already has an account of type ${oe} linked.`)};async function Se({showAutomaticRecovery:X=!1,legacySetWalletPasswordFlow:ne=!1}){C(null);let oe=ne?"setWalletPassword":"setWalletRecovery";if(!l||!u)throw ut(me,oe,"onError",ye.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let le=Kl(u);if(!le||!j)throw ut(me,oe,"onError",ye.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let ve=as(le);if(ve)throw ut(me,oe,"onError",ye.UNSUPPORTED_WALLET_TYPE),new fe("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await Re()}catch(be){throw ut(me,oe,"onError",ye.MISSING_MFA_CREDENTIALS),be}return new Promise(((be,Pe)=>{let Xe=le.recoveryMethod==="user-passcode",gt=pye({walletAction:"update",availableRecoveryMethods:Q.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:ne,isResettingPassword:Xe,showAutomaticRecovery:X}),{entropyId:Pt,entropyIdVerifier:er}=js(u),Nt={recoveryMethod:le.recoveryMethod,connectingWalletAddress:le.address,onCompleteNavigateTo:gt,shouldForceMFA:!1,entropyId:Pt,isUnifiedWallet:ve,entropyIdVerifier:er,onFailure:Et=>{ut(me,oe,"onError",ye.UNKNOWN_CONNECT_WALLET_ERROR),Pe(Et)}};ee({setWalletPassword:{onSuccess:Et=>{ut(me,oe,"onSuccess",{method:"user-passcode",wallet:Et}),be(Et)},onFailure:Et=>{ut(me,oe,"onError",ye.USER_EXITED_SET_PASSWORD_FLOW),Pe(Et)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:Pt,entropyIdVerifier:er,onFailure:Pe},connectWallet:Nt,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:Xe,shouldCreateEth:!1,shouldCreateSol:!1}}),Ye(Tf)}))}async function Me({appId:X,action:ne}){let oe=await cn();if(ne==="link"&&!oe)throw ut(me,"linkAccount","onError",ye.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${X}`}),new fe("User must be authenticated before linking an account.");if(ne==="login"&&oe)throw ut(me,"login","onError",ye.UNKNOWN_AUTH_ERROR),new fe("Attempted to log in, but user is already logged in. Use a `link` helper instead.");Ae.current=`privy:${X}`,Fe.current=ne;let le=G8();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:X}}),new Promise((async(ve,be)=>{let{name:Pe,logoUrl:Xe}=await gme({api:e.api,providerAppId:X,requesterAppId:Q.id});ee({crossAppAuth:{appId:X,name:Pe,logoUrl:Xe,action:ne,popup:le,onSuccess:ve,onError:be}}),Ye(bvt)}))}let Je={ready:o,authenticated:l,user:u,walletConnectors:e.connectors||null,connectWallet:X=>{X&&"target"in X&&X&&(X=void 0),ee({externalConnectWallet:{walletList:X?.walletList&&X?.walletList.length>0?X.walletList:void 0,suggestedAddress:X?.suggestedAddress,walletChainType:X?.walletChainType,description:X?.description}}),Ye(tj)},linkWallet:X=>{X&&"target"in X&&X&&(X=void 0),Ze("siwe"),Ae.current="siwe",Fe.current="link",ee({...Z,externalConnectWallet:{...Z.externalConnectWallet,suggestedAddress:X?.suggestedAddress,walletList:X?.walletList,walletChainType:X?.walletChainType,description:X?.suggestedAddress?d.jsxs("span",{children:["Link the wallet with address"," ",d.jsx(Sr,{showCopyIcon:!1,address:X?.suggestedAddress})," ",Q?.name?`to ${Q.name}.`:"."]}):`Link a wallet to your ${Q?.name} account`}}),Ye(o_)},startCrossAppAuthFlow:Me,linkEmail:()=>{Ze("email"),Ve("email"),Ae.current="email",Fe.current="link",Ye(jvt)},linkPhone:()=>{Ze("sms"),Ve("phone"),Ae.current="sms",Fe.current="link",Ye(qL)},linkGoogle:async()=>{Ze("google"),Ve("google_oauth"),Fe.current="link",await Ue.initLoginWithOAuth("google")},linkTwitter:async()=>{Ze("twitter"),Ve("twitter_oauth"),Fe.current="link",await Ue.initLoginWithOAuth("twitter")},linkDiscord:async()=>{Ze("discord"),Ve("discord_oauth"),Fe.current="link",await Ue.initLoginWithOAuth("discord")},linkGithub:async()=>{Ze("github"),Ve("github_oauth"),Fe.current="link",await Ue.initLoginWithOAuth("github")},linkSpotify:async()=>{Ze("spotify"),Ve("spotify_oauth"),Fe.current="link",await Ue.initLoginWithOAuth("spotify")},linkInstagram:async()=>{Ze("instagram"),Ve("instagram_oauth"),Fe.current="link",await Ue.initLoginWithOAuth("instagram")},linkTiktok:async()=>{Ze("tiktok"),Ve("tiktok_oauth"),Fe.current="link",await Ue.initLoginWithOAuth("tiktok")},linkLine:async()=>{Ze("line"),Ve("line_oauth"),Fe.current="link",await Ue.initLoginWithOAuth("line")},linkLinkedIn:async()=>{Ze("linkedin"),Ve("linkedin_oauth"),Fe.current="link",await Ue.initLoginWithOAuth("linkedin")},linkApple:async()=>{Ze("apple"),Ve("apple_oauth"),Fe.current="link",await Ue.initLoginWithOAuth("apple")},linkPasskey:async()=>{Ze("passkey"),Ve("passkey"),await Ue.initLinkWithPasskey(),Ye(myt)},linkTelegram:async X=>{if(Ze("telegram"),Ve("telegram"),Fe.current="link",Ae.current="telegram",X?.launchParams)if(X.launchParams.initDataRaw){let ne=new yw;e.startAuthFlow(ne),ne.meta.telegramAuthResult=void 0,ne.meta.telegramWebAppData=TQ(X.launchParams.initDataRaw),ee({telegramAuthModalData:{seamlessAuth:!0}}),Ye(a_)}else ut(me,"linkAccount","onError",ye.INVALID_DATA,{linkMethod:"telegram"});else await Ue.initLoginWithTelegram();Ye(a_)},linkFarcaster:async()=>{Ze("farcaster"),Ve("farcaster"),await Ue.initLoginWithFarcaster(),Fe.current="link",Ae.current="farcaster",Ye(rj)},updateEmail:()=>{if(Ze("email"),!u?.email)throw new fe("User does not have an email linked to their account.");Fe.current="update",Ae.current="email",Ye(owt)},updatePhone:()=>{if(Ze("sms"),!u?.phone)throw new fe("User does not have a phone number linked to their account.");Fe.current="update",Ae.current="sms",Ye(lwt)},login:async X=>{X&&"target"in X&&X&&(X=void 0);let ne="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!o){let oe=await new Promise((le=>{se((ve=>le.bind(ve)))}));if(se(null),oe)return void console.warn(ne)}!u||u.isGuest?(Fe.current="login",ee({login:X}),Ye(yo)):console.warn(ne)},connectOrCreateWallet:async()=>{o||(await new Promise((X=>{se((()=>X))})),se(null)),l?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(Fe.current="connect-or-create",Ye(sye))},logout:async()=>{if(Fe.current=null,Ae.current=null,u&&e.clearProviderAcccessTokens(u),C(null),await e.logout(),u&&j)try{await j.clearMfa({userId:u.id})}catch{}h(null),c(!1),ut(me,"logout","onSuccess"),s(!1),Jt.del($O),Jt.del(ege(Q.id))},getAccessToken:x.useCallback((()=>e.getCustomerAccessToken()),[e]),unlinkWallet:async X=>{let ne;return h(ne=X.startsWith("0x")?await e.unlinkEthereumWallet(X):await e.unlinkSolanaWallet(X)),ne},unlinkEmail:async X=>{let ne=await e.unlinkEmail(X);return h(ne),ne},unlinkPhone:async X=>{let ne=await e.unlinkPhone(X);return h(ne),ne},unlinkGoogle:async X=>{let ne=await e.unlinkOAuth("google",X);return h(ne),ne},unlinkTwitter:async X=>{let ne=await e.unlinkOAuth("twitter",X);return h(ne),ne},unlinkDiscord:async X=>{let ne=await e.unlinkOAuth("discord",X);return h(ne),ne},unlinkGithub:async X=>{let ne=await e.unlinkOAuth("github",X);return h(ne),ne},unlinkSpotify:async X=>{let ne=await e.unlinkOAuth("spotify",X);return h(ne),ne},unlinkInstagram:async X=>{let ne=await e.unlinkOAuth("instagram",X);return h(ne),ne},unlinkTiktok:async X=>{let ne=await e.unlinkOAuth("tiktok",X);return h(ne),ne},unlinkLine:async X=>{let ne=await e.unlinkOAuth("line",X);return h(ne),ne},unlinkLinkedIn:async X=>{let ne=await e.unlinkOAuth("linkedin",X);return h(ne),ne},unlinkApple:async X=>{let ne=await e.unlinkOAuth("apple",X);return h(ne),ne},unlinkFarcaster:async X=>{let ne=await e.unlinkFarcaster(X);return h(ne),ne},unlinkTelegram:async X=>{let ne=await e.unlinkTelegram(X);return h(ne),ne},unlinkPasskey:async X=>{let ne=await cn();if(!ne)throw Error("Must have valid access token to enroll in MFA");if(!j)throw Error("Wallet proxy not initialized.");let oe=Q.passkeys.shouldUnenrollMfaOnUnlink;await j.unlinkPasskeyAccount({credentialId:X,accessToken:ne,removeAsMfa:oe});let le=await e.getAuthenticatedUser();return h(le),le},unlinkCrossAppAccount:async({subject:X})=>{let ne=u?.linkedAccounts.find((le=>le.type==="cross_app"&&le.subject===X))?.providerApp;if(!ne)throw new fe("Invalid subject");e.storeProviderAccessToken(ne.id,null);let oe=await e.unlinkOAuth(`privy:${ne.id}`,X);return h(oe),oe},setWalletRecovery:async X=>Se({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:X?.showAutomaticRecovery??!1}),setWalletPassword:async()=>Se({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(X,ne)=>new Promise((async(oe,le)=>{let{requesterAppId:ve}=ne?.uiOptions||{},be=X.message,Pe=ne?.address?Pl(u,ne.address):Yu(u);if(!Pe&&ne?.address!==void 0){let Ct=A9(f,ne.address);if(Ct)try{let Vt=await Ct.getEthereumProvider(),Lt=await Vt.request({method:"personal_sign",params:[be,Ct.address]});return ut(me,"signMessage","onSuccess",{signature:Lt}),void oe({signature:Lt})}catch(Vt){return ut(me,"signMessage","onError",ye.UNABLE_TO_SIGN),void le(Vt??new no("Unable to sign message"))}}if(!Pe)throw new fe("No embedded or connected wallet found for address.");if(!l||!u)return ut(me,"signMessage","onError",ye.MUST_BE_AUTHENTICATED),void le(Error("User must be authenticated before signing with a Privy wallet"));let Xe=Pe.address,gt=Pe.walletIndex??0,{entropyId:Pt,entropyIdVerifier:er}=js(u,Pe),Nt=as(Pe);if(typeof be!="string"||be.length<1)return ut(me,"signMessage","onError",ye.INVALID_MESSAGE),void le(Error("Message must be a non-empty string"));let Et=async()=>{let Ct;if(!l)throw Error("User must be authenticated before signing with a Privy wallet");let Vt=await cn();if(!j||!Vt||!await Ue.recoverEmbeddedWallet({address:Xe}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:Xe,requesterAppId:ve}}),Nt){let Lt=Bs(X.message,{strict:!0}),_r=await Ao(r,(async({message:gr})=>await j.signWithUserSigner({accessToken:Vt,requesterAppId:ve,message:gr})),{chain_type:"ethereum",method:"personal_sign",params:Lt?{message:be.slice(2),encoding:"hex"}:{message:be,encoding:"utf-8"},wallet_id:Pe.id});if(!_r.data||!("signature"in _r.data))throw new no("Unable to sign message");Ct=_r.data.signature}else{let{response:Lt}=await j.rpc({accessToken:Vt,entropyId:Pt,entropyIdVerifier:er,chainType:"ethereum",hdWalletIndex:gt,requesterAppId:ve,request:{method:"personal_sign",params:[be,Xe]}});Ct=Lt.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:Xe,requesterAppId:ve}}),Ct};if(_t({showWalletUIs:ne?.uiOptions?.showWalletUIs}))try{let Ct=await Et();ut(me,"signMessage","onSuccess",{signature:Ct}),oe({signature:Ct})}catch(Ct){ut(me,"signMessage","onError",ye.UNABLE_TO_SIGN),le(Ct??new no("Unable to sign message"))}else ee({signMessage:{method:"personal_sign",data:be,confirmAndSign:Et,onSuccess:Ct=>{ut(me,"signMessage","onSuccess",{signature:Ct}),oe({signature:Ct})},onFailure:Ct=>{ut(me,"signMessage","onError",ye.UNABLE_TO_SIGN),le(Ct)},uiOptions:ne?.uiOptions||{}},connectWallet:{recoveryMethod:Pe.recoveryMethod,connectingWalletAddress:Xe,entropyId:Pt,entropyIdVerifier:er,onCompleteNavigateTo:uj,isUnifiedWallet:Nt,onFailure:Ct=>{ut(me,"signMessage","onError",ye.UNKNOWN_CONNECT_WALLET_ERROR),le(Ct)}}}),Ye(Tf)})),signTypedData:(X,ne)=>new Promise((async(oe,le)=>{let{requesterAppId:ve}=ne?.uiOptions||{},be=ne?.address?Pl(u,ne.address):Yu(u);if(!be&&ne?.address){let Ct=A9(f,ne.address);if(Ct)try{let Vt=await Ct.getEthereumProvider(),Lt=r_(X),_r=await Vt.request({method:"eth_signTypedData_v4",params:[Ct.address,Lt]});return ut(me,"signTypedData","onSuccess",{signature:_r}),void oe({signature:_r})}catch(Vt){return ut(me,"signTypedData","onError",ye.UNABLE_TO_SIGN),void le(Vt??new no("Unable to sign typed data "+Vt))}}if(!be)throw new fe("No embedded or connected wallet found for address.");if(!l||!u)return ut(me,"signTypedData","onError",ye.MUST_BE_AUTHENTICATED),void le(Error("User must be authenticated before signing with a Privy wallet"));let Pe=be.address,Xe=be.walletIndex??0,{entropyId:gt,entropyIdVerifier:Pt}=js(u,be),er=as(be),Nt=r_(X),Et=async()=>{let Ct;if(!l)throw Error("User must be authenticated before signing with a Privy wallet");let Vt=await cn();if(!j||!Vt||!await Ue.recoverEmbeddedWallet({address:Pe}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:Pe,requesterAppId:ve}}),er){let{domain:Lt,types:_r,primaryType:gr,message:Nr}=Nt,vr=await Ao(r,(async({message:qr})=>await j.signWithUserSigner({accessToken:Vt,requesterAppId:ve,message:qr})),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:Lt,types:_r,primary_type:gr,message:Nr}},wallet_id:be.id});if(!vr.data||!("signature"in vr.data))throw new no("Unable to sign message");Ct=vr.data.signature}else{let{response:Lt}=await j.rpc({accessToken:Vt,entropyId:gt,entropyIdVerifier:Pt,chainType:"ethereum",hdWalletIndex:Xe,requesterAppId:ve,request:{method:"eth_signTypedData_v4",params:[Pe,Nt]}});Ct=Lt.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:Pe,requesterAppId:ve}}),Ct};if(_t({showWalletUIs:ne?.uiOptions?.showWalletUIs}))try{let Ct=await Et();ut(me,"signTypedData","onSuccess",{signature:Ct}),oe({signature:Ct})}catch(Ct){ut(me,"signTypedData","onError",ye.UNABLE_TO_SIGN),le(Ct??new no("Unable to sign message"))}else ee({signMessage:{method:"eth_signTypedData_v4",data:Nt,confirmAndSign:Et,onSuccess:Ct=>{ut(me,"signTypedData","onSuccess",{signature:Ct}),oe({signature:Ct})},onFailure:Ct=>{ut(me,"signTypedData","onError",ye.UNABLE_TO_SIGN),le(Ct)},uiOptions:ne?.uiOptions||{}},connectWallet:{recoveryMethod:be.recoveryMethod,connectingWalletAddress:be.address,entropyId:gt,isUnifiedWallet:er,entropyIdVerifier:Pt,onCompleteNavigateTo:uj,onFailure:Ct=>{ut(me,"signMessage","onError",ye.UNKNOWN_CONNECT_WALLET_ERROR),le(Ct)}}}),Ye(Tf)})),sendTransaction:async(X,ne)=>await we({transaction:X,sponsor:ne?.sponsor,uiOptions:ne?.uiOptions,fundWalletConfig:ne?.fundWalletConfig,address:ne?.address,signOnly:!1}),signTransaction:async(X,ne)=>({signature:(await we({transaction:X,uiOptions:ne?.uiOptions,address:ne?.address,signOnly:!0})).hash}),exportWallet:X=>new Promise((async(ne,oe)=>{if(!l||!u)return void oe(Error("User must be authenticated before exporting their Privy wallet"));X&&"target"in X&&X&&(X=void 0);let le=X?.address?Pl(u,X.address):Yu(u);if(!le)return void oe(new fe("User must have an embedded wallet."));let ve=le.address,{entropyId:be,entropyIdVerifier:Pe}=js(u,le),Xe=as(le);if(!ve)return void oe(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!oi(ve))return void oe(Error("Must provide a valid Ethereum address."));let gt={recoveryMethod:le.recoveryMethod,connectingWalletAddress:le.address,isUnifiedWallet:Xe,entropyId:be,entropyIdVerifier:Pe,onCompleteNavigateTo:cj,onFailure:oe,shouldForceMFA:!0};ee(Z),await cn()&&j?j?p1(le)?(ee({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:le.address,entropyId:be,entropyIdVerifier:Pe,hdWalletIndex:le.walletIndex,chainType:le.chainType,walletId:le.id,isUnifiedWallet:Xe,imported:le.imported,onSuccess:ne,onFailure:oe},connectWallet:gt}),Ye(Tf)):oe(Error(`Export is not supported for ${le.chainType} wallets`)):oe(Error("Must have a Privy wallet before exporting")):oe(Error("Must have valid access token to enroll in MFA"))})),promptMfa:Re,async init(X){switch(X){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${X}`)}},async submit(X,ne){switch(X){case"totp":case"sms":if(typeof ne!="string")throw new fe("Invalid MFA code");Ie.current?.resolve({mfaMethod:X,mfaCode:ne,relyingParty:window.origin}),await new Promise(((ve,be)=>{qe.current={resolve:ve,reject:be}}));break;case"passkey":if(typeof ne=="string")throw new fe("Invalid authenticator response");let oe=await bi(()=>import("./index-RgRXXzcQ.js"),[]),le=yvt(await oe.startAuthentication(ne));Ie.current?.resolve({mfaMethod:X,mfaCode:le,relyingParty:window.origin}),await new Promise(((ve,be)=>{qe.current={resolve:ve,reject:be}}));break;default:throw Ie.current?.reject(new fe("Unsupported MFA method")),new fe(`Unsupported MFA method: ${X}`)}},cancel(){Ie.current?.reject(new fe("MFA canceled"))},async initEnrollmentWithSms(X){let ne=await cn();if(!ne||!j)throw Error("Must have valid access token to enroll in MFA");await j.initEnrollMfa({method:"sms",accessToken:ne,phoneNumber:X.phoneNumber})},enrollInMfa:X=>new Promise(((ne,oe)=>{if(!X)return Ue.closePrivyModal(),void ne();Q.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),ee({mfaEnrollmentFlow:{mfaMethods:Q.mfa.methods,shouldUnlinkOnUnenrollMfa:Q.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:ne,onFailure:oe}}),Ye(ewt)})),async initEnrollmentWithTotp(){let X=await cn();if(!X||!j)throw Error("Must have valid access token to enroll in MFA");let ne=await j.initEnrollMfa({method:"totp",accessToken:X});return{secret:ne.secret,authUrl:ne.authUrl}},async submitEnrollmentWithSms(X){let ne=await cn();if(!ne||!j)throw Error("Must have valid access token to enroll in MFA");await j.submitEnrollMfa({method:"sms",accessToken:ne,phoneNumber:X.phoneNumber,code:X.mfaCode}),h(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(X){let ne=await cn();if(!ne||!j)throw Error("Must have valid access token to enroll in MFA");await j.submitEnrollMfa({method:"totp",accessToken:ne,code:X.mfaCode}),h(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:X},ne={}){let oe=await cn();if(!oe||!j)throw Error("Must have valid access token to enroll in MFA");await j.submitEnrollMfa({method:"passkey",accessToken:oe,credentialIds:X,removeForLogin:ne.removeForLogin}),h(await e.getAuthenticatedUser())},async unenroll(X,ne={}){let oe=await cn();if(!oe||!j)throw Error("Must have valid access token to remove MFA");X==="passkey"?await j.submitEnrollMfa({method:"passkey",accessToken:oe,credentialIds:[],removeForLogin:ne.removeForLogin}):await j.unenrollMfa({method:X,accessToken:oe}),h(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{let X=await cn(),ne=u?.linkedAccounts.find((le=>le.type==="wallet"&&le.walletClientType==="privy"));if(!X)throw Error("Must have valid access token to connect with Farcaster");if(!j||!ne)throw Error("Must have an embedded wallet to use Farcaster signers");if(as(ne))throw new fe("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!u?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await Ue.recoverEmbeddedWallet({address:ne.address}))throw Error("Unable to connect to wallet");let oe=await j.initFarcasterSigner({address:ne.address,hdWalletIndex:null,accessToken:X,mfaCode:null,mfaMethod:null,relyingParty:window.origin});oe.status==="approved"&&h(await e.getAuthenticatedUser()||u||null),ee({farcasterSigner:oe}),Ye(Nvt)},getFarcasterSignerPublicKey:async()=>{let X,ne=await cn(),oe=u?.linkedAccounts.find((le=>le.type==="wallet"&&le.walletClientType==="privy"));if(!ne)throw Error("Must have valid access token to connect with Farcaster");if(!j||!oe)throw Error("Must have an embedded wallet to use Farcaster signers");if(as(oe))throw new fe("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!u?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await Ue.recoverEmbeddedWallet({address:oe.address}))throw Error("Unable to connect to wallet");if(!u.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");return X=u.farcaster.signerPublicKey.slice(2),Uint8Array.from(X.match(/.{1,2}/g).map((le=>parseInt(le,16))))},signFarcasterMessage:async X=>{let ne=await cn(),oe=u?.linkedAccounts.find((be=>be.type==="wallet"&&be.walletClientType==="privy"));if(!ne)throw Error("Must have valid access token to connect with Farcaster");if(!j||!oe)throw Error("Must have an embedded wallet to use Farcaster signers");if(as(oe))throw new fe("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!u?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await Ue.recoverEmbeddedWallet({address:oe.address}))throw Error("Unable to connect to wallet");if(!u.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");let le=await bi(()=>import("./index-RgRXXzcQ.js"),[]),ve=await j.signFarcasterMessage({address:oe.address,hdWalletIndex:null,accessToken:ne,mfaCode:null,mfaMethod:null,payload:{hash:le.bufferToBase64URLString(X)},fid:BigInt(u.farcaster.fid),relyingParty:window.origin});return new Uint8Array(le.base64URLStringToBuffer(ve.signature))},signMessageWithCrossAppWallet(X,{address:ne,chainId:oe}){let le=u?.linkedAccounts.some((ve=>ve.type==="cross_app"&&ve.smartWallets.some((be=>be.address===ne))));return U6({user:u,client:e,address:ne,requesterAppId:Q.id,request:{method:le?"privy_signSmartWalletMessage":"personal_sign",params:[X,ne],chainId:oe},reconnect:Me})},signTypedDataWithCrossAppWallet(X,{address:ne,chainId:oe}){let le=u?.linkedAccounts.some((be=>be.type==="cross_app"&&be.smartWallets.some((Pe=>Pe.address===ne)))),ve=r_(X);return U6({user:u,client:e,address:ne,requesterAppId:Q.id,request:{method:le?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[ne,ve],chainId:oe},reconnect:Me})},sendTransactionWithCrossAppWallet(X,{address:ne}){let oe=u?.linkedAccounts.some((le=>le.type==="cross_app"&&le.smartWallets.some((ve=>ve.address===ne))));return U6({user:u,client:e,address:ne,requesterAppId:Q.id,request:{method:oe?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[X],chainId:X.chainId},reconnect:Me})},signTransactionWithCrossAppWallet(X,{address:ne}){let oe=u?.linkedAccounts.some((le=>le.type==="cross_app"&&le.smartWallets.some((ve=>ve.address===ne))));return U6({user:u,client:e,address:ne,requesterAppId:Q.id,request:{method:oe?"privy_signSmartWalletTx":"eth_signTransaction",params:[X],chainId:X.chainId},reconnect:Me})},isModalOpen:i,mfaMethods:Q.mfa.methods};Jye=Je.signMessage,Xye=Je.signTypedData,Zye=async(X,ne)=>await we({transaction:X,...ne,signOnly:!1}),Qye=async(X,ne)=>({signature:(await we({transaction:X,...ne,signOnly:!0})).hash});let Ue={privy:r,setAuthenticated:c,setUser:h,setIsNewUser:_,isNewUserThisSession:E,pendingTransaction:null,walletConnectionStatus:F,setWalletConnectionStatus:N,connectors:e.connectors?.walletConnectors??[],solanaWallets:m,rpcConfig:Q.rpcConfig,chains:Q.chains,appId:t.appId,showFiatPrices:Q.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,onCustomAuthAuthenticated:wt,hideWalletUIs:nt,isHeadlessSigning:x.useCallback(_t,[Q.embeddedWallets.showWalletUIs]),emailOtpState:O,setEmailOtpState:D,smsOtpState:T,setSmsOtpState:I,oAuthState:B,setOAuthState:q,telegramAuthState:G,setTelegramAuthState:W,siweState:R,setSiweState:L,isHeadlessOAuthLoading:k,baseAccountSdk:w,setBaseAccountSdk:b,nativeTokenSymbolForChainId:X=>Q.chains.find((ne=>ne.id===Number(X)))?.nativeCurrency.symbol,initializeWalletProxy:async X=>{if(j)return j;let ne=new Promise((ve=>{ce.current=ve})),oe=new Promise((ve=>setTimeout((()=>ve(null)),X))),le=await Promise.race([ne,oe]);return ce.current=null,le},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>e.authFlow?.meta,client:e,closePrivyModal:async(X={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let ne,oe=o&&l&&u;oe&&Ae.current&&(ne=Ne(u)),Fe.current==="login"?X.shouldCallAuthOnSuccess&&oe&&Ae.current?ut(me,"login","onComplete",{user:u,isNewUser:E,wasAlreadyAuthenticated:!1,loginMethod:Ae.current,loginAccount:ne??null}):ut(me,"login","onError",ye.USER_EXITED_AUTH_FLOW):Fe.current==="link"&&ne?X.isSuccess&&oe&&Ae.current?ut(me,"linkAccount","onSuccess",{user:u,linkMethod:Ae.current,linkedAccount:ne}):Ae.current&&ut(me,"linkAccount","onError",ye.USER_EXITED_LINK_FLOW,{linkMethod:Ae.current}):Fe.current==="update"&&ne?X.isSuccess&&oe&&Ae.current?ut(me,"update","onSuccess",{user:u,updateMethod:Ae.current,updatedAccount:ne}):Ae.current&&ut(me,"update","onError",ye.USER_EXITED_UPDATE_FLOW,{linkMethod:Ae.current}):Fe.current==="connect-or-create"&&(f[0]?ut(me,"connectOrCreateWallet","onSuccess",{wallet:f[0]}):ut(me,"connectOrCreateWallet","onError",ye.USER_EXITED_AUTH_FLOW));let le=A&&V7.has(A),ve=A===zn&&Z.errorModalData&&V7.has(Z.errorModalData.previousScreen);if((le||ve)&&Z.funding){let be,Pe=V7.get(A)??null;if(Z.funding.chainType==="solana"){let Xe=n(b3);if(Xe)try{be=BigInt(await Xe.getBalance({address:Z.funding.address,cluster:Z.funding.cluster}))}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");ut(me,"fundSolanaWallet","onUserExited",{address:Z.funding.address,cluster:Z.funding.cluster,fundingMethod:Pe,balance:be})}else{let Xe=h1(Z.funding.chain.id,Q.chains,Q.rpcConfig,{appId:t.appId});try{be=await Xe.getBalance({address:Z.funding.address})}catch{console.error("Unable to pull wallet balance")}ut(me,"fundWallet","onUserExited",{address:Z.funding.address,chain:Z.funding.chain,fundingMethod:Pe,balance:be})}}ee((be=>({...be,externalConnectWallet:{suggestedAddress:void 0}}))),Fe.current=null,Ae.current=null,_(!1),s(!1),setTimeout((()=>{e.authFlow=void 0}),200)},openPrivyModal:Ye,connectWallet:Qe,initLoginWithWallet:async(X,ne,oe,le)=>{nh(X)?(Ae.current="siwe",it(X,ne,oe)):(Ae.current="siws",st(X,ne,oe,le))},loginWithWallet:async()=>{let X,ne,oe;if(!o)throw new Wp;if(e.authFlow instanceof Ly?X="siwe":e.authFlow instanceof _C&&(X="siws"),!X)throw new fe("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:ne}=await e.link()),Ae.current=X}catch(le){throw ut(me,"linkAccount","onError",le.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:X}),le}else try{({user:ne,isNewUser:oe}=await e.authenticate()),Ae.current=X}catch(le){throw ut(me,"login","onError",le.privyErrorCode||ye.GENERIC_CONNECT_WALLET_ERROR),le}h(ne||u||null),_(oe||!1),c(!0)},delegateWallet:async({address:X,chainType:ne,showDelegationUIs:oe})=>new Promise((async(le,ve)=>{let be=await cn();if(!l||!u||!be)throw new fe("User must be authenticated and have an embedded wallet to delegate actions.");if(ne!=="solana"&&ne!=="ethereum")throw new fe("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let Pe=Ue.walletProxy??await Ue.initializeWalletProxy(15e3);if(!Pe)throw new fe("Wallet proxy not initialized.");if((({address:Nt,user:Et})=>!!KQ(Et).find((Ct=>Ct.address===Nt)))({address:X,user:u}))return le();let Xe=Pl(u,X);if(!Xe)throw new fe("Address to delegate is not associated with current user.");if(as(Xe))throw new fe("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let gt=Mpt({address:X,user:u}),Pt=Dpt({address:X,user:u}),er=async()=>{await Pe.createDelegatedAction({accessToken:be,rootWallet:Pt,delegatedWallets:[gt]}),await Ue.refreshSessionAndUser()};if(await Ue.recoverEmbeddedWallet({address:X}),oe)ee({delegatedActions:{consent:{address:X,onDelegate:er,onSuccess:async()=>{le()},onError:async Nt=>{ve(Nt)}}}}),Ye(_vt);else try{await er(),le()}catch(Nt){ve(Nt)}})),revokeDelegatedWallets:async({showDelegationUIs:X})=>new Promise((async(ne,oe)=>{if(!l||!u)throw new fe("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let le=KQ(u);if(le.length===0)throw new fe("User has no delegated wallets to revoke.");if(le.some(as))throw new fe("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let ve=async()=>{await e.revokeDelegatedWallet(),await Ue.refreshSessionAndUser()};if(X)ee({delegatedActions:{revoke:{onRevoke:ve,onSuccess:async()=>{ne()},onError:async be=>{oe(be)}}}}),Ye(Evt);else try{await ve(),ne()}catch(be){oe(be)}})),initLoginWithFarcaster:async(X,ne)=>{let oe=new bQ(X,ne);e.startAuthFlow(oe);try{Ae.current="farcaster",await oe.initializeFarcasterConnect()}catch(le){throw Fe.current==="login"?ut(me,"login","onError",le.privyErrorCode||ye.UNKNOWN_AUTH_ERROR):Fe.current==="link"&&ut(me,"linkAccount","onError",le.privyErrorCode||ye.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),le}},loginWithFarcaster:async()=>{let X,ne;if(!o)throw new Wp;if(!(e.authFlow instanceof bQ))throw new fe("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:X}=await e.link()),Ae.current="farcaster"}catch(oe){throw ut(me,"linkAccount","onError",oe.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),oe}else try{({user:X,isNewUser:ne}=await e.authenticate()),Ae.current="farcaster"}catch(oe){throw ut(me,"login","onError",oe.privyErrorCode||ye.UNKNOWN_AUTH_ERROR),oe}h(X||null),_(ne||!1),c(!0)},async crossAppAuthFlow({appId:X,popup:ne,action:oe}){let le=`privy:${X}`;Ae.current=le;let{url:ve,stateCode:be,codeVerifier:Pe}=await(async function({api:Xe,appId:gt}){let Pt=U8(),er=uL(),Nt=await dL(Pt);try{let{url:Et}=await Xe.post(zce,{provider:`privy:${gt}`,redirect_to:window.location.href,code_challenge:Nt,state_code:er});return{url:Et,stateCode:er,codeVerifier:Pt}}catch(Et){throw jr(Et)}})({api:e.api,appId:X});if(!ve)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:X}}),new fe("No authorization URL returned for cross-app auth.");try{let Xe=await(async function({url:Et,popup:Ct}){return Ct.location=Et,new Promise(((Vt,Lt)=>{let _r,gr=setTimeout((()=>{Lt(new fe("Authorization request timed out after 2 minutes.")),Nr()}),12e4);function Nr(){Ct?.close(),window.removeEventListener("message",qr)}let vr=setInterval((()=>{Ct?.closed&&!_r&&(Nr(),clearInterval(vr),clearTimeout(gr),Lt(new fe("User rejected request")))}),300);function qr(ci){ci.data&&(ci.data.type==="PRIVY_OAUTH_RESPONSE"&&ci.data.stateCode&&ci.data.authorizationCode&&(clearTimeout(gr),Vt(ci.data),Nr()),ci.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(gr),Lt(new fe(ci.data.error)),Nr()),ci.data.type===JQ&&((_r=new BroadcastChannel(YQ)).onmessage=qr))}window.addEventListener("message",qr)}))})({url:ve,popup:ne,provider:le}),gt=Xe.stateCode,Pt=Xe.authorizationCode;if(gt!==be)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:le,storedStateCode:be??"",returnedStateCode:gt??""}}),new fe("Unexpected auth flow. This may be a phishing attempt.",void 0,ye.OAUTH_UNEXPECTED);let er=await(async function({appId:Et,stateCode:Ct,codeVerifier:Vt,authorizationCode:Lt,action:_r,client:gr}){if(!Lt||!Ct)throw new fe("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(Lt==="undefined")throw new fe("User denied confirmation during cross-app auth flow");try{let Nr=new Lpt({authorizationCode:Lt,stateCode:Ct,codeVerifier:Vt,provider:`privy:${Et}`});gr.startAuthFlow(Nr);let vr=_r==="link"?await gr.link():await gr.authenticate(),qr=vr.oAuthTokens?.accessToken;return console.debug(),qr}catch(Nr){let vr=jr(Nr);throw vr.privyErrorCode===ye.ACCOUNT_TRANSFER_REQUIRED?vr:vr.privyErrorCode?new fe(vr.message||"Invalid code during cross-app auth flow.",void 0,vr.privyErrorCode):vr.message==="User denied confirmation during cross-app auth flow"?new fe("Invalid code during cross-app auth flow.",void 0,ye.OAUTH_USER_DENIED):new fe("Invalid code during cross-app auth flow.",void 0,ye.UNKNOWN_AUTH_ERROR)}})({appId:X,codeVerifier:Pe,stateCode:gt,authorizationCode:Pt,action:oe,client:e});er&&e.storeProviderAccessToken(X,er);let Nt=await Ue.refreshSessionAndUser();if(!Nt)throw new fe("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:X}}),Nt}catch(Xe){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:Xe.toString(),provider:le}}),Xe}},async initLoginWithOAuth(X,ne,oe){if(Ae.current=X,!IO()||X==="google"&&nj(window.navigator.userAgent))return void Ye(NZ);X==="twitter"&&window.opener&&window.opener.postMessage({type:JQ},"*"),Jt.del(xC),Jt.del(Ib);let le=new iy({provider:X,disableSignup:!!oe,withPrivyUi:!0,customOAuthRedirectUrl:Q.customOAuthRedirectUrl});ne&&le.addCaptchaToken(ne),e.startAuthFlow(le);let ve=await e.authFlow.getAuthorizationUrl();if(ve&&ve.url)if(X==="twitter"&&Vr.isAndroid&&(ve.url=ve.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&NO())try{let{privyOAuthCode:be,privyOAuthState:Pe}=await kQ(ve.url);Ye(OZ),le.meta.stateCode=Pe,le.meta.authorizationCode=be}catch(be){throw console.error("OAuth in chrome extension flow failed:",be),be}else window.location.assign(ve.url)},async initLoginWithTelegram(X,ne){if(!o)throw new Wp;Ae.current="telegram";let oe=new yw(X,ne);e.startAuthFlow(oe),W({status:"loading"}),oe.meta.telegramWebAppData=void 0,oe.meta.telegramAuthResult=await new Promise(((le,ve)=>Q.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:Q.loginConfig.telegramAuthConfiguration.botId,request_access:!0},(be=>be?le(be):ve(new fe("Telegram auth failed or was canceled by the client")))):ve(new fe("Telegram was not initialized")):ve(new fe("Telegram Auth configuration is not loaded"))))},async loginWithTelegram(X){let ne,oe;if(!(e.authFlow instanceof yw))throw new fe("Must initialize Telegram flow before calling loginWithTelegram");e.authFlow.meta.captchaToken||=X?.captchaToken;let le=await cn(),ve=X?.intent||Fe.current;if(ve==="login")try{let Pe=await e.authenticate();ne=Pe.user,oe=Pe.isNewUser,Ae.current="telegram"}catch(Pe){throw ut(me,"login","onError",Pe.privyErrorCode||ye.UNKNOWN_AUTH_ERROR),Pe}else{if(ve!=="link")throw new fe("Unknown auth intent");try{ne=(await e.link()).user,Ae.current="telegram"}catch(Pe){throw ut(me,"linkAccount","onError",Pe.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),Pe}}h(ne),_(oe||!1),c(!0),W({status:"done"});let be=ne?.linkedAccounts.find((({type:Pe})=>Pe==="telegram"))||null;return{user:ne,isNewUser:oe||!1,wasAlreadyAuthenticated:!!le,loginAccount:be}},async loginWithOAuth(X){let ne,oe,le;if(!(e.authFlow instanceof iy))throw new fe("Must initialize OAuth flow before calling loginWithOAuth");let ve=Jt.get(bC),be=e.authFlow.meta.stateCode;if(ve!==be)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:X,storedStateCode:ve??"",returnedStateCode:be??""}}),new fe("Unexpected auth flow. This may be a phishing attempt.",void 0,ye.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let Pe=await e.link();ne=Pe.user,le=Pe.oAuthTokens,Ae.current=X}catch(Pe){throw ut(me,"linkAccount","onError",Pe.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:X}),Pe}else try{let Pe=await e.authenticate();ne=Pe.user,oe=Pe.isNewUser,le=Pe.oAuthTokens,Ae.current=X}catch(Pe){throw Fe.current==="login"?ut(me,"login","onError",Pe.privyErrorCode||ye.UNKNOWN_AUTH_ERROR):Fe.current==="link"&&ut(me,"linkAccount","onError",Pe.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:X}),Pe}return h(ne),_(oe||!1),c(!0),le&&ne&&ut(me,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:le,user:ne}),le},passkeyAuthState:$,setPasskeyAuthState:U,async initSignupWithPasskey({captchaToken:X,withPrivyUi:ne}){let oe=new zm({captchaToken:X,setPasskeyAuthState:U});e.startAuthFlow(oe),Fe.current="login";try{Ae.current="passkey",U({status:"generating-challenge"}),await oe.initRegisterFlow(ne),U({status:"awaiting-passkey"})}catch(le){throw U({status:"error",error:le}),ut(me,"login","onError",le.privyErrorCode||ye.UNKNOWN_AUTH_ERROR),le}},async signupWithPasskey(){let X,ne;if(!o)throw new Wp;if(!(e.authFlow instanceof zm))throw new fe("Must initialize Passkey flow first.");if(Ae.current!=="passkey"){let ve=new fe("Must init login with Passkey flow first.");throw U({status:"error",error:ve}),ve}let oe=await cn();try{Ae.current="passkey",U({status:"awaiting-passkey"}),{user:X,isNewUser:ne}=await e.authenticate()}catch(ve){throw U({status:"error",error:ve}),ut(me,"login","onError",ve.privyErrorCode||ye.UNKNOWN_AUTH_ERROR),ve}h(X),_(ne||!1),c(!0),U({status:"done"});let le=X?.linkedAccounts.find((({type:ve})=>ve==="passkey"))||null;return{user:X,isNewUser:ne||!1,wasAlreadyAuthenticated:!!oe,loginAccount:le}},async initLoginWithPasskey({captchaToken:X,withPrivyUi:ne}){let oe=new zm({captchaToken:X,setPasskeyAuthState:U});e.startAuthFlow(oe),Fe.current="login";try{Ae.current="passkey",U({status:"generating-challenge"}),await oe.initAuthenticationFlow(ne),U({status:"awaiting-passkey"})}catch(le){throw U({status:"error",error:le}),ut(me,"login","onError",le.privyErrorCode||ye.UNKNOWN_AUTH_ERROR),le}},async loginWithPasskey(X){let ne,oe;if(!o)throw new Wp;if(!(e.authFlow instanceof zm))throw new fe("Must initialize Passkey flow first.");if(X?.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=X.credentialIds),Ae.current!=="passkey"){let be=new fe("Must init login with Passkey flow first.");throw U({status:"error",error:be}),be}let le=await cn();try{Ae.current="passkey",U({status:"awaiting-passkey"}),{user:ne,isNewUser:oe}=await e.authenticate()}catch(be){throw U({status:"error",error:be}),ut(me,"login","onError",be.privyErrorCode||ye.UNKNOWN_AUTH_ERROR),be}h(ne),_(oe||!1),c(!0),U({status:"done"});let ve=ne?.linkedAccounts.find((({type:be})=>be==="passkey"))||null;return{user:ne,isNewUser:oe||!1,wasAlreadyAuthenticated:!!le,loginAccount:ve}},async initLinkWithPasskey(X){let ne=new zm({captchaToken:X});e.startAuthFlow(ne),Fe.current="link",Ae.current="passkey",U({status:"generating-challenge"});try{await ne.initLinkFlow(),U({status:"awaiting-passkey"})}catch(oe){throw ut(me,"linkAccount","onError",oe.privyErrorCode||ye.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),U({status:"error",error:oe}),oe}},async linkWithPasskey(){let X;if(!o)throw new Wp;if(!(e.authFlow instanceof zm))throw new fe("Must initialize Passkey flow first.");if(Ae.current!=="passkey")throw new fe("Must init login with Passkey flow first.");try{Ae.current="passkey",{user:X}=await e.link()}catch(ne){throw ut(me,"linkAccount","onError",ne.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),ne}return h(X||u||null),U({status:"done"}),X},async initLoginWithHeadlessOAuth(X,ne,oe){if(!IO()||X==="google"&&nj(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let le=new iy({provider:X,withPrivyUi:!1,disableSignup:oe??!1,customOAuthRedirectUrl:Q.customOAuthRedirectUrl});ne&&le.addCaptchaToken(ne),q({status:"loading"});let ve=await e.startAuthFlow(le).getAuthorizationUrl();if(ve?.url)if(window.location.protocol==="chrome-extension:"&&NO())try{let{privyOAuthCode:be,privyOAuthState:Pe}=await kQ(ve.url);le.meta.stateCode=Pe,le.meta.authorizationCode=be,await this.loginWithHeadlessOAuth(le.meta)}catch(be){throw q({status:"error",error:be}),be}else window.location.assign(ve.url)},async loginWithHeadlessOAuth(X){let ne,oe,le;P(!0),q({status:"loading"}),e.startAuthFlow(new iy({...X,customOAuthRedirectUrl:Q.customOAuthRedirectUrl}));let ve=Jt.get(bC),be=X.stateCode;if(ve!==be)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:X.provider,storedStateCode:ve??"",returnedStateCode:be??""}}),P(!1),new fe("Unexpected auth flow. This may be a phishing attempt.",void 0,ye.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:ne,oAuthTokens:le}=await e.link()),Ae.current=X.provider;let Pe=Ne(ne);ne&&Pe&&ut(me,"linkAccount","onSuccess",{user:ne,linkMethod:Ae.current,linkedAccount:Pe})}catch(Pe){throw P(!1),ut(me,"linkAccount","onError",Pe.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:X.provider}),Pe}else try{({user:ne,isNewUser:oe,oAuthTokens:le}=await e.authenticate()),Ae.current=X.provider;let Pe=Ne(ne);ne&&Pe&&oe!==void 0&&ut(me,"login","onComplete",{user:ne,isNewUser:oe,wasAlreadyAuthenticated:!1,loginMethod:Ae.current,loginAccount:Pe})}catch(Pe){throw P(!1),q({status:"error",error:Pe}),ut(me,"login","onError",Pe.privyErrorCode||ye.UNKNOWN_AUTH_ERROR),Pe}return h(ne),_(oe||!1),c(!0),P(!1),q({status:"done"}),le&&ne&&ut(me,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:le,user:ne}),ne??void 0},initLoginWithEmail:async({email:X,captchaToken:ne,disableSignup:oe,withPrivyUi:le})=>{let ve=new by({email:X,captchaToken:ne,disableSignup:oe});e.startAuthFlow(ve);try{Ae.current="email",D({status:"sending-code"}),await ve.sendCodeEmail({withPrivyUi:le}),D({status:"awaiting-code-input"})}catch(be){throw D({status:"error",error:be}),Fe.current==="login"?ut(me,"login","onError",be.privyErrorCode||ye.UNKNOWN_AUTH_ERROR):Fe.current==="link"&&ut(me,"linkAccount","onError",be.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),be}},initUpdateEmail:async({oldAddress:X,newAddress:ne,captchaToken:oe})=>{let le=new Ddt(X,ne,oe);e.startAuthFlow(le);try{await le.sendCodeEmail({withPrivyUi:!0})}catch(ve){ut(me,"update","onError",ve.privyErrorCode||ye.UNKNOWN_AUTH_ERROR,{linkMethod:Ae.current})}},initUpdatePhone:async(X,ne,oe)=>{let le=new Vdt(X,ne,oe);e.startAuthFlow(le);try{await le.sendSmsCode({withPrivyUi:!0})}catch(ve){ut(me,"update","onError",ve.privyErrorCode||ye.UNKNOWN_AUTH_ERROR,{linkMethod:Ae.current})}},initLoginWithSms:async({phoneNumber:X,captchaToken:ne,disableSignup:oe,withPrivyUi:le})=>{I({status:"sending-code"});let ve=new xy({phoneNumber:X,captchaToken:ne,disableSignup:oe});e.startAuthFlow(ve);try{Ae.current="sms",await ve.sendSmsCode({withPrivyUi:le}),I({status:"awaiting-code-input"})}catch(be){throw I({status:"error",error:be}),Fe.current==="login"?ut(me,"login","onError",be.privyErrorCode||ye.UNKNOWN_AUTH_ERROR):Fe.current==="link"&&ut(me,"linkAccount","onError",be.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),be}},resendEmailCode:async()=>{await e.authFlow?.sendCodeEmail({withPrivyUi:!0})},resendSmsCode:async()=>{await e.authFlow?.sendSmsCode({withPrivyUi:!0})},loginWithCode:async X=>{let ne,oe;function le(Xe){e.authFlow instanceof by?D(Xe):e.authFlow instanceof xy&&I(Xe)}if(le({status:"submitting-code"}),!o){let Xe=new Wp;throw le({status:"error",error:Xe}),Xe}if(e.authFlow instanceof by)e.authFlow.meta.emailCode=X.trim();else{if(!(e.authFlow instanceof xy)){let Xe=new fe("Must initialize a passwordless code flow first");throw le({status:"error",error:Xe}),Xe}e.authFlow.meta.smsCode=X.trim()}let ve=await cn();if(Fe.current==="link")try{({user:ne}=await e.link())}catch(Xe){throw le({status:"error",error:Xe}),ut(me,"linkAccount","onError",Xe.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:Ae.current}),Xe}else if(Fe.current==="update")try{({user:ne}=await e.link())}catch(Xe){throw le({status:"error",error:Xe}),ut(me,"update","onError",Xe.privyErrorCode||ye.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:Ae.current}),Xe}else try{({user:ne,isNewUser:oe}=await e.authenticate())}catch(Xe){throw le({status:"error",error:Xe}),ut(me,"login","onError",Xe.privyErrorCode||ye.UNKNOWN_AUTH_ERROR),Xe}let be=ne||u;h(be||null),_(oe||!1),c(!0),le({status:"done"});let Pe=null;return e.authFlow instanceof by?Pe=be?.linkedAccounts.find((({type:Xe})=>Xe==="email"))||null:e.authFlow instanceof xy&&(Pe=be?.linkedAccounts.find((({type:Xe})=>Xe==="phone"))||null),{user:be,isNewUser:oe||!1,wasAlreadyAuthenticated:!!ve,linkedAccount:Pe}},generateSiweMessage:async({address:X,chainId:ne,captchaToken:oe})=>{Fe.current=l?"link":"login",Ae.current="siwe",L({status:"generating-message"});let le=await e.generateSiweNonce({address:X,captchaToken:oe});return L({status:"awaiting-signature"}),jO({address:X,chainId:ne.replace("eip155:",""),nonce:le})},generateSiweMessageForSmartWallet:async({address:X,chainId:ne})=>{let oe=await e.generateSiweNonce({address:X});return jO({address:X,chainId:ne.replace("eip155:",""),nonce:oe})},linkSmartWallet:async({message:X,signature:ne,smartWalletType:oe,smartWalletVersion:le})=>{let ve;ve=await e.linkSmartWallet({message:X,signature:ne,smartWalletType:oe,smartWalletVersion:le}),h((ve=await Ue.refreshSessionAndUser()??ve)||u||null)},loginWithSiwe:async({message:X,signature:ne,captchaToken:oe,disableSignup:le})=>{let ve,be=null;try{if(u)throw Error("User already authenticated");let Pe=new Ly(e,void 0,oe,le,{message:X,signature:ne});if(e.startAuthFlow(Pe),Ae.current="siwe",Fe.current="login",L({status:"submitting-signature"}),{user:be,isNewUser:ve}=await e.authenticate(),!be)throw Error("Authentication failed - no user returned")}catch(Pe){throw ut(me,"login","onError",Pe.privyErrorCode||ye.UNKNOWN_AUTH_ERROR),L({status:"error",error:Pe}),Pe}return h(be),_(ve||!1),c(!0),L({status:"done"}),Fe.current=null,Ae.current=null,be},linkWithSiwe:async({message:X,signature:ne,chainId:oe,walletClientType:le,connectorType:ve})=>{let be;Ze("siwe");let Pe=null;try{L({status:"submitting-signature"}),be=await e.linkWithSiwe({message:X,signature:ne,chainId:oe,walletClientType:le,connectorType:ve}),be=await Ue.refreshSessionAndUser()??be,L({status:"done"}),(Pe=Ne(be)||null)&&ut(me,"linkAccount","onSuccess",{user:be,linkMethod:"siwe",linkedAccount:Pe})}catch(gt){throw ut(me,"linkAccount","onError",gt.privyErrorCode||ye.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),Fe.current=null,Ae.current=null,L({status:"error",error:gt}),gt}let Xe=be||u;return h(Xe||null),Fe.current=null,Ae.current=null,{user:Xe,linkedAccount:Pe}},refreshSessionAndUser:async()=>{let X=await e.getAuthenticatedUser();return c(!!X),h(X),X},walletProxy:j,createAnalyticsEvent:({eventName:X,payload:ne,timestamp:oe})=>e.createAnalyticsEvent({eventName:X,payload:ne,timestamp:oe}),acceptTerms:async()=>{let X=await e.acceptTerms();return h(X),X},getUsdTokenPrice:X=>e.getUsdTokenPrice(X),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:X=>e.getSplTokenMetadata(X),recoverEmbeddedWallet:async X=>new Promise((async(ne,oe)=>{if(!u)return void ne(!0);let le=X?.address?Pl(u,X.address):Kl(u)||QN(u)||WE(u);if(!le||as(le))return void ne(!0);let ve=await cn();if(!ve||!j||!le)return void oe(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:be,entropyIdVerifier:Pe}=js(u,le);try{await j.connect({accessToken:ve,entropyId:be,entropyIdVerifier:Pe}),ne(!0)}catch(Xe){if(rx(Xe)&&le.recoveryMethod==="privy"){let gt;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:le.address}});try{gt=await j.recover({entropyId:be,entropyIdVerifier:Pe,accessToken:ve})}catch(Pt){return void oe(Pt)}gt.entropyId||oe(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:le.address}}),ne(!0)}else rx(Xe)&&le.recoveryMethod!=="privy"&&le.recoveryMethod!=="privy-v2"?(ee({recoverWallet:{entropyId:be,entropyIdVerifier:Pe,onFailure:oe,onSuccess:()=>ne(!0)},recoveryOAuthStatus:{provider:le.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),Ye(gye(le.recoveryMethod))):oe(Xe)}})),exportSolanaWallet:X=>new Promise((async(ne,oe)=>{if(!l||!u)return void oe(Error("User must be authenticated before exporting their Privy wallet"));let le=X?.address?Pl(u,X.address):yg(u);if(!le)return void oe(new fe("User must have an embedded wallet."));let{entropyId:ve,entropyIdVerifier:be}=js(u,le),Pe=as(le);if(!await cn()||!j)return void oe(Error("Must have valid access token to enroll in MFA"));if(!j)return void oe(Error("Must have a Privy wallet before exporting"));let Xe={recoveryMethod:le.recoveryMethod,connectingWalletAddress:le.address,isUnifiedWallet:Pe,entropyId:ve,entropyIdVerifier:be,onCompleteNavigateTo:cj,onFailure:oe,shouldForceMFA:!0};p1(le)?(ee({connectWallet:Xe,keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:le.address,entropyId:ve,entropyIdVerifier:be,hdWalletIndex:le.walletIndex,chainType:le.chainType,walletId:le.id,isUnifiedWallet:Pe,imported:le.imported,onSuccess:ne,onFailure:oe}}),Ye(Tf)):oe(Error(`Export is not supported for ${le.chainType} wallets`))})),setReadyToTrue:X=>{a(!0),te?.(X)},updateWallets:()=>ue(),fundWallet:async(X,ne)=>{ee({funding:bZ({address:X,appConfig:Q,fundWalletConfig:ne,methodScreen:ga})}),Ye(ga)},openModal:Ye,requestFarcasterSignerStatus:async X=>{let ne=await cn(),oe=u?.linkedAccounts.find((ve=>ve.type==="wallet"&&ve.walletClientType==="privy"));if(!ne)throw Error("Must have valid access token to connect with Farcaster");if(!j||!oe)throw Error("Must have an embedded wallet to use Farcaster signers");if(!u?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");let le=await e.requestFarcasterSignerStatus(X);return le.status==="approved"&&h(await e.getAuthenticatedUser()||u||null),le},connectCoinbaseSmartWallet:async()=>{Q.externalWallets.coinbaseWallet.config.preference={...Q.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let X=e.connectors?.findWalletConnector("coinbase_wallet","coinbase_smart_wallet")||e.connectors?.findWalletConnector("coinbase_wallet","coinbase_wallet");if(X)return X.updateConnectionPreference("smartWalletOnly"),Qe(X);await Ke("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{let X=e.connectors?.findWalletConnector("base_account","base_account");if(X)return Qe(X);await Ke("base_account","base_account")},initiateAccountTransfer:async({nonce:X,account:ne,accountType:oe,externalWalletMetadata:le,telegramAuthResult:ve,telegramWebAppData:be,farcasterEmbeddedAddress:Pe,oAuthUserInfo:Xe})=>{let gt=await e.sendAccountTransferRequest({nonce:X,account:ne,accountType:oe,externalWalletMetadata:le,telegramAuthResult:ve,telegramWebAppData:be,farcasterEmbeddedAddress:Pe,oAuthUserInfo:Xe});return h(gt),gt},inProgressAuthFlowRef:Fe,inProgressLoginOrLinkMethodRef:Ae};e1e=Ue.recoverEmbeddedWallet,t1e=Ue.recoverEmbeddedWallet;let vt=x.useMemo((()=>({wallets:f,ready:ge&&ze})),[f,ge,ze]),tr=e.authFlow instanceof yw,$t=!Q.headless&&Q.captchaEnabled&&!l&&(o||tr);return d.jsx(Yye.Provider,{value:!0,children:d.jsx(j1.Provider,{value:Je,children:d.jsx(Dge.Provider,{value:me,children:d.jsx(ome.Provider,{value:vt,children:d.jsx(Jdt,{...Q,children:d.jsxs(Vce.Provider,{value:Ue,children:[d.jsx(b0t,{children:d.jsxs(ght,{data:Z,setModalData:ee,setInitialScreen:C,initialScreen:A,authenticated:l,open:i,children:[t.children,d.jsx(dwt,{customAuth:Q.customAuth}),$t&&d.jsx(Iht,{delayedExecution:!1}),d.jsx(Npt,{}),d.jsx(mvt,{disabled:Q.embeddedWallets.disableAutomaticMigration}),d.jsx(ypt,{palette:Q.appearance.palette||{}}),!Q.render.standalone&&d.jsx(Spt,{open:i})]})}),d.jsx(jpt,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:u?.mfaMethods,mfaPromise:Ie,mfaSubmitPromise:qe,onLoad:Y,onLoadFailed:()=>null}),Q.loginConfig.telegramAuthConfiguration&&d.jsx(f1,{$if:!0,children:d.jsx(Tpt,{scriptHost:t.apiUrl||PO,botUsername:Q.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})};function jZ(){return Fn(Fx.utils.randomPrivateKey())}function bwt(t){if(typeof t=="string"){if(!oi(t,{strict:!1}))throw new Fo({address:t});return{address:t,type:"json-rpc"}}if(!oi(t.address,{strict:!1}))throw new Fo({address:t.address});return{address:t.address,nonceManager:t.nonceManager,sign:t.sign,signAuthorization:t.signAuthorization,signMessage:t.signMessage,signTransaction:t.signTransaction,signTypedData:t.signTypedData,source:"custom",type:"local"}}let K7=!1;async function C3({hash:t,privateKey:e,to:r="object"}){const{r:n,s:i,recovery:s}=Fx.sign(t.slice(2),e.slice(2),{lowS:!0,extraEntropy:Bs(K7,{strict:!1})?Hl(K7):K7}),o={r:ft(n,{size:32}),s:ft(i,{size:32}),v:s?28n:27n,yParity:s};return r==="bytes"||r==="hex"?ble({...o,to:r}):o}async function xwt(t){const{chainId:e,nonce:r,privateKey:n,to:i="object"}=t,s=t.contractAddress??t.address,o=await C3({hash:hoe({address:s,chainId:e,nonce:r}),privateKey:n,to:i});return i==="object"?{address:s,chainId:e,nonce:r,...o}:o}async function _wt({message:t,privateKey:e}){return await C3({hash:BM(t),privateKey:e,to:"hex"})}async function Cwt(t){const{privateKey:e,transaction:r,serializer:n=A_e}=t,i=r.type==="eip4844"?{...r,sidecars:!1}:r,s=await C3({hash:ps(await n(i)),privateKey:e});return await n(r,s)}async function Ewt(t){const{privateKey:e,...r}=t;return await C3({hash:sae(r),privateKey:e,to:"hex"})}function MZ(t,e={}){const{nonceManager:r}=e,n=Fn(Fx.getPublicKey(t.slice(2),!1)),i=Yse(n);return{...bwt({address:i,nonceManager:r,async sign({hash:o}){return C3({hash:o,privateKey:t,to:"hex"})},async signAuthorization(o){return xwt({...o,privateKey:t})},async signMessage({message:o}){return _wt({message:o,privateKey:t})},async signTransaction(o,{serializer:a}={}){return Cwt({privateKey:t,transaction:o,serializer:a})},async signTypedData(o){return Ewt({...o,privateKey:t})}}),publicKey:n,source:"privateKey"}}var E3=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kwt={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Swt=class{#e=kwt;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},k0=new Swt;function Awt(t){setTimeout(t,0)}var ag=typeof window>"u"||"Deno"in globalThis;function na(){}function Twt(t,e){return typeof t=="function"?t(e):t}function dj(t){return typeof t=="number"&&t>=0&&t!==1/0}function r1e(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Xf(t,e){return typeof t=="function"?t(e):t}function Nl(t,e){return typeof t=="function"?t(e):t}function DZ(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==WL(o,e.options))return!1}else if(!sx(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function FZ(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(ix(e.options.mutationKey)!==ix(s))return!1}else if(!sx(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function WL(t,e){return(e?.queryKeyHashFn||ix)(t)}function ix(t){return JSON.stringify(t,(e,r)=>fj(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function sx(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>sx(t[r],e[r])):!1}var Iwt=Object.prototype.hasOwnProperty;function n1e(t,e){if(t===e)return t;const r=LZ(t)&&LZ(e);if(!r&&!(fj(t)&&fj(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),o=s.length,a=r?new Array(o):{};let l=0;for(let c=0;c<o;c++){const u=r?c:s[c],h=t[u],f=e[u];if(h===f){a[u]=h,(r?c<i:Iwt.call(t,u))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){a[u]=f;continue}const p=n1e(h,f);a[u]=p,p===h&&l++}return i===o&&l===i?t:a}function hj(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function LZ(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function fj(t){if(!UZ(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!UZ(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function UZ(t){return Object.prototype.toString.call(t)==="[object Object]"}function Pwt(t){return new Promise(e=>{k0.setTimeout(e,t)})}function pj(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?n1e(t,e):e}function $wt(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Nwt(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var HL=Symbol();function i1e(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===HL?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function s1e(t,e){return typeof t=="function"?t(...e):!!t}function Rwt(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??=e(),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var Owt=class extends E3{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!ag&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},VL=new Owt;function gj(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var jwt=Awt;function Mwt(){let t=[],e=0,r=a=>{a()},n=a=>{a()},i=jwt;const s=a=>{e?t.push(a):i(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{i=a}}}var Ms=Mwt(),Dwt=class extends E3{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!ag&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},MC=new Dwt;function Fwt(t){return Math.min(1e3*2**t,3e4)}function o1e(t){return(t??"online")==="online"?MC.isOnline():!0}var mj=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function a1e(t){let e=!1,r=0,n;const i=gj(),s=()=>i.status!=="pending",o=v=>{if(!s()){const w=new mj(v);f(w),t.onCancel?.(w)}},a=()=>{e=!0},l=()=>{e=!1},c=()=>VL.isFocused()&&(t.networkMode==="always"||MC.isOnline())&&t.canRun(),u=()=>o1e(t.networkMode)&&t.canRun(),h=v=>{s()||(n?.(),i.resolve(v))},f=v=>{s()||(n?.(),i.reject(v))},p=()=>new Promise(v=>{n=w=>{(s()||c())&&v(w)},t.onPause?.()}).then(()=>{n=void 0,s()||t.onContinue?.()}),m=()=>{if(s())return;let v;const w=r===0?t.initialPromise:void 0;try{v=w??t.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(h).catch(b=>{if(s())return;const E=t.retry??(ag?0:3),_=t.retryDelay??Fwt,A=typeof _=="function"?_(r,b):_,C=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,b);if(e||!C){f(b);return}r++,t.onFail?.(r,b),Pwt(A).then(()=>c()?void 0:p()).then(()=>{e?f(b):m()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n?.(),i),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?m():p().then(m),i)}}var l1e=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dj(this.gcTime)&&(this.#e=k0.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ag?1/0:300*1e3))}clearGcTimeout(){this.#e&&(k0.clearTimeout(this.#e),this.#e=void 0)}},Lwt=class extends l1e{#e;#t;#r;#n;#i;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=zZ(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=zZ(this.options);e.data!==void 0&&(this.setState(BZ(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=pj(this.state.data,t,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(na).catch(na):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Nl(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===HL||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Xf(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!r1e(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const a=this.observers.find(l=>l.options.queryFn);a&&this.setOptions(a.options)}const r=new AbortController,n=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},i=()=>{const a=i1e(this.options,e),c=(()=>{const u={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(u),u})();return this.#o=!1,this.options.persister?this.options.persister(a,c,this):a(c)},o=(()=>{const a={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(a),a})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#i=a1e({initialPromise:e?.initialPromise,fn:o.fetchFn,onCancel:a=>{a instanceof mj&&a.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(a,l)=>{this.#s({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const a=await this.#i.start();if(a===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#r.config.onSuccess?.(a,this),this.#r.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof mj){if(a.silent)return this.#i.promise;if(a.revert){if(this.state.data===void 0)throw a;return this.state.data}}throw this.#s({type:"error",error:a}),this.#r.config.onError?.(a,this),this.#r.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#s(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...c1e(r.data,this.options),fetchMeta:t.meta??null};case"success":const n={...r,...BZ(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?n:void 0,n;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),Ms.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function c1e(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:o1e(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function BZ(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function zZ(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Uwt=class extends E3{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#o=gj(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#a;#o;#s;#g;#h;#f;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),qZ(this.#t,this.options)?this.#d():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yj(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yj(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#x(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Nl(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),e._defaulted&&!hj(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&WZ(this.#t,r,this.options,e)&&this.#d(),this.updateResult(),n&&(this.#t!==r||Nl(this.options.enabled,this.#t)!==Nl(e.enabled,this.#t)||Xf(this.options.staleTime,this.#t)!==Xf(e.staleTime,this.#t))&&this.#m();const i=this.#y();n&&(this.#t!==r||Nl(this.options.enabled,this.#t)!==Nl(e.enabled,this.#t)||i!==this.#l)&&this.#v(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return zwt(this,r)&&(this.#n=r,this.#a=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:(r,n)=>(this.trackProp(n),e?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(na)),e}#m(){this.#b();const t=Xf(this.options.staleTime,this.#t);if(ag||this.#n.isStale||!dj(t))return;const r=r1e(this.#n.dataUpdatedAt,t)+1;this.#c=k0.setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#l=t,!(ag||Nl(this.options.enabled,this.#t)===!1||!dj(this.#l)||this.#l===0)&&(this.#u=k0.setInterval(()=>{(this.options.refetchIntervalInBackground||VL.isFocused())&&this.#d()},this.#l))}#w(){this.#m(),this.#v(this.#y())}#b(){this.#c&&(k0.clearTimeout(this.#c),this.#c=void 0)}#x(){this.#u&&(k0.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const r=this.#t,n=this.options,i=this.#n,s=this.#i,o=this.#a,l=t!==r?t.state:this.#r,{state:c}=t;let u={...c},h=!1,f;if(e._optimisticResults){const F=this.hasListeners(),N=!F&&qZ(t,e),$=F&&WZ(t,r,e,n);(N||$)&&(u={...u,...c1e(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:p,errorUpdatedAt:m,status:v}=u;f=u.data;let w=!1;if(e.placeholderData!==void 0&&f===void 0&&v==="pending"){let F;i?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(F=i.data,w=!0):F=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,F!==void 0&&(v="success",f=pj(i?.data,F,e),h=!0)}if(e.select&&f!==void 0&&!w)if(i&&f===s?.data&&e.select===this.#g)f=this.#h;else try{this.#g=e.select,f=e.select(f),f=pj(i?.data,f,e),this.#h=f,this.#s=null}catch(F){this.#s=F}this.#s&&(p=this.#s,f=this.#h,m=Date.now(),v="error");const b=u.fetchStatus==="fetching",E=v==="pending",_=v==="error",A=E&&b,C=f!==void 0,P={status:v,fetchStatus:u.fetchStatus,isPending:E,isSuccess:v==="success",isError:_,isInitialLoading:A,isLoading:A,data:f,dataUpdatedAt:u.dataUpdatedAt,error:p,errorUpdatedAt:m,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!E,isLoadingError:_&&!C,isPaused:u.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&C,isStale:GL(t,e),refetch:this.refetch,promise:this.#o,isEnabled:Nl(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const F=U=>{P.status==="error"?U.reject(P.error):P.data!==void 0&&U.resolve(P.data)},N=()=>{const U=this.#o=P.promise=gj();F(U)},$=this.#o;switch($.status){case"pending":t.queryHash===r.queryHash&&F($);break;case"fulfilled":(P.status==="error"||P.data!==$.value)&&N();break;case"rejected":(P.status!=="error"||P.error!==$.reason)&&N();break}}return P}updateResult(){const t=this.#n,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#f=this.#t),hj(e,t))return;this.#n=e;const r=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#n).some(o=>{const a=o;return this.#n[a]!==t[a]&&s.has(a)})};this.#C({listeners:r()})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#C(t){Ms.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Bwt(t,e){return Nl(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function qZ(t,e){return Bwt(t,e)||t.state.data!==void 0&&yj(t,e,e.refetchOnMount)}function yj(t,e,r){if(Nl(e.enabled,t)!==!1&&Xf(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&GL(t,e)}return!1}function WZ(t,e,r,n){return(t!==e||Nl(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&GL(t,r)}function GL(t,e){return Nl(e.enabled,t)!==!1&&t.isStaleByTime(Xf(e.staleTime,t))}function zwt(t,e){return!hj(t.getCurrentResult(),e)}function HZ(t){return{onFetch:(e,r)=>{const n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const h=m=>{Rwt(m,()=>e.signal,()=>u=!0)},f=i1e(e.options,e.fetchOptions),p=async(m,v,w)=>{if(u)return Promise.reject();if(v==null&&m.pages.length)return Promise.resolve(m);const E=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:v,direction:w?"backward":"forward",meta:e.options.meta};return h(k),k})(),_=await f(E),{maxPages:A}=e.options,C=w?Nwt:$wt;return{pages:C(m.pages,_,A),pageParams:C(m.pageParams,v,A)}};if(i&&s.length){const m=i==="backward",v=m?qwt:VZ,w={pages:s,pageParams:o},b=v(n,w);a=await p(w,b,m)}else{const m=t??s.length;do{const v=l===0?o[0]??n.initialPageParam:VZ(n,a);if(l>0&&v==null)break;a=await p(a,v),l++}while(l<m)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=c}}}function VZ(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function qwt(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var Wwt=class extends l1e{#e;#t;#r;#n;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#r=t.mutationCache,this.#t=[],this.state=t.state||Hwt(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#i({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#n=a1e({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#i({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",i=!this.#n.canStart();try{if(n)e();else{this.#i({type:"pending",variables:t,isPaused:i}),await this.#r.config.onMutate?.(t,this,r);const o=await this.options.onMutate?.(t,r);o!==this.state.context&&this.#i({type:"pending",context:o,variables:t,isPaused:i})}const s=await this.#n.start();return await this.#r.config.onSuccess?.(s,t,this.state.context,this,r),await this.options.onSuccess?.(s,t,this.state.context,r),await this.#r.config.onSettled?.(s,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(s,null,t,this.state.context,r),this.#i({type:"success",data:s}),s}catch(s){try{await this.#r.config.onError?.(s,t,this.state.context,this,r)}catch(o){Promise.reject(o)}try{await this.options.onError?.(s,t,this.state.context,r)}catch(o){Promise.reject(o)}try{await this.#r.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,r)}catch(o){Promise.reject(o)}try{await this.options.onSettled?.(void 0,s,t,this.state.context,r)}catch(o){Promise.reject(o)}throw this.#i({type:"error",error:s}),s}finally{this.#r.runNext(this)}}#i(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Ms.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#r.notify({mutation:this,type:"updated",action:t})})}};function Hwt(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vwt=class extends E3{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(t,e,r){const n=new Wwt({client:t,mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#e.add(t);const e=B6(t);if(typeof e=="string"){const r=this.#t.get(e);r?r.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=B6(t);if(typeof e=="string"){const r=this.#t.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=B6(t);if(typeof e=="string"){const n=this.#t.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=B6(t);return typeof e=="string"?this.#t.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Ms.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>FZ(e,r))}findAll(t={}){return this.getAll().filter(e=>FZ(t,e))}notify(t){Ms.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Ms.batch(()=>Promise.all(t.map(e=>e.continue().catch(na))))}};function B6(t){return t.options.scope?.id}var Gwt=class extends E3{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,i=e.queryHash??WL(n,e);let s=this.get(i);return s||(s=new Lwt({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ms.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>DZ(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>DZ(t,r)):e}notify(t){Ms.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Ms.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ms.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Kwt=class{#e;#t;#r;#n;#i;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new Gwt,this.#t=t.mutationCache||new Vwt,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=VL.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=MC.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Xf(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(n.queryHash)?.state.data,o=Twt(e,s);if(o!==void 0)return this.#e.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Ms.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Ms.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e;return Ms.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Ms.batch(()=>this.#e.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(na).catch(na)}invalidateQueries(t,e={}){return Ms.batch(()=>(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Ms.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(na)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(na)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(Xf(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(na).catch(na)}fetchInfiniteQuery(t){return t.behavior=HZ(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(na).catch(na)}ensureInfiniteQueryData(t){return t.behavior=HZ(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return MC.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(ix(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{sx(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(ix(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],r={};return e.forEach(n=>{sx(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=WL(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===HL&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},u1e=x.createContext(void 0),k3=t=>{const e=x.useContext(u1e);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Ywt=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(u1e.Provider,{value:t,children:e})),d1e=x.createContext(!1),Jwt=()=>x.useContext(d1e);d1e.Provider;function Xwt(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Qwt=x.createContext(Xwt()),Zwt=()=>x.useContext(Qwt),ebt=(t,e,r)=>{const n=r?.state.error&&typeof t.throwOnError=="function"?s1e(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},tbt=t=>{x.useEffect(()=>{t.clearReset()},[t])},rbt=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||s1e(r,[t.error,n])),nbt=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},ibt=(t,e)=>t.isLoading&&t.isFetching&&!e,sbt=(t,e)=>t?.suspense&&e.isPending,GZ=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function obt(t,e,r){const n=Jwt(),i=Zwt(),s=k3(),o=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o);const a=s.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",nbt(o),ebt(o,i,a),tbt(i);const l=!s.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new e(s,o)),u=c.getOptimisticResult(o),h=!n&&t.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(f=>{const p=h?c.subscribe(Ms.batchCalls(f)):na;return c.updateResult(),p},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),sbt(o,u))throw GZ(o,c,i);if(rbt({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a,suspense:o.suspense}))throw u.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!ag&&ibt(u,n)&&(l?GZ(o,c,i):a?.promise)?.catch(na).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function fs(t,e){return obt(t,Uwt)}function m1(t,e){const[r,n]=x.useState(()=>{try{const s=window.localStorage.getItem(t);return s?JSON.parse(s):e}catch{return e}});return[r,s=>{try{n(s),window.localStorage.setItem(t,JSON.stringify(s))}catch(o){console.error("Error saving to localStorage:",o)}}]}const h1e=x.createContext(void 0);function abt({children:t}){const[e,r]=m1("theme","dark");return x.useEffect(()=>{document.documentElement.classList.remove("dark","light","game","dev","custom"),document.documentElement.classList.add(e)},[e]),d.jsx(h1e.Provider,{value:{theme:e,setTheme:r},children:t})}function Dr(){const t=x.useContext(h1e);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t}class KL extends Error{constructor(e,r){super(e,r),this.name="HyperliquidError"}}class f1e extends KL{constructor(e,r){super(e,r),this.name="TransportError"}}const lbt=globalThis.DOMException||class extends Error{constructor(e="",r="Error"){super(e),this.name=r}},KZ={any:AbortSignal.any?t=>AbortSignal.any(t):t=>{const e=new AbortController;for(const r of t){if(r.aborted){e.abort(r.reason);break}r.addEventListener("abort",()=>e.abort(r.reason),{once:!0,signal:e.signal})}return e.signal},timeout:AbortSignal.timeout?t=>AbortSignal.timeout(t):t=>{const e=new AbortController;return setTimeout(()=>e.abort(new lbt("Signal timed out.","TimeoutError")),t),e.signal}};class Y7 extends f1e{response;body;constructor(e,r){const{response:n,body:i}=e??{};let s;n?(s=`${n.status} ${n.statusText}`.trim(),i&&(s+=` - ${i}`)):s=`Unknown HTTP request error: ${r?.cause}`,super(s,r),this.name="HttpRequestError",this.response=n,this.body=i}}const cbt="https://api.hyperliquid.xyz",ubt="https://api.hyperliquid-testnet.xyz",dbt="https://rpc.hyperliquid.xyz",hbt="https://rpc.hyperliquid-testnet.xyz";class fbt{isTestnet;timeout;apiUrl;rpcUrl;fetchOptions;constructor(e){this.isTestnet=e?.isTestnet??!1,this.timeout=e?.timeout===void 0?1e4:e.timeout,this.apiUrl=e?.apiUrl??(this.isTestnet?ubt:cbt),this.rpcUrl=e?.rpcUrl??(this.isTestnet?hbt:dbt),this.fetchOptions=e?.fetchOptions??{}}async request(e,r,n){try{const i=new URL(e,e==="explorer"?this.rpcUrl:this.apiUrl),s=this._mergeRequestInit({body:JSON.stringify(r),headers:{"Accept-Encoding":"gzip, deflate, br, zstd","Content-Type":"application/json"},keepalive:!0,method:"POST",signal:this.timeout?KZ.timeout(this.timeout):void 0},this.fetchOptions,{signal:n}),o=await fetch(i,s);if(!o.ok||!o.headers.get("Content-Type")?.includes("application/json")){const l=await o.text().catch(()=>{});throw new Y7({response:o,body:l})}const a=await o.json();if(a?.type==="error")throw new Y7({response:o,body:a?.message});return a}catch(i){throw i instanceof f1e?i:new Y7(void 0,{cause:i})}}_mergeHeadersInit(...e){const r=new Headers;for(const n of e){const i=Symbol.iterator in n?n:Object.entries(n);for(const[s,o]of i)r.set(s,o)}return r}_mergeRequestInit(...e){const r={},n=[],i=[];for(const s of e)Object.assign(r,s),s.headers&&n.push(s.headers),s.signal&&i.push(s.signal);return n.length>0&&(r.headers=this._mergeHeadersInit(...n)),i.length>0&&(r.signal=i.length>1?KZ.any(i):i[0]),r}}let J7;function p1e(t){return{lang:t?.lang??J7?.lang,message:t?.message,abortEarly:t?.abortEarly??J7?.abortEarly,abortPipeEarly:t?.abortPipeEarly??J7?.abortPipeEarly}}let pbt;function gbt(t){return pbt?.get(t)}let mbt;function ybt(t){return mbt?.get(t)}let vbt;function wbt(t,e){return vbt?.get(t)?.get(e)}function lg(t){const e=typeof t;return e==="string"?`"${t}"`:e==="number"||e==="bigint"||e==="boolean"?`${t}`:e==="object"||e==="function"?(t&&Object.getPrototypeOf(t)?.constructor?.name)??"null":e}function yn(t,e,r,n,i){const s=i&&"input"in i?i.input:r.value,o=i?.expected??t.expects??null,a=i?.received??lg(s),l={kind:t.kind,type:t.type,input:s,expected:o,received:a,message:`Invalid ${e}: ${o?`Expected ${o} but r`:"R"}eceived ${a}`,requirement:t.requirement,path:i?.path,issues:i?.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},c=t.kind==="schema",u=i?.message??t.message??wbt(t.reference,l.lang)??(c?ybt(l.lang):null)??n.message??gbt(l.lang);u!==void 0&&(l.message=typeof u=="function"?u(l):u),c&&(r.typed=!1),r.issues?r.issues.push(l):r.issues=[l]}function vo(t){return{version:1,vendor:"valibot",validate(e){return t["~run"]({value:e},p1e())}}}function g1e(t,e){const r=[...new Set(t)];return r.length>1?`(${r.join(` ${e} `)})`:r[0]??"never"}var bbt=class extends Error{constructor(t){super(t[0].message),this.name="ValiError",this.issues=t}};const xbt=/^(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])(?:\.(?:(?:[1-9]|1\d|2[0-4])?\d|25[0-5])){3}$|^(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:|(?:[\da-f]{1,4}:){1,6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,5}(?::[\da-f]{1,4}){1,2}|(?:[\da-f]{1,4}:){1,4}(?::[\da-f]{1,4}){1,3}|(?:[\da-f]{1,4}:){1,3}(?::[\da-f]{1,4}){1,4}|(?:[\da-f]{1,4}:){1,2}(?::[\da-f]{1,4}){1,5}|[\da-f]{1,4}:(?::[\da-f]{1,4}){1,6}|:(?:(?::[\da-f]{1,4}){1,7}|:)|fe80:(?::[\da-f]{0,4}){0,4}%[\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d)|(?:[\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\d)?\d)\.){3}(?:25[0-5]|(?:2[0-4]|1?\d)?\d))$/iu;function cu(t,e){return{kind:"validation",type:"check",reference:cu,async:!1,expects:null,requirement:t,message:e,"~run"(r,n){return r.typed&&!this.requirement(r.value)&&yn(this,"input",r,n),r}}}function V(t){return{kind:"metadata",type:"description",reference:V,description:t}}function vj(t){return{kind:"validation",type:"ip",reference:vj,async:!1,expects:null,requirement:xbt,message:t,"~run"(e,r){return e.typed&&!this.requirement.test(e.value)&&yn(this,"IP",e,r),e}}}function cg(t,e){return{kind:"validation",type:"length",reference:cg,async:!1,expects:`${t}`,requirement:t,message:e,"~run"(r,n){return r.typed&&r.value.length!==this.requirement&&yn(this,"length",r,n,{received:`${r.value.length}`}),r}}}function Ih(t,e){return{kind:"validation",type:"max_length",reference:Ih,async:!1,expects:`<=${t}`,requirement:t,message:e,"~run"(r,n){return r.typed&&r.value.length>this.requirement&&yn(this,"length",r,n,{received:`${r.value.length}`}),r}}}function S3(t,e){return{kind:"validation",type:"max_value",reference:S3,async:!1,expects:`<=${t instanceof Date?t.toJSON():lg(t)}`,requirement:t,message:e,"~run"(r,n){return r.typed&&!(r.value<=this.requirement)&&yn(this,"value",r,n,{received:r.value instanceof Date?r.value.toJSON():lg(r.value)}),r}}}function cp(t,e){return{kind:"validation",type:"min_length",reference:cp,async:!1,expects:`>=${t}`,requirement:t,message:e,"~run"(r,n){return r.typed&&r.value.length<this.requirement&&yn(this,"length",r,n,{received:`${r.value.length}`}),r}}}function gu(t,e){return{kind:"validation",type:"min_value",reference:gu,async:!1,expects:`>=${t instanceof Date?t.toJSON():lg(t)}`,requirement:t,message:e,"~run"(r,n){return r.typed&&!(r.value>=this.requirement)&&yn(this,"value",r,n,{received:r.value instanceof Date?r.value.toJSON():lg(r.value)}),r}}}function m1e(t,e){return{kind:"transformation",type:"parse_json",reference:m1e,config:t,message:e,async:!1,"~run"(r,n){try{r.value=JSON.parse(r.value,this.config?.reviver)}catch(i){if(i instanceof Error)yn(this,"JSON",r,n,{received:`"${i.message}"`}),r.typed=!1;else throw i}return r}}}function lk(t,e){return{kind:"validation",type:"regex",reference:lk,async:!1,expects:`${t}`,requirement:t,message:e,"~run"(r,n){return r.typed&&!this.requirement.test(r.value)&&yn(this,"format",r,n),r}}}function YL(t){return{kind:"validation",type:"safe_integer",reference:YL,async:!1,expects:null,requirement:Number.isSafeInteger,message:t,"~run"(e,r){return e.typed&&!this.requirement(e.value)&&yn(this,"safe integer",e,r),e}}}function wj(t,e){return{kind:"transformation",type:"stringify_json",reference:wj,message:e,config:t,async:!1,"~run"(r,n){try{const i=JSON.stringify(r.value,this.config?.replacer,this.config?.space);i===void 0&&(yn(this,"JSON",r,n),r.typed=!1),r.value=i}catch(i){if(i instanceof Error)yn(this,"JSON",r,n,{received:`"${i.message}"`}),r.typed=!1;else throw i}return r}}}function JL(t){return{kind:"transformation",type:"to_number",reference:JL,async:!1,message:t,"~run"(e,r){try{e.value=Number(e.value),isNaN(e.value)&&(yn(this,"number",e,r),e.typed=!1)}catch{yn(this,"number",e,r),e.typed=!1}return e}}}function y1e(t){return{kind:"transformation",type:"to_string",reference:y1e,async:!1,message:t,"~run"(e,r){try{e.value=String(e.value)}catch{yn(this,"string",e,r),e.typed=!1}return e}}}function ck(t){return{kind:"transformation",type:"transform",reference:ck,async:!1,operation:t,"~run"(e){return e.value=this.operation(e.value),e}}}function _bt(t,e,r){return typeof t.fallback=="function"?t.fallback(e,r):t.fallback}function uk(t,e,r){return typeof t.default=="function"?t.default(e,r):t.default}function Wc(t,e){return!t["~run"]({value:e},{abortEarly:!0}).issues}function Hi(t,e){return{kind:"schema",type:"array",reference:Hi,expects:"Array",async:!1,item:t,message:e,get"~standard"(){return vo(this)},"~run"(r,n){const i=r.value;if(Array.isArray(i)){r.typed=!0,r.value=[];for(let s=0;s<i.length;s++){const o=i[s],a=this.item["~run"]({value:o},n);if(a.issues){const l={type:"array",origin:"value",input:i,key:s,value:o};for(const c of a.issues)c.path?c.path.unshift(l):c.path=[l],r.issues?.push(c);if(r.issues||(r.issues=a.issues),n.abortEarly){r.typed=!1;break}}a.typed||(r.typed=!1),r.value.push(a.value)}}else yn(this,"type",r,n);return r}}}function Ir(t){return{kind:"schema",type:"boolean",reference:Ir,expects:"boolean",async:!1,message:t,get"~standard"(){return vo(this)},"~run"(e,r){return typeof e.value=="boolean"?e.typed=!0:yn(this,"type",e,r),e}}}function Yc(t){return{kind:"schema",type:"function",reference:Yc,expects:"Function",async:!1,message:t,get"~standard"(){return vo(this)},"~run"(e,r){return typeof e.value=="function"?e.typed=!0:yn(this,"type",e,r),e}}}function He(t,e){return{kind:"schema",type:"literal",reference:He,expects:lg(t),async:!1,literal:t,message:e,get"~standard"(){return vo(this)},"~run"(r,n){return r.value===this.literal?r.typed=!0:yn(this,"type",r,n),r}}}function DC(t){return{kind:"schema",type:"null",reference:DC,expects:"null",async:!1,message:t,get"~standard"(){return vo(this)},"~run"(e,r){return e.value===null?e.typed=!0:yn(this,"type",e,r),e}}}function aa(t,e){return{kind:"schema",type:"nullable",reference:aa,expects:`(${t.expects} | null)`,async:!1,wrapped:t,default:e,get"~standard"(){return vo(this)},"~run"(r,n){return r.value===null&&(this.default!==void 0&&(r.value=uk(this,r,n)),r.value===null)?(r.typed=!0,r):this.wrapped["~run"](r,n)}}}function go(t,e){return{kind:"schema",type:"nullish",reference:go,expects:`(${t.expects} | null | undefined)`,async:!1,wrapped:t,default:e,get"~standard"(){return vo(this)},"~run"(r,n){return(r.value===null||r.value===void 0)&&(this.default!==void 0&&(r.value=uk(this,r,n)),r.value===null||r.value===void 0)?(r.typed=!0,r):this.wrapped["~run"](r,n)}}}function y1(t){return{kind:"schema",type:"number",reference:y1,expects:"number",async:!1,message:t,get"~standard"(){return vo(this)},"~run"(e,r){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:yn(this,"type",e,r),e}}}function de(t,e){return{kind:"schema",type:"object",reference:de,expects:"Object",async:!1,entries:t,message:e,get"~standard"(){return vo(this)},"~run"(r,n){const i=r.value;if(i&&typeof i=="object"){r.typed=!0,r.value={};for(const s in this.entries){const o=this.entries[s];if(s in i||(o.type==="exact_optional"||o.type==="optional"||o.type==="nullish")&&o.default!==void 0){const a=s in i?i[s]:uk(o),l=o["~run"]({value:a},n);if(l.issues){const c={type:"object",origin:"value",input:i,key:s,value:a};for(const u of l.issues)u.path?u.path.unshift(c):u.path=[c],r.issues?.push(u);if(r.issues||(r.issues=l.issues),n.abortEarly){r.typed=!1;break}}l.typed||(r.typed=!1),r.value[s]=l.value}else if(o.fallback!==void 0)r.value[s]=_bt(o);else if(o.type!=="exact_optional"&&o.type!=="optional"&&o.type!=="nullish"&&(yn(this,"key",r,n,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:i,key:s,value:i[s]}]}),n.abortEarly))break}}else yn(this,"type",r,n);return r}}}function Ht(t,e){return{kind:"schema",type:"optional",reference:Ht,expects:`(${t.expects} | undefined)`,async:!1,wrapped:t,default:e,get"~standard"(){return vo(this)},"~run"(r,n){return r.value===void 0&&(this.default!==void 0&&(r.value=uk(this,r,n)),r.value===void 0)?(r.typed=!0,r):this.wrapped["~run"](r,n)}}}function Do(t,e){return{kind:"schema",type:"picklist",reference:Do,expects:g1e(t.map(lg),"|"),async:!1,options:t,message:e,get"~standard"(){return vo(this)},"~run"(r,n){return this.options.includes(r.value)?r.typed=!0:yn(this,"type",r,n),r}}}function Wt(t){return{kind:"schema",type:"string",reference:Wt,expects:"string",async:!1,message:t,get"~standard"(){return vo(this)},"~run"(e,r){return typeof e.value=="string"?e.typed=!0:yn(this,"type",e,r),e}}}function La(t,e){return{kind:"schema",type:"tuple",reference:La,expects:"Array",async:!1,items:t,message:e,get"~standard"(){return vo(this)},"~run"(r,n){const i=r.value;if(Array.isArray(i)){r.typed=!0,r.value=[];for(let s=0;s<this.items.length;s++){const o=i[s],a=this.items[s]["~run"]({value:o},n);if(a.issues){const l={type:"array",origin:"value",input:i,key:s,value:o};for(const c of a.issues)c.path?c.path.unshift(l):c.path=[l],r.issues?.push(c);if(r.issues||(r.issues=a.issues),n.abortEarly){r.typed=!1;break}}a.typed||(r.typed=!1),r.value.push(a.value)}}else yn(this,"type",r,n);return r}}}function YZ(t){let e;if(t)for(const r of t)e?e.push(...r.issues):e=r.issues;return e}function Oi(t,e){return{kind:"schema",type:"union",reference:Oi,expects:g1e(t.map(r=>r.expects),"|"),async:!1,options:t,message:e,get"~standard"(){return vo(this)},"~run"(r,n){let i,s,o;for(const a of this.options){const l=a["~run"]({value:r.value},n);if(l.typed)if(l.issues)s?s.push(l):s=[l];else{i=l;break}else o?o.push(l):o=[l]}if(i)return i;if(s){if(s.length===1)return s[0];yn(this,"type",r,n,{issues:YZ(s)}),r.typed=!0}else{if(o?.length===1)return o[0];yn(this,"type",r,n,{issues:YZ(o)})}return r}}}function mr(t,e){const r={...t.entries};for(const n of e)delete r[n];return{...t,entries:r,get"~standard"(){return vo(this)}}}function tt(t,e,r){const n=t["~run"]({value:e},p1e(r));if(n.issues)throw new bbt(n.issues);return n.value}function H(...t){return{...t[0],pipe:t,get"~standard"(){return vo(this)},"~run"(e,r){for(const n of t)if(n.kind!=="metadata"){if(e.issues&&(n.kind==="schema"||n.kind==="transformation")){e.typed=!1;break}(!e.issues||!r.abortEarly&&!r.abortPipeEarly)&&(e=n["~run"](e,r))}return e}}}const dn=H(Oi([Wt(),y1()]),y1e(),Wt(),ck(t=>Ebt(t)),lk(/^[0-9]+(\.[0-9]+)?$/)),Cbt=H(Oi([Wt(),y1()]),JL(),y1(),YL()),je=H(Oi([Wt(),y1()]),JL(),y1(),YL(),gu(0));function Ebt(t){return t.trim().replace(/^(-?)0+(?=\d)/,"$1").replace(/\.0*$|(\.\d+?)0+$/,"$1").replace(/^(-?)\./,"$10.").replace(/^-?$/,"0").replace(/^-0$/,"0")}const ji=H(Wt(),lk(/^0[xX][0-9a-fA-F]+$/),ck(t=>t.toLowerCase())),Tt=H(ji,cg(42)),ug=H(ji,cg(34)),v1e=H(Wt(),lk(/^[0-9]+(\.[0-9]+)?%$/),ck(t=>t)),yr=H(de({r:H(ji,cg(66),V("First 32-byte component.")),s:H(ji,cg(66),V("Second 32-byte component.")),v:H(Do([27,28]),V("Recovery identifier."))}),V("ECDSA signature components.")),al=H(Do(["Mainnet","Testnet"]),V("HyperLiquid network type.")),z6=BigInt(2**32-1),JZ=BigInt(32);function kbt(t,e=!1){return e?{h:Number(t&z6),l:Number(t>>JZ&z6)}:{h:Number(t>>JZ&z6)|0,l:Number(t&z6)|0}}function Sbt(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=kbt(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const Abt=(t,e,r)=>t<<r|e>>>32-r,Tbt=(t,e,r)=>e<<r|t>>>32-r,Ibt=(t,e,r)=>e<<r-32|t>>>64-r,Pbt=(t,e,r)=>t<<r-32|e>>>64-r;function $bt(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function XZ(t,e=""){if(!Number.isSafeInteger(t)||t<0){const r=e&&`"${e}" `;throw new Error(`${r}expected integer >= 0, got ${t}`)}}function ox(t,e,r=""){const n=$bt(t),i=t?.length;if(!n||e!==void 0){const o=r&&`"${r}" `,a="",l=n?`length=${i}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+l)}return t}function QZ(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Nbt(t,e){ox(t,void 0,"digestInto() output");const r=e.outputLen;if(t.length<r)throw new Error('"digestInto() output" expected to be of length >='+r)}function Rbt(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function w1e(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const Obt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function jbt(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Mbt(t){for(let e=0;e<t.length;e++)t[e]=jbt(t[e]);return t}const ZZ=Obt?t=>t:Mbt,b1e=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Dbt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Fbt(t){if(ox(t),b1e)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Dbt[t[r]];return e}const Ud={_0:48,_9:57,A:65,F:70,a:97,f:102};function eee(t){if(t>=Ud._0&&t<=Ud._9)return t-Ud._0;if(t>=Ud.A&&t<=Ud.F)return t-(Ud.A-10);if(t>=Ud.a&&t<=Ud.f)return t-(Ud.a-10)}function Lbt(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(b1e)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=eee(t.charCodeAt(s)),a=eee(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=o*16+a}return n}function Ubt(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];ox(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}function Bbt(t,e={}){const r=(i,s)=>t(s).update(i).digest(),n=t(void 0);return r.outputLen=n.outputLen,r.blockLen=n.blockLen,r.create=i=>t(i),Object.assign(r,e),Object.freeze(r)}const zbt=BigInt(0),Ew=BigInt(1),qbt=BigInt(2),Wbt=BigInt(7),Hbt=BigInt(256),Vbt=BigInt(113),x1e=[],_1e=[],C1e=[];for(let t=0,e=Ew,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],x1e.push(2*(5*n+r)),_1e.push((t+1)*(t+2)/2%64);let i=zbt;for(let s=0;s<7;s++)e=(e<<Ew^(e>>Wbt)*Vbt)%Hbt,e&qbt&&(i^=Ew<<(Ew<<BigInt(s))-Ew);C1e.push(i)}const E1e=Sbt(C1e,!0),Gbt=E1e[0],Kbt=E1e[1],tee=(t,e,r)=>r>32?Ibt(t,e,r):Abt(t,e,r),ree=(t,e,r)=>r>32?Pbt(t,e,r):Tbt(t,e,r);function Ybt(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=r[l],u=r[l+1],h=tee(c,u,1)^r[a],f=ree(c,u,1)^r[a+1];for(let p=0;p<50;p+=10)t[o+p]^=h,t[o+p+1]^=f}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=_1e[o],l=tee(i,s,a),c=ree(i,s,a),u=x1e[o];i=t[u],s=t[u+1],t[u]=l,t[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Gbt[n],t[1]^=Kbt[n]}w1e(r)}class XL{state;pos=0;posOut=0;finished=!1;state32;destroyed=!1;blockLen;suffix;outputLen;enableXOF=!1;rounds;constructor(e,r,n,i=!1,s=24){if(this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,XZ(n,"outputLen"),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Rbt(this.state)}clone(){return this._cloneInto()}keccak(){ZZ(this.state32),Ybt(this.state32,this.rounds),ZZ(this.state32),this.posOut=0,this.pos=0}update(e){QZ(this),ox(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){QZ(this,!1),ox(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return XZ(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Nbt(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,w1e(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||=new XL(r,n,i,o,s),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Jbt=(t,e,r,n={})=>Bbt(()=>new XL(e,t,r),n),Xbt=Jbt(1,136,32);function Qbt(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}const nee=16,k1e=32,bj=256,eb=65536,tb=4294967296,Zbt=9223372036854775808n,e2t=18446744073709551616n,t2t=new TextEncoder;function r2t(t){const e=[];return l_(t,e),Qbt(e)}function X7(t){const e=new DataView(new ArrayBuffer(9));return e.setFloat64(1,t),e.setUint8(0,203),new Uint8Array(e.buffer)}function n2t(t){if(!Number.isInteger(t))return X7(t);if(t<0){if(t>=-k1e)return new Uint8Array([t]);if(t>=-128)return new Uint8Array([208,t]);if(t>=-32768){const e=new DataView(new ArrayBuffer(3));return e.setInt16(1,t),e.setUint8(0,209),new Uint8Array(e.buffer)}if(t>=-2147483648){const e=new DataView(new ArrayBuffer(5));return e.setInt32(1,t),e.setUint8(0,210),new Uint8Array(e.buffer)}return X7(t)}if(t<=127)return new Uint8Array([t]);if(t<bj)return new Uint8Array([204,t]);if(t<eb){const e=new DataView(new ArrayBuffer(3));return e.setUint16(1,t),e.setUint8(0,205),new Uint8Array(e.buffer)}if(t<tb){const e=new DataView(new ArrayBuffer(5));return e.setUint32(1,t),e.setUint8(0,206),new Uint8Array(e.buffer)}return X7(t)}function l_(t,e){if(t===null){e.push(new Uint8Array([192]));return}if(t===!1){e.push(new Uint8Array([194]));return}if(t===!0){e.push(new Uint8Array([195]));return}if(typeof t=="number"){e.push(n2t(t));return}if(typeof t=="bigint"){if(t<0){if(t<-Zbt)throw new Error("Cannot safely encode bigint larger than 64 bits");const i=new DataView(new ArrayBuffer(9));i.setBigInt64(1,t),i.setUint8(0,211),e.push(new Uint8Array(i.buffer));return}if(t>=e2t)throw new Error("Cannot safely encode bigint larger than 64 bits");const n=new DataView(new ArrayBuffer(9));n.setBigUint64(1,t),n.setUint8(0,207),e.push(new Uint8Array(n.buffer));return}if(typeof t=="string"){const n=t2t.encode(t),i=n.length;if(i<k1e)e.push(new Uint8Array([160|i]));else if(i<bj)e.push(new Uint8Array([217,i]));else if(i<eb){const s=new DataView(new ArrayBuffer(3));s.setUint16(1,i),s.setUint8(0,218),e.push(new Uint8Array(s.buffer))}else if(i<tb){const s=new DataView(new ArrayBuffer(5));s.setUint32(1,i),s.setUint8(0,219),e.push(new Uint8Array(s.buffer))}else throw new Error("Cannot safely encode string with size larger than 32 bits");e.push(n);return}if(t instanceof Uint8Array){if(t.length<bj)e.push(new Uint8Array([196,t.length]));else if(t.length<eb){const n=new DataView(new ArrayBuffer(3));n.setUint16(1,t.length),n.setUint8(0,197),e.push(new Uint8Array(n.buffer))}else if(t.length<tb){const n=new DataView(new ArrayBuffer(5));n.setUint32(1,t.length),n.setUint8(0,198),e.push(new Uint8Array(n.buffer))}else throw new Error("Cannot safely encode Uint8Array with size larger than 32 bits");e.push(t);return}if(Array.isArray(t)){if(t.length<nee)e.push(new Uint8Array([144|t.length]));else if(t.length<eb){const n=new DataView(new ArrayBuffer(3));n.setUint16(1,t.length),n.setUint8(0,220),e.push(new Uint8Array(n.buffer))}else if(t.length<tb){const n=new DataView(new ArrayBuffer(5));n.setUint32(1,t.length),n.setUint8(0,221),e.push(new Uint8Array(n.buffer))}else throw new Error("Cannot safely encode array with size larger than 32 bits");for(const n of t)l_(n,e);return}const r=Object.getPrototypeOf(t);if(r===null||r===Object.prototype){const n=Object.keys(t).length;if(n<nee)e.push(new Uint8Array([128|n]));else if(n<eb){const i=new DataView(new ArrayBuffer(3));i.setUint16(1,n),i.setUint8(0,222),e.push(new Uint8Array(i.buffer))}else if(n<tb){const i=new DataView(new ArrayBuffer(5));i.setUint32(1,n),i.setUint8(0,223),e.push(new Uint8Array(i.buffer))}else throw new Error("Cannot safely encode map with size larger than 32 bits");for(const[i,s]of Object.entries(t))l_(i,e),l_(s,e);return}throw new Error("Cannot safely encode value into messagepack")}const QL=de({signTypedData:H(Yc(),cu(t=>t.length===3,"Number of arguments must be 3")),getAddress:Yc(),provider:go(de({getNetwork:Yc()}))}),ZL=de({_signTypedData:H(Yc(),cu(t=>t.length===3,"Number of arguments must be 3")),getAddress:Yc(),provider:go(de({getNetwork:Yc()}))}),eU=de({signTypedData:H(Yc(),cu(t=>t.length===1||t.length===2,"Number of arguments must be 1 or 2")),getAddresses:Yc(),getChainId:Yc()}),S1e=de({signTypedData:H(Yc(),cu(t=>t.length===1||t.length===2,"Number of arguments must be 1 or 2")),address:Wt()});class td extends KL{constructor(e,r){super(e,r),this.name="AbstractWalletError"}}async function tU(t){const{wallet:e,domain:r,types:n,primaryType:i,message:s}=t;let o;if(Wc(eU,e)||Wc(S1e,e))try{o=await e.signTypedData({domain:r,types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],...n},primaryType:i,message:s})}catch(a){throw new td("Failed to sign typed data with viem wallet",{cause:a})}else if(Wc(QL,e))try{o=await e.signTypedData(r,n,s)}catch(a){throw new td("Failed to sign typed data with ethers v6 wallet",{cause:a})}else if(Wc(ZL,e))try{o=await e._signTypedData(r,n,s)}catch(a){throw new td("Failed to sign typed data with ethers v5 wallet",{cause:a})}else throw new td("Failed to sign typed data: unknown wallet");return i2t(o)}function i2t(t){const e=`0x${t.slice(2,66)}`,r=`0x${t.slice(66,130)}`,n=parseInt(t.slice(130,132),16);return{r:e,s:r,v:n}}async function s2t(t){if(Wc(eU,t))try{return`0x${(await t.getChainId()).toString(16)}`}catch(e){throw new td("Failed to get chain ID from viem wallet",{cause:e})}if(Wc(QL,t)&&"provider"in t&&t.provider)try{return`0x${(await t.provider.getNetwork()).chainId.toString(16)}`}catch(e){throw new td("Failed to get chain ID from ethers v6 wallet",{cause:e})}if(Wc(ZL,t)&&"provider"in t&&t.provider)try{return`0x${(await t.provider.getNetwork()).chainId.toString(16)}`}catch(e){throw new td("Failed to get chain ID from ethers v5 wallet",{cause:e})}return"0x1"}async function A1e(t){if(Wc(eU,t))try{return(await t.getAddresses())[0].toLowerCase()}catch(e){throw new td("Failed to get address from viem wallet",{cause:e})}if(Wc(S1e,t))return t.address.toLowerCase();if(Wc(QL,t)||Wc(ZL,t))try{return(await t.getAddress()).toLowerCase()}catch(e){throw new td("Failed to get address from ethers wallet",{cause:e})}throw new td("Failed to get wallet address: unknown wallet")}function T1e(t){const{action:e,nonce:r,vaultAddress:n,expiresAfter:i}=t,s=r2t(xj(_j(e))),o=iee(r),a=n?new Uint8Array([1]):new Uint8Array([0]),l=n?Lbt(n.slice(2)):new Uint8Array,c=i!==void 0?new Uint8Array([0]):new Uint8Array,u=i!==void 0?iee(i):new Uint8Array,h=Ubt(s,o,a,l,c,u),f=Xbt(h);return`0x${Fbt(f)}`}function iee(t){const e=new Uint8Array(8);return new DataView(e.buffer).setBigUint64(0,BigInt(t)),e}function xj(t){if(typeof t=="number"&&Number.isInteger(t)&&(t>=4294967296||t<-2147483648))return BigInt(t);if(Array.isArray(t))return t.map(xj);if(typeof t=="object"&&t!==null){const e={};for(const r in t)e[r]=xj(t[r]);return e}return t}function _j(t){if(Array.isArray(t))return t.map(_j);if(typeof t=="object"&&t!==null){const e={};for(const r in t)t[r]!==void 0&&(e[r]=_j(t[r]));return e}return t}async function I1e(t){const{wallet:e,action:r,nonce:n,isTestnet:i=!1,vaultAddress:s,expiresAfter:o}=t;return await tU({wallet:e,domain:{name:"Exchange",version:"1",chainId:1337,verifyingContract:"0x0000000000000000000000000000000000000000"},types:{Agent:[{name:"source",type:"string"},{name:"connectionId",type:"bytes32"}]},primaryType:"Agent",message:{source:i?"b":"a",connectionId:T1e({action:r,nonce:n,vaultAddress:s,expiresAfter:o})}})}async function P1e(t){let{wallet:e,action:r,types:n}=t;const i=Object.keys(n)[0];if(r.type==="approveAgent"&&!r.agentName&&(r={...r,agentName:""}),"payloadMultiSigUser"in r&&"outerSigner"in r){const a=n[i];n={...n,[i]:[a[0],{name:"payloadMultiSigUser",type:"address"},{name:"outerSigner",type:"address"},...a.slice(1)]}}const s=new Set(n[i].map(a=>a.name)),o=Object.fromEntries(Object.entries(r).filter(([a])=>s.has(a)));return await tU({wallet:e,domain:{name:"HyperliquidSignTransaction",version:"1",chainId:parseInt(r.signatureChainId),verifyingContract:"0x0000000000000000000000000000000000000000"},types:n,primaryType:i,message:o})}async function $1e(t){let{wallet:e,action:r,nonce:n,isTestnet:i=!1,vaultAddress:s,expiresAfter:o}=t;if("type"in r){const{type:a,...l}=r;r=l}return await tU({wallet:e,domain:{name:"HyperliquidSignTransaction",version:"1",chainId:parseInt(r.signatureChainId),verifyingContract:"0x0000000000000000000000000000000000000000"},types:{"HyperliquidTransaction:SendMultiSig":[{name:"hyperliquidChain",type:"string"},{name:"multiSigActionHash",type:"bytes32"},{name:"nonce",type:"uint64"}]},primaryType:"HyperliquidTransaction:SendMultiSig",message:{hyperliquidChain:i?"Testnet":"Mainnet",multiSigActionHash:T1e({action:r,nonce:n,vaultAddress:s,expiresAfter:o}),nonce:n}})}function FC(t){return typeof t=="object"&&t!==null&&"error"in t&&typeof t.error=="string"}function N1e(t){return typeof t=="object"&&t!==null&&"status"in t&&t.status==="err"}function o2t(t){if(typeof t!="object"||t===null)return!1;const r=t.response?.data?.statuses;return Array.isArray(r)&&r.some(FC)}function a2t(t){return typeof t!="object"||t===null?!1:FC(t.response?.data?.status)}function l2t(t){if(N1e(t))return t.response;const e=t;if(Array.isArray(e.response?.data?.statuses)){const r=e.response.data.statuses.reduce((n,i,s)=>(FC(i)&&n.push(`Order ${s}: ${i.error}`),n),[]);if(r.length>0)return r.join(", ")}if(FC(e.response?.data?.status))return e.response.data.status.error}class c2t extends KL{response;constructor(e){const r=l2t(e)||"An unknown error occurred while processing an API request. See `response` for more details.";super(r),this.name="ApiRequestError",this.response=e}}function R1e(t){if(N1e(t)||o2t(t)||a2t(t))throw new c2t(t)}class u2t{#e=new Map;getNonce(e){const r=Date.now();this.#t(r);const n=this.#e.get(e)??0,i=r>n?r:n+1;return this.#e.set(e,i),i}#t(e){for(const[r,n]of this.#e)e>n&&this.#e.delete(r)}}const O1e=new u2t;class d2t{#e;#t;#r;#n;constructor(e=1){if(e<1)throw new TypeError(`Cannot create semaphore as 'max' must be at least 1: current value is ${e}`);this.#t=this.#e=e}acquire(){const e={[Symbol.dispose]:()=>this.release()};return this.#t>0?(this.#t--,Promise.resolve(e)):new Promise(r=>{const n={res:()=>r(e),next:void 0};this.#n?this.#n=this.#n.next=n:this.#r=this.#n=n})}tryAcquire(){if(this.#t>0)return this.#t--,{[Symbol.dispose]:()=>this.release()}}release(){this.#r?(this.#r.res(),this.#r=this.#r.next,this.#r||(this.#n=void 0)):this.#t<this.#e&&this.#t++}}class h2t{#e=new Map;#t;constructor(e){this.#t=e}ref(e){let r=this.#e.get(e);return r||(r={value:this.#t(),refs:0},this.#e.set(e,r)),r.refs++,r.value}unref(e){const r=this.#e.get(e);r&&--r.refs===0&&this.#e.delete(e)}}const see=new h2t(()=>new d2t(1));async function j1e(t,e){const r=see.ref(t);await r.acquire();try{return await e()}finally{r.release(),see.unref(t)}}async function en(t,e,r){const{transport:n}=t,i=rU(t),s=await A1e(i),o=`${s}:${n.isTestnet}`;return await j1e(o,async()=>{const a=await(t.nonceManager?.(s)??O1e.getNonce(o)),l=tt(Ht(Tt),r?.vaultAddress??t.defaultVaultAddress),c=tt(Ht(je),r?.expiresAfter??(typeof t.defaultExpiresAfter=="number"?t.defaultExpiresAfter:await t.defaultExpiresAfter?.())),u=r?.signal,[h,f]="wallet"in t?[e,await I1e({wallet:i,action:e,nonce:a,isTestnet:n.isTestnet,vaultAddress:l,expiresAfter:c})]:await p2t(t,e,s,a,l,c),p=await n.request("exchange",{action:h,signature:f,nonce:a,vaultAddress:l,expiresAfter:c},u);return R1e(p),p})}function f2t(t){const e=Object.keys(t)[0];return t[e].find(n=>n.name==="nonce"||n.name==="time")?.name??"nonce"}async function ll(t,e,r,n){const{transport:i}=t,s=rU(t),o=await A1e(s),a=`${o}:${i.isTestnet}`;return j1e(a,async()=>{const l=await(t.nonceManager?.(o)??O1e.getNonce(a)),c=n?.signal,{type:u,...h}=e,f=f2t(r),p={type:u,signatureChainId:await nU(t),hyperliquidChain:i.isTestnet?"Testnet":"Mainnet",...h,[f]:l},[m,v]="wallet"in t?[p,await P1e({wallet:s,action:p,types:r})]:await g2t(t,p,r,o,l),w=await i.request("exchange",{action:m,signature:v,nonce:l},c);return R1e(w),w})}function M1e(t){return{r:t.r.replace(/^0x0+/,"0x"),s:t.s.replace(/^0x0+/,"0x"),v:t.v}}async function p2t(t,e,r,n,i,s){const{transport:{isTestnet:o},signers:a,multiSigUser:l}=t,c=tt(Tt,l),u=tt(Tt,r),h=await Promise.all(a.map(async m=>{const v=await I1e({wallet:m,action:[c,u,e],nonce:n,isTestnet:o,vaultAddress:i,expiresAfter:s});return M1e(v)})),f={type:"multiSig",signatureChainId:await nU(t),signatures:h,payload:{multiSigUser:c,outerSigner:u,action:e}},p=await $1e({wallet:a[0],action:f,nonce:n,isTestnet:o,vaultAddress:i,expiresAfter:s});return[f,p]}async function g2t(t,e,r,n,i){const{signers:s,multiSigUser:o,transport:{isTestnet:a}}=t,l=tt(Tt,o),c=tt(Tt,n),u=await Promise.all(s.map(async p=>{const m=await P1e({wallet:p,action:{payloadMultiSigUser:l,outerSigner:c,...e},types:r});return M1e(m)})),h={type:"multiSig",signatureChainId:await nU(t),signatures:u,payload:{multiSigUser:l,outerSigner:c,action:e}},f=await $1e({wallet:s[0],action:h,nonce:i,isTestnet:a});return[h,f]}function rU(t){return"wallet"in t?t.wallet:t.signers[0]}async function nU(t){if(t.signatureChainId){const e=typeof t.signatureChainId=="function"?await t.signatureChainId():t.signatureChainId;return tt(ji,e)}return s2t(rU(t))}function m2t(t,e){return en(t,{type:"agentEnableDexAbstraction"},e)}const y2t=H(de({action:H(de({type:H(He("approveAgent"),V("Type of action.")),signatureChainId:H(ji,V("Chain ID in hex format for EIP-712 signing.")),hyperliquidChain:H(al,V("HyperLiquid network type.")),agentAddress:H(Tt,V("Agent address.")),agentName:H(go(H(Wt(),cp(1),Ih(17)),null),V("Agent name or null for unnamed agent.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components."))}),V("Approve an agent to sign on behalf of the master account.")),v2t=mr(de(y2t.entries.action.entries),["type","signatureChainId","hyperliquidChain","nonce"]),w2t={"HyperliquidTransaction:ApproveAgent":[{name:"hyperliquidChain",type:"string"},{name:"agentAddress",type:"address"},{name:"agentName",type:"string"},{name:"nonce",type:"uint64"}]};function b2t(t,e,r){const n=tt(v2t,e);return ll(t,{type:"approveAgent",...n},w2t,r)}const x2t=H(de({action:H(de({type:H(He("approveBuilderFee"),V("Type of action.")),signatureChainId:H(ji,V("Chain ID in hex format for EIP-712 signing.")),hyperliquidChain:H(al,V("HyperLiquid network type.")),maxFeeRate:H(v1e,V('Max fee rate (e.g., "0.01%").')),builder:H(Tt,V("Builder address.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components."))}),V("Approve a maximum fee rate for a builder.")),_2t=mr(de(x2t.entries.action.entries),["type","signatureChainId","hyperliquidChain","nonce"]),C2t={"HyperliquidTransaction:ApproveBuilderFee":[{name:"hyperliquidChain",type:"string"},{name:"maxFeeRate",type:"string"},{name:"builder",type:"address"},{name:"nonce",type:"uint64"}]};function E2t(t,e,r){const n=tt(_2t,e);return ll(t,{type:"approveBuilderFee",...n},C2t,r)}const k2t=H(de({action:H(de({type:H(He("order"),V("Type of action.")),orders:H(Hi(de({a:H(je,V("Asset ID.")),b:H(Ir(),V("Position side (`true` for long, `false` for short).")),p:H(dn,cu(t=>Number(t)>0,"Value must be greater than zero."),V("Price.")),s:H(dn,V("Size (in base currency units).")),r:H(Ir(),V("Is reduce-only?")),t:H(Oi([de({limit:H(de({tif:H(Do(["Gtc","Ioc","Alo","FrontendMarket","LiquidationMarket"]),V('Time-in-force.\n- `"Gtc"`: Remains active until filled or canceled.\n- `"Ioc"`: Fills immediately or cancels any unfilled portion.\n- `"Alo"`: Adds liquidity only.\n- `"FrontendMarket"`: Similar to Ioc, used in Hyperliquid UI.\n- `"LiquidationMarket"`: Similar to Ioc, used in Hyperliquid UI.'))}),V("Limit order parameters."))}),de({trigger:H(de({isMarket:H(Ir(),V("Is market order?")),triggerPx:H(dn,cu(t=>Number(t)>0,"Value must be greater than zero."),V("Trigger price.")),tpsl:H(Do(["tp","sl"]),V("Indicates whether it is take profit or stop loss."))}),V("Trigger order parameters."))})]),V("Order type (`limit` for limit orders, `trigger` for stop-loss/take-profit orders).")),c:H(Ht(ug),V("Client Order ID."))})),V("Array of order parameters.")),grouping:H(Ht(Do(["na","normalTpsl","positionTpsl"]),"na"),V("Order grouping strategy:\n- `na`: Standard order without grouping.\n- `normalTpsl`: TP/SL order with fixed size that doesn't adjust with position changes.\n- `positionTpsl`: TP/SL order that adjusts proportionally with the position size.")),builder:H(Ht(de({b:H(Tt,V("Builder address.")),f:H(je,S3(1e3),V("Builder fee in 0.1bps (1 = 0.0001%). Max 100 for perps (0.1%), 1000 for spot (1%)."))})),V("Builder fee."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),vaultAddress:H(Ht(Tt),V("Vault address (for vault trading).")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Place an order(s).")),S2t=mr(de(k2t.entries.action.entries),["type"]);function A2t(t,e,r){const n=tt(S2t,e);return en(t,{type:"order",...n},r)}const T2t=H(de({action:H(de({type:H(He("batchModify"),V("Type of action.")),modifies:H(Hi(de({oid:H(Oi([je,ug]),V("Order ID or Client Order ID.")),order:H(de({a:H(je,V("Asset ID.")),b:H(Ir(),V("Position side (`true` for long, `false` for short).")),p:H(dn,cu(t=>Number(t)>0,"Value must be greater than zero."),V("Price.")),s:H(dn,V("Size (in base currency units).")),r:H(Ir(),V("Is reduce-only?")),t:H(Oi([de({limit:H(de({tif:H(Do(["Gtc","Ioc","Alo","FrontendMarket","LiquidationMarket"]),V('Time-in-force.\n- `"Gtc"`: Remains active until filled or canceled.\n- `"Ioc"`: Fills immediately or cancels any unfilled portion.\n- `"Alo"`: Adds liquidity only.\n- `"FrontendMarket"`: Similar to Ioc, used in Hyperliquid UI.\n- `"LiquidationMarket"`: Similar to Ioc, used in Hyperliquid UI.'))}),V("Limit order parameters."))}),de({trigger:H(de({isMarket:H(Ir(),V("Is market order?")),triggerPx:H(dn,cu(t=>Number(t)>0,"Value must be greater than zero."),V("Trigger price.")),tpsl:H(Do(["tp","sl"]),V("Indicates whether it is take profit or stop loss."))}),V("Trigger order parameters."))})]),V("Order type (`limit` for limit orders, `trigger` for stop-loss/take-profit orders).")),c:H(Ht(ug),V("Client Order ID."))}),V("New order parameters."))})),V("Order modifications."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),vaultAddress:H(Ht(Tt),V("Vault address (for vault trading).")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Modify multiple orders.")),I2t=mr(de(T2t.entries.action.entries),["type"]);function P2t(t,e,r){const n=tt(I2t,e);return en(t,{type:"batchModify",...n},r)}const $2t=H(de({action:H(de({type:H(He("cancel"),V("Type of action.")),cancels:H(Hi(de({a:H(je,V("Asset ID.")),o:H(je,V("Order ID."))})),V("Orders to cancel by asset and order ID."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),vaultAddress:H(Ht(Tt),V("Vault address (for vault trading).")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Cancel order(s).")),N2t=mr(de($2t.entries.action.entries),["type"]);function R2t(t,e,r){const n=tt(N2t,e);return en(t,{type:"cancel",...n},r)}const O2t=H(de({action:H(de({type:H(He("cancelByCloid"),V("Type of action.")),cancels:H(Hi(de({asset:H(je,V("Asset ID.")),cloid:H(ug,V("Client Order ID."))})),V("Orders to cancel by asset and client order ID."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),vaultAddress:H(Ht(Tt),V("Vault address (for vault trading).")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Cancel order(s) by cloid.")),j2t=mr(de(O2t.entries.action.entries),["type"]);function M2t(t,e,r){const n=tt(j2t,e);return en(t,{type:"cancelByCloid",...n},r)}const D2t=H(de({action:H(de({type:H(He("cDeposit"),V("Type of action.")),signatureChainId:H(ji,V("Chain ID in hex format for EIP-712 signing.")),hyperliquidChain:H(al,V("HyperLiquid network type.")),wei:H(je,gu(1),V("Amount of wei to deposit into staking balance (float * 1e8).")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components."))}),V("Transfer native token from the user spot account into staking for delegating to validators.")),F2t=mr(de(D2t.entries.action.entries),["type","signatureChainId","hyperliquidChain","nonce"]),L2t={"HyperliquidTransaction:CDeposit":[{name:"hyperliquidChain",type:"string"},{name:"wei",type:"uint64"},{name:"nonce",type:"uint64"}]};function U2t(t,e,r){const n=tt(F2t,e);return ll(t,{type:"cDeposit",...n},L2t,r)}function B2t(t,e){return en(t,{type:"claimRewards"},e)}const oee=H(aa(de({authorizedUsers:H(Hi(Tt),V("List of authorized user addresses.")),threshold:H(je,gu(1),S3(10),V("Minimum number of signatures required."))})),V("Multi-sig config or `null` to revert to single-sig.")),z2t=H(de({action:H(de({type:H(He("convertToMultiSigUser"),V("Type of action.")),signatureChainId:H(ji,V("Chain ID in hex format for EIP-712 signing.")),hyperliquidChain:H(al,V("HyperLiquid network type.")),signers:H(Oi([H(Wt(),m1e(),oee,wj()),H(oee,wj())]),V("Signers configuration.\n\nMust be `ConvertToMultiSigUserRequestSignersSchema` converted to a string via `JSON.stringify(...)`.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components."))}),V("Convert a single-signature account to a multi-signature account or vice versa.")),q2t=mr(de(z2t.entries.action.entries),["type","signatureChainId","hyperliquidChain","nonce"]),W2t={"HyperliquidTransaction:ConvertToMultiSigUser":[{name:"hyperliquidChain",type:"string"},{name:"signers",type:"string"},{name:"nonce",type:"uint64"}]};function H2t(t,e,r){const n=tt(q2t,e);return ll(t,{type:"convertToMultiSigUser",...n},W2t,r)}const V2t=H(de({action:H(de({type:H(He("createSubAccount"),V("Type of action.")),name:H(Wt(),cp(1),Ih(16),V("Sub-account name."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Create a sub-account.")),G2t=mr(de(V2t.entries.action.entries),["type"]);function K2t(t,e,r){const n=tt(G2t,e);return en(t,{type:"createSubAccount",...n},r)}const Y2t=H(de({action:H(de({type:H(He("createVault"),V("Type of action.")),name:H(Wt(),cp(3),Ih(50),V("Vault name.")),description:H(Wt(),cp(10),Ih(250),V("Vault description.")),initialUsd:H(je,gu(100*1e6),V("Initial balance (float * 1e6).")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Create a vault.")),J2t=mr(de(Y2t.entries.action.entries),["type"]);function X2t(t,e,r){const n=tt(J2t,e);return en(t,{type:"createVault",...n},r)}const Q2t=H(de({action:H(Oi([de({type:H(He("CSignerAction"),V("Type of action.")),jailSelf:H(DC(),V("Jail the signer."))}),de({type:H(He("CSignerAction"),V("Type of action.")),unjailSelf:H(DC(),V("Unjail the signer."))})]),V("Action to jail or unjail the signer.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Jail or unjail self as a validator signer.")),Z2t=Oi(Q2t.entries.action.options.map(t=>mr(t,["type"])));function ext(t,e,r){const n=tt(Z2t,e);return en(t,{type:"CSignerAction",...n},r)}const txt=H(de({action:H(Oi([de({type:H(He("CValidatorAction"),V("Type of action.")),changeProfile:H(de({node_ip:H(aa(de({Ip:H(Wt(),vj(),V("IP address."))})),V("Validator node IP address.")),name:H(aa(Wt()),V("Validator name.")),description:H(aa(Wt()),V("Validator description.")),unjailed:H(Ir(),V("Whether the validator is unjailed.")),disable_delegations:H(aa(Ir()),V("Enable or disable delegations.")),commission_bps:H(aa(je),V("Commission rate in basis points (1 = 0.0001%).")),signer:H(aa(Tt),V("Signer address."))}),V("Profile changes to apply."))}),de({type:H(He("CValidatorAction"),V("Type of action.")),register:H(de({profile:H(de({node_ip:H(de({Ip:H(Wt(),vj(),V("IP address."))}),V("Validator node IP address.")),name:H(Wt(),V("Validator name.")),description:H(Wt(),V("Validator description.")),delegations_disabled:H(Ir(),V("Whether delegations are disabled.")),commission_bps:H(je,V("Commission rate in basis points (1 = 0.0001%).")),signer:H(Tt,V("Signer address."))}),V("Validator profile information.")),unjailed:H(Ir(),V("Initial jail status.")),initial_wei:H(je,V("Initial stake amount in wei."))}),V("Registration parameters."))}),de({type:H(He("CValidatorAction"),V("Type of action.")),unregister:H(DC(),V("Unregister the validator."))})]),V("Validator management action.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Action related to validator management.")),rxt=Oi(txt.entries.action.options.map(t=>mr(t,["type"])));function nxt(t,e,r){const n=tt(rxt,e);return en(t,{type:"CValidatorAction",...n},r)}const ixt=H(de({action:H(de({type:H(He("cWithdraw"),V("Type of action.")),signatureChainId:H(ji,V("Chain ID in hex format for EIP-712 signing.")),hyperliquidChain:H(al,V("HyperLiquid network type.")),wei:H(je,gu(1),V("Amount of wei to withdraw from staking balance (float * 1e8).")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components."))}),V("Transfer native token from staking into the user's spot account.")),sxt=mr(de(ixt.entries.action.entries),["type","signatureChainId","hyperliquidChain","nonce"]),oxt={"HyperliquidTransaction:CWithdraw":[{name:"hyperliquidChain",type:"string"},{name:"wei",type:"uint64"},{name:"nonce",type:"uint64"}]};function axt(t,e,r){const n=tt(sxt,e);return ll(t,{type:"cWithdraw",...n},oxt,r)}const lxt=H(de({action:H(de({type:H(He("evmUserModify"),V("Type of action.")),usingBigBlocks:H(Ir(),V("`true` for large blocks, `false` for small blocks."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Configure block type for EVM transactions.")),cxt=mr(de(lxt.entries.action.entries),["type"]);function uxt(t,e,r){const n=tt(cxt,e);return en(t,{type:"evmUserModify",...n},r)}const dxt=H(de({action:H(de({type:H(He("linkStakingUser"),V("Type of action.")),signatureChainId:H(ji,V("Chain ID in hex format for EIP-712 signing.")),hyperliquidChain:H(al,V("HyperLiquid network type.")),user:H(Tt,V(`Target account address.
- Trading user initiating: enter staking account address.
- Staking user finalizing: enter trading account address.`)),isFinalize:H(Ir(),V("Link phase.\n- `false` = trading user initiates link request.\n- `true` = staking user finalizes permanent link.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components."))}),V("Link staking and trading accounts for fee discount attribution.")),hxt=mr(de(dxt.entries.action.entries),["type","signatureChainId","hyperliquidChain","nonce"]),fxt={"HyperliquidTransaction:LinkStakingUser":[{name:"hyperliquidChain",type:"string"},{name:"user",type:"address"},{name:"isFinalize",type:"bool"},{name:"nonce",type:"uint64"}]};function pxt(t,e,r){const n=tt(hxt,e);return ll(t,{type:"linkStakingUser",...n},fxt,r)}const gxt=H(de({action:H(de({type:H(He("modify"),V("Type of action.")),oid:H(Oi([je,ug]),V("Order ID or Client Order ID.")),order:H(de({a:H(je,V("Asset ID.")),b:H(Ir(),V("Position side (`true` for long, `false` for short).")),p:H(dn,cu(t=>Number(t)>0,"Value must be greater than zero."),V("Price.")),s:H(dn,V("Size (in base currency units).")),r:H(Ir(),V("Is reduce-only?")),t:H(Oi([de({limit:H(de({tif:H(Do(["Gtc","Ioc","Alo","FrontendMarket","LiquidationMarket"]),V('Time-in-force.\n- `"Gtc"`: Remains active until filled or canceled.\n- `"Ioc"`: Fills immediately or cancels any unfilled portion.\n- `"Alo"`: Adds liquidity only.\n- `"FrontendMarket"`: Similar to Ioc, used in Hyperliquid UI.\n- `"LiquidationMarket"`: Similar to Ioc, used in Hyperliquid UI.'))}),V("Limit order parameters."))}),de({trigger:H(de({isMarket:H(Ir(),V("Is market order?")),triggerPx:H(dn,cu(t=>Number(t)>0,"Value must be greater than zero."),V("Trigger price.")),tpsl:H(Do(["tp","sl"]),V("Indicates whether it is take profit or stop loss."))}),V("Trigger order parameters."))})]),V("Order type (`limit` for limit orders, `trigger` for stop-loss/take-profit orders).")),c:H(Ht(ug),V("Client Order ID."))}),V("New order parameters."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),vaultAddress:H(Ht(Tt),V("Vault address (for vault trading).")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Modify an order.")),mxt=mr(de(gxt.entries.action.entries),["type"]);function yxt(t,e,r){const n=tt(mxt,e);return en(t,{type:"modify",...n},r)}function vxt(t,e){return en(t,{type:"noop"},e)}const wxt=H(de({action:H(Oi([de({type:H(He("perpDeploy"),V("Type of action.")),registerAsset2:H(de({maxGas:H(aa(je),V("Max gas in native token wei. If not provided, then uses current deploy auction price.")),assetRequest:H(de({coin:H(Wt(),V("Coin symbol for the new asset.")),szDecimals:H(je,V("Number of decimal places for size.")),oraclePx:H(dn,V("Initial oracle price for the asset.")),marginTableId:H(je,V("Margin table identifier for risk management.")),marginMode:H(Do(["strictIsolated","noCross"]),V("'strictIsolated' does not allow withdrawing of isolated margin from open position."))}),V("Contains new asset listing parameters.")),dex:H(Wt(),V("Name of the dex.")),schema:H(aa(de({fullName:H(Wt(),V("Full name of the dex.")),collateralToken:H(je,V("Collateral token index.")),oracleUpdater:H(aa(Tt),V("User to update oracles. If not provided, then deployer is assumed to be oracle updater."))})),V("Contains new dex parameters."))}),V("Parameters for registering a new perpetual asset (v2)."))}),de({type:H(He("perpDeploy"),V("Type of action.")),registerAsset:H(de({maxGas:H(aa(je),V("Max gas in native token wei. If not provided, then uses current deploy auction price.")),assetRequest:H(de({coin:H(Wt(),V("Coin symbol for the new asset.")),szDecimals:H(je,V("Number of decimal places for size.")),oraclePx:H(dn,V("Initial oracle price for the asset.")),marginTableId:H(je,V("Margin table identifier for risk management.")),onlyIsolated:H(Ir(),V("Whether the asset can only be traded with isolated margin."))}),V("Contains new asset listing parameters.")),dex:H(Wt(),V("Name of the dex.")),schema:H(aa(de({fullName:H(Wt(),V("Full name of the dex.")),collateralToken:H(je,V("Collateral token index.")),oracleUpdater:H(aa(Tt),V("User to update oracles. If not provided, then deployer is assumed to be oracle updater."))})),V("Contains new dex parameters."))}),V("Parameters for registering a new perpetual asset."))}),de({type:H(He("perpDeploy"),V("Type of action.")),setOracle:H(de({dex:H(Wt(),V("Name of the dex.")),oraclePxs:H(Hi(La([Wt(),dn])),V("A list (sorted by key) of asset and oracle prices.")),markPxs:H(Hi(Hi(La([Wt(),dn]))),V("An outer list of inner lists (inner list sorted by key) of asset and mark prices.")),externalPerpPxs:H(Hi(La([Wt(),dn])),V("A list (sorted by key) of asset and external prices which prevent sudden mark price deviations."))}),V("Parameters for setting oracle and mark prices for assets."))}),de({type:H(He("perpDeploy"),V("Type of action.")),setFundingMultipliers:H(Hi(La([Wt(),dn])),V("A list (sorted by key) of asset and funding multiplier."))}),de({type:H(He("perpDeploy"),V("Type of action.")),haltTrading:H(de({coin:H(Wt(),V("Coin symbol for the asset to halt or resume.")),isHalted:H(Ir(),V("Whether trading should be halted (true) or resumed (false)."))}),V("Parameters for halting or resuming trading for an asset."))}),de({type:H(He("perpDeploy"),V("Type of action.")),setMarginTableIds:H(Hi(La([Wt(),je])),V("A list (sorted by key) of asset and margin table ids."))}),de({type:H(He("perpDeploy"),V("Type of action.")),setFeeRecipient:H(de({dex:H(Wt(),V("Name of the DEX.")),feeRecipient:H(Tt,V("Address of the fee recipient."))}),V("Parameters for setting the fee recipient."))}),de({type:H(He("perpDeploy"),V("Type of action.")),setOpenInterestCaps:H(Hi(La([Wt(),je])),V("A list (sorted by key) of asset and open interest cap notionals."))}),de({type:H(He("perpDeploy"),V("Type of action.")),setSubDeployers:H(de({dex:H(Wt(),V("Name of the DEX.")),subDeployers:H(Hi(de({variant:H(Wt(),V("Corresponds to a variant of PerpDeployAction.")),user:H(Tt,V("Sub-deployer address.")),allowed:H(Ir(),V("Add or remove the subDeployer from the authorized set for the action variant."))})),V("A modification to sub-deployer permissions."))}),V("A modification to sub-deployer permissions."))}),de({type:H(He("perpDeploy"),V("Type of action.")),setMarginModes:H(Hi(La([Wt(),Do(["strictIsolated","noCross"])])),V("A list (sorted by key) of asset and margin modes."))}),de({type:H(He("perpDeploy"),V("Type of action.")),setFeeScale:H(de({dex:H(Wt(),V("Name of the dex.")),scale:H(dn,V("Fee scale (between 0.0 and 3.0)."))}),V("Set fee scale."))}),de({type:H(He("perpDeploy"),V("Type of action.")),setGrowthModes:H(Hi(La([Wt(),Ir()])),V("A list (sorted by key) of asset and growth modes."))})]),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Deploying HIP-3 assets.")),bxt=Oi(wxt.entries.action.options.map(t=>mr(t,["type"])));function xxt(t,e,r){const n=tt(bxt,e);return en(t,{type:"perpDeploy",...n},r)}const _xt=H(de({action:H(de({type:H(He("registerReferrer"),V("Type of action.")),code:H(Wt(),cp(1),Ih(20),V("Referral code to create."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Create a referral code.")),Cxt=mr(de(_xt.entries.action.entries),["type"]);function Ext(t,e,r){const n=tt(Cxt,e);return en(t,{type:"registerReferrer",...n},r)}const kxt=H(de({action:H(de({type:H(He("reserveRequestWeight"),V("Type of action.")),weight:H(je,S3(0x68db8bac710cb),V("Amount of request weight to reserve."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Reserve additional rate-limited actions for a fee.")),Sxt=mr(de(kxt.entries.action.entries),["type"]);function Axt(t,e,r){const n=tt(Sxt,e);return en(t,{type:"reserveRequestWeight",...n},r)}const Txt=H(de({action:H(de({type:H(He("scheduleCancel"),V("Type of action.")),time:H(Ht(je),V(`Scheduled time (in ms since epoch).
Must be at least 5 seconds in the future.

If not specified, will cause all scheduled cancel operations to be deleted.`))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),vaultAddress:H(Ht(Tt),V("Vault address (for vault trading).")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Schedule a cancel-all operation at a future time.")),Ixt=mr(de(Txt.entries.action.entries),["type"]);function Pxt(t,e,r){const n=e&&"time"in e,i=n?e:{},s=n?r:e,o=tt(Ixt,i);return en(t,{type:"scheduleCancel",...o},s)}const $xt=H(de({action:H(de({type:H(He("sendAsset"),V("Type of action.")),signatureChainId:H(ji,V("Chain ID in hex format for EIP-712 signing.")),hyperliquidChain:H(al,V("HyperLiquid network type.")),destination:H(Tt,V("Destination address.")),sourceDex:H(Wt(),V('Source DEX ("" for default USDC perp DEX, "spot" for spot).')),destinationDex:H(Wt(),V('Destination DEX ("" for default USDC perp DEX, "spot" for spot).')),token:H(Wt(),V("Token identifier.")),amount:H(dn,V("Amount to send (not in wei).")),fromSubAccount:H(Ht(Oi([He(""),Tt]),""),V('Source sub-account address ("" for main account).')),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components."))}),V("Transfer tokens between different perp DEXs, spot balance, users, and/or sub-accounts.")),Nxt=mr(de($xt.entries.action.entries),["type","signatureChainId","hyperliquidChain","nonce"]),Rxt={"HyperliquidTransaction:SendAsset":[{name:"hyperliquidChain",type:"string"},{name:"destination",type:"string"},{name:"sourceDex",type:"string"},{name:"destinationDex",type:"string"},{name:"token",type:"string"},{name:"amount",type:"string"},{name:"fromSubAccount",type:"string"},{name:"nonce",type:"uint64"}]};function Oxt(t,e,r){const n=tt(Nxt,e);return ll(t,{type:"sendAsset",...n},Rxt,r)}const jxt=H(de({action:H(de({type:H(He("setDisplayName"),V("Type of action.")),displayName:H(Wt(),Ih(20),V(`Display name.
Set to an empty string to remove the display name.`))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Set the display name in the leaderboard.")),Mxt=mr(de(jxt.entries.action.entries),["type"]);function Dxt(t,e,r){const n=tt(Mxt,e);return en(t,{type:"setDisplayName",...n},r)}const Fxt=H(de({action:H(de({type:H(He("setReferrer"),V("Type of action.")),code:H(Wt(),cp(1),Ih(20),V("Referral code."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Set a referral code.")),Lxt=mr(de(Fxt.entries.action.entries),["type"]);function Uxt(t,e,r){const n=tt(Lxt,e);return en(t,{type:"setReferrer",...n},r)}const Bxt=H(de({action:H(Oi([de({type:H(He("spotDeploy"),V("Type of action.")),registerToken2:H(de({spec:H(de({name:H(Wt(),V("Token name.")),szDecimals:H(je,V("Number of decimals for token size.")),weiDecimals:H(je,V("Number of decimals for token amounts in wei."))}),V("Token specifications.")),maxGas:H(je,V("Maximum gas allowed for registration.")),fullName:H(Ht(Wt()),V("Optional full token name."))}),V("Register token parameters."))}),de({type:H(He("spotDeploy"),V("Type of action.")),userGenesis:H(de({token:H(je,V("Token identifier.")),userAndWei:H(Hi(La([Tt,dn])),V("Array of tuples: [user address, genesis amount in wei].")),existingTokenAndWei:H(Hi(La([je,dn])),V("Array of tuples: [existing token identifier, genesis amount in wei].")),blacklistUsers:H(Ht(Hi(La([Tt,Ir()]))),V("Array of tuples: [user address, blacklist status] (`true` for blacklist, `false` to remove existing blacklisted user)."))}),V("User genesis parameters."))}),de({type:H(He("spotDeploy"),V("Type of action.")),genesis:H(de({token:H(je,V("Token identifier.")),maxSupply:H(dn,V("Maximum token supply.")),noHyperliquidity:H(Ht(He(!0)),V("Set hyperliquidity balance to 0."))}),V("Genesis parameters."))}),de({type:H(He("spotDeploy"),V("Type of action.")),registerSpot:H(de({tokens:H(La([je,je]),V("Tuple containing base and quote token indices."))}),V("Register spot parameters."))}),de({type:H(He("spotDeploy"),V("Type of action.")),registerHyperliquidity:H(de({spot:H(je,V("Spot index (distinct from base token index).")),startPx:H(dn,V("Starting price for liquidity seeding.")),orderSz:H(dn,V("Order size as a float (not in wei).")),nOrders:H(je,V("Total number of orders to place.")),nSeededLevels:H(Ht(je),V("Number of levels to seed with USDC."))}),V("Register hyperliquidity parameters."))}),de({type:H(He("spotDeploy"),V("Type of action.")),setDeployerTradingFeeShare:H(de({token:H(je,V("Token identifier.")),share:H(v1e,V("The deployer trading fee share. Range is 0% to 100%."))}),V("Set deployer trading fee share parameters."))}),de({type:H(He("spotDeploy"),V("Type of action.")),enableQuoteToken:H(de({token:H(je,V("The token ID to convert to a quote token."))}),V("Enable quote token parameters."))}),de({type:H(He("spotDeploy"),V("Type of action.")),enableAlignedQuoteToken:H(de({token:H(je,V("Token identifier to enable as aligned quote token."))}),V("Enable aligned quote token parameters."))})]),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Deploying HIP-1 and HIP-2 assets.")),zxt=Oi(Bxt.entries.action.options.map(t=>mr(t,["type"])));function qxt(t,e,r){const n=tt(zxt,e);return en(t,{type:"spotDeploy",...n},r)}const Wxt=H(de({action:H(de({type:H(He("spotSend"),V("Type of action.")),signatureChainId:H(ji,V("Chain ID in hex format for EIP-712 signing.")),hyperliquidChain:H(al,V("HyperLiquid network type.")),destination:H(Tt,V("Destination address.")),token:H(Wt(),V("Token identifier.")),amount:H(dn,V("Amount to send (not in wei).")),time:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components."))}),V("Send spot assets to another address.")),Hxt=mr(de(Wxt.entries.action.entries),["type","signatureChainId","hyperliquidChain","time"]),Vxt={"HyperliquidTransaction:SpotSend":[{name:"hyperliquidChain",type:"string"},{name:"destination",type:"string"},{name:"token",type:"string"},{name:"amount",type:"string"},{name:"time",type:"uint64"}]};function Gxt(t,e,r){const n=tt(Hxt,e);return ll(t,{type:"spotSend",...n},Vxt,r)}const Kxt=H(de({action:H(de({type:H(He("spotUser"),V("Type of action.")),toggleSpotDusting:H(de({optOut:H(Ir(),V("Opt out of spot dusting."))}),V("Spot dusting options."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Opt Out of Spot Dusting.")),Yxt=mr(de(Kxt.entries.action.entries),["type"]);function Jxt(t,e,r){const n=tt(Yxt,e);return en(t,{type:"spotUser",...n},r)}const Xxt=H(de({action:H(de({type:H(He("subAccountModify"),V("Type of action.")),subAccountUser:H(Tt,V("Sub-account address to modify.")),name:H(Wt(),cp(1),Ih(16),V("New sub-account name."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Modify a sub-account.")),Qxt=mr(de(Xxt.entries.action.entries),["type"]);function Zxt(t,e,r){const n=tt(Qxt,e);return en(t,{type:"subAccountModify",...n},r)}const e3t=H(de({action:H(de({type:H(He("subAccountSpotTransfer"),V("Type of action.")),subAccountUser:H(Tt,V("Sub-account address.")),isDeposit:H(Ir(),V("`true` for deposit, `false` for withdrawal.")),token:H(Wt(),V("Token identifier.")),amount:H(dn,V("Amount to send (not in wei)."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Transfer between sub-accounts (spot).")),t3t=mr(de(e3t.entries.action.entries),["type"]);function r3t(t,e,r){const n=tt(t3t,e);return en(t,{type:"subAccountSpotTransfer",...n},r)}const n3t=H(de({action:H(de({type:H(He("subAccountTransfer"),V("Type of action.")),subAccountUser:H(Tt,V("Sub-account address.")),isDeposit:H(Ir(),V("`true` for deposit, `false` for withdrawal.")),usd:H(je,gu(1),V("Amount to transfer (float * 1e6)."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Transfer between sub-accounts (perpetual).")),i3t=mr(de(n3t.entries.action.entries),["type"]);function s3t(t,e,r){const n=tt(i3t,e);return en(t,{type:"subAccountTransfer",...n},r)}const o3t=H(de({action:H(de({type:H(He("tokenDelegate"),V("Type of action.")),signatureChainId:H(ji,V("Chain ID in hex format for EIP-712 signing.")),hyperliquidChain:H(al,V("HyperLiquid network type.")),validator:H(Tt,V("Validator address.")),wei:H(je,gu(1),V("Amount for delegate/undelegate (float * 1e8).")),isUndelegate:H(Ir(),V("`true` for undelegate, `false` for delegate.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components."))}),V("Delegate or undelegate native tokens to or from a validator.")),a3t=mr(de(o3t.entries.action.entries),["type","signatureChainId","hyperliquidChain","nonce"]),l3t={"HyperliquidTransaction:TokenDelegate":[{name:"hyperliquidChain",type:"string"},{name:"validator",type:"address"},{name:"wei",type:"uint64"},{name:"isUndelegate",type:"bool"},{name:"nonce",type:"uint64"}]};function c3t(t,e,r){const n=tt(a3t,e);return ll(t,{type:"tokenDelegate",...n},l3t,r)}const u3t=H(de({action:H(de({type:H(He("twapCancel"),V("Type of action.")),a:H(je,V("Asset ID.")),t:H(je,V("Twap ID."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),vaultAddress:H(Ht(Tt),V("Vault address (for vault trading).")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Cancel a TWAP order.")),d3t=mr(de(u3t.entries.action.entries),["type"]);function h3t(t,e,r){const n=tt(d3t,e);return en(t,{type:"twapCancel",...n},r)}const f3t=H(de({action:H(de({type:H(He("twapOrder"),V("Type of action.")),twap:H(de({a:H(je,V("Asset ID.")),b:H(Ir(),V("Position side (`true` for long, `false` for short).")),s:H(dn,V("Size (in base currency units).")),r:H(Ir(),V("Is reduce-only?")),m:H(je,gu(5),S3(1440),V("TWAP duration in minutes.")),t:H(Ir(),V("Enable random order timing."))}),V("Twap parameters."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),vaultAddress:H(Ht(Tt),V("Vault address (for vault trading).")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Place a TWAP order.")),p3t=mr(de(f3t.entries.action.entries),["type"]);function g3t(t,e,r){const n=tt(p3t,e);return en(t,{type:"twapOrder",...n},r)}const m3t=H(de({action:H(de({type:H(He("updateIsolatedMargin"),V("Type of action.")),asset:H(je,V("Asset ID.")),isBuy:H(Ir(),V("Position side (`true` for long, `false` for short).")),ntli:H(Cbt,V("Amount to adjust (float * 1e6)."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),vaultAddress:H(Ht(Tt),V("Vault address (for vault trading).")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Add or remove margin from isolated position.")),y3t=mr(de(m3t.entries.action.entries),["type"]);function v3t(t,e,r){const n=tt(y3t,e);return en(t,{type:"updateIsolatedMargin",...n},r)}const w3t=H(de({action:H(de({type:H(He("updateLeverage"),V("Type of action.")),asset:H(je,V("Asset ID.")),isCross:H(Ir(),V("`true` for cross leverage, `false` for isolated leverage.")),leverage:H(je,gu(1),V("New leverage value."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),vaultAddress:H(Ht(Tt),V("Vault address (for vault trading).")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Update cross or isolated leverage on a coin.")),b3t=mr(de(w3t.entries.action.entries),["type"]);function x3t(t,e,r){const n=tt(b3t,e);return en(t,{type:"updateLeverage",...n},r)}const _3t=H(de({action:H(de({type:H(He("usdClassTransfer"),V("Type of action.")),signatureChainId:H(ji,V("Chain ID in hex format for EIP-712 signing.")),hyperliquidChain:H(al,V("HyperLiquid network type.")),amount:H(dn,V("Amount to transfer (1 = $1).")),toPerp:H(Ir(),V("`true` for Spot to Perp, `false` for Perp to Spot.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components."))}),V("Transfer funds between Spot account and Perp account.")),C3t=mr(de(_3t.entries.action.entries),["type","signatureChainId","hyperliquidChain","nonce"]),E3t={"HyperliquidTransaction:UsdClassTransfer":[{name:"hyperliquidChain",type:"string"},{name:"amount",type:"string"},{name:"toPerp",type:"bool"},{name:"nonce",type:"uint64"}]};function k3t(t,e,r){const n=tt(C3t,e);return ll(t,{type:"usdClassTransfer",...n},E3t,r)}const S3t=H(de({action:H(de({type:H(He("usdSend"),V("Type of action.")),signatureChainId:H(ji,V("Chain ID in hex format for EIP-712 signing.")),hyperliquidChain:H(al,V("HyperLiquid network type.")),destination:H(Tt,V("Destination address.")),amount:H(dn,V("Amount to send (1 = $1).")),time:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components."))}),V("Send usd to another address.")),A3t=mr(de(S3t.entries.action.entries),["type","signatureChainId","hyperliquidChain","time"]),T3t={"HyperliquidTransaction:UsdSend":[{name:"hyperliquidChain",type:"string"},{name:"destination",type:"string"},{name:"amount",type:"string"},{name:"time",type:"uint64"}]};function I3t(t,e,r){const n=tt(A3t,e);return ll(t,{type:"usdSend",...n},T3t,r)}const P3t=H(de({action:H(de({type:H(He("userDexAbstraction"),V("Type of action.")),signatureChainId:H(ji,V("Chain ID in hex format for EIP-712 signing.")),hyperliquidChain:H(al,V("HyperLiquid network type.")),user:H(Tt,V("User address.")),enabled:H(Ir(),V("Whether to enable or disable HIP-3 DEX abstraction.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components."))}),V("Enable/disable HIP-3 DEX abstraction.")),$3t=mr(de(P3t.entries.action.entries),["type","signatureChainId","hyperliquidChain","nonce"]),N3t={"HyperliquidTransaction:UserDexAbstraction":[{name:"hyperliquidChain",type:"string"},{name:"user",type:"address"},{name:"enabled",type:"bool"},{name:"nonce",type:"uint64"}]};function R3t(t,e,r){const n=tt($3t,e);return ll(t,{type:"userDexAbstraction",...n},N3t,r)}const O3t=H(de({action:H(de({type:H(He("validatorL1Stream"),V("Type of action.")),riskFreeRate:H(dn,V('Risk-free rate as a decimal string (e.g., "0.05" for 5%).'))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Validator vote on risk-free rate for aligned quote asset.")),j3t=mr(de(O3t.entries.action.entries),["type"]);function M3t(t,e,r){const n=tt(j3t,e);return en(t,{type:"validatorL1Stream",...n},r)}const D3t=H(de({action:H(de({type:H(He("vaultDistribute"),V("Type of action.")),vaultAddress:H(Tt,V("Vault address.")),usd:H(je,V(`Amount to distribute (float * 1e6).
Set to 0 to close the vault.`))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Distribute funds from a vault between followers.")),F3t=mr(de(D3t.entries.action.entries),["type"]);function L3t(t,e,r){const n=tt(F3t,e);return en(t,{type:"vaultDistribute",...n},r)}const U3t=H(de({action:H(de({type:H(He("vaultModify"),V("Type of action.")),vaultAddress:H(Tt,V("Vault address.")),allowDeposits:H(go(Ir(),null),V("Allow deposits from followers.")),alwaysCloseOnWithdraw:H(go(Ir(),null),V("Always close positions on withdrawal."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Modify a vault's configuration.")),B3t=mr(de(U3t.entries.action.entries),["type"]);function z3t(t,e,r){const n=tt(B3t,e);return en(t,{type:"vaultModify",...n},r)}const q3t=H(de({action:H(de({type:H(He("vaultTransfer"),V("Type of action.")),vaultAddress:H(Tt,V("Vault address.")),isDeposit:H(Ir(),V("`true` for deposit, `false` for withdrawal.")),usd:H(je,gu(1),V("Amount for deposit/withdrawal (float * 1e6)."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components.")),expiresAfter:H(Ht(je),V("Expiration time of the action."))}),V("Deposit or withdraw from a vault.")),W3t=mr(de(q3t.entries.action.entries),["type"]);function H3t(t,e,r){const n=tt(W3t,e);return en(t,{type:"vaultTransfer",...n},r)}const V3t=H(de({action:H(de({type:H(He("withdraw3"),V("Type of action.")),signatureChainId:H(ji,V("Chain ID in hex format for EIP-712 signing.")),hyperliquidChain:H(al,V("HyperLiquid network type.")),destination:H(Tt,V("Destination address.")),amount:H(dn,V("Amount to withdraw (1 = $1).")),time:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks."))}),V("Action to perform.")),nonce:H(je,V("Nonce (timestamp in ms) used to prevent replay attacks.")),signature:H(yr,V("ECDSA signature components."))}),V("Initiate a withdrawal request.")),G3t=mr(de(V3t.entries.action.entries),["type","signatureChainId","hyperliquidChain","time"]),K3t={"HyperliquidTransaction:Withdraw":[{name:"hyperliquidChain",type:"string"},{name:"destination",type:"string"},{name:"amount",type:"string"},{name:"time",type:"uint64"}]};function Y3t(t,e,r){const n=tt(G3t,e);return ll(t,{type:"withdraw3",...n},K3t,r)}class J3t{config_;constructor(e){this.config_=e}agentEnableDexAbstraction(e){return m2t(this.config_,e)}approveAgent(e,r){return b2t(this.config_,e,r)}approveBuilderFee(e,r){return E2t(this.config_,e,r)}batchModify(e,r){return P2t(this.config_,e,r)}cancel(e,r){return R2t(this.config_,e,r)}cancelByCloid(e,r){return M2t(this.config_,e,r)}cDeposit(e,r){return U2t(this.config_,e,r)}claimRewards(e){return B2t(this.config_,e)}convertToMultiSigUser(e,r){return H2t(this.config_,e,r)}createSubAccount(e,r){return K2t(this.config_,e,r)}createVault(e,r){return X2t(this.config_,e,r)}cSignerAction(e,r){return ext(this.config_,e,r)}cValidatorAction(e,r){return nxt(this.config_,e,r)}cWithdraw(e,r){return axt(this.config_,e,r)}evmUserModify(e,r){return uxt(this.config_,e,r)}linkStakingUser(e,r){return pxt(this.config_,e,r)}modify(e,r){return yxt(this.config_,e,r)}order(e,r){return A2t(this.config_,e,r)}noop(e){return vxt(this.config_,e)}perpDeploy(e,r){return xxt(this.config_,e,r)}registerReferrer(e,r){return Ext(this.config_,e,r)}reserveRequestWeight(e,r){return Axt(this.config_,e,r)}scheduleCancel(e,r){const n=e&&"time"in e,i=n?e:{},s=n?r:e;return Pxt(this.config_,i,s)}sendAsset(e,r){return Oxt(this.config_,e,r)}setDisplayName(e,r){return Dxt(this.config_,e,r)}setReferrer(e,r){return Uxt(this.config_,e,r)}spotDeploy(e,r){return qxt(this.config_,e,r)}spotSend(e,r){return Gxt(this.config_,e,r)}spotUser(e,r){return Jxt(this.config_,e,r)}subAccountModify(e,r){return Zxt(this.config_,e,r)}subAccountSpotTransfer(e,r){return r3t(this.config_,e,r)}subAccountTransfer(e,r){return s3t(this.config_,e,r)}tokenDelegate(e,r){return c3t(this.config_,e,r)}twapCancel(e,r){return h3t(this.config_,e,r)}twapOrder(e,r){return g3t(this.config_,e,r)}updateIsolatedMargin(e,r){return v3t(this.config_,e,r)}updateLeverage(e,r){return x3t(this.config_,e,r)}usdClassTransfer(e,r){return k3t(this.config_,e,r)}usdSend(e,r){return I3t(this.config_,e,r)}userDexAbstraction(e,r){return R3t(this.config_,e,r)}validatorL1Stream(e,r){return M3t(this.config_,e,r)}vaultDistribute(e,r){return L3t(this.config_,e,r)}vaultModify(e,r){return z3t(this.config_,e,r)}vaultTransfer(e,r){return H3t(this.config_,e,r)}withdraw3(e,r){return Y3t(this.config_,e,r)}}const X3t=H(de({type:H(He("activeAssetData"),V("Type of request.")),coin:H(Wt(),V("Asset symbol (e.g., BTC).")),user:H(Tt,V("User address."))}),V("Request user active asset data."));function Q3t(t,e,r){const n=tt(X3t,{type:"activeAssetData",...e});return t.transport.request("info",n,r)}const Z3t=H(de({type:H(He("alignedQuoteTokenInfo"),V("Type of request.")),token:H(je,V("Token index."))}),V("Request supply, rate, and pending payment information for an aligned quote token."));function e5t(t,e,r){const n=tt(Z3t,{type:"alignedQuoteTokenInfo",...e});return t.transport.request("info",n,r)}const t5t=H(de({type:H(He("allMids"),V("Type of request.")),dex:H(Ht(Wt()),V("DEX name (empty string for main dex)."))}),V("Request mid coin prices."));function r5t(t,e,r){const n=e instanceof AbortSignal?{}:e,i=e instanceof AbortSignal?e:r,s=tt(t5t,{type:"allMids",...n});return t.transport.request("info",s,i)}const n5t=H(de({type:H(He("marginTable"),V("Type of request.")),id:H(je,V("Margin requirements table."))}),V("Request margin table data."));function i5t(t,e,r){const n=tt(n5t,{type:"marginTable",...e});return t.transport.request("info",n,r)}const s5t=H(de({type:H(He("meta"),V("Type of request.")),dex:H(Ht(Wt()),V("DEX name (empty string for main dex)."))}),V("Request trading metadata."));function o5t(t,e,r){const n=e instanceof AbortSignal?{}:e,i=e instanceof AbortSignal?e:r,s=tt(s5t,{type:"meta",...n});return t.transport.request("info",s,i)}const a5t=H(de({type:H(He("allPerpMetas"),V("Type of request."))}),V("Request trading metadata for all DEXes."));function l5t(t,e){const r=tt(a5t,{type:"allPerpMetas"});return t.transport.request("info",r,e)}const c5t=H(de({type:H(He("blockDetails"),V("Type of request.")),height:H(je,V("Block height."))}),V("Request block details by block height."));function u5t(t,e,r){const n=tt(c5t,{type:"blockDetails",...e});return t.transport.request("explorer",n,r)}const d5t=H(de({type:H(He("candleSnapshot"),V("Type of request.")),req:H(de({coin:H(Wt(),V("Asset symbol (e.g., BTC).")),interval:H(Do(["1m","3m","5m","15m","30m","1h","2h","4h","8h","12h","1d","3d","1w","1M"]),V("Time interval.")),startTime:H(je,V("Start time (in ms since epoch).")),endTime:H(go(je),V("End time (in ms since epoch)."))}),V("Request parameters."))}),V("Request candlestick snapshots."));function h5t(t,e,r){const n=tt(d5t,{type:"candleSnapshot",req:e});return t.transport.request("info",n,r)}const f5t=H(de({type:H(He("clearinghouseState"),V("Type of request.")),user:H(Tt,V("User address.")),dex:H(Ht(Wt()),V("DEX name (empty string for main dex)."))}),V("Request clearinghouse state."));function p5t(t,e,r){const n=tt(f5t,{type:"clearinghouseState",...e});return t.transport.request("info",n,r)}const g5t=H(de({type:H(He("delegations"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request user staking delegations."));function m5t(t,e,r){const n=tt(g5t,{type:"delegations",...e});return t.transport.request("info",n,r)}const y5t=H(de({type:H(He("delegatorHistory"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request user staking history."));function v5t(t,e,r){const n=tt(y5t,{type:"delegatorHistory",...e});return t.transport.request("info",n,r)}const w5t=H(de({type:H(He("delegatorRewards"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request user staking rewards."));function b5t(t,e,r){const n=tt(w5t,{type:"delegatorRewards",...e});return t.transport.request("info",n,r)}const x5t=H(de({type:H(He("delegatorSummary"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request user's staking summary."));function _5t(t,e,r){const n=tt(x5t,{type:"delegatorSummary",...e});return t.transport.request("info",n,r)}const C5t=H(de({type:H(He("exchangeStatus"),V("Type of request."))}),V("Request exchange system status information."));function E5t(t,e){const r=tt(C5t,{type:"exchangeStatus"});return t.transport.request("info",r,e)}const k5t=H(de({type:H(He("extraAgents"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request user extra agents."));function S5t(t,e,r){const n=tt(k5t,{type:"extraAgents",...e});return t.transport.request("info",n,r)}const A5t=H(de({type:H(He("frontendOpenOrders"),V("Type of request.")),user:H(Tt,V("User address.")),dex:H(Ht(Wt()),V("DEX name (empty string for main dex)."))}),V("Request frontend open orders."));function T5t(t,e,r){const n=tt(A5t,{type:"frontendOpenOrders",...e});return t.transport.request("info",n,r)}const I5t=H(de({type:H(He("fundingHistory"),V("Type of request.")),coin:H(Wt(),V("Asset symbol (e.g., BTC).")),startTime:H(je,V("Start time (in ms since epoch).")),endTime:H(go(je),V("End time (in ms since epoch)."))}),V("Request funding history."));function P5t(t,e,r){const n=tt(I5t,{type:"fundingHistory",...e});return t.transport.request("info",n,r)}const $5t=H(de({type:H(He("gossipRootIps"),V("Type of request."))}),V("Request gossip root IPs."));function N5t(t,e){const r=tt($5t,{type:"gossipRootIps"});return t.transport.request("info",r,e)}const R5t=H(de({type:H(He("historicalOrders"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request user historical orders."));function O5t(t,e,r){const n=tt(R5t,{type:"historicalOrders",...e});return t.transport.request("info",n,r)}const j5t=H(de({type:H(He("isVip"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request to check if a user is a VIP."));function M5t(t,e,r){const n=tt(j5t,{type:"isVip",...e});return t.transport.request("info",n,r)}const D5t=H(de({type:H(He("l2Book"),V("Type of request.")),coin:H(Wt(),V("Asset symbol (e.g., BTC).")),nSigFigs:H(go(Do([2,3,4,5])),V("Number of significant figures.")),mantissa:H(go(Do([2,5])),V("Mantissa for aggregation (if `nSigFigs` is 5)."))}),V("Request L2 order book."));function F5t(t,e,r){const n=tt(D5t,{type:"l2Book",...e});return t.transport.request("info",n,r)}const L5t=H(de({type:H(He("leadingVaults"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request leading vaults for a user."));function U5t(t,e,r){const n=tt(L5t,{type:"leadingVaults",...e});return t.transport.request("info",n,r)}const B5t=H(de({type:H(He("legalCheck"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request legal verification status of a user."));function z5t(t,e,r){const n=tt(B5t,{type:"legalCheck",...e});return t.transport.request("info",n,r)}const q5t=H(de({type:H(He("liquidatable"),V("Type of request."))}),V("Request liquidatable."));function W5t(t,e){const r=tt(q5t,{type:"liquidatable"});return t.transport.request("info",r,e)}const H5t=H(de({type:H(He("maxBuilderFee"),V("Type of request.")),user:H(Tt,V("User address.")),builder:H(Tt,V("Builder address."))}),V("Request builder fee approval."));function V5t(t,e,r){const n=tt(H5t,{type:"maxBuilderFee",...e});return t.transport.request("info",n,r)}const G5t=H(de({type:H(He("maxMarketOrderNtls"),V("Type of request."))}),V("Request maximum market order notionals."));function K5t(t,e){const r=tt(G5t,{type:"maxMarketOrderNtls"});return t.transport.request("info",r,e)}const Y5t=H(de({type:H(He("metaAndAssetCtxs"),V("Type of request.")),dex:H(Ht(Wt()),V("DEX name (empty string for main dex)."))}),V("Request metadata and asset contexts."));function J5t(t,e,r){const n=e instanceof AbortSignal?{}:e,i=e instanceof AbortSignal?e:r,s=tt(Y5t,{type:"metaAndAssetCtxs",...n});return t.transport.request("info",s,i)}const X5t=H(de({type:H(He("openOrders"),V("Type of request.")),user:H(Tt,V("User address.")),dex:H(Ht(Wt()),V("DEX name (empty string for main dex)."))}),V("Request open orders."));function Q5t(t,e,r){const n=tt(X5t,{type:"openOrders",...e});return t.transport.request("info",n,r)}const Z5t=H(de({type:H(He("orderStatus"),V("Type of request.")),user:H(Tt,V("User address.")),oid:H(Oi([je,ug]),V("Order ID or Client Order ID."))}),V("Request order status."));function e6t(t,e,r){const n=tt(Z5t,{type:"orderStatus",...e});return t.transport.request("info",n,r)}const t6t=H(de({type:H(He("perpDeployAuctionStatus"),V("Type of request."))}),V("Request for the status of the perpetual deploy auction."));function r6t(t,e){const r=tt(t6t,{type:"perpDeployAuctionStatus"});return t.transport.request("info",r,e)}const n6t=H(de({type:H(He("perpDexLimits"),V("Type of request.")),dex:H(Wt(),V("DEX name (empty string for main dex)."))}),V("Request builder deployed perpetual market limits."));function i6t(t,e,r){const n=tt(n6t,{type:"perpDexLimits",...e});return t.transport.request("info",n,r)}const s6t=H(de({type:H(He("perpDexs"),V("Type of request."))}),V("Request all perpetual dexs."));function o6t(t,e){const r=tt(s6t,{type:"perpDexs"});return t.transport.request("info",r,e)}const a6t=H(de({type:H(He("perpDexStatus"),V("Type of request.")),dex:H(Wt(),V("Perp dex name of builder-deployed dex market. The empty string represents the first perp dex."))}),V("Request perp DEX status."));function l6t(t,e,r){const n=tt(a6t,{type:"perpDexStatus",...e});return t.transport.request("info",n,r)}const c6t=H(de({type:H(He("perpsAtOpenInterestCap"),V("Type of request.")),dex:H(Ht(Wt()),V("DEX name (empty string for main dex)."))}),V("Request perpetuals at open interest cap."));function u6t(t,e,r){const n=e instanceof AbortSignal?{}:e,i=e instanceof AbortSignal?e:r,s=tt(c6t,{type:"perpsAtOpenInterestCap",...n});return t.transport.request("info",s,i)}const d6t=H(de({type:H(He("portfolio"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request user portfolio."));function h6t(t,e,r){const n=tt(d6t,{type:"portfolio",...e});return t.transport.request("info",n,r)}const f6t=H(de({type:H(He("predictedFundings"),V("Type of request."))}),V("Request predicted funding rates."));function p6t(t,e){const r=tt(f6t,{type:"predictedFundings"});return t.transport.request("info",r,e)}const g6t=H(de({type:H(He("preTransferCheck"),V("Type of request.")),user:H(Tt,V("User address.")),source:H(Tt,V("Source address."))}),V("Request user existence check before transfer."));function m6t(t,e,r){const n=tt(g6t,{type:"preTransferCheck",...e});return t.transport.request("info",n,r)}const y6t=H(de({type:H(He("recentTrades"),V("Type of request.")),coin:H(Wt(),V("Asset symbol (e.g., BTC)."))}),V("Request recent trades."));function v6t(t,e,r){const n=tt(y6t,{type:"recentTrades",...e});return t.transport.request("info",n,r)}const w6t=H(de({type:H(He("referral"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request user referral."));function b6t(t,e,r){const n=tt(w6t,{type:"referral",...e});return t.transport.request("info",n,r)}const x6t=H(de({type:H(He("spotClearinghouseState"),V("Type of request.")),user:H(Tt,V("User address.")),dex:H(Ht(Wt()),V("DEX name (empty string for main dex)."))}),V("Request spot clearinghouse state."));function _6t(t,e,r){const n=tt(x6t,{type:"spotClearinghouseState",...e});return t.transport.request("info",n,r)}const C6t=H(de({type:H(He("spotPairDeployAuctionStatus"),V("Type of request."))}),V("Request for the status of the spot deploy auction."));function E6t(t,e){const r=tt(C6t,{type:"spotPairDeployAuctionStatus"});return t.transport.request("info",r,e)}const k6t=H(de({type:H(He("spotDeployState"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request spot deploy state."));function S6t(t,e,r){const n=tt(k6t,{type:"spotDeployState",...e});return t.transport.request("info",n,r)}const A6t=H(de({type:H(He("spotMeta"),V("Type of request."))}),V("Request spot trading metadata."));function T6t(t,e){const r=tt(A6t,{type:"spotMeta"});return t.transport.request("info",r,e)}const I6t=H(de({type:H(He("spotMetaAndAssetCtxs"),V("Type of request."))}),V("Request spot metadata and asset contexts."));function P6t(t,e){const r=tt(I6t,{type:"spotMetaAndAssetCtxs"});return t.transport.request("info",r,e)}const $6t=H(de({type:H(He("subAccounts"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request user sub-accounts."));function N6t(t,e,r){const n=tt($6t,{type:"subAccounts",...e});return t.transport.request("info",n,r)}const R6t=H(de({type:H(He("subAccounts2"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request user sub-accounts (V2)."));function O6t(t,e,r){const n=tt(R6t,{type:"subAccounts2",...e});return t.transport.request("info",n,r)}const j6t=H(de({type:H(He("tokenDetails"),V("Type of request.")),tokenId:H(ji,cg(34),V("Token ID."))}),V("Request token details."));function M6t(t,e,r){const n=tt(j6t,{type:"tokenDetails",...e});return t.transport.request("info",n,r)}const D6t=H(de({type:H(He("twapHistory"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request twap history of a user."));function F6t(t,e,r){const n=tt(D6t,{type:"twapHistory",...e});return t.transport.request("info",n,r)}const L6t=H(de({type:H(He("txDetails"),V("Type of request.")),hash:H(ji,cg(66),V("Transaction hash."))}),V("Request transaction details by transaction hash."));function U6t(t,e,r){const n=tt(L6t,{type:"txDetails",...e});return t.transport.request("explorer",n,r)}const B6t=H(de({type:H(He("userDetails"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request array of user transaction details."));function z6t(t,e,r){const n=tt(B6t,{type:"userDetails",...e});return t.transport.request("explorer",n,r)}const q6t=H(de({type:H(He("userDexAbstraction"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request user HIP-3 DEX abstraction state."));function W6t(t,e,r){const n=tt(q6t,{type:"userDexAbstraction",...e});return t.transport.request("info",n,r)}const H6t=H(de({type:H(He("userFees"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request user fees."));function V6t(t,e,r){const n=tt(H6t,{type:"userFees",...e});return t.transport.request("info",n,r)}const G6t=H(de({type:H(He("userFills"),V("Type of request.")),user:H(Tt,V("User address.")),aggregateByTime:H(Ht(Ir()),V("If true, partial fills are aggregated when a crossing order fills multiple resting orders."))}),V("Request array of user fills."));function K6t(t,e,r){const n=tt(G6t,{type:"userFills",...e});return t.transport.request("info",n,r)}const Y6t=H(de({type:H(He("userFillsByTime"),V("Type of request.")),user:H(Tt,V("User address.")),startTime:H(je,V("Start time (in ms since epoch).")),endTime:H(go(je),V("End time (in ms since epoch).")),aggregateByTime:H(Ht(Ir()),V("If true, partial fills are aggregated when a crossing order fills multiple resting orders."))}),V("Request array of user fills by time."));function J6t(t,e,r){const n=tt(Y6t,{type:"userFillsByTime",...e});return t.transport.request("info",n,r)}const X6t=H(de({type:H(He("userFunding"),V("Type of request.")),user:H(Tt,V("User address.")),startTime:H(go(je),V("Start time (in ms since epoch).")),endTime:H(go(je),V("End time (in ms since epoch)."))}),V("Request array of user funding ledger updates."));function Q6t(t,e,r){const n=tt(X6t,{type:"userFunding",...e});return t.transport.request("info",n,r)}const Z6t=H(de({type:H(He("userNonFundingLedgerUpdates"),V("Type of request.")),user:H(Tt,V("User address.")),startTime:H(Ht(je),V("Start time (in ms since epoch).")),endTime:H(go(je),V("End time (in ms since epoch)."))}),V("Request user non-funding ledger updates."));function e4t(t,e,r){const n=tt(Z6t,{type:"userNonFundingLedgerUpdates",...e});return t.transport.request("info",n,r)}const t4t=H(de({type:H(He("userRateLimit"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request user rate limits."));function r4t(t,e,r){const n=tt(t4t,{type:"userRateLimit",...e});return t.transport.request("info",n,r)}const n4t=H(de({type:H(He("userRole"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request user role."));function i4t(t,e,r){const n=tt(n4t,{type:"userRole",...e});return t.transport.request("info",n,r)}const s4t=H(de({type:H(He("userToMultiSigSigners"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request multi-sig signers for a user."));function o4t(t,e,r){const n=tt(s4t,{type:"userToMultiSigSigners",...e});return t.transport.request("info",n,r)}const a4t=H(de({type:H(He("userTwapSliceFills"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request user TWAP slice fills."));function l4t(t,e,r){const n=tt(a4t,{type:"userTwapSliceFills",...e});return t.transport.request("info",n,r)}const c4t=H(de({type:H(He("userTwapSliceFillsByTime"),V("Type of request.")),user:H(Tt,V("User address.")),startTime:H(je,V("Start time (in ms since epoch).")),endTime:H(go(je),V("End time (in ms since epoch).")),aggregateByTime:H(Ht(Ir()),V("If true, partial fills are aggregated when a crossing order fills multiple resting orders."))}),V("Request user TWAP slice fills by time."));function u4t(t,e,r){const n=tt(c4t,{type:"userTwapSliceFillsByTime",...e});return t.transport.request("info",n,r)}const d4t=H(de({type:H(He("userVaultEquities"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request user vault deposits."));function h4t(t,e,r){const n=tt(d4t,{type:"userVaultEquities",...e});return t.transport.request("info",n,r)}const f4t=H(de({type:H(He("validatorL1Votes"),V("Type of request."))}),V("Request validator L1 votes."));function p4t(t,e){const r=tt(f4t,{type:"validatorL1Votes"});return t.transport.request("info",r,e)}const g4t=H(de({type:H(He("validatorSummaries"),V("Type of request."))}),V("Request validator summaries."));function m4t(t,e){const r=tt(g4t,{type:"validatorSummaries"});return t.transport.request("info",r,e)}const y4t=H(de({type:H(He("vaultDetails"),V("Type of request.")),vaultAddress:H(Tt,V("Vault address.")),user:H(go(Tt),V("User address."))}),V("Request details of a vault."));function v4t(t,e,r){const n=tt(y4t,{type:"vaultDetails",...e});return t.transport.request("info",n,r)}const w4t=H(de({type:H(He("vaultSummaries"),V("Type of request."))}),V("Request a list of vaults less than 2 hours old."));function b4t(t,e){const r=tt(w4t,{type:"vaultSummaries"});return t.transport.request("info",r,e)}const x4t=H(de({type:H(He("webData2"),V("Type of request.")),user:H(Tt,V("User address."))}),V("Request comprehensive user and market data."));function _4t(t,e,r){const n=tt(x4t,{type:"webData2",...e});return t.transport.request("info",n,r)}class C4t{config_;constructor(e){this.config_=e}activeAssetData(e,r){return Q3t(this.config_,e,r)}alignedQuoteTokenInfo(e,r){return e5t(this.config_,e,r)}allMids(e,r){const n=e instanceof AbortSignal?{}:e,i=e instanceof AbortSignal?e:r;return r5t(this.config_,n,i)}allPerpMetas(e){return l5t(this.config_,e)}blockDetails(e,r){return u5t(this.config_,e,r)}candleSnapshot(e,r){return h5t(this.config_,e,r)}clearinghouseState(e,r){return p5t(this.config_,e,r)}delegations(e,r){return m5t(this.config_,e,r)}delegatorHistory(e,r){return v5t(this.config_,e,r)}delegatorRewards(e,r){return b5t(this.config_,e,r)}delegatorSummary(e,r){return _5t(this.config_,e,r)}exchangeStatus(e){return E5t(this.config_,e)}extraAgents(e,r){return S5t(this.config_,e,r)}frontendOpenOrders(e,r){return T5t(this.config_,e,r)}fundingHistory(e,r){return P5t(this.config_,e,r)}gossipRootIps(e){return N5t(this.config_,e)}historicalOrders(e,r){return O5t(this.config_,e,r)}isVip(e,r){return M5t(this.config_,e,r)}l2Book(e,r){return F5t(this.config_,e,r)}leadingVaults(e,r){return U5t(this.config_,e,r)}legalCheck(e,r){return z5t(this.config_,e,r)}liquidatable(e){return W5t(this.config_,e)}marginTable(e,r){return i5t(this.config_,e,r)}maxBuilderFee(e,r){return V5t(this.config_,e,r)}maxMarketOrderNtls(e){return K5t(this.config_,e)}meta(e,r){const n=e instanceof AbortSignal?{}:e,i=e instanceof AbortSignal?e:r;return o5t(this.config_,n,i)}metaAndAssetCtxs(e,r){const n=e instanceof AbortSignal?{}:e,i=e instanceof AbortSignal?e:r;return J5t(this.config_,n,i)}openOrders(e,r){return Q5t(this.config_,e,r)}orderStatus(e,r){return e6t(this.config_,e,r)}perpDeployAuctionStatus(e){return r6t(this.config_,e)}perpDexLimits(e,r){return i6t(this.config_,e,r)}perpDexs(e){return o6t(this.config_,e)}perpDexStatus(e,r){return l6t(this.config_,e,r)}perpsAtOpenInterestCap(e,r){const n=e instanceof AbortSignal?{}:e,i=e instanceof AbortSignal?e:r;return u6t(this.config_,n,i)}portfolio(e,r){return h6t(this.config_,e,r)}predictedFundings(e){return p6t(this.config_,e)}preTransferCheck(e,r){return m6t(this.config_,e,r)}recentTrades(e,r){return v6t(this.config_,e,r)}referral(e,r){return b6t(this.config_,e,r)}spotClearinghouseState(e,r){return _6t(this.config_,e,r)}spotDeployState(e,r){return S6t(this.config_,e,r)}spotMeta(e){return T6t(this.config_,e)}spotMetaAndAssetCtxs(e){return P6t(this.config_,e)}spotPairDeployAuctionStatus(e){return E6t(this.config_,e)}subAccounts(e,r){return N6t(this.config_,e,r)}subAccounts2(e,r){return O6t(this.config_,e,r)}tokenDetails(e,r){return M6t(this.config_,e,r)}twapHistory(e,r){return F6t(this.config_,e,r)}txDetails(e,r){return U6t(this.config_,e,r)}userDetails(e,r){return z6t(this.config_,e,r)}userDexAbstraction(e,r){return W6t(this.config_,e,r)}userFees(e,r){return V6t(this.config_,e,r)}userFills(e,r){return K6t(this.config_,e,r)}userFillsByTime(e,r){return J6t(this.config_,e,r)}userFunding(e,r){return Q6t(this.config_,e,r)}userNonFundingLedgerUpdates(e,r){return e4t(this.config_,e,r)}userRateLimit(e,r){return r4t(this.config_,e,r)}userRole(e,r){return i4t(this.config_,e,r)}userToMultiSigSigners(e,r){return o4t(this.config_,e,r)}userTwapSliceFills(e,r){return l4t(this.config_,e,r)}userTwapSliceFillsByTime(e,r){return u4t(this.config_,e,r)}userVaultEquities(e,r){return h4t(this.config_,e,r)}validatorL1Votes(e){return p4t(this.config_,e)}validatorSummaries(e){return m4t(this.config_,e)}vaultDetails(e,r){return v4t(this.config_,e,r)}vaultSummaries(e){return b4t(this.config_,e)}webData2(e,r){return _4t(this.config_,e,r)}}const dk={mainnet:"https://api.hyperliquid.xyz",testnet:"https://api.hyperliquid-testnet.xyz"};class Us{infoClient;apiUrl;transport;constructor(e="mainnet"){this.apiUrl=dk[e],this.transport=new fbt({isTestnet:e==="testnet"}),this.infoClient=new C4t({transport:this.transport})}extractCoinName(e,r){return e?.name||e?.coin||e?.symbol||`COIN${r}`}async getCoins(){try{const e=await this.infoClient.meta();if(!e?.universe)throw new Error("Failed to fetch market data: universe is missing");if(Array.isArray(e.universe)){const r=e.universe.map((n,i)=>this.extractCoinName(n,i)).filter(n=>typeof n=="string"&&n.length>0);if(r.length>0)return r}if(typeof e.universe=="object"&&!Array.isArray(e.universe))return Object.keys(e.universe);throw new Error("Could not extract coin names from meta.universe")}catch(e){throw console.error("[Hyperliquid] Error getting coins:",e),e}}async getAssetIndex(e){try{const r=await this.getCoins(),n=r.findIndex(i=>i.toUpperCase()===e.toUpperCase());return n===-1&&console.warn(`[Hyperliquid] Coin "${e}" not found. Available coins: ${r.slice(0,10).join(", ")}...`),n}catch(r){return console.error(`[Hyperliquid] Error getting asset index for ${e}:`,r),-1}}async getSizeDecimals(e){try{const r=await this.infoClient.meta();if(!r?.universe)return null;if(Array.isArray(r.universe)){const n=await this.getAssetIndex(e);return n===-1||!r.universe[n]?null:r.universe[n]?.szDecimals??null}return null}catch(r){return console.error(`[Hyperliquid] Error getting size decimals for ${e}:`,r),null}}async getTickSize(e){try{const r=await this.infoClient.l2Book({coin:e}),n=r?.levels?.[0]??[],i=r?.levels?.[1]??[];if(n.length===0&&i.length===0)return console.warn(`[Hyperliquid] No price data in order book for ${e}`),null;const s=[];for(let f=0;f<Math.min(n.length,10);f++)n[f]?.px&&s.push(parseFloat(n[f].px));for(let f=0;f<Math.min(i.length,10);f++)i[f]?.px&&s.push(parseFloat(i[f].px));if(s.length<2){const p=(s[0]||parseFloat(n[0]?.px||i[0]?.px||"0")).toString(),m=this.getPriceDecimals(p);return Math.pow(10,-m)}s.sort((f,p)=>f-p);const o=[];for(let f=1;f<s.length;f++){const p=s[f]-s[f-1];p>0&&o.push(p)}if(o.length===0){const f=s[0].toString(),p=this.getPriceDecimals(f);return Math.pow(10,-p)}const a=Math.min(...o),l=Math.floor(Math.log10(a)),c=Math.pow(10,l)*Math.round(a/Math.pow(10,l)),u=Math.pow(10,-8),h=Math.max(c,u);return console.log(`[Hyperliquid] Calculated tick size for ${e}: ${h} (from ${o.length} price differences, min diff: ${a})`),h}catch(r){return console.error(`[Hyperliquid] Error getting tick size for ${e}:`,r),null}}getPriceDecimals(e){const r=e.indexOf(".");return r===-1?0:e.length-r-1}async getMarkets(){try{const e=await this.infoClient.meta();if(!e||!e.universe)throw new Error("Failed to fetch market data");if(Array.isArray(e.universe))return e.universe.map((r,n)=>{const i=this.extractCoinName(r,n);return{symbol:i,name:i,baseAsset:i,quoteAsset:"USDC",pricePrecision:2,sizePrecision:r?.szDecimals??4,minSize:.01,maxSize:1e6,maxLeverage:r.maxLeverage}});if(typeof e.universe=="object"&&!Array.isArray(e.universe)){const r=e.universe;return Object.keys(r).map(n=>{const i=r[n];return{symbol:n,name:i?.name||n,baseAsset:n,quoteAsset:"USDC",pricePrecision:2,sizePrecision:4,minSize:.01,maxSize:1e6,maxLeverage:5}})}throw new Error("Invalid universe structure")}catch(e){throw console.error("[Hyperliquid] Error fetching markets:",e),e}}async getMarketStats(){const e=await fetch(`${this.apiUrl}/info`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"metaAndAssetCtxs"})});if(!e.ok)throw new Error("Failed to fetch market stats");return await e.json()}async getOrderBook(e){try{return{bids:[],asks:[],timestamp:Date.now()}}catch(r){throw console.error(`[Hyperliquid] Error fetching order book for ${e}:`,r),r}}async getTrades(e,r=20){try{return[]}catch(n){return console.error("[Hyperliquid] Error fetching trades:",n),[]}}async getPositions(e){try{if(!e||e==="")return[];console.log(`[Hyperliquid] Fetching positions for address: ${e} on ${this.apiUrl}`);const r=await fetch(`${this.apiUrl}/info`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"clearinghouseState",user:e})});if(!r.ok)throw new Error(`Failed to fetch positions: ${r.statusText}`);const n=await r.json();if(console.log(`[Hyperliquid] Clearinghouse state response for ${e}:`,n),!n||!n.assetPositions)return console.log(`[Hyperliquid] No assetPositions in response for ${e}`),[];console.log(`[Hyperliquid] Found ${n.assetPositions.length} raw positions for ${e}`);const i=n.assetPositions.filter(s=>{const a=parseFloat(s.position?.szi||"0")!==0;return a||console.log("[Hyperliquid] Filtering out position with szi=0:",s),a});return console.log(`[Hyperliquid] After filtering, ${i.length} positions with non-zero size for ${e}`),i.map(s=>{const o=s.type,a=s.position||{},l=parseFloat(a.entryPx||"0"),c=parseFloat(a.szi||"0"),u=a.coin||"",h=c>0?"long":"short",f=parseFloat(a.leverage?.value||"1"),p=parseFloat(a.markPx||l||"0"),m=parseFloat(a.unrealizedPnl||"0"),v=parseFloat(a.positionValue||"0");return{id:`pos:${e}:${o}:${u}:${h}:${a.leverage?.type}:${f}`,market:u,side:h,size:Math.abs(c),entryPrice:l,markPrice:p,liquidationPrice:parseFloat(a.liquidationPx||"0"),unrealizedPnl:m,realizedPnl:parseFloat(a.cumulativeFunding||"0"),leverage:f,timestamp:Date.now(),positionValue:v}})}catch(r){return console.error(`[Hyperliquid] Error fetching positions for ${e}:`,r),[]}}async getAccountInfo(e){try{if(!e||e==="")throw new Error("Address is required");const r=await fetch(`${this.apiUrl}/info`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"clearinghouseState",user:e})});if(!r.ok)throw new Error(`Failed to fetch account info: ${r.statusText}`);const n=await r.json();console.log(`[Hyperliquid] Account info response for ${e}:`,JSON.stringify(n,null,2));let i=n.marginSummary;if(!i&&n.accountValue!==void 0&&(i=n),!i&&n.clearinghouseState&&(i=n.clearinghouseState.marginSummary||n.clearinghouseState),!i)throw console.error("[Hyperliquid] Invalid account data structure:",n),new Error("Invalid account data: marginSummary not found");console.log("[Hyperliquid] MarginSummary object:",i),console.log("[Hyperliquid] MarginSummary keys:",Object.keys(i));const s=parseFloat(i.accountValue||i.totalEquity||i.totalAccountValue||i.equity||i.total||"0");let o=parseFloat(i.freeCollateral||i.available||i.availableCollateral||i.freeMargin||i.withdrawable||"0");if(o===0&&s>0){const l=parseFloat(i.marginUsed||i.margin||i.marginRequirement||"0");if(l>0){const c=s-l;console.log(`[Hyperliquid] Calculated freeCollateral from totalEquity (${s}) - marginUsed (${l}) = ${c}`),c>0&&(o=c)}else console.log(`[Hyperliquid] No margin used, setting freeCollateral = totalEquity = ${s}`),o=s}const a=s-o;return console.log(`[Hyperliquid] Final parsed values - totalEquity: ${s}, freeCollateral: ${o}, inPositions: ${a}`),{address:e,balances:[{asset:"USDC",total:s,available:o,inPositions:a}],totalEquity:s,freeCollateral:o}}catch(r){throw console.error(`[Hyperliquid] Error fetching account info for ${e}:`,r),r}}async getSpotAccountInfo(e){try{if(!e)throw new Error("Address is required");const r=await fetch(`${this.apiUrl}/info`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"spotClearinghouseState",user:e})});if(!r.ok)throw new Error("Failed to fetch spot info");const n=await r.json(),i=n.balances||[],s=new Map((n.tokenToAvailableAfterMaintenance??[]).map(([l,c])=>[l,parseFloat(c)])),o=i.map(l=>{const c=parseFloat(l.total),u=parseFloat(l.hold),h=s.size>0?s.get(l.token)??Math.max(0,c-u):Math.max(0,c-u),f=Math.max(0,c-h);return{asset:l.coin,total:c,available:h,inPositions:f}}),a=o.find(l=>l.asset==="USDC");return{address:e,balances:o,totalEquity:a?.total??0,freeCollateral:a?.available??0}}catch(r){throw console.error("[Hyperliquid] Error fetching spot info:",r),r}}async getMaxBuilderFee(e,r){try{if(!e||!r)return 0;const n=await fetch(`${this.apiUrl}/info`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"maxBuilderFee",user:e,builder:r})});if(!n.ok)return console.warn(`[Hyperliquid] Failed to fetch max builder fee: ${n.statusText}`),0;const i=await n.json(),s=typeof i=="number"?i:i?.maxFee??i?.maxBuilderFee??i?.fee??0;return typeof s=="number"?s:0}catch(n){return console.error("[Hyperliquid] Error fetching max builder fee:",n),0}}async isBuilderFeeApproved(e,r,n){return await this.getMaxBuilderFee(e,r)>=n}async getOpenOrders(e){try{if(!e||e==="")return[];let r=await fetch(`${this.apiUrl}/info`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"frontendOpenOrders",user:e})});if(r.ok||(r=await fetch(`${this.apiUrl}/info`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"openOrders",user:e})})),!r.ok)throw new Error(`Failed to fetch open orders: ${r.statusText}`);const n=await r.json();console.log(`[getOpenOrders] API response for ${e}:`,n);const i=Array.isArray(n)?n:n?.orders||n?.openOrders||[];return console.log(`[getOpenOrders] Parsed ${i.length} orders for ${e}`),!Array.isArray(i)||i.length===0?[]:i.filter(s=>{const o=s.status||s.state;return!o||o!=="filled"&&o!=="cancelled"&&o!=="closed"}).map((s,o)=>{console.log(`[getOpenOrders] Processing order ${o}:`,JSON.stringify(s,null,2));const a=s.coin||s.asset||"",l=parseFloat(s.sz||s.szi||s.size||"0"),c=s.side=="A"?"short":"long",u=parseFloat(s.limitPx||s.price||s.p||"0"),h=s.t?.trigger||s.trigger||s.t,f=h?.triggerPx||s.triggerPx||h?.px||s.triggerPx||s.triggerCondition,p=f?parseFloat(String(f)):void 0,m=s.t!==void 0&&s.t!==null,v=m||!!h,w=s.isTrigger===!0||s.isTrigger==="true",b=p!==void 0&&p>0,E=w||m||v||b||!!s.triggerPx||s.orderType==="trigger"||s.triggerCondition!=="N/A",_=h?.tpsl||s.tpsl||s.t?.tpsl,A=h?.isMarket||s.isMarket||s.t?.isMarket||E&&u===0,C=s.reduceOnly||s.r||!1,k=s.oid||s.orderId||s.id||`order-${a}-${o}-${Date.now()}`;return console.log(`[getOpenOrders] Order ${o} parsed:`,{orderId:k,coin:a,side:c,price:u,triggerPx:f,triggerPrice:p,isTrigger:E,isTriggerByFlag:w,hasTField:m,hasTriggerField:v,hasTriggerPrice:b,tpsl:_,isMarket:A,reduceOnly:C,rawOrderKeys:Object.keys(s),tField:s.t,isTriggerField:s.isTrigger,triggerCondition:s.triggerCondition,fullOrder:s}),{id:k,market:a,side:c,size:Math.abs(l),price:u,orderType:s.orderType,triggerPrice:p,isMarket:A,tpsl:_,reduceOnly:C,timestamp:s.timestamp||s.time||Date.now()}})}catch(r){return console.error(`[Hyperliquid] Error fetching open orders for ${e}:`,r),[]}}async getUserFills(e,r=!0){try{if(!e||e==="")return[];const n=await fetch(`${this.apiUrl}/info`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"userFills",user:e,aggregateByTime:r})});if(!n.ok)throw new Error(`Failed to fetch user fills: ${n.statusText}`);const i=await n.json(),s=Array.isArray(i)?i:i?.fills||i?.userFills||[];return Array.isArray(s)?s:[]}catch(n){return console.error(`[Hyperliquid] Error fetching user fills for ${e}:`,n),[]}}async getUserReferral(e){try{if(!e||e==="")return null;const r=await fetch(`${this.apiUrl}/info`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"referral",user:e})});if(!r.ok)throw new Error(`Failed to fetch user fills: ${r.statusText}`);const n=await r.json();return{...n,hasReferral:n.referredBy!==null}}catch(r){return console.error(`[Hyperliquid] Error fetching user Refferal for ${e}:`,r),null}}async getUserAbstraction(e){try{if(!e)return"";const n=await(await fetch(`${this.apiUrl}/info`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"userAbstraction",user:e})})).json();return console.log("CHECKING ABSTRACTION: ",n),n}catch(r){return console.error("[Hyperliquid] Error fetching user abstraction:",r),""}}async getExtraAgents(e){const r=await fetch(`${this.apiUrl}/info`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"extraAgents",user:e})});if(!r.ok){const n=await r.text().catch(()=>"");throw new Error(`Failed to fetch extraAgents: ${r.status} ${n}`)}return r.json()}createExchangeClient(e){return new J3t({transport:this.transport,wallet:e})}}const D1e=x.createContext(void 0);function E4t({children:t}){const[e,r]=m1("hyperliquid-network","mainnet");return ht.useEffect(()=>{console.log(` [Network] Active network: ${e.toUpperCase()}`),console.log(` [Network] API endpoint: ${dk[e]}`),console.log(` [Network] Chain: ${e==="mainnet"?"Arbitrum One (42161)":"Arbitrum Sepolia (421614)"}`),e==="mainnet"?console.warn(" [Network] WARNING: You are connected to MAINNET. Real funds are at risk!"):console.log(" [Network] Connected to TESTNET. Safe for testing.")},[e]),d.jsx(D1e.Provider,{value:{network:e,setNetwork:r,isMainnet:e==="mainnet",isTestnet:e==="testnet"},children:t})}function fn(){const t=x.useContext(D1e);if(!t)throw new Error("useNetwork must be used within NetworkProvider");return t}const D0="0xb706F8308C838079C1Af39b408F132e165e39851",Ol=(()=>{const e=parseInt("10",10);return isNaN(e)?0:e})();function lh(){return Ol>0}function F1e(t){return t/10}function k4t(t){return t/1e4}function iU(t,e){return`hl_builder_consent:${e}:${t.toLowerCase()}`}function S4t(t,e){if(!t)return!1;const r=iU(t,e);try{return localStorage.getItem(r)==="true"}catch{return!1}}function aee(t,e,r){if(!t)return;const n=iU(t,e);try{localStorage.setItem(n,String(r))}catch(i){console.error("[BuilderFee] Error saving consent:",i)}}function A4t(t,e){if(!t)return;const r=iU(t,e);try{localStorage.removeItem(r)}catch(n){console.error("[BuilderFee] Error clearing consent:",n)}}function L1e(t,e){return`firstDepositCompleted:${e}:${t.toLowerCase()}`}function F0(t,e){if(!t)return!1;const r=L1e(t,e);try{return localStorage.getItem(r)==="true"}catch{return!1}}function U1e(t,e){if(!t)return;const r=L1e(t,e);try{localStorage.setItem(r,"true")}catch(n){console.error("[BuilderFee] Error saving first deposit flag:",n)}}function B1e(t,e){return`builderFeeApproved:${e}:${t.toLowerCase()}`}function LC(t,e){if(!t)return!1;const r=B1e(t,e);try{return localStorage.getItem(r)==="true"}catch{return!1}}function lee(t,e,r){if(!t)return;const n=B1e(t,e);try{localStorage.setItem(n,String(r))}catch(i){console.error("[BuilderFee] Error saving approval flag:",i)}}function sU(t,e){return`builderFeeDenied:${e}:${t.toLowerCase()}`}function T4t(t,e){if(!t)return!1;const r=sU(t,e);try{return localStorage.getItem(r)==="true"}catch{return!1}}function I4t(t,e,r){if(!t)return;const n=sU(t,e);try{localStorage.setItem(n,String(r))}catch(i){console.error("[BuilderFee] Error saving denial flag:",i)}}function P4t(t,e){if(!t)return;const r=sU(t,e);try{localStorage.removeItem(r)}catch(n){console.error("[BuilderFee] Error clearing denial flag:",n)}}const Wf="pendingReferral";async function $4t(t,e){if(!t)throw new Error("Address required");const n=await new Us(e).getUserReferral(t),i=Array.isArray(n)?n[0]:n;return console.log("Referral Info: ",i),i??null}async function Q7(t,e,r,n="HYPERUI"){if(e.current)return{skipped:!0};if(r==="testnet")return{skipped:!0};const i=localStorage.getItem(Wf)??n;if(!(localStorage.getItem(Wf)!==null))return{skipped:!0};if(typeof t.setReferrer!="function")return{skipped:!1,applied:!1,reason:"setReferrer missing"};e.current=!0;try{return await t.setReferrer({code:i}),localStorage.removeItem(Wf),{skipped:!1}}catch(o){const a=String(o?.message||o).toLowerCase();return a.includes("already")||a.includes("referred")||a.includes("duplicate")||a.includes("invalid")||a.includes("self")?(localStorage.removeItem(Wf),{skipped:!1,applied:!1,reason:a}):{skipped:!1,applied:!1,reason:a}}finally{e.current=!1}}function N4t(t=[]){return t.reduce((e,r)=>{const n=Number(r?.cumFeesRewardedToReferrer??0);return e+(Number.isFinite(n)?n:0)},0)}function R4t(t){if(!t||typeof t!="object"||Array.isArray(t))return{cumVlm:"0",unclaimedRewards:"0",claimedRewards:"0",builderRewards:"0",nReferrals:0,referralStates:[]};const e=t.tokenToState?.[0]?.[1]||{},r=t.referrerState?.data||{};return{cumVlm:e.cumVlm??t.cumVlm??"0",unclaimedRewards:e.unclaimedRewards??t.unclaimedRewards??"0",claimedRewards:e.claimedRewards??t.claimedRewards??"0",builderRewards:e.builderRewards??t.builderRewards??"0",nReferrals:r.nReferrals??0,referralStates:r.referralStates??[]}}const z1e=x.createContext(void 0);function O4t({children:t}){const{ready:e,authenticated:r,user:n,login:i,logout:s,getAccessToken:o}=x3(),{network:a}=fn(),l=r&&n?.wallet?.address?n.wallet.address:null,c=x.useRef("");x.useEffect(()=>{if(!r||!l)return;if(l.toLowerCase()===D0.toLowerCase()){localStorage.removeItem(Wf);return}const p=`${a}:${l}`;if(c.current===p)return;c.current=p;let m=!1;return(async()=>{try{const v=await $4t(l,a);if(m)return;v?.referredBy===null?localStorage.setItem(Wf,"HYPERUI"):localStorage.removeItem(Wf)}catch(v){console.warn("[Referral failed]",v)}})(),()=>{m=!0}},[r,l,a]),x.useEffect(()=>{if(!r||!l?.trim())return;let p=!1;return(async()=>{try{const m=l.trim().toLowerCase(),v=`sb_ext_auth_v1:${a}:${m}`,w=localStorage.getItem(v);if(w){const{sbJwt:k}=JSON.parse(w);if(k)return}const b=await o();if(!b)throw new Error("Missing Privy token");const E=await fetch("https://fkzxgojujrmfqeivpjcv.supabase.co/functions/v1/user-sync",{method:"POST",headers:{"Content-Type":"application/json","x-privy-token":b},body:JSON.stringify({address:m,network:a})}),_=await E.text(),A=_?JSON.parse(_):{};if(!E.ok)throw new Error(A?.error??`user-sync failed (${E.status})`);if(p)return;const C=A.supabase_token;localStorage.setItem(v,JSON.stringify({sbJwt:C})),localStorage.setItem("sb_ext_jwt",C),localStorage.setItem("sb_ext_addr",m)}catch(m){console.warn("[Auth] user-sync failed",m)}})(),()=>{p=!0}},[r,l,a,o]);const u=async()=>{e&&(r||await i())},h=async()=>{r&&await s(),localStorage.removeItem(Wf),localStorage.removeItem("sb_ext_jwt"),localStorage.removeItem("sb_ext_addr"),l&&(A4t(l,a),localStorage.removeItem(`sb_ext_auth_v1:${a}:${l.trim().toLowerCase()}`))},f=()=>typeof window<"u"&&window.ethereum?window.ethereum:null;return d.jsx(z1e.Provider,{value:{address:l,isConnected:r&&!!l,connect:u,disconnect:h,getProvider:f},children:t})}function Pn(){const t=x.useContext(z1e);if(!t)throw new Error("useAuth must be used within AuthProvider");return t}const q1e=x.createContext(void 0);function j4t({children:t}){const e="HYPE",[r,n]=m1("selectedMarket",e),[i,s]=m1("selectedMarketQuoteAsset","USDC"),[o,a]=x.useState(!1),[l,c]=x.useState([]);return d.jsx(q1e.Provider,{value:{selectedMarket:r,setSelectedMarket:n,selectedMarketQuoteAsset:i,setSelectedMarketQuoteAsset:s,marketPopupOpen:o,setMarketPopupOpen:a,markets:l,setMarkets:c},children:t})}function uc(){const t=x.useContext(q1e);if(!t)throw new Error("useMarket must be used within MarketProvider");return t}const W1e=x.createContext(void 0);function M4t({children:t}){const[e,r]=x.useState(()=>typeof window>"u"?!1:window.innerWidth<1024),[n,i]=x.useState("dark"),[s,o]=x.useState(!0),[a,l]=x.useState(()=>typeof window>"u"?!0:window.innerWidth>=1024),[c,u]=x.useState(!0),[h,f]=x.useState(!0),[p,m]=x.useState(!0),[v,w]=x.useState(()=>{try{return JSON.parse(window.localStorage.getItem("hyperui:mini:enabled")||"true")}catch{return!0}});return x.useEffect(()=>{if(typeof window>"u")return;const b=()=>r(window.innerWidth<1024);return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),x.useEffect(()=>{e&&l(!1)},[e]),x.useEffect(()=>{try{window.localStorage.setItem("hyperui:mini:enabled",JSON.stringify(v))}catch{}},[v]),d.jsx(W1e.Provider,{value:{isMobile:e,theme:n,setTheme:i,bottomBarEnabled:s,setBottomBarEnabled:o,hotkeySettingEnabled:p,setHotkeySettingEnabled:m,showSettingsPanel:a,setShowSettingsPanel:l,miniWidgetEnabled:v,setMiniWidgetEnabled:w,rightDockEnabled:c,setRightDockEnabled:u,bottomRightDockEnabled:h,setBottomRightDockEnabled:f},children:t})}function wo(){const t=x.useContext(W1e);if(!t)throw new Error("useLayout must be used within LayoutProvider");return t}const H1e=x.createContext(void 0),bf={orderType:"market",side:null,leverage:2,size:"",limitPrice:"",stopTriggerPrice:"",takeProfit:"",stopLoss:""};function D4t({children:t}){const[e,r]=x.useState(bf.orderType),[n,i]=x.useState(bf.side),[s,o]=x.useState(bf.leverage),[a,l]=x.useState(bf.size),[c,u]=x.useState(bf.limitPrice),[h,f]=x.useState(bf.stopTriggerPrice),[p,m]=x.useState(bf.takeProfit),[v,w]=x.useState(bf.stopLoss);return d.jsx(H1e.Provider,{value:{orderType:e,setOrderType:r,side:n,setSide:i,leverage:s,setLeverage:o,size:a,setSize:l,limitPrice:c,setLimitPrice:u,stopTriggerPrice:h,setStopTriggerPrice:f,takeProfit:p,setTakeProfit:m,stopLoss:v,setStopLoss:w},children:t})}function oU(){const t=x.useContext(H1e);if(!t)throw new Error("useTrading must be used within TradingProvider");return t}const V1e=x.createContext(void 0);function F4t({children:t}){const[e,r]=x.useState([]);return d.jsx(V1e.Provider,{value:{positions:e,setPositions:r},children:t})}function dc(){const t=x.useContext(V1e);if(!t)throw new Error("usePositions must be used within PositionsProvider");return t}const L4t={mainnet:"wss://api.hyperliquid.xyz/ws",testnet:"wss://api.hyperliquid-testnet.xyz/ws"};class U4t{ws=null;network;reconnectAttempts=0;maxReconnectAttempts=5;reconnectDelay=1e3;subscriptions=new Map;isConnecting=!1;isManualClose=!1;constructor(e="mainnet"){this.network=e}connect(){return this.ws?.readyState===WebSocket.OPEN?Promise.resolve():this.isConnecting?new Promise(e=>{const r=setInterval(()=>{this.ws?.readyState===WebSocket.OPEN&&(clearInterval(r),e())},100)}):(this.isConnecting=!0,this.isManualClose=!1,new Promise((e,r)=>{try{const n=L4t[this.network];this.ws=new WebSocket(n),this.ws.onopen=()=>{console.log(`[HyperliquidWS] Connected to ${this.network}`),this.isConnecting=!1,this.reconnectAttempts=0,this.resubscribeAll(),e()},this.ws.onmessage=i=>{try{const s=JSON.parse(i.data);this.handleMessage(s)}catch(s){console.error("[HyperliquidWS] Error parsing message:",s)}},this.ws.onerror=i=>{console.error("[HyperliquidWS] WebSocket error:",i),this.isConnecting=!1,this.reconnectAttempts===0&&r(i)},this.ws.onclose=()=>{if(console.log("[HyperliquidWS] Connection closed"),this.isConnecting=!1,!this.isManualClose&&this.reconnectAttempts<this.maxReconnectAttempts){this.reconnectAttempts++;const i=this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1);console.log(`[HyperliquidWS] Reconnecting in ${i}ms (attempt ${this.reconnectAttempts})`),setTimeout(()=>this.connect(),i)}}}catch(n){this.isConnecting=!1,r(n)}}))}disconnect(){this.isManualClose=!0,this.ws&&(this.ws.close(),this.ws=null),this.subscriptions.clear()}subscribe(e,r){const n=this.getSubscriptionKey(e);return this.subscriptions.has(n)||this.subscriptions.set(n,new Set),this.subscriptions.get(n).add(r),this.ws?.readyState===WebSocket.OPEN?this.sendSubscription(e):this.connect().then(()=>{this.ws?.readyState===WebSocket.OPEN&&this.sendSubscription(e)}),()=>{const i=this.subscriptions.get(n);i&&(i.delete(r),i.size===0&&(this.subscriptions.delete(n),this.ws?.readyState===WebSocket.OPEN&&this.sendUnsubscription(e)))}}sendSubscription(e){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return;const r={method:"subscribe",subscription:e};this.ws.send(JSON.stringify(r))}sendUnsubscription(e){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return;const r={method:"unsubscribe",subscription:e};this.ws.send(JSON.stringify(r))}resubscribeAll(){for(const[e,r]of this.subscriptions.entries())if(r.size>0){const n=this.parseSubscriptionKey(e);n&&this.sendSubscription(n)}}handleMessage(e){if(e.channel&&e.data!==void 0){const n=e.channel,s=e.data?.coin;let o;for(const[a,l]of this.subscriptions.entries()){const[c,u]=a.split(":");if(c===n&&(!s||!u||s===u||u==="all")){o=l;break}}o&&o.size>0&&o.forEach(a=>{try{a(e.data)}catch(l){console.error("[HyperliquidWS] Error in subscription callback:",l)}})}}getSubscriptionKey(e){return`${e.type}:${e.coin||"all"}:${e.interval||""}`}parseSubscriptionKey(e){const[r,n]=e.split(":");return r&&(r==="trades"||r==="l2Book"||r==="l2BookFull")?{type:r,coin:n!=="all"?n:void 0}:null}getNetwork(){return this.network}setNetwork(e){this.network!==e&&(this.network=e,this.ws&&(this.disconnect(),this.connect()))}isConnected(){return this.ws?.readyState===WebSocket.OPEN}}let kw=null;function G1e(t="mainnet"){return kw?kw.getNetwork()!==t&&kw.setNetwork(t):kw=new U4t(t),kw}const Cj=new Set;function Ej(t){window.dispatchEvent(new CustomEvent("hyperui:tradeSfx",{detail:{intensity:.35}})),Cj.forEach(e=>e(t))}function B4t(t){t.forEach(Ej)}function z4t(t){return Cj.add(t),()=>{Cj.delete(t)}}const cee=new Set,q4t=1e3;function K1e(t){cee.forEach(e=>e(t)),t&&setTimeout(()=>{cee.forEach(e=>e(null))},q4t)}const W4t="https://app.hyperliquid.xyz/explorer",H4t="https://app.hyperliquid-testnet.xyz/explorer";function V4t(t="mainnet"){return t==="mainnet"?W4t:H4t}function nv(t="mainnet"){const e=x.useRef(null),[r,n]=x.useState(!1);x.useEffect(()=>{e.current=G1e(t);const s=setInterval(()=>{n(e.current?.isConnected()??!1)},1e3);return e.current.connect().then(()=>{n(!0)}),()=>{clearInterval(s)}},[t]);const i=x.useCallback((s,o)=>e.current?e.current.subscribe(s,o):()=>{},[]);return{isConnected:r,subscribe:i}}function G4t(t,e="mainnet"){const[r,n]=x.useState(null),{subscribe:i,isConnected:s}=nv(e);return x.useEffect(()=>{if(!t||!s){n(null);return}return n(null),i({type:"l2Book",coin:t},a=>{const l=a.levels;if(l&&Array.isArray(l)&&l.length===2){const[c,u]=l,h=(c||[]).map(p=>({price:parseFloat(String(p.px)),size:parseFloat(String(p.sz))})),f=(u||[]).map(p=>({price:parseFloat(String(p.px)),size:parseFloat(String(p.sz))}));(h.length>0||f.length>0)&&n({bids:h.sort((p,m)=>m.price-p.price),asks:f.sort((p,m)=>p.price-m.price),timestamp:Date.now()})}})},[t,i,s]),r}function K4t(t,e="mainnet"){const[r,n]=x.useState([]),{subscribe:i,isConnected:s}=nv(e),o=x.useRef(null);return x.useEffect(()=>{if(!t||!s){o.current=null,n([]);return}o.current=t,n([]);const a=i({type:"trades",coin:t},l=>{if(o.current!==t||!Array.isArray(l)||l.length===0)return;const c=l.filter(h=>h.coin===t);if(c.length===0)return;const u=c.map(h=>({id:`trade-${t}-${h.time}-${h.tid}`,price:parseFloat(h.px),size:parseFloat(h.sz),side:h.side.toUpperCase()==="A"?"sell":"buy",explorer:`${V4t(e)}/tx/${h.hash}`,timestamp:Number(h.time)}));B4t(u.map(h=>({type:"trade",id:h.id,market:t,side:h.side,size:h.size,price:h.price,timestamp:h.timestamp,isUser:!1,source:"publicTrade"}))),n(h=>[...u,...h].filter((m,v,w)=>v===w.findIndex(b=>b.id===m.id)).slice(0,50).sort((m,v)=>v.timestamp-m.timestamp))});return()=>{a()}},[t,i,s]),r}const Y1e=x.createContext(void 0);function Y4t({children:t}){const{selectedMarket:e}=uc(),{network:r}=fn(),{isConnected:n}=nv(r),i=K4t(e,r);return d.jsx(Y1e.Provider,{value:{trades:i,isConnected:n},children:t})}function J4t(){const t=x.useContext(Y1e);if(!t)throw new Error("useTrades must be used within TradesProvider");return t}const J1e=x.createContext(void 0),uee=300,X4t=180;function Q4t(t){switch(t){case"1m":return 6e4;case"3m":return 18e4;case"5m":return 3e5;case"15m":return 9e5;default:return 6e4}}function X1e(t){try{const e=Number(t.t??t.time??t.openTime??t.T),r=Number(t.T??t.closeTime??e+6e4),n=Number(t.o??t.open),i=Number(t.h??t.high),s=Number(t.l??t.low),o=Number(t.c??t.close);if(![e,r,n,i,s,o].every(c=>Number.isFinite(c)))return null;const a=t.v??t.volume,l=a!=null?Number(a):void 0;return{t:e,T:r,o:n,h:i,l:s,c:o,v:Number.isFinite(l)?l:void 0}}catch{return null}}async function Z4t(t,e,r,n,i){const s=Date.now(),o=s-n*Q4t(r),a=dk[t],c=await(await fetch(`${a}/info`,{method:"POST",headers:{"Content-Type":"application/json"},signal:i,body:JSON.stringify({type:"candleSnapshot",req:{coin:e,interval:r,startTime:o,endTime:s}})})).json(),u=Array.isArray(c)&&c||c?.candles||c?.data||c?.response?.data||[];if(!Array.isArray(u))return[];const h=u.map(X1e).filter(Boolean);return h.sort((f,p)=>f.t-p.t),h}function e_t({children:t}){const{selectedMarket:e}=uc(),{network:r}=fn(),[n,i]=x.useState(()=>{try{return JSON.parse(window.localStorage.getItem("hyperui:mini:interval")||'"1m"')||"1m"}catch{return"1m"}}),[s,o]=x.useState(null),[a,l]=x.useState([]),[c,u]=x.useState(!1),h=x.useRef(null),f=x.useRef(null),p=x.useRef(null),m=x.useRef(null),v=b=>{i(b);try{window.localStorage.setItem("hyperui:mini:interval",JSON.stringify(b))}catch{}};x.useEffect(()=>(h.current=G1e(r),h.current.connect().then(()=>u(!0)).catch(()=>u(!1)),m.current&&window.clearInterval(m.current),m.current=window.setInterval(()=>{u(h.current?.isConnected()??!1)},1e3),()=>{m.current&&window.clearInterval(m.current),m.current=null}),[r]),x.useEffect(()=>{const b=h.current;if(!b)return;f.current?.(),p.current?.(),l([]),o(null);const E=new AbortController;return(async()=>{try{const _=await Z4t(r,e,n,X4t,E.signal);if(!_.length)return;l(_.slice(-uee));const A=_[_.length-1];A?.c&&Number.isFinite(A.c)&&o(A.c)}catch{}})(),f.current=b.subscribe({type:"candle",coin:e,interval:n},_=>{const C=(Array.isArray(_)?_:_?.candle?[_.candle]:[_]).map(X1e).filter(Boolean);if(!C.length)return;l(P=>{const F=new Map;for(const $ of P)F.set($.t,$);for(const $ of C)F.set($.t,$);return Array.from(F.values()).sort(($,U)=>$.t-U.t).slice(-uee)});const k=C[C.length-1];k?.c&&Number.isFinite(k.c)&&o(k.c)}),p.current=b.subscribe({type:"trades",coin:e},_=>{const A=Array.isArray(_)?_:_?.trades?_.trades:[_],C=A?.[A.length-1],k=Number(C?.px??C?.price);Number.isFinite(k)&&k>0&&o(k)}),()=>{E.abort(),f.current?.(),p.current?.()}},[e,n]);const w=x.useMemo(()=>({interval:n,setInterval:v,price:s,candles:a,isConnected:c}),[n,s,a,c]);return d.jsx(J1e.Provider,{value:w,children:t})}function aU(){const t=x.useContext(J1e);if(!t)throw new Error("useMarketData must be used within MarketDataProvider");return t}const wi={markets:t=>["hyperliquid","markets",t],orderBook:(t,e)=>["hyperliquid","orderbook",t,e],trades:(t,e)=>["hyperliquid","trades",t,e],positions:(t,e)=>["hyperliquid","positions",t,e],accountInfo:(t,e)=>["hyperliquid","account",t,e],abstraction:(t,e)=>["hyperliquid","abstraction",t,e],openOrders:(t,e)=>["hyperliquid","openOrders",t,e],referral:t=>["hyperliquid","referral",t]},t_t=t=>({queryKey:wi.markets(t),queryFn:()=>new Us(t).getMarkets(),staleTime:6e4}),dee=(t,e)=>({queryKey:wi.positions(t,e),queryFn:()=>new Us(e).getPositions(t),enabled:!!t&&t!=="",refetchInterval:5e3}),hee=(t,e)=>({queryKey:wi.accountInfo(t,e),queryFn:()=>new Us(e).getAccountInfo(t),enabled:!!t&&t!=="",refetchInterval:1e4}),r_t=(t,e,r=!0)=>({queryKey:["spotAccountInfo",t,e],queryFn:()=>new Us(e).getSpotAccountInfo(t),enabled:r&&!!t,refetchInterval:r?5e3:!1}),UC=(t,e)=>({queryKey:wi.openOrders(t,e),queryFn:()=>new Us(e).getOpenOrders(t),enabled:!!t&&t!=="",refetchInterval:3e3}),n_t=(t,e)=>({queryKey:wi.referral(t),queryFn:()=>new Us(e).getUserReferral(t),enabled:t!=="",staleTime:1/0}),Q1e={AGENT_KEY:"hl_agent_pk",AGENT_APPROVED:"hl_agent_approved"};function i_t(t,e){return`${Q1e.AGENT_KEY}:${e}:${t.toLowerCase()}`}function lU(t,e,r){return`${Q1e.AGENT_APPROVED}:${r}:${t.toLowerCase()}:${e.toLowerCase()}`}function hk(){return typeof window<"u"&&typeof window.localStorage<"u"}function A3(t,e="mainnet"){if(!hk()){const i=jZ();return MZ(i)}const r=i_t(t,e);let n=window.localStorage.getItem(r);if(!n){n=jZ();try{window.localStorage.setItem(r,n)}catch(i){console.error("[Agent] Failed to store agent key in localStorage:",i)}}return MZ(n)}function Z1e(t,e,r="mainnet"){if(!hk())return!1;const n=lU(t,e,r);return window.localStorage.getItem(n)==="1"}function kj(t,e,r="mainnet"){if(hk())try{const n=lU(t,e,r);window.localStorage.setItem(n,"1")}catch(n){console.error("[Agent] Failed to mark agent as approved:",n)}}function cU(t,e,r="mainnet"){if(hk())try{const n=lU(t,e,r);window.localStorage.removeItem(n)}catch(n){console.error("[Agent] Failed to clear agent approval:",n)}}const Rb=Object.freeze(Object.defineProperty({__proto__:null,clearAgentApproved:cU,getOrCreateAgentAccount:A3,isAgentApproved:Z1e,markAgentApproved:kj},Symbol.toStringTag,{value:"Module"}));var Z7,fee;function eve(){if(fee)return Z7;fee=1;var t=Object.prototype.toString;return Z7=function(r){var n=t.call(r),i=n==="[object Arguments]";return i||(i=n!=="[object Array]"&&r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&t.call(r.callee)==="[object Function]"),i},Z7}var eI,pee;function s_t(){if(pee)return eI;pee=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=eve(),i=Object.prototype.propertyIsEnumerable,s=!i.call({toString:null},"toString"),o=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(f){var p=f.constructor;return p&&p.prototype===f},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=(function(){if(typeof window>"u")return!1;for(var f in window)try{if(!c["$"+f]&&e.call(window,f)&&window[f]!==null&&typeof window[f]=="object")try{l(window[f])}catch{return!0}}catch{return!0}return!1})(),h=function(f){if(typeof window>"u"||!u)return l(f);try{return l(f)}catch{return!1}};t=function(p){var m=p!==null&&typeof p=="object",v=r.call(p)==="[object Function]",w=n(p),b=m&&r.call(p)==="[object String]",E=[];if(!m&&!v&&!w)throw new TypeError("Object.keys called on a non-object");var _=o&&v;if(b&&p.length>0&&!e.call(p,0))for(var A=0;A<p.length;++A)E.push(String(A));if(w&&p.length>0)for(var C=0;C<p.length;++C)E.push(String(C));else for(var k in p)!(_&&k==="prototype")&&e.call(p,k)&&E.push(String(k));if(s)for(var P=h(p),F=0;F<a.length;++F)!(P&&a[F]==="constructor")&&e.call(p,a[F])&&E.push(a[F]);return E}}return eI=t,eI}var tI,gee;function uU(){if(gee)return tI;gee=1;var t=Array.prototype.slice,e=eve(),r=Object.keys,n=r?function(o){return r(o)}:s_t(),i=Object.keys;return n.shim=function(){if(Object.keys){var o=(function(){var a=Object.keys(arguments);return a&&a.length===arguments.length})(1,2);o||(Object.keys=function(l){return e(l)?i(t.call(l)):i(l)})}else Object.keys=n;return Object.keys||n},tI=n,tI}var rI,mee;function fk(){if(mee)return rI;mee=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return rI=t,rI}var nI,yee;function dU(){return yee||(yee=1,nI=SyntaxError),nI}var iI,vee;function hc(){return vee||(vee=1,iI=TypeError),iI}var sI,wee;function o_t(){return wee||(wee=1,sI=Object.getOwnPropertyDescriptor),sI}var oI,bee;function Rg(){if(bee)return oI;bee=1;var t=o_t();if(t)try{t([],"length")}catch{t=null}return oI=t,oI}var aI,xee;function hU(){if(xee)return aI;xee=1;var t=fk(),e=dU(),r=hc(),n=Rg();return aI=function(s,o,a){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,h=arguments.length>6?arguments[6]:!1,f=!!n&&n(s,o);if(t)t(s,o,{configurable:u===null&&f?f.configurable:!u,enumerable:l===null&&f?f.enumerable:!l,value:a,writable:c===null&&f?f.writable:!c});else if(h||!l&&!c&&!u)s[o]=a;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},aI}var lI,_ee;function fU(){if(_ee)return lI;_ee=1;var t=fk(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},lI=e,lI}var cI,Cee;function Og(){if(Cee)return cI;Cee=1;var t=uU(),e=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",r=Object.prototype.toString,n=Array.prototype.concat,i=hU(),s=function(c){return typeof c=="function"&&r.call(c)==="[object Function]"},o=fU()(),a=function(c,u,h,f){if(u in c){if(f===!0){if(c[u]===h)return}else if(!s(f)||!f())return}o?i(c,u,h,!0):i(c,u,h)},l=function(c,u){var h=arguments.length>2?arguments[2]:{},f=t(u);e&&(f=n.call(f,Object.getOwnPropertySymbols(u)));for(var p=0;p<f.length;p+=1)a(c,f[p],u[f[p]],h[f[p]])};return l.supportsDescriptors=!!o,cI=l,cI}var uI={exports:{}},dI,Eee;function pU(){return Eee||(Eee=1,dI=Object),dI}var hI,kee;function tve(){return kee||(kee=1,hI=Error),hI}var fI,See;function a_t(){return See||(See=1,fI=EvalError),fI}var pI,Aee;function l_t(){return Aee||(Aee=1,pI=RangeError),pI}var gI,Tee;function c_t(){return Tee||(Tee=1,gI=ReferenceError),gI}var mI,Iee;function u_t(){return Iee||(Iee=1,mI=URIError),mI}var yI,Pee;function d_t(){return Pee||(Pee=1,yI=Math.abs),yI}var vI,$ee;function h_t(){return $ee||($ee=1,vI=Math.floor),vI}var wI,Nee;function f_t(){return Nee||(Nee=1,wI=Math.max),wI}var bI,Ree;function p_t(){return Ree||(Ree=1,bI=Math.min),bI}var xI,Oee;function g_t(){return Oee||(Oee=1,xI=Math.pow),xI}var _I,jee;function m_t(){return jee||(jee=1,_I=Math.round),_I}var CI,Mee;function y_t(){return Mee||(Mee=1,CI=Number.isNaN||function(e){return e!==e}),CI}var EI,Dee;function v_t(){if(Dee)return EI;Dee=1;var t=y_t();return EI=function(r){return t(r)||r===0?r:r<0?-1:1},EI}var kI,Fee;function pk(){return Fee||(Fee=1,kI=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),kI}var SI,Lee;function gU(){if(Lee)return SI;Lee=1;var t=typeof Symbol<"u"&&Symbol,e=pk();return SI=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},SI}var AI,Uee;function rve(){return Uee||(Uee=1,AI=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),AI}var TI,Bee;function nve(){if(Bee)return TI;Bee=1;var t=pU();return TI=t.getPrototypeOf||null,TI}var II,zee;function w_t(){if(zee)return II;zee=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(l,c){for(var u=[],h=0;h<l.length;h+=1)u[h]=l[h];for(var f=0;f<c.length;f+=1)u[f+l.length]=c[f];return u},s=function(l,c){for(var u=[],h=c,f=0;h<l.length;h+=1,f+=1)u[f]=l[h];return u},o=function(a,l){for(var c="",u=0;u<a.length;u+=1)c+=a[u],u+1<a.length&&(c+=l);return c};return II=function(l){var c=this;if(typeof c!="function"||e.apply(c)!==n)throw new TypeError(t+c);for(var u=s(arguments,1),h,f=function(){if(this instanceof h){var b=c.apply(this,i(u,arguments));return Object(b)===b?b:this}return c.apply(l,i(u,arguments))},p=r(0,c.length-u.length),m=[],v=0;v<p;v++)m[v]="$"+v;if(h=Function("binder","return function ("+o(m,",")+"){ return binder.apply(this,arguments); }")(f),c.prototype){var w=function(){};w.prototype=c.prototype,h.prototype=new w,w.prototype=null}return h},II}var PI,qee;function T3(){if(qee)return PI;qee=1;var t=w_t();return PI=Function.prototype.bind||t,PI}var $I,Wee;function mU(){return Wee||(Wee=1,$I=Function.prototype.call),$I}var NI,Hee;function yU(){return Hee||(Hee=1,NI=Function.prototype.apply),NI}var RI,Vee;function b_t(){return Vee||(Vee=1,RI=typeof Reflect<"u"&&Reflect&&Reflect.apply),RI}var OI,Gee;function ive(){if(Gee)return OI;Gee=1;var t=T3(),e=yU(),r=mU(),n=b_t();return OI=n||t.call(r,e),OI}var jI,Kee;function vU(){if(Kee)return jI;Kee=1;var t=T3(),e=hc(),r=mU(),n=ive();return jI=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return n(t,r,s)},jI}var MI,Yee;function x_t(){if(Yee)return MI;Yee=1;var t=vU(),e=Rg(),r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return MI=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,MI}var DI,Jee;function wU(){if(Jee)return DI;Jee=1;var t=rve(),e=nve(),r=x_t();return DI=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:r?function(i){return r(i)}:null,DI}var FI,Xee;function bU(){if(Xee)return FI;Xee=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=T3();return FI=r.call(t,e),FI}var LI,Qee;function Lh(){if(Qee)return LI;Qee=1;var t,e=pU(),r=tve(),n=a_t(),i=l_t(),s=c_t(),o=dU(),a=hc(),l=u_t(),c=d_t(),u=h_t(),h=f_t(),f=p_t(),p=g_t(),m=m_t(),v=v_t(),w=Function,b=function(se){try{return w('"use strict"; return ('+se+").constructor;")()}catch{}},E=Rg(),_=fk(),A=function(){throw new a},C=E?(function(){try{return arguments.callee,A}catch{try{return E(arguments,"callee").get}catch{return A}}})():A,k=gU()(),P=wU(),F=nve(),N=rve(),$=yU(),U=mU(),O={},D=typeof Uint8Array>"u"||!P?t:P(Uint8Array),T={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":k&&P?P([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":O,"%AsyncGenerator%":O,"%AsyncGeneratorFunction%":O,"%AsyncIteratorPrototype%":O,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":O,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k&&P?P(P([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!k||!P?t:P(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":E,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!k||!P?t:P(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k&&P?P(""[Symbol.iterator]()):t,"%Symbol%":k?Symbol:t,"%SyntaxError%":o,"%ThrowTypeError%":C,"%TypedArray%":D,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":U,"%Function.prototype.apply%":$,"%Object.defineProperty%":_,"%Object.getPrototypeOf%":F,"%Math.abs%":c,"%Math.floor%":u,"%Math.max%":h,"%Math.min%":f,"%Math.pow%":p,"%Math.round%":m,"%Math.sign%":v,"%Reflect.getPrototypeOf%":N};if(P)try{null.error}catch(se){var I=P(P(se));T["%Error.prototype%"]=I}var R=function se(ce){var ge;if(ce==="%AsyncFunction%")ge=b("async function () {}");else if(ce==="%GeneratorFunction%")ge=b("function* () {}");else if(ce==="%AsyncGeneratorFunction%")ge=b("async function* () {}");else if(ce==="%AsyncGenerator%"){var ae=se("%AsyncGeneratorFunction%");ae&&(ge=ae.prototype)}else if(ce==="%AsyncIteratorPrototype%"){var _e=se("%AsyncGenerator%");_e&&P&&(ge=P(_e.prototype))}return T[ce]=ge,ge},L={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},B=T3(),q=bU(),G=B.call(U,Array.prototype.concat),W=B.call($,Array.prototype.splice),j=B.call(U,String.prototype.replace),Y=B.call(U,String.prototype.slice),Q=B.call(U,RegExp.prototype.exec),z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z=/\\(\\)?/g,ee=function(ce){var ge=Y(ce,0,1),ae=Y(ce,-1);if(ge==="%"&&ae!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(ae==="%"&&ge!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var _e=[];return j(ce,z,function(Ee,Ie,qe,me){_e[_e.length]=qe?j(me,Z,"$1"):Ie||Ee}),_e},te=function(ce,ge){var ae=ce,_e;if(q(L,ae)&&(_e=L[ae],ae="%"+_e[0]+"%"),q(T,ae)){var Ee=T[ae];if(Ee===O&&(Ee=R(ae)),typeof Ee>"u"&&!ge)throw new a("intrinsic "+ce+" exists, but is not available. Please file an issue!");return{alias:_e,name:ae,value:Ee}}throw new o("intrinsic "+ce+" does not exist!")};return LI=function(ce,ge){if(typeof ce!="string"||ce.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ge!="boolean")throw new a('"allowMissing" argument must be a boolean');if(Q(/^%?[^%]*%?$/,ce)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ae=ee(ce),_e=ae.length>0?ae[0]:"",Ee=te("%"+_e+"%",ge),Ie=Ee.name,qe=Ee.value,me=!1,ze=Ee.alias;ze&&(_e=ze[0],W(ae,G([0,1],ze)));for(var rt=1,Ae=!0;rt<ae.length;rt+=1){var Fe=ae[rt],nt=Y(Fe,0,1),_t=Y(Fe,-1);if((nt==='"'||nt==="'"||nt==="`"||_t==='"'||_t==="'"||_t==="`")&&nt!==_t)throw new o("property names with quotes must have matching quotes");if((Fe==="constructor"||!Ae)&&(me=!0),_e+="."+Fe,Ie="%"+_e+"%",q(T,Ie))qe=T[Ie];else if(qe!=null){if(!(Fe in qe)){if(!ge)throw new a("base intrinsic for "+ce+" exists, but the property is not available.");return}if(E&&rt+1>=ae.length){var Ye=E(qe,Fe);Ae=!!Ye,Ae&&"get"in Ye&&!("originalValue"in Ye.get)?qe=Ye.get:qe=qe[Fe]}else Ae=q(qe,Fe),qe=qe[Fe];Ae&&!me&&(T[Ie]=qe)}}return qe},LI}var UI,Zee;function __t(){if(Zee)return UI;Zee=1;var t=Lh(),e=hU(),r=fU()(),n=Rg(),i=hc(),s=t("%Math.floor%");return UI=function(a,l){if(typeof a!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new i("`length` must be a positive 32-bit integer");var c=arguments.length>2&&!!arguments[2],u=!0,h=!0;if("length"in a&&n){var f=n(a,"length");f&&!f.configurable&&(u=!1),f&&!f.writable&&(h=!1)}return(u||h||!c)&&(r?e(a,"length",l,!0,!0):e(a,"length",l)),a},UI}var BI,ete;function C_t(){if(ete)return BI;ete=1;var t=T3(),e=yU(),r=ive();return BI=function(){return r(t,e,arguments)},BI}var tte;function iv(){return tte||(tte=1,(function(t){var e=__t(),r=fk(),n=vU(),i=C_t();t.exports=function(o){var a=n(arguments),l=o.length-(arguments.length-1);return e(a,1+(l>0?l:0),!0)},r?r(t.exports,"apply",{value:i}):t.exports.apply=i})(uI)),uI.exports}var zI,rte;function bo(){if(rte)return zI;rte=1;var t=Lh(),e=vU(),r=e([t("%String.prototype.indexOf%")]);return zI=function(i,s){var o=t(i,!!s);return typeof o=="function"&&r(i,".prototype.")>-1?e([o]):o},zI}var qI,nte;function sve(){if(nte)return qI;nte=1;var t=uU(),e=pk()(),r=bo(),n=pU(),i=r("Array.prototype.push"),s=r("Object.prototype.propertyIsEnumerable"),o=e?n.getOwnPropertySymbols:null;return qI=function(l,c){if(l==null)throw new TypeError("target must be an object");var u=n(l);if(arguments.length===1)return u;for(var h=1;h<arguments.length;++h){var f=n(arguments[h]),p=t(f),m=e&&(n.getOwnPropertySymbols||o);if(m)for(var v=m(f),w=0;w<v.length;++w){var b=v[w];s(f,b)&&i(p,b)}for(var E=0;E<p.length;++E){var _=p[E];if(s(f,_)){var A=f[_];u[_]=A}}}return u},qI}var WI,ite;function ove(){if(ite)return WI;ite=1;var t=sve(),e=function(){if(!Object.assign)return!1;for(var n="abcdefghijklmnopqrst",i=n.split(""),s={},o=0;o<i.length;++o)s[i[o]]=i[o];var a=Object.assign({},s),l="";for(var c in a)l+=c;return n!==l},r=function(){if(!Object.assign||!Object.preventExtensions)return!1;var n=Object.preventExtensions({1:2});try{Object.assign(n,"xy")}catch{return n[1]==="y"}return!1};return WI=function(){return!Object.assign||e()||r()?t:Object.assign},WI}var HI,ste;function E_t(){if(ste)return HI;ste=1;var t=Og(),e=ove();return HI=function(){var n=e();return t(Object,{assign:n},{assign:function(){return Object.assign!==n}}),n},HI}var VI,ote;function k_t(){if(ote)return VI;ote=1;var t=Og(),e=iv(),r=sve(),n=ove(),i=E_t(),s=e.apply(n()),o=function(l,c){return s(Object,arguments)};return t(o,{getPolyfill:n,implementation:r,shim:i}),VI=o,VI}var GI,ate;function ave(){if(ate)return GI;ate=1;var t=Lh(),e=iv(),r=e(t("String.prototype.indexOf"));return GI=function(i,s){var o=t(i,!!s);return typeof o=="function"&&r(i,".prototype.")>-1?e(o):o},GI}var KI,lte;function S_t(){if(lte)return KI;lte=1;var t=function(){return typeof(function(){}).name=="string"},e=Object.getOwnPropertyDescriptor;if(e)try{e([],"length")}catch{e=null}t.functionsHaveConfigurableNames=function(){if(!t()||!e)return!1;var i=e(function(){},"name");return!!i&&!!i.configurable};var r=Function.prototype.bind;return t.boundFunctionsHaveNames=function(){return t()&&typeof r=="function"&&(function(){}).bind().name!==""},KI=t,KI}var YI,cte;function A_t(){if(cte)return YI;cte=1;var t=hU(),e=fU()(),r=S_t().functionsHaveConfigurableNames(),n=hc();return YI=function(s,o){if(typeof s!="function")throw new n("`fn` is not a function");var a=arguments.length>2&&!!arguments[2];return(!a||r)&&(e?t(s,"name",o,!0,!0):t(s,"name",o)),s},YI}var JI,ute;function lve(){if(ute)return JI;ute=1;var t=A_t(),e=hc(),r=Object;return JI=t(function(){if(this==null||this!==r(this))throw new e("RegExp.prototype.flags getter called on non-object");var i="";return this.hasIndices&&(i+="d"),this.global&&(i+="g"),this.ignoreCase&&(i+="i"),this.multiline&&(i+="m"),this.dotAll&&(i+="s"),this.unicode&&(i+="u"),this.unicodeSets&&(i+="v"),this.sticky&&(i+="y"),i},"get flags",!0),JI}var XI,dte;function cve(){if(dte)return XI;dte=1;var t=lve(),e=Og().supportsDescriptors,r=Object.getOwnPropertyDescriptor;return XI=function(){if(e&&/a/mig.flags==="gim"){var i=r(RegExp.prototype,"flags");if(i&&typeof i.get=="function"&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var s="",o={};if(Object.defineProperty(o,"hasIndices",{get:function(){s+="d"}}),Object.defineProperty(o,"sticky",{get:function(){s+="y"}}),i.get.call(o),s==="dy")return i.get}}return t},XI}var QI,hte;function T_t(){if(hte)return QI;hte=1;var t=Og().supportsDescriptors,e=cve(),r=Rg(),n=Object.defineProperty,i=tve(),s=wU(),o=/a/;return QI=function(){if(!t||!s)throw new i("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var l=e(),c=s(o),u=r(c,"flags");return(!u||u.get!==l)&&n(c,"flags",{configurable:!0,enumerable:!1,get:l}),l},QI}var ZI,fte;function I_t(){if(fte)return ZI;fte=1;var t=Og(),e=iv(),r=lve(),n=cve(),i=T_t(),s=e(n());return t(s,{getPolyfill:n,implementation:r,shim:i}),ZI=s,ZI}var Sw={exports:{}},eP,pte;function jg(){if(pte)return eP;pte=1;var t=pk();return eP=function(){return t()&&!!Symbol.toStringTag},eP}var tP,gte;function uve(){if(gte)return tP;gte=1;var t=jg()(),e=bo(),r=e("Object.prototype.toString"),n=function(a){return t&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:r(a)==="[object Arguments]"},i=function(a){return n(a)?!0:a!==null&&typeof a=="object"&&"length"in a&&typeof a.length=="number"&&a.length>=0&&r(a)!=="[object Array]"&&"callee"in a&&r(a.callee)==="[object Function]"},s=(function(){return n(arguments)})();return n.isLegacyArguments=i,tP=s?n:i,tP}var rP,mte;function gk(){if(mte)return rP;mte=1;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,r=t&&e&&typeof e.get=="function"?e.get:null,n=t&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,s=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,o=i&&s&&typeof s.get=="function"?s.get:null,a=i&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,c=l?WeakMap.prototype.has:null,u=typeof WeakSet=="function"&&WeakSet.prototype,h=u?WeakSet.prototype.has:null,f=typeof WeakRef=="function"&&WeakRef.prototype,p=f?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,v=Object.prototype.toString,w=Function.prototype.toString,b=String.prototype.match,E=String.prototype.slice,_=String.prototype.replace,A=String.prototype.toUpperCase,C=String.prototype.toLowerCase,k=RegExp.prototype.test,P=Array.prototype.concat,F=Array.prototype.join,N=Array.prototype.slice,$=Math.floor,U=typeof BigInt=="function"?BigInt.prototype.valueOf:null,O=Object.getOwnPropertySymbols,D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,T=typeof Symbol=="function"&&typeof Symbol.iterator=="object",I=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===T||!0)?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,L=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ue){return ue.__proto__}:null);function B(ue,we){if(ue===1/0||ue===-1/0||ue!==ue||ue&&ue>-1e3&&ue<1e3||k.call(/e/,we))return we;var Re=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof ue=="number"){var Ne=ue<0?-$(-ue):$(ue);if(Ne!==ue){var Ve=String(Ne),Se=E.call(we,Ve.length+1);return _.call(Ve,Re,"$&_")+"."+_.call(_.call(Se,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(we,Re,"$&_")}var q=Mle,G=q.custom,W=Ee(G)?G:null,j={__proto__:null,double:'"',single:"'"},Y={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};rP=function ue(we,Re,Ne,Ve){var Se=Re||{};if(me(Se,"quoteStyle")&&!me(j,Se.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(me(Se,"maxStringLength")&&(typeof Se.maxStringLength=="number"?Se.maxStringLength<0&&Se.maxStringLength!==1/0:Se.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Me=me(Se,"customInspect")?Se.customInspect:!0;if(typeof Me!="boolean"&&Me!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(me(Se,"indent")&&Se.indent!==null&&Se.indent!=="	"&&!(parseInt(Se.indent,10)===Se.indent&&Se.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(me(Se,"numericSeparator")&&typeof Se.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Je=Se.numericSeparator;if(typeof we>"u")return"undefined";if(we===null)return"null";if(typeof we=="boolean")return we?"true":"false";if(typeof we=="string")return Le(we,Se);if(typeof we=="number"){if(we===0)return 1/0/we>0?"0":"-0";var Ue=String(we);return Je?B(we,Ue):Ue}if(typeof we=="bigint"){var vt=String(we)+"n";return Je?B(we,vt):vt}var tr=typeof Se.depth>"u"?5:Se.depth;if(typeof Ne>"u"&&(Ne=0),Ne>=tr&&tr>0&&typeof we=="object")return ee(we)?"[Array]":"[Object]";var $t=Ze(Se,Ne);if(typeof Ve>"u")Ve=[];else if(Ae(Ve,we)>=0)return"[Circular]";function X(gr,Nr,vr){if(Nr&&(Ve=N.call(Ve),Ve.push(Nr)),vr){var qr={depth:Se.depth};return me(Se,"quoteStyle")&&(qr.quoteStyle=Se.quoteStyle),ue(gr,qr,Ne+1,Ve)}return ue(gr,Se,Ne+1,Ve)}if(typeof we=="function"&&!se(we)){var ne=rt(we),oe=yt(we,X);return"[Function"+(ne?": "+ne:" (anonymous)")+"]"+(oe.length>0?" { "+F.call(oe,", ")+" }":"")}if(Ee(we)){var le=T?_.call(String(we),/^(Symbol\(.*\))_[^)]*$/,"$1"):D.call(we);return typeof we=="object"&&!T?Qe(le):le}if(xt(we)){for(var ve="<"+C.call(String(we.nodeName)),be=we.attributes||[],Pe=0;Pe<be.length;Pe++)ve+=" "+be[Pe].name+"="+Q(z(be[Pe].value),"double",Se);return ve+=">",we.childNodes&&we.childNodes.length&&(ve+="..."),ve+="</"+C.call(String(we.nodeName))+">",ve}if(ee(we)){if(we.length===0)return"[]";var Xe=yt(we,X);return $t&&!pt(Xe)?"["+Mt(Xe,$t)+"]":"[ "+F.call(Xe,", ")+" ]"}if(ce(we)){var gt=yt(we,X);return!("cause"in Error.prototype)&&"cause"in we&&!R.call(we,"cause")?"{ ["+String(we)+"] "+F.call(P.call("[cause]: "+X(we.cause),gt),", ")+" }":gt.length===0?"["+String(we)+"]":"{ ["+String(we)+"] "+F.call(gt,", ")+" }"}if(typeof we=="object"&&Me){if(W&&typeof we[W]=="function"&&q)return q(we,{depth:tr-Ne});if(Me!=="symbol"&&typeof we.inspect=="function")return we.inspect()}if(Fe(we)){var Pt=[];return n&&n.call(we,function(gr,Nr){Pt.push(X(Nr,we,!0)+" => "+X(gr,we))}),st("Map",r.call(we),Pt,$t)}if(Ye(we)){var er=[];return a&&a.call(we,function(gr){er.push(X(gr,we))}),st("Set",o.call(we),er,$t)}if(nt(we))return it("WeakMap");if(wt(we))return it("WeakSet");if(_t(we))return it("WeakRef");if(ae(we))return Qe(X(Number(we)));if(Ie(we))return Qe(X(U.call(we)));if(_e(we))return Qe(m.call(we));if(ge(we))return Qe(X(String(we)));if(typeof window<"u"&&we===window)return"{ [object Window] }";if(typeof globalThis<"u"&&we===globalThis||typeof ko<"u"&&we===ko)return"{ [object globalThis] }";if(!te(we)&&!se(we)){var Nt=yt(we,X),Et=L?L(we)===Object.prototype:we instanceof Object||we.constructor===Object,Ct=we instanceof Object?"":"null prototype",Vt=!Et&&I&&Object(we)===we&&I in we?E.call(ze(we),8,-1):Ct?"Object":"",Lt=Et||typeof we.constructor!="function"?"":we.constructor.name?we.constructor.name+" ":"",_r=Lt+(Vt||Ct?"["+F.call(P.call([],Vt||[],Ct||[]),": ")+"] ":"");return Nt.length===0?_r+"{}":$t?_r+"{"+Mt(Nt,$t)+"}":_r+"{ "+F.call(Nt,", ")+" }"}return String(we)};function Q(ue,we,Re){var Ne=Re.quoteStyle||we,Ve=j[Ne];return Ve+ue+Ve}function z(ue){return _.call(String(ue),/"/g,"&quot;")}function Z(ue){return!I||!(typeof ue=="object"&&(I in ue||typeof ue[I]<"u"))}function ee(ue){return ze(ue)==="[object Array]"&&Z(ue)}function te(ue){return ze(ue)==="[object Date]"&&Z(ue)}function se(ue){return ze(ue)==="[object RegExp]"&&Z(ue)}function ce(ue){return ze(ue)==="[object Error]"&&Z(ue)}function ge(ue){return ze(ue)==="[object String]"&&Z(ue)}function ae(ue){return ze(ue)==="[object Number]"&&Z(ue)}function _e(ue){return ze(ue)==="[object Boolean]"&&Z(ue)}function Ee(ue){if(T)return ue&&typeof ue=="object"&&ue instanceof Symbol;if(typeof ue=="symbol")return!0;if(!ue||typeof ue!="object"||!D)return!1;try{return D.call(ue),!0}catch{}return!1}function Ie(ue){if(!ue||typeof ue!="object"||!U)return!1;try{return U.call(ue),!0}catch{}return!1}var qe=Object.prototype.hasOwnProperty||function(ue){return ue in this};function me(ue,we){return qe.call(ue,we)}function ze(ue){return v.call(ue)}function rt(ue){if(ue.name)return ue.name;var we=b.call(w.call(ue),/^function\s*([\w$]+)/);return we?we[1]:null}function Ae(ue,we){if(ue.indexOf)return ue.indexOf(we);for(var Re=0,Ne=ue.length;Re<Ne;Re++)if(ue[Re]===we)return Re;return-1}function Fe(ue){if(!r||!ue||typeof ue!="object")return!1;try{r.call(ue);try{o.call(ue)}catch{return!0}return ue instanceof Map}catch{}return!1}function nt(ue){if(!c||!ue||typeof ue!="object")return!1;try{c.call(ue,c);try{h.call(ue,h)}catch{return!0}return ue instanceof WeakMap}catch{}return!1}function _t(ue){if(!p||!ue||typeof ue!="object")return!1;try{return p.call(ue),!0}catch{}return!1}function Ye(ue){if(!o||!ue||typeof ue!="object")return!1;try{o.call(ue);try{r.call(ue)}catch{return!0}return ue instanceof Set}catch{}return!1}function wt(ue){if(!h||!ue||typeof ue!="object")return!1;try{h.call(ue,h);try{c.call(ue,c)}catch{return!0}return ue instanceof WeakSet}catch{}return!1}function xt(ue){return!ue||typeof ue!="object"?!1:typeof HTMLElement<"u"&&ue instanceof HTMLElement?!0:typeof ue.nodeName=="string"&&typeof ue.getAttribute=="function"}function Le(ue,we){if(ue.length>we.maxStringLength){var Re=ue.length-we.maxStringLength,Ne="... "+Re+" more character"+(Re>1?"s":"");return Le(E.call(ue,0,we.maxStringLength),we)+Ne}var Ve=Y[we.quoteStyle||"single"];Ve.lastIndex=0;var Se=_.call(_.call(ue,Ve,"\\$1"),/[\x00-\x1f]/g,Ke);return Q(Se,"single",we)}function Ke(ue){var we=ue.charCodeAt(0),Re={8:"b",9:"t",10:"n",12:"f",13:"r"}[we];return Re?"\\"+Re:"\\x"+(we<16?"0":"")+A.call(we.toString(16))}function Qe(ue){return"Object("+ue+")"}function it(ue){return ue+" { ? }"}function st(ue,we,Re,Ne){var Ve=Ne?Mt(Re,Ne):F.call(Re,", ");return ue+" ("+we+") {"+Ve+"}"}function pt(ue){for(var we=0;we<ue.length;we++)if(Ae(ue[we],`
`)>=0)return!1;return!0}function Ze(ue,we){var Re;if(ue.indent==="	")Re="	";else if(typeof ue.indent=="number"&&ue.indent>0)Re=F.call(Array(ue.indent+1)," ");else return null;return{base:Re,prev:F.call(Array(we+1),Re)}}function Mt(ue,we){if(ue.length===0)return"";var Re=`
`+we.prev+we.base;return Re+F.call(ue,","+Re)+`
`+we.prev}function yt(ue,we){var Re=ee(ue),Ne=[];if(Re){Ne.length=ue.length;for(var Ve=0;Ve<ue.length;Ve++)Ne[Ve]=me(ue,Ve)?we(ue[Ve],ue):""}var Se=typeof O=="function"?O(ue):[],Me;if(T){Me={};for(var Je=0;Je<Se.length;Je++)Me["$"+Se[Je]]=Se[Je]}for(var Ue in ue)me(ue,Ue)&&(Re&&String(Number(Ue))===Ue&&Ue<ue.length||T&&Me["$"+Ue]instanceof Symbol||(k.call(/[^\w$]/,Ue)?Ne.push(we(Ue,ue)+": "+we(ue[Ue],ue)):Ne.push(Ue+": "+we(ue[Ue],ue))));if(typeof O=="function")for(var vt=0;vt<Se.length;vt++)R.call(ue,Se[vt])&&Ne.push("["+we(Se[vt])+"]: "+we(ue[Se[vt]],ue));return Ne}return rP}var nP,yte;function P_t(){if(yte)return nP;yte=1;var t=gk(),e=hc(),r=function(a,l,c){for(var u=a,h;(h=u.next)!=null;u=h)if(h.key===l)return u.next=h.next,c||(h.next=a.next,a.next=h),h},n=function(a,l){if(a){var c=r(a,l);return c&&c.value}},i=function(a,l,c){var u=r(a,l);u?u.value=c:a.next={key:l,next:a.next,value:c}},s=function(a,l){return a?!!r(a,l):!1},o=function(a,l){if(a)return r(a,l,!0)};return nP=function(){var l,c={assert:function(u){if(!c.has(u))throw new e("Side channel does not contain "+t(u))},delete:function(u){var h=l&&l.next,f=o(l,u);return f&&h&&h===f&&(l=void 0),!!f},get:function(u){return n(l,u)},has:function(u){return s(l,u)},set:function(u,h){l||(l={next:void 0}),i(l,u,h)}};return c},nP}var iP,vte;function dve(){if(vte)return iP;vte=1;var t=Lh(),e=bo(),r=gk(),n=hc(),i=t("%Map%",!0),s=e("Map.prototype.get",!0),o=e("Map.prototype.set",!0),a=e("Map.prototype.has",!0),l=e("Map.prototype.delete",!0),c=e("Map.prototype.size",!0);return iP=!!i&&function(){var h,f={assert:function(p){if(!f.has(p))throw new n("Side channel does not contain "+r(p))},delete:function(p){if(h){var m=l(h,p);return c(h)===0&&(h=void 0),m}return!1},get:function(p){if(h)return s(h,p)},has:function(p){return h?a(h,p):!1},set:function(p,m){h||(h=new i),o(h,p,m)}};return f},iP}var sP,wte;function $_t(){if(wte)return sP;wte=1;var t=Lh(),e=bo(),r=gk(),n=dve(),i=hc(),s=t("%WeakMap%",!0),o=e("WeakMap.prototype.get",!0),a=e("WeakMap.prototype.set",!0),l=e("WeakMap.prototype.has",!0),c=e("WeakMap.prototype.delete",!0);return sP=s?function(){var h,f,p={assert:function(m){if(!p.has(m))throw new i("Side channel does not contain "+r(m))},delete:function(m){if(s&&m&&(typeof m=="object"||typeof m=="function")){if(h)return c(h,m)}else if(n&&f)return f.delete(m);return!1},get:function(m){return s&&m&&(typeof m=="object"||typeof m=="function")&&h?o(h,m):f&&f.get(m)},has:function(m){return s&&m&&(typeof m=="object"||typeof m=="function")&&h?l(h,m):!!f&&f.has(m)},set:function(m,v){s&&m&&(typeof m=="object"||typeof m=="function")?(h||(h=new s),a(h,m,v)):n&&(f||(f=n()),f.set(m,v))}};return p}:n,sP}var oP,bte;function hve(){if(bte)return oP;bte=1;var t=hc(),e=gk(),r=P_t(),n=dve(),i=$_t(),s=i||n||r;return oP=function(){var a,l={assert:function(c){if(!l.has(c))throw new t("Side channel does not contain "+e(c))},delete:function(c){return!!a&&a.delete(c)},get:function(c){return a&&a.get(c)},has:function(c){return!!a&&a.has(c)},set:function(c,u){a||(a=s()),a.set(c,u)}};return l},oP}var aP,xte;function N_t(){if(xte)return aP;xte=1;var t=bU(),e=hve()(),r=hc(),n={assert:function(i,s){if(!i||typeof i!="object"&&typeof i!="function")throw new r("`O` is not an object");if(typeof s!="string")throw new r("`slot` must be a string");if(e.assert(i),!n.has(i,s))throw new r("`"+s+"` is not present on `O`")},get:function(i,s){if(!i||typeof i!="object"&&typeof i!="function")throw new r("`O` is not an object");if(typeof s!="string")throw new r("`slot` must be a string");var o=e.get(i);return o&&o["$"+s]},has:function(i,s){if(!i||typeof i!="object"&&typeof i!="function")throw new r("`O` is not an object");if(typeof s!="string")throw new r("`slot` must be a string");var o=e.get(i);return!!o&&t(o,"$"+s)},set:function(i,s,o){if(!i||typeof i!="object"&&typeof i!="function")throw new r("`O` is not an object");if(typeof s!="string")throw new r("`slot` must be a string");var a=e.get(i);a||(a={},e.set(i,a)),a["$"+s]=o}};return Object.freeze&&Object.freeze(n),aP=n,aP}var lP,_te;function R_t(){if(_te)return lP;_te=1;var t=N_t(),e=dU(),r=typeof StopIteration=="object"?StopIteration:null;return lP=function(i){if(!r)throw new e("this environment lacks StopIteration");t.set(i,"[[Done]]",!1);var s={next:function(){var a=t.get(this,"[[Iterator]]"),l=!!t.get(a,"[[Done]]");try{return{done:l,value:l?void 0:a.next()}}catch(c){if(t.set(a,"[[Done]]",!0),c!==r)throw c;return{done:!0,value:void 0}}}};return t.set(s,"[[Iterator]]",i),s},lP}var cP,Cte;function fve(){if(Cte)return cP;Cte=1;var t={}.toString;return cP=Array.isArray||function(e){return t.call(e)=="[object Array]"},cP}var uP,Ete;function pve(){if(Ete)return uP;Ete=1;var t=bo(),e=t("String.prototype.valueOf"),r=function(a){try{return e(a),!0}catch{return!1}},n=t("Object.prototype.toString"),i="[object String]",s=jg()();return uP=function(a){return typeof a=="string"?!0:!a||typeof a!="object"?!1:s?r(a):n(a)===i},uP}var dP,kte;function gve(){if(kte)return dP;kte=1;var t=typeof Map=="function"&&Map.prototype?Map:null,e=typeof Set=="function"&&Set.prototype?Set:null,r;t||(r=function(o){return!1});var n=t?Map.prototype.has:null,i=e?Set.prototype.has:null;return!r&&!n&&(r=function(o){return!1}),dP=r||function(o){if(!o||typeof o!="object")return!1;try{if(n.call(o),i)try{i.call(o)}catch{return!0}return o instanceof t}catch{}return!1},dP}var hP,Ste;function mve(){if(Ste)return hP;Ste=1;var t=typeof Map=="function"&&Map.prototype?Map:null,e=typeof Set=="function"&&Set.prototype?Set:null,r;e||(r=function(o){return!1});var n=t?Map.prototype.has:null,i=e?Set.prototype.has:null;return!r&&!i&&(r=function(o){return!1}),hP=r||function(o){if(!o||typeof o!="object")return!1;try{if(i.call(o),n)try{n.call(o)}catch{return!0}return o instanceof e}catch{}return!1},hP}var Ate;function O_t(){if(Ate)return Sw.exports;Ate=1;var t=uve(),e=R_t();if(gU()()||pk()()){var r=Symbol.iterator;Sw.exports=function(N){if(N!=null&&typeof N[r]<"u")return N[r]();if(t(N))return Array.prototype[r].call(N)}}else{var n=fve(),i=pve(),s=Lh(),o=s("%Map%",!0),a=s("%Set%",!0),l=ave(),c=l("Array.prototype.push"),u=l("String.prototype.charCodeAt"),h=l("String.prototype.slice"),f=function(N,$){var U=N.length;if($+1>=U)return $+1;var O=u(N,$);if(O<55296||O>56319)return $+1;var D=u(N,$+1);return D<56320||D>57343?$+1:$+2},p=function(N){var $=0;return{next:function(){var O=$>=N.length,D;return O||(D=N[$],$+=1),{done:O,value:D}}}},m=function(N,$){if(n(N)||t(N))return p(N);if(i(N)){var U=0;return{next:function(){var D=f(N,U),T=h(N,U,D);return U=D,{done:D>N.length,value:T}}}}if($&&typeof N["_es6-shim iterator_"]<"u")return N["_es6-shim iterator_"]()};if(!o&&!a)Sw.exports=function(N){if(N!=null)return m(N,!0)};else{var v=gve(),w=mve(),b=l("Map.prototype.forEach",!0),E=l("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var _=l("Map.prototype.iterator",!0),A=l("Set.prototype.iterator",!0);var C=l("Map.prototype.@@iterator",!0)||l("Map.prototype._es6-shim iterator_",!0),k=l("Set.prototype.@@iterator",!0)||l("Set.prototype._es6-shim iterator_",!0),P=function(N){if(v(N)){if(_)return e(_(N));if(C)return C(N);if(b){var $=[];return b(N,function(O,D){c($,[D,O])}),p($)}}if(w(N)){if(A)return e(A(N));if(k)return k(N);if(E){var U=[];return E(N,function(O){c(U,O)}),p(U)}}};Sw.exports=function(N){return P(N)||m(N)}}}return Sw.exports}var fP,Tte;function yve(){if(Tte)return fP;Tte=1;var t=function(e){return e!==e};return fP=function(r,n){return r===0&&n===0?1/r===1/n:!!(r===n||t(r)&&t(n))},fP}var pP,Ite;function vve(){if(Ite)return pP;Ite=1;var t=yve();return pP=function(){return typeof Object.is=="function"?Object.is:t},pP}var gP,Pte;function j_t(){if(Pte)return gP;Pte=1;var t=vve(),e=Og();return gP=function(){var n=t();return e(Object,{is:n},{is:function(){return Object.is!==n}}),n},gP}var mP,$te;function M_t(){if($te)return mP;$te=1;var t=Og(),e=iv(),r=yve(),n=vve(),i=j_t(),s=e(n(),Object);return t(s,{getPolyfill:n,implementation:r,shim:i}),mP=s,mP}var yP,Nte;function wve(){if(Nte)return yP;Nte=1;var t=iv(),e=bo(),r=Lh(),n=r("%ArrayBuffer%",!0),i=e("ArrayBuffer.prototype.byteLength",!0),s=e("Object.prototype.toString"),o=!!n&&!i&&new n(0).slice,a=!!o&&t(o);return yP=i||a?function(c){if(!c||typeof c!="object")return!1;try{return i?i(c):a(c,0),!0}catch{return!1}}:n?function(c){return s(c)==="[object ArrayBuffer]"}:function(c){return!1},yP}var vP,Rte;function D_t(){if(Rte)return vP;Rte=1;var t=bo(),e=t("Date.prototype.getDay"),r=function(a){try{return e(a),!0}catch{return!1}},n=t("Object.prototype.toString"),i="[object Date]",s=jg()();return vP=function(a){return typeof a!="object"||a===null?!1:s?r(a):n(a)===i},vP}var wP,Ote;function bve(){if(Ote)return wP;Ote=1;var t=bo(),e=jg()(),r=bU(),n=Rg(),i;if(e){var s=t("RegExp.prototype.exec"),o={},a=function(){throw o},l={toString:a,valueOf:a};typeof Symbol.toPrimitive=="symbol"&&(l[Symbol.toPrimitive]=a),i=function(f){if(!f||typeof f!="object")return!1;var p=n(f,"lastIndex"),m=p&&r(p,"value");if(!m)return!1;try{s(f,l)}catch(v){return v===o}}}else{var c=t("Object.prototype.toString"),u="[object RegExp]";i=function(f){return!f||typeof f!="object"&&typeof f!="function"?!1:c(f)===u}}return wP=i,wP}var bP,jte;function F_t(){if(jte)return bP;jte=1;var t=bo(),e=t("SharedArrayBuffer.prototype.byteLength",!0);return bP=e?function(n){if(!n||typeof n!="object")return!1;try{return e(n),!0}catch{return!1}}:function(n){return!1},bP}var xP,Mte;function L_t(){if(Mte)return xP;Mte=1;var t=bo(),e=t("Number.prototype.toString"),r=function(a){try{return e(a),!0}catch{return!1}},n=t("Object.prototype.toString"),i="[object Number]",s=jg()();return xP=function(a){return typeof a=="number"?!0:!a||typeof a!="object"?!1:s?r(a):n(a)===i},xP}var _P,Dte;function U_t(){if(Dte)return _P;Dte=1;var t=bo(),e=t("Boolean.prototype.toString"),r=t("Object.prototype.toString"),n=function(a){try{return e(a),!0}catch{return!1}},i="[object Boolean]",s=jg()();return _P=function(a){return typeof a=="boolean"?!0:a===null||typeof a!="object"?!1:s?n(a):r(a)===i},_P}var q6={exports:{}},CP,Fte;function B_t(){if(Fte)return CP;Fte=1;var t=bo(),e=bve(),r=t("RegExp.prototype.exec"),n=hc();return CP=function(s){if(!e(s))throw new n("`regex` must be a RegExp");return function(a){return r(s,a)!==null}},CP}var Lte;function z_t(){if(Lte)return q6.exports;Lte=1;var t=bo(),e=t("Object.prototype.toString"),r=gU()(),n=B_t();if(r){var i=t("Symbol.prototype.toString"),s=n(/^Symbol\(.*\)$/),o=function(l){return typeof l.valueOf()!="symbol"?!1:s(i(l))};q6.exports=function(l){if(typeof l=="symbol")return!0;if(!l||typeof l!="object"||e(l)!=="[object Symbol]")return!1;try{return o(l)}catch{return!1}}}else q6.exports=function(l){return!1};return q6.exports}var W6={exports:{}},EP,Ute;function q_t(){if(Ute)return EP;Ute=1;var t=typeof BigInt<"u"&&BigInt;return EP=function(){return typeof t=="function"&&typeof BigInt=="function"&&typeof t(42)=="bigint"&&typeof BigInt(42)=="bigint"},EP}var Bte;function W_t(){if(Bte)return W6.exports;Bte=1;var t=q_t()();if(t){var e=BigInt.prototype.valueOf,r=function(i){try{return e.call(i),!0}catch{}return!1};W6.exports=function(i){return i===null||typeof i>"u"||typeof i=="boolean"||typeof i=="string"||typeof i=="number"||typeof i=="symbol"||typeof i=="function"?!1:typeof i=="bigint"?!0:r(i)}}else W6.exports=function(i){return!1};return W6.exports}var kP,zte;function H_t(){if(zte)return kP;zte=1;var t=pve(),e=L_t(),r=U_t(),n=z_t(),i=W_t();return kP=function(o){if(o==null||typeof o!="object"&&typeof o!="function")return null;if(t(o))return"String";if(e(o))return"Number";if(r(o))return"Boolean";if(n(o))return"Symbol";if(i(o))return"BigInt"},kP}var SP,qte;function V_t(){if(qte)return SP;qte=1;var t=typeof WeakMap=="function"&&WeakMap.prototype?WeakMap:null,e=typeof WeakSet=="function"&&WeakSet.prototype?WeakSet:null,r;t||(r=function(o){return!1});var n=t?t.prototype.has:null,i=e?e.prototype.has:null;return!r&&!n&&(r=function(o){return!1}),SP=r||function(o){if(!o||typeof o!="object")return!1;try{if(n.call(o,n),i)try{i.call(o,i)}catch{return!0}return o instanceof t}catch{}return!1},SP}var H6={exports:{}},Wte;function G_t(){if(Wte)return H6.exports;Wte=1;var t=Lh(),e=bo(),r=t("%WeakSet%",!0),n=e("WeakSet.prototype.has",!0);if(n){var i=e("WeakMap.prototype.has",!0);H6.exports=function(o){if(!o||typeof o!="object")return!1;try{if(n(o,n),i)try{i(o,i)}catch{return!0}return o instanceof r}catch{}return!1}}else H6.exports=function(o){return!1};return H6.exports}var AP,Hte;function K_t(){if(Hte)return AP;Hte=1;var t=gve(),e=mve(),r=V_t(),n=G_t();return AP=function(s){if(s&&typeof s=="object"){if(t(s))return"Map";if(e(s))return"Set";if(r(s))return"WeakMap";if(n(s))return"WeakSet"}return!1},AP}var TP,Vte;function Y_t(){if(Vte)return TP;Vte=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(E){E!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(_){try{var A=t.call(_);return i.test(A)}catch{return!1}},o=function(_){try{return s(_)?!1:(t.call(_),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",c="[object Function]",u="[object GeneratorFunction]",h="[object HTMLAllCollection]",f="[object HTML document.all class]",p="[object HTMLCollection]",m=typeof Symbol=="function"&&!!Symbol.toStringTag,v=!(0 in[,]),w=function(){return!1};if(typeof document=="object"){var b=document.all;a.call(b)===a.call(document.all)&&(w=function(_){if((v||!_)&&(typeof _>"u"||typeof _=="object"))try{var A=a.call(_);return(A===h||A===f||A===p||A===l)&&_("")==null}catch{}return!1})}return TP=e?function(_){if(w(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;try{e(_,null,r)}catch(A){if(A!==n)return!1}return!s(_)&&o(_)}:function(_){if(w(_))return!0;if(!_||typeof _!="function"&&typeof _!="object")return!1;if(m)return o(_);if(s(_))return!1;var A=a.call(_);return A!==c&&A!==u&&!/^\[object HTML/.test(A)?!1:o(_)},TP}var IP,Gte;function J_t(){if(Gte)return IP;Gte=1;var t=Y_t(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,c,u){for(var h=0,f=l.length;h<f;h++)r.call(l,h)&&(u==null?c(l[h],h,l):c.call(u,l[h],h,l))},i=function(l,c,u){for(var h=0,f=l.length;h<f;h++)u==null?c(l.charAt(h),h,l):c.call(u,l.charAt(h),h,l)},s=function(l,c,u){for(var h in l)r.call(l,h)&&(u==null?c(l[h],h,l):c.call(u,l[h],h,l))};function o(a){return e.call(a)==="[object Array]"}return IP=function(l,c,u){if(!t(c))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=u),o(l)?n(l,c,h):typeof l=="string"?i(l,c,h):s(l,c,h)},IP}var PP,Kte;function X_t(){return Kte||(Kte=1,PP=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),PP}var $P,Yte;function Q_t(){if(Yte)return $P;Yte=1;var t=X_t(),e=typeof globalThis>"u"?ko:globalThis;return $P=function(){for(var n=[],i=0;i<t.length;i++)typeof e[t[i]]=="function"&&(n[n.length]=t[i]);return n},$P}var NP,Jte;function Z_t(){if(Jte)return NP;Jte=1;var t=J_t(),e=Q_t(),r=iv(),n=bo(),i=Rg(),s=wU(),o=n("Object.prototype.toString"),a=jg()(),l=typeof globalThis>"u"?ko:globalThis,c=e(),u=n("String.prototype.slice"),h=n("Array.prototype.indexOf",!0)||function(w,b){for(var E=0;E<w.length;E+=1)if(w[E]===b)return E;return-1},f={__proto__:null};a&&i&&s?t(c,function(v){var w=new l[v];if(Symbol.toStringTag in w&&s){var b=s(w),E=i(b,Symbol.toStringTag);if(!E&&b){var _=s(b);E=i(_,Symbol.toStringTag)}if(E&&E.get){var A=r(E.get);f["$"+v]=A}}}):t(c,function(v){var w=new l[v],b=w.slice||w.set;if(b){var E=r(b);f["$"+v]=E}});var p=function(w){var b=!1;return t(f,function(E,_){if(!b)try{"$"+E(w)===_&&(b=u(_,1))}catch{}}),b},m=function(w){var b=!1;return t(f,function(E,_){if(!b)try{E(w),b=u(_,1)}catch{}}),b};return NP=function(w){if(!w||typeof w!="object")return!1;if(!a){var b=u(o(w),8,-1);return h(c,b)>-1?b:b!=="Object"?!1:m(w)}return i?p(w):null},NP}var RP,Xte;function eCt(){if(Xte)return RP;Xte=1;var t=bo(),e=t("ArrayBuffer.prototype.byteLength",!0),r=wve();return RP=function(i){return r(i)?e?e(i):i.byteLength:NaN},RP}var OP,Qte;function tCt(){if(Qte)return OP;Qte=1;var t=k_t(),e=ave(),r=I_t(),n=Lh(),i=O_t(),s=hve(),o=M_t(),a=uve(),l=fve(),c=wve(),u=D_t(),h=bve(),f=F_t(),p=uU(),m=H_t(),v=K_t(),w=Z_t(),b=eCt(),E=e("SharedArrayBuffer.prototype.byteLength",!0),_=e("Date.prototype.getTime"),A=Object.getPrototypeOf,C=e("Object.prototype.toString"),k=n("%Set%",!0),P=e("Map.prototype.has",!0),F=e("Map.prototype.get",!0),N=e("Map.prototype.size",!0),$=e("Set.prototype.add",!0),U=e("Set.prototype.delete",!0),O=e("Set.prototype.has",!0),D=e("Set.prototype.size",!0);function T(Q,z,Z,ee){for(var te=i(Q),se;(se=te.next())&&!se.done;)if(q(z,se.value,Z,ee))return U(Q,se.value),!0;return!1}function I(Q){if(typeof Q>"u")return null;if(typeof Q!="object")return typeof Q=="symbol"?!1:typeof Q=="string"||typeof Q=="number"?+Q==+Q:!0}function R(Q,z,Z,ee,te,se){var ce=I(Z);if(ce!=null)return ce;var ge=F(z,ce),ae=t({},te,{strict:!1});return typeof ge>"u"&&!P(z,ce)||!q(ee,ge,ae,se)?!1:!P(Q,ce)&&q(ee,ge,ae,se)}function L(Q,z,Z){var ee=I(Z);return ee??(O(z,ee)&&!O(Q,ee))}function B(Q,z,Z,ee,te,se){for(var ce=i(Q),ge,ae;(ge=ce.next())&&!ge.done;)if(ae=ge.value,q(Z,ae,te,se)&&q(ee,F(z,ae),te,se))return U(Q,ae),!0;return!1}function q(Q,z,Z,ee){var te=Z||{};if(te.strict?o(Q,z):Q===z)return!0;var se=m(Q),ce=m(z);if(se!==ce)return!1;if(!Q||!z||typeof Q!="object"&&typeof z!="object")return te.strict?o(Q,z):Q==z;var ge=ee.has(Q),ae=ee.has(z),_e;if(ge&&ae){if(ee.get(Q)===ee.get(z))return!0}else _e={};return ge||ee.set(Q,_e),ae||ee.set(z,_e),Y(Q,z,te,ee)}function G(Q){return!Q||typeof Q!="object"||typeof Q.length!="number"||typeof Q.copy!="function"||typeof Q.slice!="function"||Q.length>0&&typeof Q[0]!="number"?!1:!!(Q.constructor&&Q.constructor.isBuffer&&Q.constructor.isBuffer(Q))}function W(Q,z,Z,ee){if(D(Q)!==D(z))return!1;for(var te=i(Q),se=i(z),ce,ge,ae;(ce=te.next())&&!ce.done;)if(ce.value&&typeof ce.value=="object")ae||(ae=new k),$(ae,ce.value);else if(!O(z,ce.value)){if(Z.strict||!L(Q,z,ce.value))return!1;ae||(ae=new k),$(ae,ce.value)}if(ae){for(;(ge=se.next())&&!ge.done;)if(ge.value&&typeof ge.value=="object"){if(!T(ae,ge.value,Z.strict,ee))return!1}else if(!Z.strict&&!O(Q,ge.value)&&!T(ae,ge.value,Z.strict,ee))return!1;return D(ae)===0}return!0}function j(Q,z,Z,ee){if(N(Q)!==N(z))return!1;for(var te=i(Q),se=i(z),ce,ge,ae,_e,Ee,Ie;(ce=te.next())&&!ce.done;)if(_e=ce.value[0],Ee=ce.value[1],_e&&typeof _e=="object")ae||(ae=new k),$(ae,_e);else if(Ie=F(z,_e),typeof Ie>"u"&&!P(z,_e)||!q(Ee,Ie,Z,ee)){if(Z.strict||!R(Q,z,_e,Ee,Z,ee))return!1;ae||(ae=new k),$(ae,_e)}if(ae){for(;(ge=se.next())&&!ge.done;)if(_e=ge.value[0],Ie=ge.value[1],_e&&typeof _e=="object"){if(!B(ae,Q,_e,Ie,Z,ee))return!1}else if(!Z.strict&&(!Q.has(_e)||!q(F(Q,_e),Ie,Z,ee))&&!B(ae,Q,_e,Ie,t({},Z,{strict:!1}),ee))return!1;return D(ae)===0}return!0}function Y(Q,z,Z,ee){var te,se;if(typeof Q!=typeof z||Q==null||z==null||C(Q)!==C(z)||a(Q)!==a(z))return!1;var ce=l(Q),ge=l(z);if(ce!==ge)return!1;var ae=Q instanceof Error,_e=z instanceof Error;if(ae!==_e||(ae||_e)&&(Q.name!==z.name||Q.message!==z.message))return!1;var Ee=h(Q),Ie=h(z);if(Ee!==Ie||(Ee||Ie)&&(Q.source!==z.source||r(Q)!==r(z)))return!1;var qe=u(Q),me=u(z);if(qe!==me||(qe||me)&&_(Q)!==_(z)||Z.strict&&A&&A(Q)!==A(z))return!1;var ze=w(Q),rt=w(z);if(ze!==rt)return!1;if(ze||rt){if(Q.length!==z.length)return!1;for(te=0;te<Q.length;te++)if(Q[te]!==z[te])return!1;return!0}var Ae=G(Q),Fe=G(z);if(Ae!==Fe)return!1;if(Ae||Fe){if(Q.length!==z.length)return!1;for(te=0;te<Q.length;te++)if(Q[te]!==z[te])return!1;return!0}var nt=c(Q),_t=c(z);if(nt!==_t)return!1;if(nt||_t)return b(Q)!==b(z)?!1:typeof Uint8Array=="function"&&q(new Uint8Array(Q),new Uint8Array(z),Z,ee);var Ye=f(Q),wt=f(z);if(Ye!==wt)return!1;if(Ye||wt)return E(Q)!==E(z)?!1:typeof Uint8Array=="function"&&q(new Uint8Array(Q),new Uint8Array(z),Z,ee);if(typeof Q!=typeof z)return!1;var xt=p(Q),Le=p(z);if(xt.length!==Le.length)return!1;for(xt.sort(),Le.sort(),te=xt.length-1;te>=0;te--)if(xt[te]!=Le[te])return!1;for(te=xt.length-1;te>=0;te--)if(se=xt[te],!q(Q[se],z[se],Z,ee))return!1;var Ke=v(Q),Qe=v(z);return Ke!==Qe?!1:Ke==="Set"||Qe==="Set"?W(Q,z,Z,ee):Ke==="Map"?j(Q,z,Z,ee):!0}return OP=function(z,Z,ee){return q(z,Z,ee,s())},OP}var rCt=tCt();const Zte=Mi(rCt),nCt=x.createContext(void 0);function iCt({children:t}){const{address:e}=Pn(),{network:r}=fn(),{setMarkets:n}=uc(),{positions:i,setPositions:s}=dc(),a=(e?A3(e,r):null)?.address;console.log(`[HyperliquidContext] User address: ${e}, Agent address: ${a}, Network: ${r}`);const{data:l,isLoading:c}=fs(t_t(r)),{data:u=[],isLoading:h}=fs(dee(e||"",r)),f=!!a&&a!==e;console.log(`[HyperliquidContext] Agent position query enabled: ${f} (agentAddress: ${a}, userAddress: ${e})`);const{data:p=[],isLoading:m}=fs({...dee(a||"",r),enabled:f}),v=x.useMemo(()=>{const _=[...u,...p],A=new Map;return _.forEach(C=>{const k=`${C.market}:${C.side}`;(!A.has(k)||Math.abs(C.size)>Math.abs(A.get(k).size))&&A.set(k,C)}),Array.from(A.values())},[u,p]),w=h||m,{isLoading:b}=fs(hee(e||"",r)),{data:E}=fs({...hee(a||"",r),enabled:!!a&&a!==e});return E&&console.log("[HyperliquidContext] Agent account info:",E),x.useEffect(()=>{e||s([])},[e,s]),x.useEffect(()=>{l&&n(l)},[l,n]),x.useEffect(()=>{if(v){const _=v.filter(A=>A.id&&A.size>0&&A.market&&A.market!=="");if(Zte(i,v))return;console.log(`[HyperliquidContext] Found ${_.length} valid positions (user: ${u.length}, agent: ${p.length})`),s(_)}else if(!e){if(Zte(i,[]))return;s([])}},[v,s,e,u.length,p.length]),d.jsx(nCt.Provider,{value:{isLoading:c||w||b},children:t})}async function sCt(t,e="mainnet",r=!0){try{if(!t||t==="")return[];const n=dk[e],i=await fetch(`${n}/info`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"userFills",user:t,aggregateByTime:r})});if(!i.ok)throw new Error(`Failed to fetch user fills: ${i.statusText}`);const s=await i.json(),o=Array.isArray(s)?s:s?.fills||s?.userFills||[];return Array.isArray(o)?o:[]}catch(n){return console.error(`[TradeHistoryAPI] Error fetching user fills for ${t}:`,n),[]}}function oCt(t){return t.map(e=>{try{const r=typeof e.tid=="number"?e.tid:parseInt(String(e.tid||"0"),10),n=typeof e.oid=="number"?e.oid:parseInt(String(e.oid||"0"),10),i=typeof e.time=="number"?e.time:parseInt(String(e.time||"0"),10),s=typeof e.px=="string"?parseFloat(e.px):typeof e.px=="number"?e.px:0,o=typeof e.sz=="string"?parseFloat(e.sz):typeof e.sz=="number"?e.sz:0,a=e.side==="A"||e.side==="B"?e.side:e.side==="Sell"?"A":"B",l=e.startPosition!==void 0?typeof e.startPosition=="string"?parseFloat(e.startPosition):e.startPosition:void 0,c=e.closedPnl!==void 0?typeof e.closedPnl=="string"?parseFloat(e.closedPnl):e.closedPnl:void 0,u=e.fee!==void 0?typeof e.fee=="string"?parseFloat(e.fee):e.fee:0,h=e.builderFee!==void 0?typeof e.builderFee=="string"?parseFloat(e.builderFee):e.builderFee:0;return isNaN(r)||isNaN(i)||isNaN(s)||isNaN(o)||o<=0?null:{tid:r,oid:n,coin:String(e.coin||""),time:i,px:s,sz:o,side:a,dir:e.dir,startPosition:l,closedPnl:c,fee:isNaN(u)?0:u,feeToken:e.feeToken,builderFee:isNaN(h)?0:h,hash:e.hash}}catch(r){return console.warn("[TradeHistoryEngine] Failed to normalize fill:",e,r),null}}).filter(e=>e!==null).sort((e,r)=>e.time-r.time)}function aCt(t){if(t.dir){const r=t.dir.toLowerCase();if(r.includes("open long"))return{change:t.sz,isOpen:!0,isClose:!1};if(r.includes("open short"))return{change:-t.sz,isOpen:!0,isClose:!1};if(r.includes("close long"))return{change:-t.sz,isOpen:!1,isClose:!0};if(r.includes("close short"))return{change:t.sz,isOpen:!1,isClose:!0}}if(t.startPosition!==void 0){const r=t.startPosition,n=t.side==="B"?t.sz:-t.sz,i=r+n;return r===0&&i!==0?{change:n,isOpen:!0,isClose:!1}:r!==0&&i===0?{change:n,isOpen:!1,isClose:!0}:r>0&&i<0||r<0&&i>0?{change:n,isOpen:!1,isClose:!0}:{change:n,isOpen:!1,isClose:!1}}return{change:t.side==="B"?t.sz:-t.sz,isOpen:!1,isClose:!1}}function lCt(t){if(t.length===0)return[];const e=[],r=new Map;for(const n of t)r.has(n.coin)||r.set(n.coin,[]),r.get(n.coin).push(n);for(const[n,i]of r.entries()){let s=0,o=null;for(const a of i){const{change:l,isOpen:c,isClose:u}=aCt(a),h=s;if(s+=l,h!==0&&s!==0&&(h>0&&s<0||h<0&&s>0)){if(o){o.closeFills.push(a);const p=ere(n,o);p&&e.push(p)}const f=s>0?"LONG":"SHORT";o={openFills:[a],closeFills:[],firstTid:a.tid,direction:f,openTime:a.time};continue}if(h===0&&s!==0&&c){const f=s>0?"LONG":"SHORT";o={openFills:[a],closeFills:[],firstTid:a.tid,direction:f,openTime:a.time};continue}if(o&&(c||h===0&&s!==0?o.openFills.push(a):u||h!==0&&s===0?o.closeFills.push(a):o.direction==="LONG"?l>0?o.openFills.push(a):o.closeFills.push(a):l<0?o.openFills.push(a):o.closeFills.push(a)),h!==0&&s===0&&o){const f=ere(n,o);f&&e.push(f),o=null}}}return e.sort((n,i)=>i.closeTime-n.closeTime)}function ere(t,e){if(!e.direction||!e.openTime||e.openFills.length===0)return null;const r=e.openFills,n=e.closeFills;if(n.length===0)return null;let i=0,s=0;for(const b of r){const E=Math.abs(b.sz);s+=E,i+=b.px*E}const o=s>0?i/s:0;let a=0,l=0;for(const b of n){const E=Math.abs(b.sz);l+=E,a+=b.px*E}const c=l>0?a/l:0,u=n.reduce((b,E)=>b+(E.closedPnl||0),0),h=[...r,...n].reduce((b,E)=>b+(E.fee||0)+(E.builderFee||0),0),f=Math.max(s,l),m=new Set([...r,...n].map(b=>b.oid)).size,v=n[n.length-1].time,w=[...r,...n].sort((b,E)=>b.time-E.time);return{id:`${t}:${e.openTime}:${v}:${e.firstTid}`,coin:t,direction:e.direction,openTime:e.openTime,closeTime:v,qty:Math.abs(f),avgEntryPx:o,avgExitPx:c,realizedPnl:u,fees:h,tradeCount:m,fillCount:w.length,fills:w}}const cCt=2500,uCt=2e3,xve=x.createContext(void 0);function dCt({children:t,userAddress:e,network:r,enabled:n}){const[i,s]=x.useState([]),[o,a]=x.useState(!1),[l,c]=x.useState(null),u=x.useRef([]),h=x.useRef(null),f=x.useCallback(async()=>{if(!(!e||!n))try{a(!0),c(null);const m=(await sCt(e,r,!0)).slice(0,uCt);if(u.current.length>0&&m.length>0){const b=u.current[0],E=m[0];if(b?.tid===E?.tid&&b?.time===E?.time){a(!1);return}}const v=oCt(m),w=lCt(v);s(w),u.current=m}catch(p){console.error("[TradeHistory] Error fetching/processing fills:",p),c(p instanceof Error?p:new Error("Failed to fetch trade history"))}finally{a(!1)}},[e,r,n]);return x.useEffect(()=>{e&&n?f():(s([]),u.current=[])},[e,n,f]),x.useEffect(()=>{if(!e||!n){h.current&&(clearInterval(h.current),h.current=null);return}return h.current=setInterval(()=>{f()},cCt),()=>{h.current&&(clearInterval(h.current),h.current=null)}},[e,n,f]),d.jsx(xve.Provider,{value:{cycles:i,isLoading:o,error:l,refetch:f},children:t})}function _ve(){const t=x.useContext(xve);if(!t)throw new Error("useTradeHistory must be used within TradeHistoryProvider");return t}const hCt="tradeHistory:lastNotified";function Cve(t,e){const r=e.toLowerCase();return`${hCt}:${t}:${r}`}function fCt(t,e){if(typeof window>"u")return{lastCloseTime:0,seenCycleIds:[]};try{const r=Cve(t,e),n=window.localStorage.getItem(r);if(!n)return{lastCloseTime:0,seenCycleIds:[]};const i=JSON.parse(n);if(typeof i=="object"&&i!==null)return{lastCloseTime:i.lastCloseTime||0,seenCycleIds:Array.isArray(i.seenCycleIds)?i.seenCycleIds:[]}}catch(r){console.warn("[ClosePnlNotifications] Failed to load last notified:",r)}return{lastCloseTime:0,seenCycleIds:[]}}function tre(t,e,r,n){if(!(typeof window>"u"))try{const i=Cve(t,e),s=n.slice(-200);window.localStorage.setItem(i,JSON.stringify({lastCloseTime:r,seenCycleIds:s}))}catch(i){console.error("[ClosePnlNotifications] Failed to save last notified:",i)}}function rre(t){return`${t>=0?"+":""}$${Math.abs(t).toFixed(2)}`}function pCt({cycles:t,network:e,userAddress:r,onNotify:n}){const i=x.useRef({lastCloseTime:0,seenCycleIds:[]});x.useEffect(()=>{if(!r||t.length===0)return;const s=fCt(e,r);i.current=s,s.lastCloseTime==0&&(s.lastCloseTime=new Date().getTime(),s.seenCycleIds=[],tre(e,r,s.lastCloseTime,s.seenCycleIds));const o=[],a=[...s.seenCycleIds];for(const c of t)s.seenCycleIds.includes(c.id)||c.closeTime>s.lastCloseTime&&(o.push(c),a.push(c.id));if(o.length>0){o.sort((c,u)=>c.closeTime-u.closeTime);for(const c of o.slice(-2)){const u=rre(c.realizedPnl),h=rre(c.fees),f=`Closed ${c.coin} ${c.direction} | Realized PnL: ${u} | Fees: ${h}`,p=c.realizedPnl>=0?"success":"error";n[p](f)}}const l=Math.max(s.lastCloseTime,...o.map(c=>c.closeTime));l>s.lastCloseTime&&(tre(e,r,l,a),i.current={lastCloseTime:l,seenCycleIds:a})},[t,e,r,n])}const Eve=x.createContext(void 0);function sv(t="top"){const e=x.useContext(Eve);if(!e)throw new Error("useToast must be used within ToastProvider");const{addToast:r}=e;return{success:n=>r(n,"success",t),error:n=>r(n,"error",t),info:n=>r(n,"info",t)}}function gCt(){const{address:t}=Pn(),{network:e}=fn(),{cycles:r}=_ve(),n=sv();return pCt({cycles:r,network:e,userAddress:t,onNotify:n}),null}function mCt({children:t}){const{address:e,isConnected:r}=Pn(),{network:n}=fn();return d.jsxs(dCt,{userAddress:r?e:null,network:n,enabled:r,children:[d.jsx(gCt,{}),t]})}const nre=new Map;function yCt(t){const e=nre.get(t);if(e)return e;const r=new Us(t);return nre.set(t,r),r}function Uo(t){const e=yCt(t);return{getMarkets:()=>e.getMarkets(),getMarketStats:()=>e.getMarketStats(),getOrderBook:r=>e.getOrderBook(r),getTrades:r=>e.getTrades(r),getPositions:r=>e.getPositions(r),getAccountInfo:r=>e.getAccountInfo(r),getSpotAccountInfo:r=>e.getSpotAccountInfo(r),getOpenOrders:r=>e.getOpenOrders(r),createExchangeClient:r=>e.createExchangeClient(r),getMaxBuilderFee:(r,n)=>e.getMaxBuilderFee(r,n),getExtraAgents:r=>e.getExtraAgents(r),getUserReferral:r=>e.getUserReferral(r),getUserAbstraction:r=>e.getUserAbstraction(r)}}const vCt="mainnet";Uo(vCt);const kve=x.createContext(null);let ire=null,sre=null;function wCt(){const t=Date.now(),e=Math.floor(t/(3600*1e3));return sre!==e&&(sre=e,ire=_Ct()),ire}function bCt({children:t}){const{network:e}=fn(),{data:r,isLoading:n}=fs({queryKey:["hyperliquid","marketStats",e],queryFn:async()=>{const i=await Uo(e).getMarketStats();return Array.isArray(i)?xCt(i):i},refetchInterval:2e3});return d.jsx(kve.Provider,{value:{marketStats:r??{},isLoading:n},children:t})}function Sve(){const t=x.useContext(kve);if(!t)throw new Error("useMarketStats must be used within MarketStatsProvider");return t}function xCt(t){if(!Array.isArray(t)||t.length!==2)return{};const[e,r]=t,n=Array.isArray(e?.universe)?e.universe:[],i=Array.isArray(r)?r:[],s={},o=Math.min(n.length,i.length);for(let a=0;a<o;a++){const l=n[a],c=i[a];if(l.isDelisted||l.onlyIsolated)continue;const u=Array.isArray(c)?c[0]:c;if(!u)continue;const h=Number(u.markPx),f=Number(u.oraclePx),p=Number(u.prevDayPx),m=Number.isFinite(h)?h:0,v=Number.isFinite(f)?f:m,w=Number.isFinite(p)?p:0;s[l.name]={lastPrice:m,markPrice:m,oraclePrice:v,volume24h:Number(u.dayNtlVlm??0),openInterest:Number(u.openInterestUsd??u.openInterest??0),funding:Number(u.fundingRate??u.funding??0),nextFundingTime:wCt(),change24hAbs:m-w,change24hPct:w?(m-w)/w*100:0,szDecimals:l.szDecimals,maxLeverage:l.maxLeverage}}return s}function _Ct(){const t=Date.now(),e=3600*1e3;return Math.ceil(t/e)*e}const xU=Qoe({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:250,rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),_U=Qoe({id:421614,name:"Arbitrum Sepolia",blockTime:250,nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://sepolia.arbiscan.io",apiUrl:"https://api-sepolia.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:81930}},testnet:!0}),CCt={mainnet:xU,testnet:_U};async function mk(t,e,r="mainnet"){if(!t)throw new Error("Privy provider is required");if(!e)throw new Error("Address is required");if(typeof t?.request!="function")throw new Error("Invalid provider: missing request method");const n=t;let i;try{i=await n.request({method:"eth_accounts"})}catch(l){throw new Error(`Failed to fetch accounts from provider: ${l instanceof Error?l.message:"Unknown error"}`)}if(!i||i.length===0)throw new Error("No accounts found in provider");const s=i.find(l=>l.toLowerCase()===e.toLowerCase());if(!s)throw new Error(`Address ${e} not found in provider accounts`);const o={address:s,type:"json-rpc"},a=CCt[r];return mD({account:o,chain:a,transport:PE(n)})}async function Qf(t,e,r){if(!t)throw new Error("Provider is required");const n=await mk(t,e,r),i=Uo(r).createExchangeClient(n),s=A3(e,r),o=Uo(r).createExchangeClient(s);return{userWallet:n,userExchange:i,agentAccount:s,agentExchange:o}}const ECt=["agent","unauthorized","not authorized","signature","nonce","insufficient margin"];function kCt(t){const e=String(t instanceof Error?t.message:t).toLowerCase();return ECt.some(r=>e.includes(r))}async function Xu(t,e,r,n){if(!Z1e(e,r,n)){if(typeof t?.approveAgent!="function")throw new Error("Hyperliquid SDK does not expose approveAgent(); cannot approve agent. Please update the SDK or check the implementation.");try{await t.approveAgent({agentAddress:r,agentName:"HyperApp"}),kj(e,r,n),console.log(`[TradingExchange] Agent ${r} approved for user ${e}`)}catch(i){const s=i?.message||i?.cause?.message||i?.response?.data?.message||i?.response?.data?.error||String(i),o=String(s).toLowerCase();if(o.includes("extra agent already used")||o.includes("extra agent already")||o.includes("already used"))try{const a=await Uo(n).getExtraAgents(e);if((Array.isArray(a)?a:a?.agents??a?.extraAgents??[]).map(u=>typeof u=="string"?u:u?.agent??u?.address??u?.agentAddress).filter(Boolean).map(u=>String(u).toLowerCase()).includes(String(r).toLowerCase())){console.log(`[TradingExchange] Agent ${r} already registered for user ${e} on ${n}`),kj(e,r,n);return}cU(e,r,n)}catch{}throw console.error("[TradingExchange] Error approving agent:",i),new Error(`Failed to approve agent: ${s}`)}}}async function Ave(t,e,r,n,i){if(!(await new Us(i).getMaxBuilderFee(e,r)>=n))if(typeof t?.approveBuilderFee=="function")try{const l=`${n/100}%`;await t.approveBuilderFee({builder:r,maxFeeRate:l});return}catch(a){console.error("[TradingExchange] Error approving builder fee via SDK:",a);const l=a instanceof Error?a.message:String(a);throw l.includes("insufficient balance")?new Error(`Builder fee approval failed: The builder address (${r}) has insufficient balance on Hyperliquid. Please ensure the builder address has sufficient funds or use a different builder address.`):new Error(`Failed to approve builder fee: ${l}`)}else throw new Error("Builder fee approval required. SDK method approveBuilderFee not available.")}async function ky(t,e){try{return await t()}catch(r){if(!kCt(r))throw r;return cU(e.user,e.agent,e.network),await Xu(e.userExchange,e.user,e.agent,e.network),await t()}}const ore=Object.freeze(Object.defineProperty({__proto__:null,createTradingExchanges:Qf,ensureAgentApproved:Xu,ensureBuilderFeeApproved:Ave,retryWithReapprove:ky},Symbol.toStringTag,{value:"Module"}));function Wy(t,e){x.useEffect(()=>{const r=n=>{const i=n.target;if(i instanceof Element&&i.closest('[data-dropdown-portal="true"]'))return;(Array.isArray(t)?t:[t]).some(a=>a.current?.contains(i))||e()};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[t,e])}function I3({isOpen:t,onClose:e,children:r,title:n}){const i=x.useRef(null);Wy([i],()=>t&&e());const{theme:s}=Dr();if(x.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const o=s==="light"?"linear-gradient(180deg, #fff 80%, #e0f7fa 100%)":"linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02))",a=s==="light"?"#50D2C1":"rgba(255,255,255,.12)",l=s==="light"?"0 10px 40px rgba(80,210,193,0.10)":"0 10px 40px rgba(0,0,0,.30)",c=s==="light"?"#222":"";return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-[10px]",style:{background:s==="light"?"rgba(80,210,193,0.10)":"rgba(0,0,0,.65)"},children:d.jsxs("div",{ref:i,className:"rounded-[18px] border p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto backdrop-blur-[10px]",style:{background:o,borderColor:a,boxShadow:l,color:c},children:[n&&d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-black",style:{color:c},children:n}),d.jsx("button",{onClick:e,className:"text-mute-300 hover:text-txt transition-colors",style:s==="light"?{color:"#134e4a"}:{},children:""})]}),r]})})}function Gr({variant:t="primary",className:e="",children:r,...n}){const{theme:i}=Dr(),s="font-medium px-4 py-2 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",o={primary:i==="light"?"bg-primary-600 hover:bg-primary-700 text-black":"bg-primary-600 hover:bg-primary-700 text-white",secondary:i==="light"?"bg-gray-100 border border-black/10 hover:bg-gray-200 text-black":"bg-white/5 border border-white/10 hover:bg-white/10 text-white",danger:i==="light"?"bg-red-100 hover:bg-red-200 text-black":"bg-red-600 hover:bg-red-700 text-white"};return d.jsx("button",{className:`${s} ${o[t]} ${e}`,...n,children:r})}function SCt({isOpen:t,onAgree:e,onDecline:r,bpsDisplay:n,builderAddress:i}){const s=(n*.01).toFixed(3);return d.jsx(I3,{isOpen:t,onClose:r,title:"Builder Fee Approval",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"text-sm text-muted",children:[d.jsxs("p",{className:"mb-3",children:["To support the terminal, a builder fee of ",d.jsxs("span",{className:"text-txt font-bold",children:[n," bps"]})," (",s,"%) will be applied to your trades."]}),d.jsx("p",{className:"mb-3 font-semibold text-txt",children:"Builder fee approval is required to use this application."}),d.jsx("p",{className:"mb-3 text-txt",children:"Do you agree to this fee structure?"}),d.jsxs("div",{className:"mt-4 p-3 bg-black/30 rounded border border-white/10",children:[d.jsx("p",{className:"text-xs text-muted mb-1",children:"Builder Address:"}),d.jsx("p",{className:"text-xs break-all text-txt",children:i})]})]}),d.jsxs("div",{className:"flex gap-2 pt-2",children:[d.jsx(Gr,{variant:"secondary",onClick:r,className:"flex-1",children:"Decline & Disconnect"}),d.jsx(Gr,{variant:"secondary",onClick:e,className:"flex-1",children:"Approve"})]})]})})}function P3({address:t,network:e,enabled:r=!0,mode:n="canonical",refetchIntervalMs:i=1e4}){const s=Uo(e),o=fs({queryKey:wi.abstraction(t,e),enabled:r&&!!t,queryFn:()=>s.getUserAbstraction(t),staleTime:1/0,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchInterval:!1}),a=o.data,l=r&&!!t&&o.isSuccess&&(n==="both"||n==="spot"||n==="canonical"&&a==="unifiedAccount"),c=r&&!!t&&o.isSuccess&&(n==="both"||n==="perp"||n==="canonical"&&a!=="unifiedAccount"),u=fs({queryKey:["spotAccountInfo",e,t],enabled:l,queryFn:()=>s.getSpotAccountInfo(t),refetchInterval:l?i:!1}),h=fs({queryKey:["perpAccountInfo",e,t],enabled:c,queryFn:()=>s.getAccountInfo(t),refetchInterval:c?i:!1});return{data:x.useMemo(()=>a==="unifiedAccount"?u.data:h.data,[a,u.data,h.data]),spot:u.data,perp:h.data,abstraction:a,isLoading:o.isLoading||(l?u.isLoading:!1)||(c?h.isLoading:!1),error:o.error??u.error??h.error}}const Tve=x.createContext(void 0);function ACt({children:t}){const{address:e,getProvider:r,disconnect:n}=Pn(),{network:i}=fn(),{data:s}=P3({address:e||"",network:i}),o=sv(),[a,l]=x.useState(!1),[c,u]=x.useState(!1),[h,f]=x.useState(!1),[p,m]=x.useState(!1),v=x.useCallback(async()=>{if(!e||!lh()){f(!1);return}try{const C=await new Us(i).isBuilderFeeApproved(e,D0,Ol);if(C)f(!0),lee(e,i,!0),aee(e,i,!0);else{const k=LC(e,i);f(k&&C)}}catch(A){console.error("[BuilderFeeApproval] Error checking approval status:",A);const C=LC(e,i);f(C)}},[e,i]);x.useEffect(()=>{if(!e||!lh()||Ol===0){f(!1),m(!1);return}s&&s.totalEquity>0&&!F0(e,i)&&U1e(e,i);const A=T4t(e,i);F0(e,i)&&!h?(m(!0),A&&l(!0)):m(!1),v()},[e,i,s,v,h]);const w=x.useCallback(()=>{!e||!lh()||Ol===0||!F0(e,i)||h||l(!0)},[e,i,h]),b=x.useCallback(async()=>{if(e){u(!0);try{aee(e,i,!0);const A=r();if(!A)throw new Error("Provider not available");const{userExchange:C}=await Qf(A,e,i);await Ave(C,e,D0,Ol,i),lee(e,i,!0),f(!0),m(!1),l(!1),u(!1),P4t(e,i),o.success("Builder fee approved!")}catch(A){console.error("[BuilderFeeApproval] Builder fee approval failed:",A),u(!1);const C=A.message||String(A);o.error(`Approval failed, please try again: ${C}`)}}},[e,i,r,o.error]),E=x.useCallback(async()=>{e&&(I4t(e,i,!0),l(!1),o.error("Builder fee approval is required to use this application."),await n())},[e,i,n,o.error]),_=F1e(Ol);return d.jsxs(Tve.Provider,{value:{showApprovalModal:w,isApprovalPending:c,isBuilderFeeApproved:h,isBuilderFeeRequired:p,checkApprovalStatus:v},children:[t,lh()&&Ol>0&&d.jsx(SCt,{isOpen:a,onAgree:b,onDecline:E,bpsDisplay:_,builderAddress:D0})]})}function CU(){const t=x.useContext(Tve);if(!t)throw new Error("useBuilderFeeApproval must be used within BuilderFeeApprovalProvider");return t}function TCt({size:t=22,className:e="",...r}){return d.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-colors ${e}`,...r,children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M12 16v-4"}),d.jsx("path",{d:"M12 8h.01"})]})}function ICt({size:t=16,color:e="currentColor",className:r="",...n}){return d.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"2.5",strokeLinecap:"square",className:`inline-block shrink-0 ${r}`,...n,children:[d.jsx("path",{d:"M12 2L2 12l10 10 10-10L12 2z"}),d.jsx("path",{d:"M9 12l2 2 4-4"})]})}function PCt({size:t=16,color:e="currentColor",className:r="",...n}){return d.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"2.5",strokeLinecap:"square",className:`inline-block shrink-0 ${r}`,...n,children:[d.jsx("path",{d:"M12 2L2 20h20L12 2z"})," ",d.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),d.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})}function $Ct({id:t,message:e,type:r="info",status:n="open",onClose:i,duration:s=3e3}){x.useEffect(()=>{const a=setTimeout(()=>i(t),s);return()=>clearTimeout(a)},[t,s,i]);const o={success:{text:"text-buy-500",border:"border-[#2BFFB4]",glow:"shadow-[0_0_15px_rgba(43,255,180,0.2)]",icon:d.jsx(ICt,{})},error:{border:"border-[#FF4A4A]",glow:"shadow-[0_0_15px_rgba(255,74,74,0.2)]",icon:d.jsx(PCt,{})},info:{border:"border-[#00D7FF]",glow:"shadow-[0_0_15px_rgba(0,215,255,0.2)]",icon:d.jsx(TCt,{size:18})}}[r];return d.jsxs("div",{className:`
      relative px-4 py-2.5 
      rounded-lg border backdrop-blur-md
      flex items-center gap-3
      text-[11px] uppercase tracking-wider
      bg-black ${o.border}
      ${n==="closing"?"animate-slide-out-left":"animate-slide-left"}
    `,children:[d.jsxs("div",{className:"flex flex-row items-center gap-2",children:[o.icon,d.jsx("span",{className:"min-w-[180px]",children:e})]}),d.jsx("button",{onClick:()=>i(t),className:"ml-2 p-1 hover:bg-white/10 rounded transition-colors",children:d.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]})}function are({toasts:t,onRemove:e,position:r="top"}){const{isMobile:n}=wo(),i={top:"fixed flex-col top-[88px] bottom-auto",bottom:n?"fixed flex-col-reverse top-auto bottom-[80px]":"fixed flex-col-reverse top-auto bottom-[200px]"}[r];return d.jsx("div",{className:`
      left-1/2 -translate-x-1/2 z-[100] flex items-center gap-1 pointer-events-none 
      ${i}
    `,children:t.map(s=>d.jsx("div",{className:"pointer-events-auto",children:d.jsx($Ct,{id:s.id,message:s.message,type:s.type,status:s.status,onClose:e})},s.id))})}function NCt({children:t}){const[e,r]=x.useState([]),n=x.useCallback((s,o,a)=>{const l=crypto.randomUUID();r(c=>[...c,{id:l,message:s,type:o,position:a}])},[]),i=x.useCallback(s=>{r(o=>o.map(a=>a.id===s?{...a,status:"closing"}:a)),window.setTimeout(()=>{r(o=>o.filter(a=>a.id!==s))},300)},[]);return d.jsxs(Eve.Provider,{value:{addToast:n,removeToast:i},children:[t,d.jsx(are,{toasts:e.filter(s=>s.position==="top"),onRemove:i,position:"top"}),d.jsx(are,{toasts:e.filter(s=>s.position==="bottom"),onRemove:i,position:"bottom"})]})}function RCt(t){return!t||typeof t!="string"?!1:/^0x[a-fA-F0-9]{40}$/.test(t)}function OCt(t,e){return Array.from(e.keys()).some(r=>r.toLowerCase()===t.toLowerCase())}function jCt(t,e,r,n){if(r<=0)throw console.warn("[VALIDATE] Invalid balance:",{userBalance:r,type:typeof r,isNumber:typeof r=="number"}),new Error(`Invalid balance: ${r} (expected > 0)`);if(n<=0)throw new Error("Invalid price: zero or negative");if(e<=0)throw new Error("Invalid trade size: zero or negative");let i=0;switch(t.sizeMode){case"fixed":{if(!t.fixedSize||t.fixedSize<=0)throw new Error("Fixed size not configured");i=t.fixedSize/n;break}case"percentage":{if(!t.percentageOfCapital||t.percentageOfCapital<=0)throw new Error("Percentage not configured");i=r*t.percentageOfCapital/100/n;break}default:{i=e*t.scalingFactor;break}}if(i<1e-4)throw new Error("Position too small (min 0.0001)");if(i*n>r)throw new Error("Insufficient balance for this position");const s=r*.5;if(i*n>s)throw new Error(`Position too large (max ${(s/n).toFixed(4)} at this price)`);return i}function MCt(t,e,r,n,i,s=45e3){if(!e.isActive)return{valid:!1,reason:"Trader is not active"};if(n>=e.maxOpenPositions)return{valid:!1,reason:`Max ${e.maxOpenPositions} positions reached`};if(r<1e-4)return{valid:!1,reason:"Position size too small"};const o=r*s;if(o>i)return{valid:!1,reason:`Insufficient balance (need ${o.toFixed(2)}, have ${i.toFixed(2)})`};const a=i*.5;return o>a?{valid:!1,reason:`Position too large (${(o/i*100).toFixed(1)}% of balance, max 50%)`}:{valid:!0}}function DCt(t,e){const r=[];for(const[n,i]of e.copiedPositions.entries())i===t&&r.push(n);return r}const Ive=x.createContext(void 0);function FCt({children:t}){const[e,r]=x.useState(()=>{try{const b=localStorage.getItem("copyTradingState");if(b){const E=JSON.parse(b),_=new Map;return Object.entries(E.followedTraders||{}).forEach(([A,C])=>{const k=typeof C=="string"?JSON.parse(C):C;_.set(A,k)}),{followedTraders:_,traderTrades:new Map(Object.entries(E.traderTrades||{})),copyConfigs:new Map(Object.entries(E.copyConfigs||{}).map(([A,C])=>[A,typeof C=="string"?JSON.parse(C):C])),copiedPositions:new Map(Object.entries(E.copiedPositions||{}))}}}catch(b){console.error("Failed to initialize from localStorage:",b)}return{followedTraders:new Map,traderTrades:new Map,copyConfigs:new Map,copiedPositions:new Map}});x.useEffect(()=>{try{const b={followedTraders:Object.fromEntries(Array.from(e.followedTraders.entries()).map(([E,_])=>[E,JSON.stringify(_)])),traderTrades:Object.fromEntries(e.traderTrades),copyConfigs:Object.fromEntries(Array.from(e.copyConfigs.entries()).map(([E,_])=>[E,JSON.stringify(_)])),copiedPositions:Object.fromEntries(e.copiedPositions)};localStorage.setItem("copyTradingState",JSON.stringify(b)),e.followedTraders.size>0}catch(b){console.error("Failed to save copy trading state:",b)}},[e]);const n=x.useCallback(b=>{if(!RCt(b.address))throw new Error("Invalid address format");r(E=>{if(OCt(b.address,E.followedTraders))throw new Error("Already following this trader");const _=new Map(E.followedTraders);return _.set(b.address,b),{...E,followedTraders:_}})},[]),i=x.useCallback(b=>{r(E=>{const _=new Map(E.followedTraders);return _.delete(b),{...E,followedTraders:_}})},[]),s=x.useCallback((b,E)=>{r(_=>{const A=_.followedTraders.get(b);if(!A)return _;const C=new Map(_.followedTraders);return C.set(b,{...A,...E}),{..._,followedTraders:C}})},[]),o=x.useCallback(b=>e.copyConfigs.get(b),[e.copyConfigs]),a=x.useCallback((b,E)=>{r(_=>({..._,copyConfigs:new Map(_.copyConfigs).set(b,E)}))},[]),l=x.useCallback(b=>{r(E=>{const _=new Map(E.copyConfigs);return _.delete(b),{...E,copyConfigs:_}})},[]),c=x.useCallback(b=>e.traderTrades.get(b)||[],[e.traderTrades]),u=x.useCallback(b=>{r(E=>{const _=E.traderTrades.get(b.traderId)||[];return{...E,traderTrades:new Map(E.traderTrades).set(b.traderId,[..._,b])}})},[]),h=x.useCallback(b=>DCt(b,e),[e]),f=x.useCallback((b,E)=>{r(_=>({..._,copiedPositions:new Map(_.copiedPositions).set(b,E)}))},[]),p=x.useCallback(b=>{r(E=>{const _=new Map(E.copiedPositions);return _.delete(b),{...E,copiedPositions:_}})},[]),m=x.useCallback((b,E,_,A)=>{const C=e.copyConfigs.get(b);return C?jCt(C,E,_,A):E},[e.copyConfigs]),v=x.useCallback((b,E,_,A,C=45e3)=>{const k=e.followedTraders.get(b),P=e.copyConfigs.get(b);return!k||!P?{valid:!1,reason:"Trader or config not found"}:MCt(P,k,E,_,A,C)},[e.followedTraders,e.copyConfigs]),w={followedTraders:Array.from(e.followedTraders.values()),addFollowedTrader:n,removeFollowedTrader:i,updateFollowedTrader:s,getCopyConfig:o,setCopyConfig:a,removeCopyConfig:l,getTraderTrades:c,addTraderTrade:u,getCopiedPositions:h,addCopiedPosition:f,removeCopiedPosition:p,calculateSize:m,validateTrade:v};return d.jsx(Ive.Provider,{value:w,children:t})}function ov(){const t=x.useContext(Ive);if(!t)throw new Error("useCopyTrading must be used within CopyTradingProvider");return t}const Hn=(t,e=2)=>new Intl.NumberFormat("en-US",{minimumFractionDigits:e,maximumFractionDigits:e}).format(t),Zf=(t,e=6,r=4)=>!t||t.length<e+r?t:`${t.slice(0,e)}...${t.slice(-r)}`,S0=(t,e=2)=>`${t>=0?"+":""}${t.toFixed(e)}%`,Os=(t,e=2)=>t==null||Number.isNaN(t)?"--":t.toFixed(e),Ll=t=>{if(!t)return"--";const e=Math.floor(Math.log10(t)),r=Math.pow(10,e-4),n=r<1?-Math.floor(Math.log10(r)):0;return Hn(t,n)};function Ku(t){return t==null?"--":t>=1e3?t.toFixed(2):t>=1?t.toFixed(4):t.toFixed(6)}function LCt(t,e){const r=t*100,i=`${r>=0?"+":""}${r.toFixed(4)}%`;if(!e)return i;const s=Math.max(0,e-Date.now()),o=Math.floor(s/1e3),a=Math.floor(o/3600),l=Math.floor(o%3600/60),c=o%60;return`${i} ${a.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`}function lre(t,e){const r=t>=0?"+":"",n=Math.abs(t)>=1?t.toFixed(0):Math.abs(t)>=.01?t.toFixed(3):t.toPrecision(2);return`${r}${n} / ${r}${e.toFixed(2)}%`}const UCt=t=>{if(!t)return"0";const e=t.toString();if(!e.includes("e"))return e;const r=e.split("e"),n=Math.abs(parseInt(r[1],10));return t.toFixed(n)};function BCt(){const{selectedMarket:t,markets:e}=uc(),{price:r}=aU();return x.useEffect(()=>{const i=e.find(s=>s.symbol===t)?.baseAsset||t;if(r&&Number.isFinite(r)){const s=Ll(r);document.title=`${s} | ${i} | HyperUI`}else document.title=`${i} | HyperUI`},[r,t,e]),null}const zCt=new Kwt({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),qCt="cmjcxpgel00nxkz0ctvlao7np";function WCt({children:t}){return d.jsx(Ywt,{client:zCt,children:d.jsx(vwt,{appId:qCt,config:{loginMethods:["wallet","farcaster","email","sms"],appearance:{theme:"dark",accentColor:"#0ea5e9"},embeddedWallets:{createOnLogin:"users-without-wallets"}},children:d.jsx(abt,{children:d.jsx(E4t,{children:d.jsx(M4t,{children:d.jsx(j4t,{children:d.jsx(bCt,{children:d.jsxs(e_t,{children:[d.jsx(BCt,{}),d.jsx(O4t,{children:d.jsx(F4t,{children:d.jsx(FCt,{children:d.jsx(Y4t,{children:d.jsx(D4t,{children:d.jsx(iCt,{children:d.jsx(NCt,{children:d.jsx(ACt,{children:d.jsx(mCt,{children:t})})})})})})})})})]})})})})})})})})}const Pve=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();const HCt=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const VCt=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase());const cre=t=>{const e=VCt(t);return e.charAt(0).toUpperCase()+e.slice(1)};var GCt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KCt=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const YCt=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...a},l)=>x.createElement("svg",{ref:l,...GCt,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Pve("lucide",i),...!s&&!KCt(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,u])=>x.createElement(c,u)),...Array.isArray(s)?s:[s]]));const fc=(t,e)=>{const r=x.forwardRef(({className:n,...i},s)=>x.createElement(YCt,{ref:s,iconNode:e,className:Pve(`lucide-${HCt(cre(t))}`,`lucide-${t}`,n),...i}));return r.displayName=cre(t),r};const JCt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$ve=fc("circle-x",JCt);const XCt=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m8 16 2-2-2-2",key:"10vzyd"}],["path",{d:"M12 18h4",key:"1wd2n7"}]],QCt=fc("file-terminal",XCt);const ZCt=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],eEt=fc("gamepad-2",ZCt);const tEt=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Nve=fc("log-out",tEt);const rEt=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],nEt=fc("moon",rEt);const iEt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"m15 8-3 3-3-3",key:"1oxy1z"}]],sEt=fc("panel-bottom-close",iEt);const oEt=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]],aEt=fc("scan-eye",oEt);const lEt=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cEt=fc("settings",lEt);const uEt=[["path",{d:"M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6",key:"14rsvq"}],["path",{d:"m21 21-9-9",key:"1et2py"}],["path",{d:"M21 15v6h-6",key:"1jko0i"}]],dEt=fc("square-arrow-out-down-right",uEt);const hEt=[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]],fEt=fc("square-arrow-out-up-right",hEt);const pEt=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]],gEt=fc("sun-medium",pEt);const mEt=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],yEt=fc("upload",mEt);var Aw={},jP,ure;function vEt(){return ure||(ure=1,jP=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,r=[],n=0;n<t.rangeCount;n++)r.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||r.forEach(function(i){t.addRange(i)}),e&&e.focus()}}),jP}var MP,dre;function wEt(){if(dre)return MP;dre=1;var t=vEt(),e={"text/plain":"Text","text/html":"Url",default:"Text"},r="Copy to clipboard: #{key}, Enter";function n(s){var o=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return s.replace(/#{\s*key\s*}/g,o)}function i(s,o){var a,l,c,u,h,f,p=!1;o||(o={}),a=o.debug||!1;try{c=t(),u=document.createRange(),h=document.getSelection(),f=document.createElement("span"),f.textContent=s,f.ariaHidden="true",f.style.all="unset",f.style.position="fixed",f.style.top=0,f.style.clip="rect(0, 0, 0, 0)",f.style.whiteSpace="pre",f.style.webkitUserSelect="text",f.style.MozUserSelect="text",f.style.msUserSelect="text",f.style.userSelect="text",f.addEventListener("copy",function(v){if(v.stopPropagation(),o.format)if(v.preventDefault(),typeof v.clipboardData>"u"){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var w=e[o.format]||e.default;window.clipboardData.setData(w,s)}else v.clipboardData.clearData(),v.clipboardData.setData(o.format,s);o.onCopy&&(v.preventDefault(),o.onCopy(v.clipboardData))}),document.body.appendChild(f),u.selectNodeContents(f),h.addRange(u);var m=document.execCommand("copy");if(!m)throw new Error("copy command was unsuccessful");p=!0}catch(v){a&&console.error("unable to copy using execCommand: ",v),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(o.format||"text",s),o.onCopy&&o.onCopy(window.clipboardData),p=!0}catch(w){a&&console.error("unable to copy using clipboardData: ",w),a&&console.error("falling back to prompt"),l=n("message"in o?o.message:r),window.prompt(l,s)}}finally{h&&(typeof h.removeRange=="function"?h.removeRange(u):h.removeAllRanges()),f&&document.body.removeChild(f),c()}return p}return MP=i,MP}var hre;function bEt(){if(hre)return Aw;hre=1;function t(C){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},t(C)}Object.defineProperty(Aw,"__esModule",{value:!0}),Aw.CopyToClipboard=void 0;var e=i(b1()),r=i(wEt()),n=["text","onCopy","options","children"];function i(C){return C&&C.__esModule?C:{default:C}}function s(C,k){var P=Object.keys(C);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(C);k&&(F=F.filter(function(N){return Object.getOwnPropertyDescriptor(C,N).enumerable})),P.push.apply(P,F)}return P}function o(C){for(var k=1;k<arguments.length;k++){var P=arguments[k]!=null?arguments[k]:{};k%2?s(Object(P),!0).forEach(function(F){_(C,F,P[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(P)):s(Object(P)).forEach(function(F){Object.defineProperty(C,F,Object.getOwnPropertyDescriptor(P,F))})}return C}function a(C,k){if(C==null)return{};var P=l(C,k),F,N;if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(C);for(N=0;N<$.length;N++)F=$[N],!(k.indexOf(F)>=0)&&Object.prototype.propertyIsEnumerable.call(C,F)&&(P[F]=C[F])}return P}function l(C,k){if(C==null)return{};var P={},F=Object.keys(C),N,$;for($=0;$<F.length;$++)N=F[$],!(k.indexOf(N)>=0)&&(P[N]=C[N]);return P}function c(C,k){if(!(C instanceof k))throw new TypeError("Cannot call a class as a function")}function u(C,k){for(var P=0;P<k.length;P++){var F=k[P];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(C,F.key,F)}}function h(C,k,P){return k&&u(C.prototype,k),Object.defineProperty(C,"prototype",{writable:!1}),C}function f(C,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(k&&k.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),k&&p(C,k)}function p(C,k){return p=Object.setPrototypeOf||function(F,N){return F.__proto__=N,F},p(C,k)}function m(C){var k=b();return function(){var F=E(C),N;if(k){var $=E(this).constructor;N=Reflect.construct(F,arguments,$)}else N=F.apply(this,arguments);return v(this,N)}}function v(C,k){if(k&&(t(k)==="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(C)}function w(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function E(C){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(P){return P.__proto__||Object.getPrototypeOf(P)},E(C)}function _(C,k,P){return k in C?Object.defineProperty(C,k,{value:P,enumerable:!0,configurable:!0,writable:!0}):C[k]=P,C}var A=(function(C){f(P,C);var k=m(P);function P(){var F;c(this,P);for(var N=arguments.length,$=new Array(N),U=0;U<N;U++)$[U]=arguments[U];return F=k.call.apply(k,[this].concat($)),_(w(F),"onClick",function(O){var D=F.props,T=D.text,I=D.onCopy,R=D.children,L=D.options,B=e.default.Children.only(R),q=(0,r.default)(T,L);I&&I(T,q),B&&B.props&&typeof B.props.onClick=="function"&&B.props.onClick(O)}),F}return h(P,[{key:"render",value:function(){var N=this.props;N.text,N.onCopy,N.options;var $=N.children,U=a(N,n),O=e.default.Children.only($);return e.default.cloneElement(O,o(o({},U),{},{onClick:this.onClick}))}}]),P})(e.default.PureComponent);return Aw.CopyToClipboard=A,_(A,"defaultProps",{onCopy:void 0,options:void 0}),Aw}var DP,fre;function xEt(){if(fre)return DP;fre=1;var t=bEt(),e=t.CopyToClipboard;return e.CopyToClipboard=e,DP=e,DP}var Rve=xEt();const _Et=Mi(Rve);function CEt({onClick:t,ariaLabel:e,children:r}){return d.jsx("button",{onClick:t,"aria-label":e,className:"p-2 rounded-lg text-txt hover:bg-white/10 transition-colors",type:"button",children:r})}function EEt({onClick:t}){return d.jsx(CEt,{onClick:t,ariaLabel:"Open menu",children:d.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:d.jsx("path",{d:"M3 12h18M3 6h18M3 18h18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})}const kEt={up:180,down:0,left:90,right:-90};function BC({toggle:t=!1,direction:e="down",size:r=24,className:n="",...i}){const s=kEt[e]+(t?180:0);return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-transform duration-300 rotate-${s} ${n}`,...i,children:d.jsx("path",{d:"m6 9 6 6 6-6"})})}function Ove({size:t=16,className:e="",...r}){return d.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",focusable:"false","aria-hidden":"true",className:`cursor-pointer transition-opacity hover:opacity-80 ${e}`,...r,children:d.jsx("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"})})}function jve(t){return d.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",focusable:"false",...t,children:d.jsx("path",{d:"M19.54 4.91A16.36 16.36 0 0 0 15.65 3.7c-.16.29-.35.67-.48.98a15.2 15.2 0 0 0-4.34 0c-.13-.31-.33-.69-.49-.98a16.28 16.28 0 0 0-3.9 1.21C3.88 8.13 3.2 11.26 3.53 14.35c1.55 1.16 3.05 1.86 4.53 2.32.36-.49.68-1.02.96-1.58-.52-.2-1.02-.44-1.5-.73.13-.1.26-.2.39-.3 2.9 1.36 6.04 1.36 8.9 0 .13.1.26.2.39.3-.48.29-.98.53-1.5.73.28.56.6 1.09.96 1.58 1.48-.46 2.98-1.16 4.53-2.32.39-3.58-.66-6.68-2.47-9.44ZM9.15 13.44c-.87 0-1.58-.8-1.58-1.79 0-.99.7-1.79 1.58-1.79.88 0 1.59.81 1.58 1.79 0 .99-.7 1.79-1.58 1.79Zm5.7 0c-.87 0-1.58-.8-1.58-1.79 0-.99.7-1.79 1.58-1.79.88 0 1.59.81 1.58 1.79 0 .99-.7 1.79-1.58 1.79Z"})})}function Mve(t){return d.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",focusable:"false",...t,children:d.jsx("path",{d:"M21.9 4.6c.2-.9-.6-1.6-1.4-1.3L2.9 10.4c-1 .4-1 1.8.1 2.1l4.6 1.5 1.8 5.6c.3.9 1.5 1 2 .2l2.6-3.7 5 3.7c.8.6 2 .1 2.2-.9L21.9 4.6ZM9.3 13.6l8.8-6.1-7.3 7.2-.3 3.5-1.2-3.8Z"})})}function Dve(t){return d.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",focusable:"false",...t,children:d.jsx("path",{d:"M18.9 2H22l-6.8 7.8L23 22h-6.8l-5.3-6.9L4.9 22H2l7.3-8.4L1.5 2h7l4.8 6.3L18.9 2Zm-1.2 18h1.9L7.3 3.9H5.2L17.7 20Z"})})}function Fve(t){return d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",focusable:"false",...t,children:[d.jsx("path",{d:"M4 6h16a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),d.jsx("path",{d:"m22 8-10 7L2 8",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function SEt({open:t,onClose:e}){const{theme:r}=Dr();if(!t)return null;const n=r==="light"?"#000":void 0,i=r==="light"?"#222":void 0,s=r==="light"?"#000":void 0,o=a=>d.jsx("span",{style:s?{color:s}:{},children:a});return d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button","aria-label":"Close menu backdrop",className:"fixed inset-0 z-40 bg-black/60 md:hidden",onClick:e}),d.jsxs("aside",{className:"fixed top-0 left-0 z-[1000] h-[100dvh] w-[280px] md:hidden border-r border-stroke/60 flex flex-col",style:{background:r==="light"?"#FAFAFA":"linear-gradient(180deg, rgba(8,10,12,.96), rgba(8,10,12,.86))",boxShadow:"12px 0 40px rgba(0,0,0,.45)"},children:[d.jsxs("div",{className:"flex items-center justify-between px-4 pt-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("img",{src:r==="light"?"./hyperui200x200-light.png":"./hyperui200x200.png",alt:"HyperUI",className:"h-10 w-10 rounded-full object-cover"}),d.jsx("div",{className:"text-xl font-black tracking-wide text-cyan-500",style:n?{color:n}:{},children:"HyperUI"})]}),d.jsx("button",{type:"button",className:"p-2 rounded-lg text-white/70 hover:bg-white/10 transition-colors","aria-label":"Close menu",onClick:e,children:""})]}),d.jsxs("nav",{className:"px-4 pt-5 flex flex-col flex-1",children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("a",{href:"https://docs.google.com/document/d/15MKtufRkAIYhMkIQREKkZ67vyUa9Rnen/edit",target:"_blank",className:"w-full text-left px-2 py-2 rounded-lg text-[18px] font-semibold tracking-tight hover:bg-white/8 transition-colors",style:s?{color:s}:{},onClick:e,children:o("Product Guide (Mobile)")}),d.jsx(C1,{to:"/leaderboard",className:"w-full text-left px-2 py-2 rounded-lg text-[18px] font-semibold tracking-tight hover:bg-white/8 transition-colors",style:s?{color:s}:{},children:o("Leaderboard")}),d.jsx("a",{href:"",className:"w-full text-left px-2 py-2 rounded-lg text-[18px] font-semibold tracking-tight hover:bg-white/8 transition-colors",style:s?{color:s}:{},onClick:e,children:o("Referrals (soon)")}),d.jsx("a",{href:"",className:"w-full text-left px-2 py-2 rounded-lg text-[18px] font-semibold tracking-tight hover:bg-white/8 transition-colors",style:s?{color:s}:{},onClick:e,children:o("Events (soon)")}),d.jsx("a",{href:"https://www.engrewlabs.org",target:"_blank",rel:"noopener noreferrer",className:"block w-full px-2 py-2 rounded-lg text-[18px] font-semibold tracking-tight hover:bg-white/8 transition-colors",style:s?{color:s}:{},onClick:e,children:"EngrewLabs"}),d.jsx("a",{href:"https://app.hyperliquid.xyz/join/HYPERUI",target:"_blank",className:"w-full text-left px-2 py-2 rounded-lg text-[18px] font-semibold tracking-tight hover:bg-white/8 transition-colors",style:s?{color:s}:{},onClick:e,children:d.jsx("span",{style:s?{color:s}:{},children:"Hyperliquid Mainnet"})}),d.jsx("a",{href:"https://app.hyperliquid-testnet.xyz/trade",target:"_blank",className:"w-full text-left px-2 py-2 rounded-lg text-[18px] font-semibold tracking-tight hover:bg-white/8 transition-colors",style:s?{color:s}:{},onClick:e,children:d.jsx("span",{style:s?{color:s}:{},children:"Hyperliquid Testnet"})}),d.jsx("a",{href:"https://app.hyperliquid-testnet.xyz/drip",target:"_blank",className:"w-full text-left px-2 py-2 rounded-lg text-[18px] font-semibold tracking-tight hover:bg-white/8 transition-colors",style:s?{color:s}:{},onClick:e,children:d.jsx("span",{style:s?{color:s}:{},children:"Hyperliquid Faucet"})}),d.jsx("a",{href:"https://app.hyperliquid.xyz/announcements",target:"_blank",className:"w-full text-left px-2 py-2 rounded-lg text-[18px] font-semibold tracking-tight hover:bg-white/8 transition-colors",style:s?{color:s}:{},onClick:e,children:d.jsx("span",{style:s?{color:s}:{},children:"Hyperliquid Events"})}),d.jsx("a",{href:"https://hyperliquid.gitbook.io/hyperliquid-docs",target:"_blank",className:"w-full text-left px-2 py-2 rounded-lg text-[18px] font-semibold tracking-tight hover:bg-white/8 transition-colors",style:s?{color:s}:{},onClick:e,children:d.jsx("span",{style:s?{color:s}:{},children:"Hyperliquid Docs"})})]}),d.jsxs("div",{className:"mt-auto pt-4 pb-6 border-t",style:r==="light"?{borderTop:"1px solid #bbb"}:{borderTop:"1px solid rgba(255,255,255,0.1)"},children:[d.jsx("div",{className:"text-[11px] mb-2",style:i?{color:i}:{},children:"Socials"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("a",{href:"mailto:contactus@engrewlabs.org",className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center ${r==="light"?"bg-black/10 hover:bg-gray-200":"bg-black/30 hover:bg-white/10"}`,"aria-label":"Email",title:"Email",onClick:e,children:d.jsx(Fve,{className:r==="light"?"w-5 h-5 text-black mx-auto":"w-5 h-5 text-white/60 mx-auto"})}),d.jsx("a",{href:"https://discord.gg/VyeDCMUB",target:"_blank",rel:"noopener noreferrer",className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center ${r==="light"?"bg-black/10 hover:bg-gray-200":"bg-black/30 hover:bg-white/10"}`,"aria-label":"Discord",title:"Discord",onClick:e,children:d.jsx(jve,{className:r==="light"?"w-5 h-5 text-black mx-auto":"w-5 h-5 text-white/60 mx-auto"})}),d.jsx("a",{href:"https://t.me/HyperUIOfficial",target:"_blank",rel:"noopener noreferrer",className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center ${r==="light"?"bg-black/10 hover:bg-gray-200":"bg-black/30 hover:bg-white/10"}`,"aria-label":"Telegram",title:"Telegram",onClick:e,children:d.jsx(Mve,{className:r==="light"?"w-5 h-5 text-black mx-auto":"w-5 h-5 text-white/60 mx-auto"})}),d.jsx("a",{href:"https://x.com/HyperUIOfficial",target:"_blank",rel:"noopener noreferrer",className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center ${r==="light"?"bg-black/10 hover:bg-gray-200":"bg-black/30 hover:bg-white/10"}`,"aria-label":"Twitter / X",title:"Twitter / X",onClick:e,children:d.jsx(Dve,{className:r==="light"?"w-5 h-5 text-black mx-auto":"w-5 h-5 text-white/60 mx-auto"})})]})]})]})]})]})}const pre="/assets/hyperui_bg-ZDW2F3hN.wav",AEt="/assets/hyperui_trade-CjwwDWgZ.wav",$3={DEFAULT_SLIPPAGE_BPS:50,CLOSE_SLIPPAGE_BPS:10,MAX_POSITIONS:9};function TEt(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}function Ph(t,e){if(e<=0||!Number.isFinite(e)||!Number.isFinite(t))return console.warn(`[OrderHelpers] Invalid tick size or price: tickSize=${e}, price=${t}`),t;const r=1e10,i=Math.round(t/e*r)/r*e,s=Math.abs(i%e),o=e*1e-10;return s>o&&s<e-o&&console.warn(`[OrderHelpers] Rounding may have issues: price=${t}, tickSize=${e}, result=${i}, remainder=${s}`),i}function Zl(t,e){const r=Ph(t,e);if(e>=1)return r.toFixed(0);let n;if(e<=0)n=8;else{const i=Math.abs(Math.log10(e));n=Math.ceil(i),n=Math.min(n,10)}return r.toFixed(n)}function EU(t){const e=t.indexOf(".");return e===-1?0:t.length-e-1}async function IEt(t,e){const r=await t.infoClient.l2Book({coin:e}),n=r?.levels?.[0]?.[0],i=r?.levels?.[1]?.[0];if(!n?.px||!i?.px)throw new Error("No liquidity in order book");const s=parseFloat(n.px),o=parseFloat(i.px);return(s+o)/2}function V6(t,e){if(e<=0)throw new Error(`Invalid price for conversion: ${e}`);if(t<=0)throw new Error(`Invalid USDC size: ${t}`);return t/e}function Mg(t,e){if(!Number.isFinite(t)||t<=0)throw new Error(`Invalid size: ${t}`);const r=e??8,n=t.toFixed(r),i=parseFloat(n);if(i<=0){const o=Math.max(r+2,8),a=t.toFixed(o);if(parseFloat(a)<=0)throw new Error(`Size ${t} rounded to zero with ${r} decimals (extended: ${o})`);return a}const s=i.toString();return s.includes(".")&&s.split(".")[1].length>=r?s:n}async function Sj(t,e,r,n=$3.DEFAULT_SLIPPAGE_BPS){const i=await t.infoClient.l2Book({coin:e}),s=r?i?.levels?.[1]?.[0]:i?.levels?.[0]?.[0];if(!s?.px)throw new Error("No liquidity in order book");const o=parseFloat(s.px),a=n/1e4,l=r?o*(1+a):o*(1-a),c=await t.getTickSize(e);if(c&&c>0)return Ph(l,c);{const u=EU(s.px);return TEt(l,u)}}async function PEt(t,e,r,n=$3.CLOSE_SLIPPAGE_BPS){const i=await t.infoClient.l2Book({coin:e}),s=i?.levels?.[0]??[],o=i?.levels?.[1]??[],a=r?o[0]:s[0];if(!a?.px)throw new Error(`No liquidity for ${e}`);const l=parseFloat(a.px),c=n/1e4,u=r?l*(1+c):l*(1-c),h=await t.getTickSize(e);if(h&&h>0)return Zl(u,h);{const f=EU(a.px);return u.toFixed(f)}}function $Et(t){return t.side==="short"}async function Lve(t,e,r,n,i,s=$3.DEFAULT_SLIPPAGE_BPS){const o=await Sj(t,r,n,s),a=await t.getTickSize(r);let l;if(a&&a>0){l=Zl(o,a);const h=parseFloat(l),f=Math.abs(h%a),p=a*1e-10;if(f>p&&f<a-p){console.error(`[OrderHelpers] Price ${l} is not divisible by tick size ${a}, remainder: ${f}`);const m=Ph(h,a);l=Zl(m,a)}console.log(`[OrderHelpers] Market order for ${r}: price=${l}, tickSize=${a}, original=${o}`)}else l=o.toFixed(EU(String(o))),console.warn(`[OrderHelpers] No tick size for ${r}, using decimal precision: ${l}`);const c=await t.getSizeDecimals(r),u=Mg(i,c);return{a:e,b:n,p:l,s:u,r:!1,t:{limit:{tif:"FrontendMarket"}}}}async function Uve(t,e,r,n,i,s){const o=await t.getTickSize(r),a=o&&o>0?Ph(i,o):i,l=o&&o>0?Zl(a,o):a.toString(),c=await t.getSizeDecimals(r),u=Mg(s,c);return{a:e,b:n,p:l,s:u,r:!1,t:{limit:{tif:"Gtc"}}}}async function NEt(t,e,r,n,i,s){const o=await t.getTickSize(r),a=o&&o>0?Ph(i,o):i,l=o&&o>0?Zl(a,o):a.toString(),c=await t.getSizeDecimals(r),u=Mg(s,c),h=parseFloat(u);if(isNaN(h)||h<=0)throw new Error(`Formatted size is invalid: "${u}" (original: ${s}, decimals: ${c})`);const f=o&&o>0?Zl(a,o):a.toString();return console.log(`[OrderHelpers] Stop order for ${r}: size=${s} -> ${u} (decimals: ${c}), triggerPrice=${i} -> ${l}, p=${f}`),{a:e,b:n,p:f,s:u,r:!1,t:{trigger:{triggerPx:l,isMarket:!0,tpsl:"sl"}}}}async function REt(t,e,r,n,i,s,o){const a=await t.getTickSize(r),l=a&&a>0?Ph(i,a):i,c=a&&a>0?Ph(s,a):s,u=a&&a>0?Zl(l,a):l.toString(),h=a&&a>0?Zl(c,a):c.toString(),f=await t.getSizeDecimals(r),p=Mg(o,f);return{a:e,b:n,p:h,s:p,r:!1,t:{trigger:{triggerPx:u,isMarket:!1,tpsl:"sl"}}}}async function gre(t,e,r,n,i=$3.CLOSE_SLIPPAGE_BPS){const s=$Et(n),o=await PEt(t,r,s,i),a=await t.getSizeDecimals(r),l=Mg(n.size,a);return{a:e,b:s,p:o,s:l,r:!0,t:{limit:{tif:"FrontendMarket"}}}}async function OEt(t,e,r,n,i,s,o=!0,a){if(!i||i<=0)throw new Error(`Invalid trigger price for TP: ${i}`);if(!s||s<=0)throw new Error(`Invalid size for TP: ${s}`);const l=await t.getTickSize(r),c=l&&l>0?Ph(i,l):i;if(c<=0)throw new Error(`Rounded trigger price is invalid: ${c} (original: ${i})`);const u=l&&l>0?Zl(c,l):c.toString(),h=parseFloat(u);if(isNaN(h)||h<=0)throw new Error(`Invalid trigger price string: ${u}`);let f;if(o)f=l&&l>0?Zl(c,l):c.toString();else throw new Error("Limit price required and must be > 0 for limit TP order");const p=await t.getSizeDecimals(r),m=Mg(s,p),v=parseFloat(m);if(isNaN(v)||v<=0)throw new Error(`Invalid size string: ${m} (original: ${s})`);const w=h,b={a:e,b:n,p:f,s:m,r:!0,t:{trigger:{triggerPx:w,isMarket:o,tpsl:"tp"}}};return console.log("[OrderHelpers] Created TP order config:",JSON.stringify(b,null,2)),console.log("[OrderHelpers] TP order values:",{triggerPx:w,triggerPxType:typeof w,size:m,sizeNum:v,price:f}),b}async function jEt(t,e,r,n,i,s,o=!0,a){if(!i||i<=0)throw new Error(`Invalid trigger price for SL: ${i}`);if(!s||s<=0)throw new Error(`Invalid size for SL: ${s}`);const l=await t.getTickSize(r),c=l&&l>0?Ph(i,l):i;if(c<=0)throw new Error(`Rounded trigger price is invalid: ${c} (original: ${i})`);const u=l&&l>0?Zl(c,l):c.toString(),h=parseFloat(u);if(isNaN(h)||h<=0)throw new Error(`Invalid trigger price string: ${u}`);let f;if(o)f=l&&l>0?Zl(c,l):c.toString();else throw new Error("Limit price required and must be > 0 for limit SL order");const p=await t.getSizeDecimals(r),m=Mg(s,p),v=parseFloat(m);if(isNaN(v)||v<=0)throw new Error(`Invalid size string: ${m} (original: ${s})`);const w=h,b={a:e,b:n,p:f,s:m,r:!0,t:{trigger:{triggerPx:w,isMarket:o,tpsl:"sl"}}};return console.log("[OrderHelpers] Created SL order config:",JSON.stringify(b,null,2)),console.log("[OrderHelpers] SL order values:",{triggerPx:w,triggerPxType:typeof w,size:m,sizeNum:v,price:f}),b}function N3(t={}){const{toastPosition:e="top"}=t,{address:r,isConnected:n,getProvider:i}=Pn(),{orderType:s,leverage:o,size:a,limitPrice:l,stopTriggerPrice:c,takeProfit:u,stopLoss:h,setSide:f}=oU(),{selectedMarket:p}=uc(),{network:m}=fn(),{positions:v,setPositions:w}=dc(),b=k3(),{isBuilderFeeRequired:E}=CU(),{removeCopiedPosition:_}=ov(),[A,C]=x.useState(!1),[k,P]=x.useState(null),[F,N]=x.useState(!1),$=sv(e),U=x.useRef(!1),O=x.useCallback(async(j,Y)=>{if(A){$.info(`Please wait (${k??"operation"} in progress)`);return}C(!0),P(j);try{return await Y()}finally{C(!1),P(null)}},[$,A,k]),D=$3.MAX_POSITIONS,T={HYPE:1.5,BTC:45e3,ETH:2500},I=100,R=x.useCallback(async(j,Y)=>{const Q=Y!==void 0?Y:parseFloat(a),z=Y!==void 0?1:10.5;if(!Q||Q<z){$.error(`Please set a valid size in the order form (minimum ${z} USDC)`);return}return O(j,async()=>{if(!n||!r){$.error("Please connect your wallet first");return}if(E){$.error("Builder fee approval is required to trade. Please approve the builder fee.");return}if(s==="limit"&&(!l||parseFloat(l)<=0)){$.error("Limit order requires a limit price");return}if((s==="stop-market"||s==="stop-limit")&&(!c||parseFloat(c)<=0)){$.error("Stop order requires a trigger price");return}if(s==="stop-limit"&&(!l||parseFloat(l)<=0)){$.error("Stop Limit order requires a limit price");return}if(v.filter(ge=>ge.id&&ge.size>0).length>=D){$.error(`Maximum ${D} positions allowed. Please close a position first.`);return}const ee=parseFloat(a),te=l?parseFloat(l):void 0,se=c?parseFloat(c):void 0,ce="real";try{if(ce==="real"){const ge=i();if(!ge){$.error("Wallet provider not available");return}const{userExchange:ae,agentAccount:_e,agentExchange:Ee}=await Qf(ge,r,m),Ie=new Us(m),qe=await Ie.getAssetIndex(p);if(qe===-1){$.error(`Market ${p} not found`);return}const me=j==="openLong";let ze,rt;if(s==="market")ze=await Sj(Ie,p,me),rt=V6(ee,ze);else if(s==="limit"){if(!te){$.error("Limit order requires a limit price");return}ze=te,rt=V6(ee,ze)}else{if(!se){$.error("Stop order requires a trigger price");return}if(s==="stop-limit"){if(!te){$.error("Stop Limit order requires a limit price");return}ze=te,rt=V6(ee,te)}else ze=await Sj(Ie,p,me),rt=V6(ee,ze)}if(!rt||rt<=0||!Number.isFinite(rt)){$.error(`Invalid order size: ${rt} (converted from ${ee} USDC at ${ze})`);return}let Ae;s==="market"?Ae=await Lve(Ie,qe,p,me,rt):s==="limit"?Ae=await Uve(Ie,qe,p,me,te,rt):s==="stop-limit"?Ae=await REt(Ie,qe,p,me,te,parseFloat(l),rt):Ae=await NEt(Ie,qe,p,me,se,rt);const Fe=await Ie.getTickSize(p);if(Fe&&Fe>0&&Ae.p!=="0"){const Le=parseFloat(Ae.p);if(!isNaN(Le)){const Ke=Math.abs(Le%Fe),Qe=Fe*1e-8;if(Ke>Qe&&Ke<Fe-Qe){console.error(`[Order] Price validation failed: ${Ae.p} is not divisible by tick size ${Fe}, remainder: ${Ke}`),$.error(`Price validation error: ${Ae.p} not divisible by tick size ${Fe}`);return}console.log(`[Order] Price validation passed: ${Ae.p} is divisible by tick size ${Fe}`)}}console.log(` [Order] Network: ${m.toUpperCase()} (${m==="mainnet"?"MAINNET":"TESTNET"})`);const nt=await Ie.getAccountInfo(r);console.log("[Order] Account info before order:",nt),console.log(`[Order] Free collateral: ${nt.freeCollateral}, Total equity: ${nt.totalEquity}`);try{const Le=await Ie.getAccountInfo(_e.address);console.log("[Order] Agent account info:",Le)}catch(Le){console.warn("[Order] Could not fetch agent account info:",Le)}if(!F0(r,m)){$.error("Please deposit before performing actions.");return}console.log(`[Order] Ensuring agent ${_e.address} is approved for user ${r}`);try{await Xu(ae,r,_e.address,m),console.log("[Order] Agent approval confirmed")}catch(Le){const Ke=String(Le?.message||Le).toLowerCase();if(Ke.includes("already used")||Ke.includes("extra agent already")){console.log('[Order] Agent is already approved on Hyperliquid (got "already used" error)');const{markAgentApproved:Qe}=await bi(async()=>{const{markAgentApproved:it}=await Promise.resolve().then(()=>Rb);return{markAgentApproved:it}},void 0);Qe(r,_e.address,m)}else{console.error("[Order] Agent approval failed:",Le);const{clearAgentApproved:Qe}=await bi(async()=>{const{clearAgentApproved:it}=await Promise.resolve().then(()=>Rb);return{clearAgentApproved:it}},void 0);Qe(r,_e.address,m);try{await Xu(ae,r,_e.address,m),console.log("[Order] Agent approval confirmed after retry")}catch{throw Le}}}try{await Q7(Ee,U,m)}catch(Le){console.warn("[Referral] apply failed, continuing",Le)}let Ye;if(lh()&&"real"==="real"&&r){const Le=S4t(r,m);if(LC(r,m)||$.info("Please approve builder fee."),Le)try{await new Us(m).isBuilderFeeApproved(r,D0,Ol)&&(Ye={b:D0,f:Ol})}catch(Qe){console.error("[Order] Error checking builder fee approval:",Qe)}}console.log("[Order] Sending order config:",JSON.stringify(Ae,null,2)),Ye&&console.log("[Order] With builder fee:",Ye);const xt=await ky(async()=>{await Ee.updateLeverage({asset:qe,isCross:!1,leverage:o});const Le={orders:[Ae],grouping:"na"};return Ye&&(Le.builder=Ye),console.log(`[Order] Placing order via agent ${_e.address} for user ${r}`),await Ee.order(Le)},{userExchange:ae,user:r,agent:_e.address,network:m}).catch(async Le=>{if(String(Le?.message||Le||"").toLowerCase().includes("insufficient margin")){console.warn("[Order] Got insufficient margin error - clearing agent approval cache and retrying");const{clearAgentApproved:Qe}=await bi(async()=>{const{clearAgentApproved:st}=await Promise.resolve().then(()=>Rb);return{clearAgentApproved:st}},void 0);Qe(r,_e.address,m),await Xu(ae,r,_e.address,m),await Ee.updateLeverage({asset:qe,isCross:!1,leverage:o});const it={orders:[Ae],grouping:"na"};return Ye&&(it.builder=Ye),await Ee.order(it)}throw Le});if(console.log("[Order] Order result:",JSON.stringify(xt,null,2)),xt.status==="ok"){const Le=j==="openLong"?"Long":"Short";s==="stop-market"||s==="stop-limit"?($.success(`${Le} stop order placed: ${ee} USDC @ ${o}x (will execute at trigger price)`),r&&(b.invalidateQueries({queryKey:wi.openOrders(r,m)}),setTimeout(()=>{b.refetchQueries({queryKey:wi.openOrders(r,m)})},1e3))):($.success(`${Le} order placed: ${ee} USDC @ ${o}x`),r&&b.invalidateQueries({queryKey:wi.positions(r,m)})),Ej({type:"trade",id:`user-${Date.now()}-${Math.random().toString(16).slice(2)}`,market:p,side:j==="openLong"?"buy":"sell",size:rt,timestamp:Date.now(),isUser:!0,source:"userAction"});const Ke=u&&parseFloat(u)>0,Qe=h&&parseFloat(h)>0;if((Ke||Qe)&&(s==="market"||s==="limit"))if(!rt||rt<=0)console.warn("[Order] Cannot create TP/SL: order size is invalid",rt),$.error("TP/SL skipped: invalid order size");else try{let it=0;if(xt.response?.data?.statuses?.[0]?.filled){const st=xt.response.data.statuses[0];it=parseFloat(st.avgPx||st.price||"0")}if((!it||it<=0)&&(s==="limit"&&te?it=te:it=await IEt(Ie,p)),!it||it<=0)console.warn("[Order] Cannot create TP/SL: entry price is invalid",it),$.error("TP/SL skipped: could not determine entry price");else{const st=Ke?parseFloat(u)/100:0,pt=Qe?parseFloat(h)/100:0,Ze=j==="openLong"?"long":"short";let Mt=null,yt=null;Ke&&(Ze==="long"?Mt=it*(1+st):Mt=it*(1-st)),Qe&&(Ze==="long"?yt=it*(1-pt):yt=it*(1+pt));const ue=[],we=Ze==="short";if(Mt&&Mt>0&&rt>0){const Re=await OEt(Ie,qe,p,we,Mt,rt,!0);Re.s&&parseFloat(Re.s)>0&&"trigger"in Re.t&&Re.t.trigger?.triggerPx?ue.push(Re):console.warn("[Order] Invalid TP order config:",Re)}if(yt&&yt>0&&rt>0){const Re=await jEt(Ie,qe,p,we,yt,rt,!0);Re.s&&parseFloat(Re.s)>0&&"trigger"in Re.t&&Re.t.trigger?.triggerPx?ue.push(Re):console.warn("[Order] Invalid SL order config:",Re)}if(ue.length>0){const Re=ue.filter(Ne=>{const Ve=parseFloat(Ne.s),Se="trigger"in Ne.t?Ne.t.trigger?.triggerPx:void 0,Me=Se?parseFloat(String(Se)):0,Je=Ve>0&&Me>0;return Je||console.warn("[Order] Invalid TP/SL order filtered out:",{size:Ve,sizeStr:Ne.s,triggerPx:Se,triggerPxNum:Me,order:JSON.stringify(Ne,null,2)}),Je});if(Re.length===0)console.warn("[Order] No valid TP/SL orders to place"),$.error("TP/SL skipped: invalid order parameters");else{console.log("[Order] Sending TP/SL orders:",JSON.stringify(Re,null,2));const Ne=await ky(async()=>await Ee.order({orders:Re,grouping:"positionTpsl"}),{userExchange:ae,user:r,agent:_e.address,network:m});if(Ne.status==="ok"){const Ve=[];Ke&&Re.some(Se=>"trigger"in Se.t&&Se.t.trigger?.tpsl==="tp")&&Ve.push("TP"),Qe&&Re.some(Se=>"trigger"in Se.t&&Se.t.trigger?.tpsl==="sl")&&Ve.push("SL"),$.success(`${Ve.join(" + ")} orders placed`)}else console.warn("[Order] TP/SL orders failed:",Ne),$.error("TP/SL orders failed to place")}}else console.warn("[Order] No TP/SL orders created (validation failed)")}}catch(it){console.error("[Order] Error placing TP/SL orders:",it),$.error(`Order placed, but TP/SL failed: ${it.message}`)}r&&b.invalidateQueries({queryKey:wi.positions(r,m)})}else{const Le=xt.response?.data||"Unknown error",Ke=String(Le).toLowerCase();if((Ke.includes("builder fee")||Ke.includes("builder")||Ke.includes("fee not approved"))&&lh()&&r){F0(r,m)?$.error("Please approve builder fee after your first deposit to enable builder fee on trades."):$.info("Builder fee approval will be available after your first deposit.");return}$.error(`Order failed: ${Le}`)}}}catch(ge){console.error("[Order] Error placing order:",ge),$.error(`Order failed: ${ge.message||"Unknown error"}`)}})},[O,s,a,l,o,u,h,p,v,w,$,n,r,i,m,b]),L=x.useCallback(j=>(f("long"),R("openLong",j)),[R,f]),B=x.useCallback(j=>(f("short"),R("openShort",j)),[R,f]),q=x.useCallback(async j=>O("closeOne",async()=>{const Y=v.find(z=>z.id===j);if(!Y)return;const Q="real";if(!n||!r){$.error("Please connect your wallet first");return}try{if(Q==="real"){const z=i();if(!z){$.error("Wallet provider not available");return}const{userExchange:Z,agentExchange:ee,agentAccount:te}=await Qf(z,r,m);await Xu(Z,r,te.address,m);try{await Q7(ee,U,m)}catch(_e){console.warn("[Referral] apply failed, continuing",_e)}const se=new Us(m),ce=await se.getAssetIndex(Y.market);if(ce===-1){$.error(`Market ${Y.market} not found`);return}const ge=await gre(se,ce,Y.market,Y),ae=await ky(()=>ee.order({orders:[ge],grouping:"na"}),{userExchange:Z,user:r,agent:te.address,network:m});ae.status==="ok"?($.success(`Closed ${Y.market} ${Y.side} position`),Ej({type:"trade",id:`user-close-${Date.now()}-${Math.random().toString(16).slice(2)}`,market:Y.market,side:Y.side==="short"?"buy":"sell",size:Y.size,timestamp:Date.now(),isUser:!0,source:"userAction"}),N(!1),r&&b.invalidateQueries({queryKey:wi.positions(r,m)})):$.error(`Failed to close position: ${ae.response?.data||"Unknown error"}`)}}catch(z){console.error("[Position] Error closing position:",z),$.error(`Failed to close position: ${z.message||"Unknown error"}`)}}),[O,v,w,$,n,r,i,b,m]),G=x.useCallback(async()=>O("closeAll",async()=>{if(!n||!r){$.error("Please connect your wallet first");return}const j=v.filter(z=>z.id&&z.size>0);if(j.length===0){$.info("No positions to close");return}const Y=j.length,Q="real";try{if(Q==="real"){const z=i();if(!z){$.error("Wallet provider not available");return}const{userExchange:Z,agentExchange:ee,agentAccount:te}=await Qf(z,r,m);await Xu(Z,r,te.address,m);try{await Q7(ee,U,m)}catch(ae){console.warn("[Referral] apply failed, continuing",ae)}const se=new Us(m);let ce=[...v],ge=0;for(let ae=0;ae<j.length;ae++){const _e=j[ae],Ee=await se.getAssetIndex(_e.market);if(Ee===-1){$.error(`Market ${_e.market} not found, skipping`);continue}try{const Ie=await gre(se,Ee,_e.market,_e),qe=await ky(()=>ee.order({orders:[Ie],grouping:"na"}),{userExchange:Z,user:r,agent:te.address,network:m});qe.status==="ok"?(ce=ce.filter(me=>me.id!==_e.id),ge+=1,w(ce),$.info(`Closing positions: ${ae+1}/${Y}`)):$.error(`Failed to close ${_e.market}: ${qe.response?.data||"Unknown error"}`)}catch(Ie){$.error(`Error closing ${_e.market}: ${Ie.message}`)}await new Promise(Ie=>setTimeout(Ie,500))}$.success(`${ge}/${Y} positions closed successfully`),r&&b.invalidateQueries({queryKey:wi.positions(r,m)})}}catch(z){console.error("[CloseAll] Error closing positions:",z),$.error(`Error closing positions: ${z.message||"Unknown error"}`)}}),[O,v,w,$,n,r,i,b,m]),W=x.useCallback(()=>{if(F){N(!1),$.info("Close mode cancelled");return}if(v.length===0){$.info("No positions to close");return}N(!0),$.info("Click on a position to close it. Press E again to cancel.")},[$,F,v.length]);return{isOperating:A,opAction:k,closeMode:F,toast:$,openLong:L,openShort:B,closePosition:q,closeAllPositions:G,toggleCloseMode:W,setCloseMode:N}}const MEt=t=>new Promise((e,r)=>{const n=new FileReader;n.onerror=()=>r(new Error("Failed to read file")),n.onload=()=>{const i=String(n.result);e(i)},n.readAsDataURL(t)});function DEt({className:t}){return d.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",className:t,children:[d.jsx("path",{d:"M9 18V6l12-2v12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M9 18a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",stroke:"currentColor",strokeWidth:"2"}),d.jsx("path",{d:"M21 16a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",stroke:"currentColor",strokeWidth:"2"})]})}function FEt({className:t}){return d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",className:t,children:[d.jsx("path",{d:"M21 12a9 9 0 1 1-3-6.7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),d.jsx("path",{d:"M21 3v6h-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function LEt({className:t}){return d.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",className:t,children:[d.jsx("path",{d:"M11 5L6 9H3v6h3l5 4V5Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),d.jsx("path",{d:"M15.5 8.5a5 5 0 0 1 0 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}function UEt({className:t}){return d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",className:t,children:[d.jsx("path",{d:"M12 3v12m0 0l-4-4m4 4l4-4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M2 18h20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}function Bve(){const{theme:t}=Dr(),{toast:e}=N3(),[r,n]=x.useState(()=>{try{return JSON.parse(window.localStorage.getItem("hyperui:sound:bgEnabled")||"false")}catch{return!1}}),[i,s]=x.useState(()=>{try{return JSON.parse(window.localStorage.getItem("hyperui:sound:sfxEnabled")||"false")}catch{return!1}}),o=x.useRef(null),a="hyperui:customMusic",[l,c]=x.useState(()=>{try{return window.localStorage.getItem(a)||null}catch{return null}}),[u,h]=x.useState(!0),f=x.useRef(null),p=x.useRef(!1);x.useEffect(()=>{p.current=i},[i]),x.useEffect(()=>{try{window.localStorage.setItem("hyperui:sound:bgEnabled",JSON.stringify(r))}catch{}},[r]),x.useEffect(()=>{try{window.localStorage.setItem("hyperui:sound:sfxEnabled",JSON.stringify(i))}catch{}},[i]),x.useEffect(()=>{try{window.localStorage.setItem(a,l||"")}catch{}},[l]);const m=()=>o.current?.click(),v=()=>{try{window.localStorage.removeItem(a)}catch{}c(null)},w=async E=>{const _=E.target.files?.[0];if(_){if(!_.type.startsWith("audio/")){e.error("Please select an audio file");return}if(_.size>50*1024*1024){e.error("Audio file too large (max 50MB)");return}try{const A=await MEt(_);if(A.length>100*1024*1024){e.error("File too large after processing. Try a smaller audio file.");return}if(A.length>3.5*1024*1024){console.log("Quota check failed:",A.length,">",3.5*1024*1024),e.error("Audio file too large for local storage (max ~3MB)");return}window.localStorage.setItem(a,A),c(A),e.success("Music uploaded successfully")}catch(A){e.error(A?.message||"Failed to upload music")}}},b=E=>{try{const _=E.play();_&&typeof _.catch=="function"&&_.catch(A=>{A?.name!=="AbortError"&&console.warn("[Audio] play failed:",A)})}catch(_){_?.name!=="AbortError"&&console.warn("[Audio] play threw:",_)}};return x.useEffect(()=>{if(!f.current){const k=new Audio(pre);k.loop=!0,k.volume=.12,f.current=k}let E=0;const _=8,A=[],C=k=>{if(!p.current)return;const P=performance.now();if(P-E<35)return;E=P;const N=Math.max(0,Math.min(1,k.detail?.intensity??.35));for(;A.length>=_;){const O=A.shift();try{O?.pause()}catch{}}const $=new Audio(AEt);$.volume=.06+N*.22,A.push($);const U=()=>{const O=A.indexOf($);O>=0&&A.splice(O,1)};$.onended=U,$.onerror=U,b($)};return window.addEventListener("hyperui:tradeSfx",C),()=>window.removeEventListener("hyperui:tradeSfx",C)},[]),x.useEffect(()=>{const E=f.current;if(E){if(E.src=l||pre,!r){try{E.pause(),E.currentTime=0}catch{}return}b(E)}},[r,l]),d.jsxs("div",{children:[d.jsxs("button",{onClick:()=>h(!u),className:"flex items-center gap-2 text-[11px] text-muted hover:text-white transition mb-2 w-full",children:[d.jsx("span",{children:"Sound Settings"}),d.jsx("span",{className:`transition-transform ${u?"rotate-90":""}`,children:""})]}),u&&d.jsxs("div",{className:"flex items-center gap-2 rounded-lg p-2 mb-3",children:[d.jsx("button",{onClick:()=>n(E=>!E),className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center
                    ${t==="light"?r?"bg-[#50D2C1]":"bg-white":r?"bg-white/15":"bg-black/30 hover:bg-white/10"}`,title:r?"Music: On":"Music: Off","aria-label":"Toggle music",children:d.jsx(DEt,{className:t==="light"?r?"text-black":"text-gray-400":"text-white/60"})}),d.jsx("button",{onClick:()=>s(E=>!E),className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center
                    ${t==="light"?i?"bg-[#50D2C1]":"bg-white":i?"bg-white/15":"bg-black/30 hover:bg-white/10"}`,title:i?"SFX: On":"SFX: Off","aria-label":"Toggle SFX",children:d.jsx(LEt,{className:t==="light"?i?"text-black":"text-gray-400":"text-white/60"})}),d.jsx("button",{onClick:m,className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center flex-shrink-0
                  ${t==="light"?"bg-[#50D2C1]":"bg-black/30 hover:bg-white/10"}`,title:"Upload custom music","aria-label":"Upload music",children:d.jsx(UEt,{className:t==="light"?"text-black":"text-white/60"})}),l&&d.jsx("button",{onClick:v,className:`w-9 h-9 rounded-lg border border-stroke/60 bg-black/30 hover:bg-white/10 transition\r
                    flex items-center justify-center flex-shrink-0`,title:"Reset to default music","aria-label":"Reset music",children:d.jsx(FEt,{className:"text-white/60"})})]}),d.jsx("input",{ref:o,type:"file",accept:"audio/*",className:"hidden",onChange:w})]})}function yk(){const{isConnected:t,address:e,connect:r,disconnect:n}=Pn(),{network:i,setNetwork:s,isMainnet:o}=fn(),{isConnected:a}=nv(i),{isMobile:l}=wo(),{theme:c,setTheme:u}=Dr(),[h,f]=x.useState(!1),[p,m]=x.useState(!0),[v,w]=x.useState(!1),[b,E]=x.useState(!1),[_,A]=x.useState(!1),[C,k]=x.useState(!1),P=()=>E(!b),F=()=>A(!_),N=()=>{k(!0),setTimeout(()=>k(!1),2e3)},$=x.useRef(null),U=x.useRef(null),O=x.useRef(null);return Wy(U,()=>E(!1)),Wy($,()=>w(!1)),Wy(O,()=>A(!1)),d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"w-full flex items-center justify-between gap-[14px] px-[10px] py-3 bg-panel-gradient border border-white/10 backdrop-blur-[10px]",children:[d.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0",children:[d.jsx("div",{className:"md:hidden",children:d.jsx(EEt,{onClick:()=>f(D=>!D)})}),d.jsx("img",{src:c==="light"?"./hyperui200x200-light.png":"./hyperui200x200.png",alt:"HyperUI Logo",className:"object-cover",width:"45",height:"45"}),d.jsx("div",{className:"hidden md:inline text-xl font-black tracking-wide text-cyan-500",children:"HyperUI"}),d.jsx("a",{href:"https://docs.google.com/document/d/1ieoQiqCi5Xz8P1BbJgdk-qz_fezrPo8W/edit",target:"_blank",className:"hidden md:block px-3 py-2 rounded-lg text-xs font-semibold hover:bg-white/10 transition text-txt",children:"Product Guide"}),d.jsx(C1,{to:"/leaderboard",className:"hidden md:block px-3 py-2 rounded-lg text-xs font-semibold hover:bg-white/10 transition text-txt",children:"Leaderboard"}),d.jsx("a",{href:"",target:"_blank",className:"hidden lg:block px-3 py-2 rounded-lg text-xs font-semibold hover:bg-white/10 transition text-txt",children:"Referrals (soon)"}),d.jsx("a",{href:"",target:"_blank",className:"hidden lg:block px-3 py-2 rounded-lg text-xs font-semibold hover:bg-white/10 transition text-txt",children:"Events (soon)"}),d.jsx("a",{href:"https://www.engrewlabs.org",target:"_blank",rel:"noopener noreferrer",className:"hidden md:block px-3 py-2 rounded-lg text-xs font-semibold hover:bg-white/10 transition text-txt",children:"EngrewLabs"}),d.jsxs("div",{className:"relative",children:[d.jsxs("button",{ref:O,onClick:F,className:`hidden md:flex items-center gap-2 px-[5px] py-[10px] rounded-[12px] font-semibold hover:bg-white/10 text-xs cursor-pointer ${c==="light"?"text-black":"text-txt"}`,children:[d.jsx("span",{children:"Hyperliquid"}),d.jsx(BC,{size:16,toggle:_})]}),_&&d.jsxs("div",{className:"absolute right-0 mt-2 w-[200px] border border-stroke p-3 rounded-lg shadow-lg bg-soft-black",children:[d.jsx("a",{href:"https://app.hyperliquid.xyz/join/HYPERUI",target:"_blank",className:"hidden md:block px-3 py-2 rounded-lg text-xs font-semibold hover:bg-white/10 transition text-txt",children:"Mainnet"}),d.jsx("a",{href:"https://app.hyperliquid-testnet.xyz/trade",target:"_blank",className:"hidden md:block px-3 py-2 rounded-lg text-xs font-semibold hover:bg-white/10 transition text-txt",children:"Testnet"}),d.jsx("a",{href:"https://app.hyperliquid-testnet.xyz/drip",target:"_blank",className:"hidden md:block px-3 py-2 rounded-lg text-xs font-semibold hover:bg-white/10 transition text-txt",children:"Faucet"}),d.jsx("a",{href:"https://app.hyperliquid.xyz/announcements",target:"_blank",className:"hidden md:block px-3 py-2 rounded-lg text-xs font-semibold hover:bg-white/10 transition text-txt",children:"Events"}),d.jsx("a",{href:"https://hyperliquid.gitbook.io/hyperliquid-docs",target:"_blank",className:"hidden md:block px-3 py-2 rounded-lg text-xs font-semibold hover:bg-white/10 transition text-txt",children:"Docs"})]})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>s(o?"testnet":"mainnet"),className:`p-[10px] rounded-full text-txt text-xs border transition-all relative
                ${o?c==="light"?"bg-[#a7f3d0] border-[#5eead4] shadow-[0_0_18px_#5eead422]":"bg-[#064e3b] border-[#065f46] shadow-[0_0_18px_#065f4644]":c==="light"?"bg-red-500/[.16] border-red-500/35 shadow-[0_0_18px_theme(colors.red.500/0.22)]":"bg-[#1e293b] border-[#334155] shadow-[0_0_18px_#33415544]"}
              `,title:`Current: ${i}. Click to switch to ${o?"testnet":"mainnet"}`,children:[d.jsx("span",{className:"md:hidden",children:d.jsx("svg",{width:"16",height:"16",fill:"none",focusable:"false","aria-hidden":"true",viewBox:"0 0 14 14",children:d.jsx("path",{d:"M7.0001 0.332031C10.6826 0.332031 13.6678 3.31726 13.6678 6.99973C13.6678 10.6822 10.6826 13.6674 7.0001 13.6674C3.31762 13.6674 0.332397 10.6822 0.332397 6.99973C0.332397 3.31726 3.31762 0.332031 7.0001 0.332031ZM8.95937 9.99953H5.04082C5.47552 11.609 6.2311 12.6674 7.0001 12.6674C7.7691 12.6674 8.52464 11.609 8.95937 9.99953ZM4.00564 9.99993L2.19064 9.99986C2.82954 11.0219 3.78517 11.8256 4.92009 12.2736C4.5719 11.7271 4.28458 11.0429 4.07324 10.2633L4.00564 9.99993ZM11.8096 9.99986L9.99457 9.99993C9.7787 10.8891 9.46697 11.6663 9.07937 12.2736C10.144 11.8536 11.0505 11.1209 11.6861 10.1889L11.8096 9.99986ZM3.72904 5.66596H1.49064L1.48747 5.67746C1.38608 6.10166 1.3324 6.5444 1.3324 6.99973C1.3324 7.70386 1.46078 8.37793 1.69544 8.99993L3.81088 8.99966C3.71601 8.36693 3.66573 7.6948 3.66573 6.99973C3.66573 6.54373 3.68737 6.0976 3.72904 5.66596ZM9.2647 5.666H4.73548C4.69013 6.09286 4.66572 6.53933 4.66572 6.99973C4.66572 7.70606 4.72316 8.3796 4.82555 8.9998H9.17464C9.27704 8.3796 9.33444 7.70606 9.33444 6.99973C9.33444 6.53933 9.31004 6.09286 9.2647 5.666ZM12.5098 5.6654L10.2712 5.66598C10.3128 6.0976 10.3344 6.54373 10.3344 6.99973C10.3344 7.6948 10.2842 8.36693 10.1893 8.99966L12.3048 8.99993C12.5394 8.37793 12.6678 7.70386 12.6678 6.99973C12.6678 6.54013 12.6131 6.09333 12.5098 5.6654ZM4.9208 1.72583L4.90552 1.73164C3.54065 2.27478 2.43664 3.33299 1.83352 4.66623L3.8656 4.66648C4.07451 3.49795 4.43907 2.48066 4.9208 1.72583ZM7.0001 1.33203L6.92297 1.33556C6.07937 1.41273 5.26438 2.74738 4.8859 4.6662H9.1143C8.73684 2.75276 7.92537 1.42022 7.0843 1.33624L7.0001 1.33203ZM9.0801 1.72587L9.1513 1.84193C9.59744 2.58358 9.93624 3.55683 10.1346 4.66648L12.1666 4.66623C11.5902 3.39196 10.5562 2.36894 9.27424 1.80672L9.0801 1.72587Z",fill:c==="light"?"#000":"#F6FEFD"})})}),d.jsx("span",{className:"hidden md:inline",children:i.toUpperCase()})]}),d.jsx("div",{className:`w-2 h-2 rounded-full
                ${a?"bg-buy-500 shadow-[0_0_18px_theme(colors.accent.400/0.22)]":"bg-sell-500 shadow-[0_0_12px_theme(colors.sell.500/0.22)]"}
              `,title:a?"WebSocket Connected":"WebSocket Disconnected"})]}),t&&e?d.jsxs("div",{ref:U,className:"relative",children:[d.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-[5px] py-[10px] rounded-[12px] text-xs text-muted hover:bg-white/10 cursor-pointer",children:[d.jsx("span",{children:Zf(e)}),d.jsx(BC,{size:16,toggle:b})]}),b&&d.jsxs("div",{className:"absolute right-0 mt-2 w-[200px] border border-stroke p-3 rounded-lg shadow-lg bg-soft-black",children:[d.jsxs("div",{className:`flex items-center justify-between ${c==="light"?"text-black":"text-white"}`,children:[d.jsx("span",{children:Zf(e)}),d.jsx(Rve.CopyToClipboard,{text:e,onCopy:N,children:d.jsx(Ove,{})})]}),d.jsx("div",{className:"cursor-pointer mt-2 text-cyan-700 hover:text-cyan-500 transition-colors duration-300",onClick:n,children:"Disconnect"})]})]}):d.jsxs(Gr,{onClick:r,className:"bg-emerald-400 text-black hover:bg-emerald-300",children:[d.jsx("span",{className:"md:hidden",children:"Connect"}),d.jsx("span",{className:"hidden md:inline",children:"Connect Wallet"})]}),d.jsxs("div",{ref:$,className:"relative",children:[d.jsx("button",{onClick:()=>w(!v),className:"w-11 h-11 p-[9px] bg-panel-gradient rounded-lg border border-white/10 backdrop-blur-[10px] shadow-lg text-txt font-black","aria-label":"Open settings",children:d.jsx(cEt,{})}),d.jsxs("div",{className:`absolute ${v?"":"hidden"} right-0 mt-2 w-[200px] border border-stroke p-3 rounded-lg shadow-lg bg-soft-black`,children:[l&&d.jsx(Bve,{}),d.jsxs("button",{onClick:()=>m(!p),className:"flex items-center gap-2 text-[11px] text-muted hover:text-white transition mb-2 w-full",children:[d.jsx("span",{children:"Theme"}),d.jsx("span",{className:`transition-transform ${p?"rotate-90":""}`,children:""})]}),p&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-2 rounded-lg p-2",children:[d.jsx("button",{onClick:()=>u("light"),className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center flex-shrink-0 ${c==="light"?"bg-[#50D2C1]":"bg-black hover:bg-white/10"}`,title:"Light theme",children:d.jsx(gEt,{className:c==="light"?"text-black":"text-white/60"})}),d.jsx("button",{onClick:()=>u("dark"),className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center flex-shrink-0 ${c==="light"?"bg-white text-gray-400 hover:bg-gray-100":c==="dark"?"bg-white/15":"bg-black/30 hover:bg-white/10"}`,title:"Dark theme",children:d.jsx(nEt,{className:c==="light"?"text-gray-400":"text-white/60"})})]}),d.jsxs("div",{className:"flex items-center gap-2 rounded-lg p-2 mb-3",children:[d.jsx("button",{onClick:()=>u("game"),className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center flex-shrink-0 ${c==="light"?"bg-white text-gray-400 hover:bg-gray-100":c==="dark"?"bg-black hover:bg-white/10":"bg-black/30 hover:bg-white/10"}`,title:"Game theme",children:d.jsx(eEt,{className:c==="light"?"text-gray-400":"text-white/60"})}),d.jsx("button",{onClick:()=>u("dev"),className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center flex-shrink-0 ${c==="light"?"bg-white text-gray-400 hover:bg-gray-100":c==="dark"?"bg-black hover:bg-white/10":"bg-black/30 hover:bg-white/10"}`,title:"Developer theme",children:d.jsx(QCt,{className:c==="light"?"text-gray-400":"text-white/60"})}),d.jsx("button",{onClick:()=>u("custom"),className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center flex-shrink-0 ${c==="light"?"bg-white text-gray-400 hover:bg-gray-100":c==="dark"?"bg-black hover:bg-white/10":"bg-black/30 hover:bg-white/10"}`,title:"Custom theme",children:d.jsx(yEt,{className:c==="light"?"text-gray-400":"text-white/60"})})]})]})]})]})]}),C&&d.jsx("div",{className:"fixed bottom-10 right-5 bg-green-600 text-white p-3 rounded-lg shadow-lg",children:"Address Copied to Clipboard!"})]}),d.jsx(SEt,{open:h,onClose:()=>f(!1)})]})}function BEt(t,e){x.useEffect(()=>{if(!t)return;const r=n=>{if(!(n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement))switch(n.key.toLowerCase()){case"q":e("openLong");break;case"w":e("openShort");break;case"e":e("closeOne");break;case"r":e("closeAll");break}};return window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}},[t,e])}const kU=t=>{if(t.length===0)return{healthPercent:100,valueNow:0,valueAtOpen:0,totalCollateral:0};const e=t.reduce((s,o)=>s+o.size*o.entryPrice,0),r=t.reduce((s,o)=>s+o.size*o.entryPrice/o.leverage,0),n=t.reduce((s,o)=>s+o.unrealizedPnl,0);if(e===0)return{healthPercent:100,valueNow:0,valueAtOpen:0,totalCollateral:0};const i=(e+n)/e*100;return{healthPercent:Math.max(0,Math.min(100,i)),valueNow:e+n,valueAtOpen:e,totalCollateral:r}},zve=t=>{if(t===0)return 1;const e=Math.floor(Math.log10(Math.abs(t)));return Math.pow(10,e)},zEt=t=>{if(t===0)return[.001,.002,.005,.01,.1,1];const e=zve(t),n=[1e4,5e3,2e3,1e3,100,10].map(i=>{const s=e/i,o=Math.pow(10,Math.floor(Math.log10(s)));return Math.round(s/o)*o});return[...new Set(n)].sort((i,s)=>i-s)},qEt=100;function qve(){const{address:t}=Pn(),{network:e}=fn(),{theme:r}=Dr(),{data:n}=P3({address:t||"",network:e}),{positions:i}=dc(),{totalCollateral:s}=kU(i),o=n?.totalEquity??0,a=o>0?Math.max(0,Math.min(100,(o-s)/o*100)):qEt,l=r==="light"?"#6db7ff":"#2443b8",c=r==="light"?"#e0f7fa":"#222",u=r==="light"?"#222":"#F6FEFD",h=r==="light"?"1px solid rgba(0, 0, 0, 0.1)":"1px solid rgba(255, 255, 255, 0.1)";return d.jsx("div",{className:"infoBar infoBar--freeBalance",children:d.jsxs("div",{className:"infoBar__frame",style:{background:c,border:h},children:[d.jsx("div",{className:"infoBar__fill",style:{width:`${a}%`,background:l}}),d.jsx("div",{className:"infoBar__text",style:{color:u},children:d.jsxs("span",{className:"infoBar__numbers",children:[(o-s).toFixed(2)," / ",o.toFixed(2)]})})]})})}function Wve(){const{positions:t}=dc(),{theme:e}=Dr(),{healthPercent:r,valueNow:n,valueAtOpen:i}=kU(t),s=e==="light"?"#6df03a":"#1f6c15",o=e==="light"?"#e0f7fa":"#222",a=e==="light"?"#222":"#F6FEFD",l=e==="light"?"1px solid rgba(0, 0, 0, 0.1)":"1px solid rgba(255, 255, 255, 0.1)";return d.jsx("div",{className:"infoBar infoBar--health",children:d.jsxs("div",{className:"infoBar__frame",style:{background:o,border:l},children:[d.jsx("div",{className:"infoBar__fill",style:{width:`${r}%`,background:s}}),d.jsx("div",{className:"infoBar__text",style:{color:a},children:d.jsxs("span",{className:"infoBar__numbers",children:[n.toFixed(2)," / ",i.toFixed(2)]})})]})})}const vk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function av(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function SU(t){return"nodeType"in t}function Ea(t){var e,r;return t?av(t)?t:SU(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function AU(t){const{Document:e}=Ea(t);return t instanceof e}function R3(t){return av(t)?!1:t instanceof Ea(t).HTMLElement}function Hve(t){return t instanceof Ea(t).SVGElement}function lv(t){return t?av(t)?t.document:SU(t)?AU(t)?t:R3(t)||Hve(t)?t.ownerDocument:document:document:document}const up=vk?x.useLayoutEffect:x.useEffect;function TU(t){const e=x.useRef(t);return up(()=>{e.current=t}),x.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function WEt(){const t=x.useRef(null),e=x.useCallback((n,i)=>{t.current=setInterval(n,i)},[]),r=x.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function ax(t,e){e===void 0&&(e=[t]);const r=x.useRef(t);return up(()=>{r.current!==t&&(r.current=t)},e),r}function O3(t,e){const r=x.useRef();return x.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function zC(t){const e=TU(t),r=x.useRef(null),n=x.useCallback(i=>{i!==r.current&&e?.(i,r.current),r.current=i},[]);return[r,n]}function Aj(t){const e=x.useRef();return x.useEffect(()=>{e.current=t},[t]),e.current}let FP={};function wk(t,e){return x.useMemo(()=>{if(e)return e;const r=FP[t]==null?0:FP[t]+1;return FP[t]=r,t+"-"+r},[t,e])}function Vve(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((s,o)=>{const a=Object.entries(o);for(const[l,c]of a){const u=s[l];u!=null&&(s[l]=u+t*c)}return s},{...e})}}const Hy=Vve(1),qC=Vve(-1);function HEt(t){return"clientX"in t&&"clientY"in t}function Gve(t){if(!t)return!1;const{KeyboardEvent:e}=Ea(t.target);return e&&t instanceof e}function VEt(t){if(!t)return!1;const{TouchEvent:e}=Ea(t.target);return e&&t instanceof e}function Tj(t){if(VEt(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return HEt(t)?{x:t.clientX,y:t.clientY}:null}const Ij=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[Ij.Translate.toString(t),Ij.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),mre="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function GEt(t){return t.matches(mre)?t:t.querySelector(mre)}const KEt={display:"none"};function YEt(t){let{id:e,value:r}=t;return ht.createElement("div",{id:e,style:KEt},r)}function JEt(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ht.createElement("div",{id:e,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function XEt(){const[t,e]=x.useState("");return{announce:x.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const Kve=x.createContext(null);function QEt(t){const e=x.useContext(Kve);x.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function ZEt(){const[t]=x.useState(()=>new Set),e=x.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[x.useCallback(n=>{let{type:i,event:s}=n;t.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[t]),e]}const e8t={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},t8t={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function r8t(t){let{announcements:e=t8t,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=e8t}=t;const{announce:s,announcement:o}=XEt(),a=wk("DndLiveRegion"),[l,c]=x.useState(!1);if(x.useEffect(()=>{c(!0)},[]),QEt(x.useMemo(()=>({onDragStart(h){let{active:f}=h;s(e.onDragStart({active:f}))},onDragMove(h){let{active:f,over:p}=h;e.onDragMove&&s(e.onDragMove({active:f,over:p}))},onDragOver(h){let{active:f,over:p}=h;s(e.onDragOver({active:f,over:p}))},onDragEnd(h){let{active:f,over:p}=h;s(e.onDragEnd({active:f,over:p}))},onDragCancel(h){let{active:f,over:p}=h;s(e.onDragCancel({active:f,over:p}))}}),[s,e])),!l)return null;const u=ht.createElement(ht.Fragment,null,ht.createElement(YEt,{id:n,value:i.draggable}),ht.createElement(JEt,{id:a,announcement:o}));return r?Ls.createPortal(u,r):u}var Ji;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Ji||(Ji={}));function WC(){}function n8t(t,e){return x.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function i8t(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return x.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const uu=Object.freeze({x:0,y:0});function s8t(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function o8t(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}function a8t(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),o=i-n,a=s-r;if(n<i&&r<s){const l=e.width*e.height,c=t.width*t.height,u=o*a,h=u/(l+c-u);return Number(h.toFixed(4))}return 0}const l8t=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=[];for(const s of n){const{id:o}=s,a=r.get(o);if(a){const l=a8t(a,e);l>0&&i.push({id:o,data:{droppableContainer:s,value:l}})}}return i.sort(s8t)};function c8t(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function Yve(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:uu}function u8t(t){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+t*a.y,bottom:o.bottom+t*a.y,left:o.left+t*a.x,right:o.right+t*a.x}),{...r})}}const d8t=u8t(1);function h8t(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function f8t(t,e,r){const n=h8t(e);if(!n)return t;const{scaleX:i,scaleY:s,x:o,y:a}=n,l=t.left-o-(1-i)*parseFloat(r),c=t.top-a-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),u=i?t.width/i:t.width,h=s?t.height/s:t.height;return{width:u,height:h,top:c,right:l+u,bottom:c+h,left:l}}const p8t={ignoreTransform:!1};function j3(t,e){e===void 0&&(e=p8t);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:c,transformOrigin:u}=Ea(t).getComputedStyle(t);c&&(r=f8t(r,c,u))}const{top:n,left:i,width:s,height:o,bottom:a,right:l}=r;return{top:n,left:i,width:s,height:o,bottom:a,right:l}}function yre(t){return j3(t,{ignoreTransform:!0})}function g8t(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function m8t(t,e){return e===void 0&&(e=Ea(t).getComputedStyle(t)),e.position==="fixed"}function y8t(t,e){e===void 0&&(e=Ea(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?r.test(s):!1})}function IU(t,e){const r=[];function n(i){if(e!=null&&r.length>=e||!i)return r;if(AU(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!R3(i)||Hve(i)||r.includes(i))return r;const s=Ea(t).getComputedStyle(i);return i!==t&&y8t(i,s)&&r.push(i),m8t(i,s)?r:n(i.parentNode)}return t?n(t):r}function Jve(t){const[e]=IU(t,1);return e??null}function LP(t){return!vk||!t?null:av(t)?t:SU(t)?AU(t)||t===lv(t).scrollingElement?window:R3(t)?t:null:null}function Xve(t){return av(t)?t.scrollX:t.scrollLeft}function Qve(t){return av(t)?t.scrollY:t.scrollTop}function Pj(t){return{x:Xve(t),y:Qve(t)}}var us;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(us||(us={}));function Zve(t){return!vk||!t?!1:t===document.scrollingElement}function ewe(t){const e={x:0,y:0},r=Zve(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},i=t.scrollTop<=e.y,s=t.scrollLeft<=e.x,o=t.scrollTop>=n.y,a=t.scrollLeft>=n.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:n,minScroll:e}}const v8t={x:.2,y:.2};function w8t(t,e,r,n,i){let{top:s,left:o,right:a,bottom:l}=r;n===void 0&&(n=10),i===void 0&&(i=v8t);const{isTop:c,isBottom:u,isLeft:h,isRight:f}=ewe(t),p={x:0,y:0},m={x:0,y:0},v={height:e.height*i.y,width:e.width*i.x};return!c&&s<=e.top+v.height?(p.y=us.Backward,m.y=n*Math.abs((e.top+v.height-s)/v.height)):!u&&l>=e.bottom-v.height&&(p.y=us.Forward,m.y=n*Math.abs((e.bottom-v.height-l)/v.height)),!f&&a>=e.right-v.width?(p.x=us.Forward,m.x=n*Math.abs((e.right-v.width-a)/v.width)):!h&&o<=e.left+v.width&&(p.x=us.Backward,m.x=n*Math.abs((e.left+v.width-o)/v.width)),{direction:p,speed:m}}function b8t(t){if(t===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:e,left:r,right:n,bottom:i}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:i,width:t.clientWidth,height:t.clientHeight}}function twe(t){return t.reduce((e,r)=>Hy(e,Pj(r)),uu)}function x8t(t){return t.reduce((e,r)=>e+Xve(r),0)}function _8t(t){return t.reduce((e,r)=>e+Qve(r),0)}function C8t(t,e){if(e===void 0&&(e=j3),!t)return;const{top:r,left:n,bottom:i,right:s}=e(t);Jve(t)&&(i<=0||s<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const E8t=[["x",["left","right"],x8t],["y",["top","bottom"],_8t]];class PU{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=IU(r),i=twe(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,o,a]of E8t)for(const l of o)Object.defineProperty(this,l,{get:()=>{const c=a(n),u=i[s]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ob{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var i;(i=this.target)==null||i.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function k8t(t){const{EventTarget:e}=Ea(t);return t instanceof e?t:lv(t)}function UP(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var Rl;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Rl||(Rl={}));function vre(t){t.preventDefault()}function S8t(t){t.stopPropagation()}var xn;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(xn||(xn={}));const rwe={start:[xn.Space,xn.Enter],cancel:[xn.Esc],end:[xn.Space,xn.Enter,xn.Tab]},A8t=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case xn.Right:return{...r,x:r.x+25};case xn.Left:return{...r,x:r.x-25};case xn.Down:return{...r,y:r.y+25};case xn.Up:return{...r,y:r.y-25}}};class nwe{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new Ob(lv(r)),this.windowListeners=new Ob(Ea(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Rl.Resize,this.handleCancel),this.windowListeners.add(Rl.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Rl.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&C8t(n),r(uu)}handleKeyDown(e){if(Gve(e)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:s=rwe,coordinateGetter:o=A8t,scrollBehavior:a="smooth"}=i,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:c}=n.current,u=c?{x:c.left,y:c.top}:uu;this.referenceCoordinates||(this.referenceCoordinates=u);const h=o(e,{active:r,context:n.current,currentCoordinates:u});if(h){const f=qC(h,u),p={x:0,y:0},{scrollableAncestors:m}=n.current;for(const v of m){const w=e.code,{isTop:b,isRight:E,isLeft:_,isBottom:A,maxScroll:C,minScroll:k}=ewe(v),P=b8t(v),F={x:Math.min(w===xn.Right?P.right-P.width/2:P.right,Math.max(w===xn.Right?P.left:P.left+P.width/2,h.x)),y:Math.min(w===xn.Down?P.bottom-P.height/2:P.bottom,Math.max(w===xn.Down?P.top:P.top+P.height/2,h.y))},N=w===xn.Right&&!E||w===xn.Left&&!_,$=w===xn.Down&&!A||w===xn.Up&&!b;if(N&&F.x!==h.x){const U=v.scrollLeft+f.x,O=w===xn.Right&&U<=C.x||w===xn.Left&&U>=k.x;if(O&&!f.y){v.scrollTo({left:U,behavior:a});return}O?p.x=v.scrollLeft-U:p.x=w===xn.Right?v.scrollLeft-C.x:v.scrollLeft-k.x,p.x&&v.scrollBy({left:-p.x,behavior:a});break}else if($&&F.y!==h.y){const U=v.scrollTop+f.y,O=w===xn.Down&&U<=C.y||w===xn.Up&&U>=k.y;if(O&&!f.x){v.scrollTo({top:U,behavior:a});return}O?p.y=v.scrollTop-U:p.y=w===xn.Down?v.scrollTop-C.y:v.scrollTop-k.y,p.y&&v.scrollBy({top:-p.y,behavior:a});break}}this.handleMove(e,Hy(qC(h,this.referenceCoordinates),p))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}nwe.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=rwe,onActivation:i}=e,{active:s}=r;const{code:o}=t.nativeEvent;if(n.start.includes(o)){const a=s.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function wre(t){return!!(t&&"distance"in t)}function bre(t){return!!(t&&"delay"in t)}class $U{constructor(e,r,n){var i;n===void 0&&(n=k8t(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:s}=e,{target:o}=s;this.props=e,this.events=r,this.document=lv(o),this.documentListeners=new Ob(this.document),this.listeners=new Ob(n),this.windowListeners=new Ob(Ea(o)),this.initialCoordinates=(i=Tj(s))!=null?i:uu,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Rl.Resize,this.handleCancel),this.windowListeners.add(Rl.DragStart,vre),this.windowListeners.add(Rl.VisibilityChange,this.handleCancel),this.windowListeners.add(Rl.ContextMenu,vre),this.documentListeners.add(Rl.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(bre(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(wre(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:i}=this.props;i(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(Rl.Click,S8t,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Rl.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const l=(r=Tj(e))!=null?r:uu,c=qC(i,l);if(!n&&a){if(wre(a)){if(a.tolerance!=null&&UP(c,a.tolerance))return this.handleCancel();if(UP(c,a.distance))return this.handleStart()}if(bre(a)&&UP(c,a.tolerance))return this.handleCancel();this.handlePending(a,c);return}e.cancelable&&e.preventDefault(),o(l)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===xn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const T8t={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class NU extends $U{constructor(e){const{event:r}=e,n=lv(r.target);super(e,T8t,n)}}NU.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];const I8t={move:{name:"mousemove"},end:{name:"mouseup"}};var $j;(function(t){t[t.RightClick=2]="RightClick"})($j||($j={}));class P8t extends $U{constructor(e){super(e,I8t,lv(e.event.target))}}P8t.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===$j.RightClick?!1:(n?.({event:r}),!0)}}];const BP={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class $8t extends $U{constructor(e){super(e,BP)}static setup(){return window.addEventListener(BP.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(BP.move.name,e)};function e(){}}}$8t.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:i}=r;return i.length>1?!1:(n?.({event:r}),!0)}}];var jb;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(jb||(jb={}));var HC;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(HC||(HC={}));function N8t(t){let{acceleration:e,activator:r=jb.Pointer,canScroll:n,draggingRect:i,enabled:s,interval:o=5,order:a=HC.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:h,threshold:f}=t;const p=O8t({delta:h,disabled:!s}),[m,v]=WEt(),w=x.useRef({x:0,y:0}),b=x.useRef({x:0,y:0}),E=x.useMemo(()=>{switch(r){case jb.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case jb.DraggableRect:return i}},[r,i,l]),_=x.useRef(null),A=x.useCallback(()=>{const k=_.current;if(!k)return;const P=w.current.x*b.current.x,F=w.current.y*b.current.y;k.scrollBy(P,F)},[]),C=x.useMemo(()=>a===HC.TreeOrder?[...c].reverse():c,[a,c]);x.useEffect(()=>{if(!s||!c.length||!E){v();return}for(const k of C){if(n?.(k)===!1)continue;const P=c.indexOf(k),F=u[P];if(!F)continue;const{direction:N,speed:$}=w8t(k,F,E,e,f);for(const U of["x","y"])p[U][N[U]]||($[U]=0,N[U]=0);if($.x>0||$.y>0){v(),_.current=k,m(A,o),w.current=$,b.current=N;return}}w.current={x:0,y:0},b.current={x:0,y:0},v()},[e,A,n,v,s,o,JSON.stringify(E),JSON.stringify(p),m,c,C,u,JSON.stringify(f)])}const R8t={x:{[us.Backward]:!1,[us.Forward]:!1},y:{[us.Backward]:!1,[us.Forward]:!1}};function O8t(t){let{delta:e,disabled:r}=t;const n=Aj(e);return O3(i=>{if(r||!n||!i)return R8t;const s={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[us.Backward]:i.x[us.Backward]||s.x===-1,[us.Forward]:i.x[us.Forward]||s.x===1},y:{[us.Backward]:i.y[us.Backward]||s.y===-1,[us.Forward]:i.y[us.Forward]||s.y===1}}},[r,e,n])}function j8t(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return O3(i=>{var s;return e==null?null:(s=n??i)!=null?s:null},[n,e])}function M8t(t,e){return x.useMemo(()=>t.reduce((r,n)=>{const{sensor:i}=n,s=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,n)}));return[...r,...s]},[]),[t,e])}var lx;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(lx||(lx={}));var Nj;(function(t){t.Optimized="optimized"})(Nj||(Nj={}));const xre=new Map;function D8t(t,e){let{dragging:r,dependencies:n,config:i}=e;const[s,o]=x.useState(null),{frequency:a,measure:l,strategy:c}=i,u=x.useRef(t),h=w(),f=ax(h),p=x.useCallback(function(b){b===void 0&&(b=[]),!f.current&&o(E=>E===null?b:E.concat(b.filter(_=>!E.includes(_))))},[f]),m=x.useRef(null),v=O3(b=>{if(h&&!r)return xre;if(!b||b===xre||u.current!==t||s!=null){const E=new Map;for(let _ of t){if(!_)continue;if(s&&s.length>0&&!s.includes(_.id)&&_.rect.current){E.set(_.id,_.rect.current);continue}const A=_.node.current,C=A?new PU(l(A),A):null;_.rect.current=C,C&&E.set(_.id,C)}return E}return b},[t,s,r,h,l]);return x.useEffect(()=>{u.current=t},[t]),x.useEffect(()=>{h||p()},[r,h]),x.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),x.useEffect(()=>{h||typeof a!="number"||m.current!==null||(m.current=setTimeout(()=>{p(),m.current=null},a))},[a,h,p,...n]),{droppableRects:v,measureDroppableContainers:p,measuringScheduled:s!=null};function w(){switch(c){case lx.Always:return!1;case lx.BeforeDragging:return r;default:return!r}}}function iwe(t,e){return O3(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function F8t(t,e){return iwe(t,e)}function L8t(t){let{callback:e,disabled:r}=t;const n=TU(e),i=x.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(n)},[n,r]);return x.useEffect(()=>()=>i?.disconnect(),[i]),i}function bk(t){let{callback:e,disabled:r}=t;const n=TU(e),i=x.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(n)},[r]);return x.useEffect(()=>()=>i?.disconnect(),[i]),i}function U8t(t){return new PU(j3(t),t)}function _re(t,e,r){e===void 0&&(e=U8t);const[n,i]=x.useState(null);function s(){i(l=>{if(!t)return null;if(t.isConnected===!1){var c;return(c=l??r)!=null?c:null}const u=e(t);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const o=L8t({callback(l){if(t)for(const c of l){const{type:u,target:h}=c;if(u==="childList"&&h instanceof HTMLElement&&h.contains(t)){s();break}}}}),a=bk({callback:s});return up(()=>{s(),t?(a?.observe(t),o?.observe(document.body,{childList:!0,subtree:!0})):(a?.disconnect(),o?.disconnect())},[t]),n}function B8t(t){const e=iwe(t);return Yve(t,e)}const Cre=[];function z8t(t){const e=x.useRef(t),r=O3(n=>t?n&&n!==Cre&&t&&e.current&&t.parentNode===e.current.parentNode?n:IU(t):Cre,[t]);return x.useEffect(()=>{e.current=t},[t]),r}function q8t(t){const[e,r]=x.useState(null),n=x.useRef(t),i=x.useCallback(s=>{const o=LP(s.target);o&&r(a=>a?(a.set(o,Pj(o)),new Map(a)):null)},[]);return x.useEffect(()=>{const s=n.current;if(t!==s){o(s);const a=t.map(l=>{const c=LP(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,Pj(c)]):null}).filter(l=>l!=null);r(a.length?new Map(a):null),n.current=t}return()=>{o(t),o(s)};function o(a){a.forEach(l=>{const c=LP(l);c?.removeEventListener("scroll",i)})}},[i,t]),x.useMemo(()=>t.length?e?Array.from(e.values()).reduce((s,o)=>Hy(s,o),uu):twe(t):uu,[t,e])}function Ere(t,e){e===void 0&&(e=[]);const r=x.useRef(null);return x.useEffect(()=>{r.current=null},e),x.useEffect(()=>{const n=t!==uu;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?qC(t,r.current):uu}function W8t(t){x.useEffect(()=>{if(!vk)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r?.()}},t.map(e=>{let{sensor:r}=e;return r}))}function H8t(t,e){return x.useMemo(()=>t.reduce((r,n)=>{let{eventName:i,handler:s}=n;return r[i]=o=>{s(o,e)},r},{}),[t,e])}function swe(t){return x.useMemo(()=>t?g8t(t):null,[t])}const kre=[];function V8t(t,e){e===void 0&&(e=j3);const[r]=t,n=swe(r?Ea(r):null),[i,s]=x.useState(kre);function o(){s(()=>t.length?t.map(l=>Zve(l)?n:new PU(e(l),l)):kre)}const a=bk({callback:o});return up(()=>{a?.disconnect(),o(),t.forEach(l=>a?.observe(l))},[t]),i}function G8t(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return R3(e)?e:t}function K8t(t){let{measure:e}=t;const[r,n]=x.useState(null),i=x.useCallback(c=>{for(const{target:u}of c)if(R3(u)){n(h=>{const f=e(u);return h?{...h,width:f.width,height:f.height}:f});break}},[e]),s=bk({callback:i}),o=x.useCallback(c=>{const u=G8t(c);s?.disconnect(),u&&s?.observe(u),n(u?e(u):null)},[e,s]),[a,l]=zC(o);return x.useMemo(()=>({nodeRef:a,rect:r,setRef:l}),[r,a,l])}const Y8t=[{sensor:NU,options:{}},{sensor:nwe,options:{}}],J8t={current:{}},c_={draggable:{measure:yre},droppable:{measure:yre,strategy:lx.WhileDragging,frequency:Nj.Optimized},dragOverlay:{measure:j3}};class Mb extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const X8t={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Mb,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:WC},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:c_,measureDroppableContainers:WC,windowRect:null,measuringScheduled:!1},Q8t={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:WC,draggableNodes:new Map,over:null,measureDroppableContainers:WC},xk=x.createContext(Q8t),Z8t=x.createContext(X8t);function ekt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Mb}}}function tkt(t,e){switch(e.type){case Ji.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ji.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Ji.DragEnd:case Ji.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ji.RegisterDroppable:{const{element:r}=e,{id:n}=r,i=new Mb(t.droppable.containers);return i.set(n,r),{...t,droppable:{...t.droppable,containers:i}}}case Ji.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=e,s=t.droppable.containers.get(r);if(!s||n!==s.key)return t;const o=new Mb(t.droppable.containers);return o.set(r,{...s,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case Ji.UnregisterDroppable:{const{id:r,key:n}=e,i=t.droppable.containers.get(r);if(!i||n!==i.key)return t;const s=new Mb(t.droppable.containers);return s.delete(r),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function rkt(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:i}=x.useContext(xk),s=Aj(n),o=Aj(r?.id);return x.useEffect(()=>{if(!e&&!n&&s&&o!=null){if(!Gve(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const h=GEt(u);if(h){h.focus();break}}})}},[n,e,i,o,s]),null}function nkt(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((i,s)=>s({transform:i,...n}),r):r}function ikt(t){return x.useMemo(()=>({draggable:{...c_.draggable,...t?.draggable},droppable:{...c_.droppable,...t?.droppable},dragOverlay:{...c_.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function skt(t){let{activeNode:e,measure:r,initialRect:n,config:i=!0}=t;const s=x.useRef(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;up(()=>{if(!o&&!a||!e){s.current=!1;return}if(s.current||!n)return;const c=e?.node.current;if(!c||c.isConnected===!1)return;const u=r(c),h=Yve(u,n);if(o||(h.x=0),a||(h.y=0),s.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=Jve(c);f&&f.scrollBy({top:h.y,left:h.x})}},[e,o,a,n,r])}const owe=x.createContext({...uu,scaleX:1,scaleY:1});var If;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(If||(If={}));const okt=x.memo(function(e){var r,n,i,s;let{id:o,accessibility:a,autoScroll:l=!0,children:c,sensors:u=Y8t,collisionDetection:h=l8t,measuring:f,modifiers:p,...m}=e;const v=x.useReducer(tkt,void 0,ekt),[w,b]=v,[E,_]=ZEt(),[A,C]=x.useState(If.Uninitialized),k=A===If.Initialized,{draggable:{active:P,nodes:F,translate:N},droppable:{containers:$}}=w,U=P!=null?F.get(P):null,O=x.useRef({initial:null,translated:null}),D=x.useMemo(()=>{var Me;return P!=null?{id:P,data:(Me=U?.data)!=null?Me:J8t,rect:O}:null},[P,U]),T=x.useRef(null),[I,R]=x.useState(null),[L,B]=x.useState(null),q=ax(m,Object.values(m)),G=wk("DndDescribedBy",o),W=x.useMemo(()=>$.getEnabled(),[$]),j=ikt(f),{droppableRects:Y,measureDroppableContainers:Q,measuringScheduled:z}=D8t(W,{dragging:k,dependencies:[N.x,N.y],config:j.droppable}),Z=j8t(F,P),ee=x.useMemo(()=>L?Tj(L):null,[L]),te=Se(),se=F8t(Z,j.draggable.measure);skt({activeNode:P!=null?F.get(P):null,config:te.layoutShiftCompensation,initialRect:se,measure:j.draggable.measure});const ce=_re(Z,j.draggable.measure,se),ge=_re(Z?Z.parentElement:null),ae=x.useRef({activatorEvent:null,active:null,activeNode:Z,collisionRect:null,collisions:null,droppableRects:Y,draggableNodes:F,draggingNode:null,draggingNodeRect:null,droppableContainers:$,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),_e=$.getNodeFor((r=ae.current.over)==null?void 0:r.id),Ee=K8t({measure:j.dragOverlay.measure}),Ie=(n=Ee.nodeRef.current)!=null?n:Z,qe=k?(i=Ee.rect)!=null?i:ce:null,me=!!(Ee.nodeRef.current&&Ee.rect),ze=B8t(me?null:ce),rt=swe(Ie?Ea(Ie):null),Ae=z8t(k?_e??Z:null),Fe=V8t(Ae),nt=nkt(p,{transform:{x:N.x-ze.x,y:N.y-ze.y,scaleX:1,scaleY:1},activatorEvent:L,active:D,activeNodeRect:ce,containerNodeRect:ge,draggingNodeRect:qe,over:ae.current.over,overlayNodeRect:Ee.rect,scrollableAncestors:Ae,scrollableAncestorRects:Fe,windowRect:rt}),_t=ee?Hy(ee,N):null,Ye=q8t(Ae),wt=Ere(Ye),xt=Ere(Ye,[ce]),Le=Hy(nt,wt),Ke=qe?d8t(qe,nt):null,Qe=D&&Ke?h({active:D,collisionRect:Ke,droppableRects:Y,droppableContainers:W,pointerCoordinates:_t}):null,it=o8t(Qe,"id"),[st,pt]=x.useState(null),Ze=me?nt:Hy(nt,xt),Mt=c8t(Ze,(s=st?.rect)!=null?s:null,ce),yt=x.useRef(null),ue=x.useCallback((Me,Je)=>{let{sensor:Ue,options:vt}=Je;if(T.current==null)return;const tr=F.get(T.current);if(!tr)return;const $t=Me.nativeEvent,X=new Ue({active:T.current,activeNode:tr,event:$t,options:vt,context:ae,onAbort(oe){if(!F.get(oe))return;const{onDragAbort:ve}=q.current,be={id:oe};ve?.(be),E({type:"onDragAbort",event:be})},onPending(oe,le,ve,be){if(!F.get(oe))return;const{onDragPending:Xe}=q.current,gt={id:oe,constraint:le,initialCoordinates:ve,offset:be};Xe?.(gt),E({type:"onDragPending",event:gt})},onStart(oe){const le=T.current;if(le==null)return;const ve=F.get(le);if(!ve)return;const{onDragStart:be}=q.current,Pe={activatorEvent:$t,active:{id:le,data:ve.data,rect:O}};Ls.unstable_batchedUpdates(()=>{be?.(Pe),C(If.Initializing),b({type:Ji.DragStart,initialCoordinates:oe,active:le}),E({type:"onDragStart",event:Pe}),R(yt.current),B($t)})},onMove(oe){b({type:Ji.DragMove,coordinates:oe})},onEnd:ne(Ji.DragEnd),onCancel:ne(Ji.DragCancel)});yt.current=X;function ne(oe){return async function(){const{active:ve,collisions:be,over:Pe,scrollAdjustedTranslate:Xe}=ae.current;let gt=null;if(ve&&Xe){const{cancelDrop:Pt}=q.current;gt={activatorEvent:$t,active:ve,collisions:be,delta:Xe,over:Pe},oe===Ji.DragEnd&&typeof Pt=="function"&&await Promise.resolve(Pt(gt))&&(oe=Ji.DragCancel)}T.current=null,Ls.unstable_batchedUpdates(()=>{b({type:oe}),C(If.Uninitialized),pt(null),R(null),B(null),yt.current=null;const Pt=oe===Ji.DragEnd?"onDragEnd":"onDragCancel";if(gt){const er=q.current[Pt];er?.(gt),E({type:Pt,event:gt})}})}}},[F]),we=x.useCallback((Me,Je)=>(Ue,vt)=>{const tr=Ue.nativeEvent,$t=F.get(vt);if(T.current!==null||!$t||tr.dndKit||tr.defaultPrevented)return;const X={active:$t};Me(Ue,Je.options,X)===!0&&(tr.dndKit={capturedBy:Je.sensor},T.current=vt,ue(Ue,Je))},[F,ue]),Re=M8t(u,we);W8t(u),up(()=>{ce&&A===If.Initializing&&C(If.Initialized)},[ce,A]),x.useEffect(()=>{const{onDragMove:Me}=q.current,{active:Je,activatorEvent:Ue,collisions:vt,over:tr}=ae.current;if(!Je||!Ue)return;const $t={active:Je,activatorEvent:Ue,collisions:vt,delta:{x:Le.x,y:Le.y},over:tr};Ls.unstable_batchedUpdates(()=>{Me?.($t),E({type:"onDragMove",event:$t})})},[Le.x,Le.y]),x.useEffect(()=>{const{active:Me,activatorEvent:Je,collisions:Ue,droppableContainers:vt,scrollAdjustedTranslate:tr}=ae.current;if(!Me||T.current==null||!Je||!tr)return;const{onDragOver:$t}=q.current,X=vt.get(it),ne=X&&X.rect.current?{id:X.id,rect:X.rect.current,data:X.data,disabled:X.disabled}:null,oe={active:Me,activatorEvent:Je,collisions:Ue,delta:{x:tr.x,y:tr.y},over:ne};Ls.unstable_batchedUpdates(()=>{pt(ne),$t?.(oe),E({type:"onDragOver",event:oe})})},[it]),up(()=>{ae.current={activatorEvent:L,active:D,activeNode:Z,collisionRect:Ke,collisions:Qe,droppableRects:Y,draggableNodes:F,draggingNode:Ie,draggingNodeRect:qe,droppableContainers:$,over:st,scrollableAncestors:Ae,scrollAdjustedTranslate:Le},O.current={initial:qe,translated:Ke}},[D,Z,Qe,Ke,F,Ie,qe,Y,$,st,Ae,Le]),N8t({...te,delta:N,draggingRect:Ke,pointerCoordinates:_t,scrollableAncestors:Ae,scrollableAncestorRects:Fe});const Ne=x.useMemo(()=>({active:D,activeNode:Z,activeNodeRect:ce,activatorEvent:L,collisions:Qe,containerNodeRect:ge,dragOverlay:Ee,draggableNodes:F,droppableContainers:$,droppableRects:Y,over:st,measureDroppableContainers:Q,scrollableAncestors:Ae,scrollableAncestorRects:Fe,measuringConfiguration:j,measuringScheduled:z,windowRect:rt}),[D,Z,ce,L,Qe,ge,Ee,F,$,Y,st,Q,Ae,Fe,j,z,rt]),Ve=x.useMemo(()=>({activatorEvent:L,activators:Re,active:D,activeNodeRect:ce,ariaDescribedById:{draggable:G},dispatch:b,draggableNodes:F,over:st,measureDroppableContainers:Q}),[L,Re,D,ce,b,G,F,st,Q]);return ht.createElement(Kve.Provider,{value:_},ht.createElement(xk.Provider,{value:Ve},ht.createElement(Z8t.Provider,{value:Ne},ht.createElement(owe.Provider,{value:Mt},c)),ht.createElement(rkt,{disabled:a?.restoreFocus===!1})),ht.createElement(r8t,{...a,hiddenTextDescribedById:G}));function Se(){const Me=I?.autoScrollEnabled===!1,Je=typeof l=="object"?l.enabled===!1:l===!1,Ue=k&&!Me&&!Je;return typeof l=="object"?{...l,enabled:Ue}:{enabled:Ue}}}),akt=x.createContext(null),Sre="button",lkt="Draggable";function ckt(t){let{id:e,data:r,disabled:n=!1,attributes:i}=t;const s=wk(lkt),{activators:o,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:h,over:f}=x.useContext(xk),{role:p=Sre,roleDescription:m="draggable",tabIndex:v=0}=i??{},w=l?.id===e,b=x.useContext(w?owe:akt),[E,_]=zC(),[A,C]=zC(),k=H8t(o,e),P=ax(r);up(()=>(h.set(e,{id:e,key:s,node:E,activatorNode:A,data:P}),()=>{const N=h.get(e);N&&N.key===s&&h.delete(e)}),[h,e]);const F=x.useMemo(()=>({role:p,tabIndex:v,"aria-disabled":n,"aria-pressed":w&&p===Sre?!0:void 0,"aria-roledescription":m,"aria-describedby":u.draggable}),[n,p,v,w,m,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:F,isDragging:w,listeners:n?void 0:k,node:E,over:f,setNodeRef:_,setActivatorNodeRef:C,transform:b}}const ukt="Droppable",dkt={timeout:25};function hkt(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:i}=t;const s=wk(ukt),{active:o,dispatch:a,over:l,measureDroppableContainers:c}=x.useContext(xk),u=x.useRef({disabled:r}),h=x.useRef(!1),f=x.useRef(null),p=x.useRef(null),{disabled:m,updateMeasurementsFor:v,timeout:w}={...dkt,...i},b=ax(v??n),E=x.useCallback(()=>{if(!h.current){h.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{c(Array.isArray(b.current)?b.current:[b.current]),p.current=null},w)},[w]),_=bk({callback:E,disabled:m||!o}),A=x.useCallback((F,N)=>{_&&(N&&(_.unobserve(N),h.current=!1),F&&_.observe(F))},[_]),[C,k]=zC(A),P=ax(e);return x.useEffect(()=>{!_||!C.current||(_.disconnect(),h.current=!1,_.observe(C.current))},[C,_]),x.useEffect(()=>(a({type:Ji.RegisterDroppable,element:{id:n,key:s,disabled:r,node:C,rect:f,data:P}}),()=>a({type:Ji.UnregisterDroppable,key:s,id:n})),[n]),x.useEffect(()=>{r!==u.current.disabled&&(a({type:Ji.SetDroppableDisabled,id:n,key:s,disabled:r}),u.current.disabled=r)},[n,s,r,a]),{active:o,rect:f,isOver:l?.id===n,node:C,over:l,setNodeRef:k}}const fkt="/assets/bull_64x64-v0tiRq-r.png",pkt="/assets/bear_64x64-DjDwfccP.png",gkt="/assets/bull3_64x64light-B8ff9Vwp.png",mkt="/assets/bear2_64x64light-l_zXMsC4.png",Fu=6,G6=10,K6="rgba(15,15,20,0.95)",ykt=(t,e,r)=>{const{innerWidth:n,innerHeight:i}=window,s={top:window.scrollY,left:window.scrollX},a={top:{top:t.top+s.top-e.height-G6,left:t.left+s.left+t.width/2-e.width/2,arrowTop:"100%",arrowLeft:"50%",arrowTransform:"translateX(-50%)",arrowBorder:`${Fu}px solid transparent`,arrowBorderTop:`${Fu}px solid ${K6}`},bottom:{top:t.bottom+s.top+G6,left:t.left+s.left+t.width/2-e.width/2,arrowTop:`-${Fu}px`,arrowLeft:"50%",arrowTransform:"translateX(-50%)",arrowBorder:`${Fu}px solid transparent`,arrowBorderBottom:`${Fu}px solid ${K6}`},left:{top:t.top+s.top+t.height/2-e.height/2,left:t.left+s.left-e.width-G6,arrowTop:"50%",arrowLeft:"100%",arrowTransform:"translateY(-50%)",arrowBorder:`${Fu}px solid transparent`,arrowBorderLeft:`${Fu}px solid ${K6}`},right:{top:t.top+s.top+t.height/2-e.height/2,left:t.right+s.left+G6,arrowTop:"50%",arrowLeft:`-${Fu}px`,arrowTransform:"translateY(-50%)",arrowBorder:`${Fu}px solid transparent`,arrowBorderRight:`${Fu}px solid ${K6}`}}[r];return{...a,top:Math.max(8+s.top,Math.min(a.top,i+s.top-e.height-8)),left:Math.max(8+s.left,Math.min(a.left,n+s.left-e.width-8))}},vkt=({content:t,placement:e="top",delay:r=200,hideDelay:n=100,maxWidth:i=220,disabled:s=!1,className:o="",children:a})=>{const[l,c]=x.useState(!1),[u,h]=x.useState(null),[f,p]=x.useState({}),m=x.useRef(null),v=x.useRef(null),w=x.useRef(null),b=x.useRef(null),E=()=>{w.current!==null&&clearTimeout(w.current),b.current!==null&&clearTimeout(b.current)},_=x.useCallback(()=>{if(!m.current||!v.current)return;const F=m.current.getBoundingClientRect(),N=v.current.getBoundingClientRect(),$=ykt(F,N,e);h({top:$.top,left:$.left}),p({position:"absolute",top:$.arrowTop,left:$.arrowLeft,transform:$.arrowTransform,width:0,height:0,border:$.arrowBorder,...$.arrowBorderTop&&{borderTop:$.arrowBorderTop},...$.arrowBorderBottom&&{borderBottom:$.arrowBorderBottom},...$.arrowBorderLeft&&{borderLeft:$.arrowBorderLeft},...$.arrowBorderRight&&{borderRight:$.arrowBorderRight}})},[e]);x.useEffect(()=>{l&&requestAnimationFrame(_)},[l,t,_]),x.useEffect(()=>{if(l)return window.addEventListener("scroll",_,!0),window.addEventListener("resize",_),()=>{window.removeEventListener("scroll",_,!0),window.removeEventListener("resize",_)}},[l,_]);const A=()=>{s||(E(),w.current=setTimeout(()=>c(!0),r))},C=()=>{E(),b.current=setTimeout(()=>c(!1),n)},k={position:"absolute",top:u?.top??-9999,left:u?.left??-9999,maxWidth:i,zIndex:99999,pointerEvents:"none",padding:"7px 11px",borderRadius:"7px",fontSize:"13px",lineHeight:"1.5",letterSpacing:"0.01em",fontFamily:"'DM Sans', 'Segoe UI', sans-serif",border:"1px solid rgba(255,255,255,0.07)",wordBreak:"break-word",animation:"tooltip-fade-in 0.15s ease forwards"},P=l?Ls.createPortal(d.jsxs("div",{ref:v,role:"tooltip",className:o,style:k,children:[d.jsx("span",{style:f}),t,d.jsx("style",{children:`
              @keyframes tooltip-fade-in {
                from { opacity: 0; transform: scale(0.96); }
                to   { opacity: 1; transform: scale(1); }
              }
            `})]}),document.body):null;return d.jsxs(d.Fragment,{children:[d.jsx("span",{ref:m,onMouseEnter:A,onMouseLeave:C,onFocus:A,onBlur:C,style:{display:"inline-block"},children:a}),P]})},Y6="60px",Are=1e-4,J6={large:10,medium:1,small:.1,tiny:.01},Tw={large:0,medium:1,small:2,tiny:3,default:4};function u_(t){return Number.isFinite(t)?Math.abs(t)>=J6.large?t.toFixed(Tw.large):Math.abs(t)>=J6.medium?t.toFixed(Tw.medium):Math.abs(t)>=J6.small?t.toFixed(Tw.small):Math.abs(t)>=J6.tiny?t.toFixed(Tw.tiny):t.toFixed(Tw.default):"-"}function Tre(t){return!t.market||Math.abs(t.size)<Are||Math.abs(t.entryPrice)<Are}function wkt(t,e){return t=="light"?e==="long"?gkt:mkt:e==="long"?fkt:pkt}function bkt(t,e){const r=e-t,n=Math.floor(r/1e3),i=Math.floor(n/60),s=n%60;return`${i}m ${s}s ago`}function xkt(t,e=[],r,n){const i=t.size*t.entryPrice!==0?t.unrealizedPnl/(Math.abs(t.size)*t.entryPrice)*100:0,s=e.filter(v=>v.market===t.market&&v.reduceOnly),o=s.find(v=>v.orderType.toLowerCase().includes("take profit")),a=s.find(v=>v.orderType.toLowerCase().includes("stop")),l=o?.triggerPrice??o?.price??null,c=a?.triggerPrice??a?.price??null,u=l!=null?(l-t.entryPrice)/t.entryPrice*100:null,h=c!=null?(c-t.entryPrice)/t.entryPrice*100:null,f=t.entryPrice>0?(t.markPrice-t.entryPrice)/t.entryPrice*100:0,p=t.positionValue*35e-5*2,m=bkt(t.timestamp,r);return d.jsxs("div",{className:n==="light"?"text-black":"text-white",children:[d.jsxs("div",{children:[t.market,"",d.jsx("span",{className:`px-1.5 py-0.5 rounded ${t.side==="long"?"bg-buy-500/20 text-buy-500":"bg-sell-500/20 text-sell-500"}`,children:t.side.toUpperCase()}),"",d.jsxs("span",{children:[t.leverage,"x"]})]}),d.jsxs("div",{children:[d.jsx("span",{className:n==="light"?"text-black/70":"text-white/70",children:"Open Time:"}),"",m]}),d.jsxs("div",{children:[d.jsx("span",{className:n==="light"?"text-black/70":"text-white/70",children:"Entry Price:"}),"",Ku(t.entryPrice)]}),d.jsxs("div",{children:[d.jsx("span",{className:n==="light"?"text-black/70":"text-white/70",children:"Mark vs Entry:"}),"",S0(f)]}),d.jsxs("div",{children:[d.jsx("span",{className:n==="light"?"text-black/70":"text-white/70",children:"Size:"}),"",u_(t.size)]}),d.jsxs("div",{children:[d.jsx("span",{className:n==="light"?"text-black/70":"text-white/70",children:"Unrealized PnL:"}),"",d.jsxs("span",{className:`${t.unrealizedPnl>=0?"text-buy-500":"text-sell-500"}`,children:["$",u_(t.unrealizedPnl)," (",S0(i),")"]})]}),d.jsxs("div",{children:[d.jsx("span",{className:n==="light"?"text-black/70":"text-white/70",children:"Take Profit:"}),"",l!=null?`$${Ku(l)} (${S0(u)})`:""]}),d.jsxs("div",{children:[d.jsx("span",{className:n==="light"?"text-black/70":"text-white/70",children:"Stop Loss:"}),"",c!=null?`$${Ku(c)} (${S0(h)})`:""]}),d.jsxs("div",{children:[d.jsx("span",{className:n==="light"?"text-black/70":"text-white/70",children:"Estimated Fee:"})," ~$",u_(p)]})]})}function _kt({position:t,isHighlighted:e=!1,onClick:r,onDoubleClick:n}){const{theme:i}=Dr(),{address:s}=Pn(),{network:o}=fn(),l=(s?A3(s,o):null)?.address,{data:c=[]}=fs(UC(s||"",o)),{data:u=[]}=fs({...UC(l||"",o),enabled:!!l&&l!==s}),h=x.useMemo(()=>{const C=[...c,...u],k=new Map;return C.forEach(P=>{k.set(P.id,P)}),Array.from(k.values())},[c,u]),[f,p]=x.useState(Date.now()),m=x.useRef(null),v=`position-open-time-${s}-${t.market}-${t.side}-${t.entryPrice}`;x.useEffect(()=>{if(Tre(t)){localStorage.removeItem(v),m.current=null;return}const C=localStorage.getItem(v);C?m.current=Number(C):(m.current=t.timestamp,localStorage.setItem(v,String(m.current)))},[t,v]);const[w,b]=x.useState(t);x.useEffect(()=>{b(t);const C=setInterval(()=>{p(Date.now()),b(k=>({...k,markPrice:k.markPrice+(Math.random()-.5)*.1}))},1e3);return()=>clearInterval(C)},[t]);const E=x.useMemo(()=>{const C={...w,timestamp:m.current??t.timestamp};return xkt(C,h,f,i)},[w,h,f,t.timestamp]);if(Tre(t))return d.jsx("div",{className:`${i==="light"?"bg-[#EEEEEE] border-black/20":"bg-[#0A0A0A] border-white/20"} select-none w-[60px] h-[60px] p-0 rounded-sm border border-dashed opacity-40`,style:{minWidth:Y6,minHeight:Y6},onClick:r,children:d.jsx("div",{className:"w-full h-full flex items-center justify-center",children:d.jsx("div",{className:"text-xs text-muted",children:"Empty"})})});const A=wkt(i,t.side);return d.jsx(vkt,{content:E,placement:"top",maxWidth:260,className:"bg-panel-gradient",children:d.jsxs("div",{className:`relative card select-none w-[60px] h-[60px] p-0 rounded-sm overflow-hidden transition-all ${e?"cursor-pointer border-dashed border-2 hover:bg-sky-700":""}`,style:{minWidth:Y6,minHeight:Y6,...e?{transform:"scale(1.05)",zIndex:10}:{}},onClick:r,onContextMenu:C=>{r&&(C.preventDefault(),r())},onDoubleClick:n,role:e?"button":void 0,tabIndex:e?0:-1,onKeyDown:C=>{e&&r&&(C.key==="Enter"||C.key===" ")&&(C.preventDefault(),r())},children:[d.jsx("img",{src:A,alt:`${t.side} position avatar`,className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute space-y-1 top-0 left-0 w-[60px] h-[60px]",children:d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"absolute top-0 left-0 font-black text-txt text-xs truncate",title:t.market,children:[t.market,d.jsxs("div",{children:[t.leverage,"x"]})]}),d.jsx("div",{className:`absolute top-0 right-1 text-[10px] font-bold flex-shrink-0 ${t.side==="long"?"text-buy-500":"text-sell-500"}`,children:t.side==="long"?"L":"S"}),d.jsx("div",{className:"absolute top-7 right-1 text-[9px] text-txt truncate text-center",children:t.positionValue.toFixed(3)}),d.jsxs("div",{className:"absolute top-8 right-1",children:[d.jsx("span",{className:"text-[9px] text-muted",children:"PnL:"}),d.jsx("span",{className:`font-black text-[9px] ${t.unrealizedPnl>=0?"text-buy-500":"text-sell-500"}`,children:u_(t.unrealizedPnl)})]})]})})]})})}var hn=(t=>(t.Application="application",t.WebGLPipes="webgl-pipes",t.WebGLPipesAdaptor="webgl-pipes-adaptor",t.WebGLSystem="webgl-system",t.WebGPUPipes="webgpu-pipes",t.WebGPUPipesAdaptor="webgpu-pipes-adaptor",t.WebGPUSystem="webgpu-system",t.CanvasSystem="canvas-system",t.CanvasPipesAdaptor="canvas-pipes-adaptor",t.CanvasPipes="canvas-pipes",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t.MaskEffect="mask-effect",t.BlendMode="blend-mode",t.TextureSource="texture-source",t.Environment="environment",t.ShapeBuilder="shape-builder",t.Batcher="batcher",t))(hn||{});const Rj=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},X6=(t,e)=>Rj(t).priority??e,pc={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Rj).forEach(e=>{e.type.forEach(r=>this._removeHandlers[r]?.(e))}),this},add(...t){return t.map(Rj).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r]?.(e):(i[r]=i[r]||[],i[r]?.push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t]?.forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByNamedList(t,e,r=-1){return this.handle(t,n=>{e.findIndex(s=>s.name===n.name)>=0||(e.push({name:n.name,value:n.ref}),e.sort((s,o)=>X6(o.value,r)-X6(s.value,r)))},n=>{const i=e.findIndex(s=>s.name===n.name);i!==-1&&e.splice(i,1)})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>X6(s,r)-X6(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})},mixin(t,...e){for(const r of e)Object.defineProperties(t.prototype,Object.getOwnPropertyDescriptors(r))}},Ckt={extension:{type:hn.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await bi(()=>import("./browserAll-Dx9pGlIQ.js"),__vite__mapDeps([0,1,2,3]))}},Ekt={extension:{type:hn.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await bi(()=>import("./webworkerAll-CfQVuwlC.js"),__vite__mapDeps([1,2,3]))}};class io{constructor(e,r,n){this._x=r||0,this._y=n||0,this._observer=e}clone(e){return new io(e??this._observer,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}const kkt=Math.PI*2,Skt=180/Math.PI,Akt=Math.PI/180;class ho{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new ho(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return zP.x=0,zP.y=0,zP}}const zP=new ho;class Br{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new ho;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new ho;const n=this.a,i=this.b,s=this.c,o=this.d,a=this.tx,l=this.ty,c=1/(n*o+s*-i),u=e.x,h=e.y;return r.x=o*c*u+-s*c*h+(l*s-a*o)*c,r.y=n*c*h+-i*c*u+(-l*n+a*i)*c,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}appendFrom(e,r){const n=e.a,i=e.b,s=e.c,o=e.d,a=e.tx,l=e.ty,c=r.a,u=r.b,h=r.c,f=r.d;return this.a=n*c+i*h,this.b=n*u+i*f,this.c=s*c+o*h,this.d=s*u+o*f,this.tx=a*c+l*h+r.tx,this.ty=a*u+l*f+r.ty,this}setTransform(e,r,n,i,s,o,a,l,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(n,r),c=Math.abs(a+l);return c<1e-5||Math.abs(kkt-c)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Br;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return Ikt.identity()}static get shared(){return Tkt.identity()}}const Tkt=new Br,Ikt=new Br,t0=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],r0=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],n0=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],i0=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Oj=[],awe=[],Q6=Math.sign;function Pkt(){for(let t=0;t<16;t++){const e=[];Oj.push(e);for(let r=0;r<16;r++){const n=Q6(t0[t]*t0[r]+n0[t]*r0[r]),i=Q6(r0[t]*t0[r]+i0[t]*r0[r]),s=Q6(t0[t]*n0[r]+n0[t]*i0[r]),o=Q6(r0[t]*n0[r]+i0[t]*i0[r]);for(let a=0;a<16;a++)if(t0[a]===n&&r0[a]===i&&n0[a]===s&&i0[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Br;e.set(t0[t],r0[t],n0[t],i0[t],0,0),awe.push(e)}}Pkt();const _n={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>t0[t],uY:t=>r0[t],vX:t=>n0[t],vY:t=>i0[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Oj[t][e],sub:(t,e)=>Oj[t][_n.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?_n.S:_n.N:Math.abs(e)*2<=Math.abs(t)?t>0?_n.E:_n.W:e>0?t>0?_n.SE:_n.SW:t>0?_n.NE:_n.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=awe[_n.inv(e)];i.tx=r,i.ty=n,t.append(i)},transformRectCoords:(t,e,r,n)=>{const{x:i,y:s,width:o,height:a}=t,{x:l,y:c,width:u,height:h}=e;return r===_n.E?(n.set(i+l,s+c,o,a),n):r===_n.S?n.set(u-s-a+l,i+c,a,o):r===_n.W?n.set(u-i-o+l,h-s-a+c,o,a):r===_n.N?n.set(s+l,h-i-o+c,a,o):n.set(i+l,s+c,o,a)}},Z6=[new ho,new ho,new ho,new ho];class ms{constructor(e=0,r=0,n=0,i=0){this.type="rectangle",this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new ms(0,0,0,0)}clone(){return new ms(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}strokeContains(e,r,n,i=.5){const{width:s,height:o}=this;if(s<=0||o<=0)return!1;const a=this.x,l=this.y,c=n*(1-i),u=n-c,h=a-c,f=a+s+c,p=l-c,m=l+o+c,v=a+u,w=a+s-u,b=l+u,E=l+o-u;return e>=h&&e<=f&&r>=p&&r<=m&&!(e>v&&e<w&&r>b&&r<E)}intersects(e,r){if(!r){const F=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=F)return!1;const $=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>$}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=Z6[0].set(e.left,e.top),l=Z6[1].set(e.left,e.bottom),c=Z6[2].set(e.right,e.top),u=Z6[3].set(e.right,e.bottom);if(c.x<=a.x||l.y<=a.y)return!1;const h=Math.sign(r.a*r.d-r.b*r.c);if(h===0||(r.apply(a,a),r.apply(l,l),r.apply(c,c),r.apply(u,u),Math.max(a.x,l.x,c.x,u.x)<=n||Math.min(a.x,l.x,c.x,u.x)>=i||Math.max(a.y,l.y,c.y,u.y)<=s||Math.min(a.y,l.y,c.y,u.y)>=o))return!1;const f=h*(l.y-a.y),p=h*(a.x-l.x),m=f*n+p*s,v=f*i+p*s,w=f*n+p*o,b=f*i+p*o;if(Math.max(m,v,w,b)<=f*a.x+p*a.y||Math.min(m,v,w,b)>=f*u.x+p*u.y)return!1;const E=h*(a.y-c.y),_=h*(c.x-a.x),A=E*n+_*s,C=E*i+_*s,k=E*n+_*o,P=E*i+_*o;return!(Math.max(A,C,k,P)<=E*a.x+_*a.y||Math.min(A,C,k,P)>=E*u.x+_*u.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}scale(e,r=e){return this.x*=e,this.y*=r,this.width*=e,this.height*=r,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}getBounds(e){return e||(e=new ms),e.copyFrom(this),e}containsRect(e){if(this.width<=0||this.height<=0)return!1;const r=e.x,n=e.y,i=e.x+e.width,s=e.y+e.height;return r>=this.x&&r<this.x+this.width&&n>=this.y&&n<this.y+this.height&&i>=this.x&&i<this.x+this.width&&s>=this.y&&s<this.y+this.height}set(e,r,n,i){return this.x=e,this.y=r,this.width=n,this.height=i,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const qP={default:-1};function xi(t="default"){return qP[t]===void 0&&(qP[t]=-1),++qP[t]}const Ire=new Set,Vi="8.0.0",$kt="8.3.4",Sy={quiet:!1,noColor:!1},mn=(t,e,r=3)=>{if(Sy.quiet||Ire.has(e))return;let n=new Error().stack;const i=`${e}
Deprecated since v${t}`,s=typeof console.groupCollapsed=="function"&&!Sy.noColor;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",i):(n=n.split(`
`).splice(r).join(`
`),s?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",i),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",i),console.warn(n))),Ire.add(e)};Object.defineProperties(mn,{quiet:{get:()=>Sy.quiet,set:t=>{Sy.quiet=t},enumerable:!0,configurable:!1},noColor:{get:()=>Sy.noColor,set:t=>{Sy.noColor=t},enumerable:!0,configurable:!1}});const lwe=()=>{};function Pre(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function $re(t){return!(t&t-1)&&!!t}function cwe(t){const e={};for(const r in t)t[r]!==void 0&&(e[r]=t[r]);return e}const Nre=Object.create(null);function Nkt(t){const e=Nre[t];return e===void 0&&(Nre[t]=xi("resource")),e}const uwe=class dwe extends mo{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...dwe.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){mn(Vi,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this._sharedResourceId=null,this.emit("change",this)}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Nkt(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};uwe.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let hwe=uwe;const fwe=class pwe extends mo{constructor(e={}){super(),this.options=e,this._gpuData=Object.create(null),this._gcLastUsed=-1,this.uid=xi("textureSource"),this._resourceType="textureSource",this._resourceId=xi("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...pwe.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new hwe(cwe(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){this.style!==e&&(this._style?.off("change",this._onStyleChange,this),this._style=e,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(e){this._style.maxAnisotropy=e}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.unload(),this.emit("destroy",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=xi("resource"),this.emit("change",this),this.emit("unload",this);for(const e in this._gpuData)this._gpuData[e]?.destroy?.();this._gpuData=Object.create(null)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,r,n){n||(n=this._resolution),e||(e=this.width),r||(r=this.height);const i=Math.round(e*n),s=Math.round(r*n);return this.width=i/n,this.height=s/n,this._resolution=n,this.pixelWidth===i&&this.pixelHeight===s?!1:(this._refreshPOT(),this.pixelWidth=i,this.pixelHeight=s,this.emit("resize",this),this._resourceId=xi("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=$re(this.pixelWidth)&&$re(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};fwe.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let mu=fwe;class RU extends mu{constructor(e){const r=e.resource||new Float32Array(e.width*e.height*4);let n=e.format;n||(r instanceof Float32Array?n="rgba32float":r instanceof Int32Array||r instanceof Uint32Array?n="rgba32uint":r instanceof Int16Array||r instanceof Uint16Array?n="rgba16uint":(r instanceof Int8Array,n="bgra8unorm")),super({...e,resource:r,format:n}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}RU.extension=hn.TextureSource;const Rre=new Br;class Rkt{constructor(e,r){this.mapCoord=new Br,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof r>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=r,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){this.texture!==e&&(this._texture?.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(){const e=this._texture;this._updateID++;const r=e.uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const n=e.orig,i=e.trim;i&&(Rre.set(n.width/i.width,0,0,n.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(Rre));const s=e.source,o=this.uClampFrame,a=this.clampMargin/s._resolution,l=this.clampOffset/s._resolution;return o[0]=(e.frame.x+a+l)/s.width,o[1]=(e.frame.y+a+l)/s.height,o[2]=(e.frame.x+e.frame.width-a+l)/s.width,o[3]=(e.frame.y+e.frame.height-a+l)/s.height,this.uClampOffset[0]=this.clampOffset/s.pixelWidth,this.uClampOffset[1]=this.clampOffset/s.pixelHeight,this.isSimple=e.frame.width===s.width&&e.frame.height===s.height&&e.rotate===0,!0}}class Sn extends mo{constructor({source:e,label:r,frame:n,orig:i,trim:s,defaultAnchor:o,defaultBorders:a,rotate:l,dynamic:c}={}){if(super(),this.uid=xi("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new ms,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=r,this.source=e?.source??new mu,this.noFrame=!n,n)this.frame.copyFrom(n);else{const{width:u,height:h}=this._source;this.frame.width=u,this.frame.height=h}this.orig=i||this.frame,this.trim=s,this.rotate=l??0,this.defaultAnchor=o,this.defaultBorders=a,this.destroyed=!1,this.dynamic=c||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new Rkt(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:r}=this,{width:n,height:i}=this._source,s=r.x/n,o=r.y/i,a=r.width/n,l=r.height/i;let c=this.rotate;if(c){const u=a/2,h=l/2,f=s+u,p=o+h;c=_n.add(c,_n.NW),e.x0=f+u*_n.uX(c),e.y0=p+h*_n.uY(c),c=_n.add(c,2),e.x1=f+u*_n.uX(c),e.y1=p+h*_n.uY(c),c=_n.add(c,2),e.x2=f+u*_n.uX(c),e.y2=p+h*_n.uY(c),c=_n.add(c,2),e.x3=f+u*_n.uX(c),e.y3=p+h*_n.uY(c)}else e.x0=s,e.y0=o,e.x1=s+a,e.y1=o,e.x2=s+a,e.y2=o+l,e.x3=s,e.y3=o+l}destroy(e=!1){this._source&&(this._source.off("resize",this.update,this),e&&(this._source.destroy(),this._source=null)),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return mn(Vi,"Texture.baseTexture is now Texture.source"),this._source}}Sn.EMPTY=new Sn({label:"EMPTY",source:new mu({label:"EMPTY"})});Sn.EMPTY.destroy=lwe;Sn.WHITE=new Sn({source:new RU({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Sn.WHITE.destroy=lwe;function Okt(t,e,r){const{width:n,height:i}=r.orig,s=r.trim;if(s){const o=s.width,a=s.height;t.minX=s.x-e._x*n,t.maxX=t.minX+o,t.minY=s.y-e._y*i,t.maxY=t.minY+a}else t.minX=-e._x*n,t.maxX=t.minX+n,t.minY=-e._y*i,t.maxY=t.minY+i}const Ore=new Br;class du{constructor(e=1/0,r=1/0,n=-1/0,i=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Ore,this.minX=e,this.minY=r,this.maxX=n,this.maxY=i}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new ms);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Ore,this}set(e,r,n,i){this.minX=e,this.minY=r,this.maxX=n,this.maxY=i}addFrame(e,r,n,i,s){s||(s=this.matrix);const o=s.a,a=s.b,l=s.c,c=s.d,u=s.tx,h=s.ty;let f=this.minX,p=this.minY,m=this.maxX,v=this.maxY,w=o*e+l*r+u,b=a*e+c*r+h;w<f&&(f=w),b<p&&(p=b),w>m&&(m=w),b>v&&(v=b),w=o*n+l*r+u,b=a*n+c*r+h,w<f&&(f=w),b<p&&(p=b),w>m&&(m=w),b>v&&(v=b),w=o*e+l*i+u,b=a*e+c*i+h,w<f&&(f=w),b<p&&(p=b),w>m&&(m=w),b>v&&(v=b),w=o*n+l*i+u,b=a*n+c*i+h,w<f&&(f=w),b<p&&(p=b),w>m&&(m=w),b>v&&(v=b),this.minX=f,this.minY=p,this.maxX=m,this.maxY=v}addRect(e,r){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,r)}addBounds(e,r){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,r)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,{a:o,b:a,c:l,d:c,tx:u,ty:h}=e;let f=o*r+l*n+u,p=a*r+c*n+h;this.minX=f,this.minY=p,this.maxX=f,this.maxY=p,f=o*i+l*n+u,p=a*i+c*n+h,this.minX=f<this.minX?f:this.minX,this.minY=p<this.minY?p:this.minY,this.maxX=f>this.maxX?f:this.maxX,this.maxY=p>this.maxY?p:this.maxY,f=o*r+l*s+u,p=a*r+c*s+h,this.minX=f<this.minX?f:this.minX,this.minY=p<this.minY?p:this.minY,this.maxX=f>this.maxX?f:this.maxX,this.maxY=p>this.maxY?p:this.maxY,f=o*i+l*s+u,p=a*i+c*s+h,this.minX=f<this.minX?f:this.minX,this.minY=p<this.minY?p:this.minY,this.maxX=f>this.maxX?f:this.maxX,this.maxY=p>this.maxY?p:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,r,n,i){return this.minX<e&&(this.minX=e),this.maxX>r&&(this.maxX=r),this.minY<n&&(this.minY=n),this.maxY>i&&(this.maxY=i),this}pad(e,r=e){return this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new du(this.minX,this.minY,this.maxX,this.maxY)}scale(e,r=e){return this.minX*=e,this.minY*=r,this.maxX*=e,this.maxY*=r,this}get x(){return this.minX}set x(e){const r=this.maxX-this.minX;this.minX=e,this.maxX=e+r}get y(){return this.minY}set y(e){const r=this.maxY-this.minY;this.minY=e,this.maxY=e+r}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,r,n,i){let s=this.minX,o=this.minY,a=this.maxX,l=this.maxY;i||(i=this.matrix);const c=i.a,u=i.b,h=i.c,f=i.d,p=i.tx,m=i.ty;for(let v=r;v<n;v+=2){const w=e[v],b=e[v+1],E=c*w+h*b+p,_=u*w+f*b+m;s=E<s?E:s,o=_<o?_:o,a=E>a?E:a,l=_>l?_:l}this.minX=s,this.minY=o,this.maxX=a,this.maxY=l}containsPoint(e,r){return this.minX<=e&&this.minY<=r&&this.maxX>=e&&this.maxY>=r}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var jkt={grad:.9,turn:360,rad:360/(2*Math.PI)},Bd=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},ds=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Ul=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},gwe=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},jre=function(t){return{r:Ul(t.r,0,255),g:Ul(t.g,0,255),b:Ul(t.b,0,255),a:Ul(t.a)}},WP=function(t){return{r:ds(t.r),g:ds(t.g),b:ds(t.b),a:ds(t.a,3)}},Mkt=/^#([0-9a-f]{3,8})$/i,e4=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},mwe=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},ywe=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),l=n*(1-(1-e+s)*r),c=s%6;return{r:255*[n,a,o,o,l,n][c],g:255*[l,n,n,a,o,o][c],b:255*[o,o,l,n,n,a][c],a:i}},Mre=function(t){return{h:gwe(t.h),s:Ul(t.s,0,100),l:Ul(t.l,0,100),a:Ul(t.a)}},Dre=function(t){return{h:ds(t.h),s:ds(t.s),l:ds(t.l),a:ds(t.a,3)}},Fre=function(t){return ywe((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Db=function(t){return{h:(e=mwe(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},Dkt=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Fkt=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Lkt=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ukt=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,jj={string:[[function(t){var e=Mkt.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?ds(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?ds(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Lkt.exec(t)||Ukt.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:jre({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Dkt.exec(t)||Fkt.exec(t);if(!e)return null;var r,n,i=Mre({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(jkt[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Fre(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return Bd(e)&&Bd(r)&&Bd(n)?jre({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!Bd(e)||!Bd(r)||!Bd(n))return null;var o=Mre({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return Fre(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!Bd(e)||!Bd(r)||!Bd(n))return null;var o=(function(a){return{h:gwe(a.h),s:Ul(a.s,0,100),v:Ul(a.v,0,100),a:Ul(a.a)}})({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return ywe(o)},"hsv"]]},Lre=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},Bkt=function(t){return typeof t=="string"?Lre(t.trim(),jj.string):typeof t=="object"&&t!==null?Lre(t,jj.object):[null,void 0]},HP=function(t,e){var r=Db(t);return{h:r.h,s:Ul(r.s+100*e,0,100),l:r.l,a:r.a}},VP=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},Ure=function(t,e){var r=Db(t);return{h:r.h,s:r.s,l:Ul(r.l+100*e,0,100),a:r.a}},Mj=(function(){function t(e){this.parsed=Bkt(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return ds(VP(this.rgba),2)},t.prototype.isDark=function(){return VP(this.rgba)<.5},t.prototype.isLight=function(){return VP(this.rgba)>=.5},t.prototype.toHex=function(){return e=WP(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?e4(ds(255*s)):"","#"+e4(r)+e4(n)+e4(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return WP(this.rgba)},t.prototype.toRgbString=function(){return e=WP(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return Dre(Db(this.rgba))},t.prototype.toHslString=function(){return e=Dre(Db(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=mwe(this.rgba),{h:ds(e.h),s:ds(e.s),v:ds(e.v),a:ds(e.a,3)};var e},t.prototype.invert=function(){return zu({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),zu(HP(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),zu(HP(this.rgba,-e))},t.prototype.grayscale=function(){return zu(HP(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),zu(Ure(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),zu(Ure(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?zu({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):ds(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Db(this.rgba);return typeof e=="number"?zu({h:e,s:r.s,l:r.l,a:r.a}):ds(r.h)},t.prototype.isEqual=function(e){return this.toHex()===zu(e).toHex()},t})(),zu=function(t){return t instanceof Mj?t:new Mj(t)},Bre=[],zkt=function(t){t.forEach(function(e){Bre.indexOf(e)<0&&(e(Mj,jj),Bre.push(e))})};function qkt(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=n[this.toHex()];if(c)return c;if(o?.closest){var u=this.toRgb(),h=1/0,f="black";if(!s.length)for(var p in r)s[p]=new t(r[p]).toRgb();for(var m in r){var v=(a=u,l=s[m],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));v<h&&(h=v,f=m)}return f}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":r[a];return l?new t(l).toRgb():null},"name"])}zkt([qkt]);const v1=class rb{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof rb)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((s,o)=>s===r[o]);if(e!==null&&r!==null){const s=Object.keys(e),o=Object.keys(r);return s.length!==o.length?!1:s.every(a=>e[a]===r[a])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toBgrNumber(){const[e,r,n]=this.toUint8RgbArray();return(n<<16)+(r<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=rb._temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this._refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const r=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-r.length)+r}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=rb.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=zu(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof rb||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};v1.shared=new v1;v1._temp=new v1;v1.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let zl=v1;const Wkt={cullArea:null,cullable:!1,cullableChildren:!0};let GP=0;const zre=500;function Ja(...t){GP!==zre&&(GP++,GP===zre?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...t))}const _k={_registeredResources:new Set,register(t){this._registeredResources.add(t)},unregister(t){this._registeredResources.delete(t)},release(){this._registeredResources.forEach(t=>t.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(t){return this._registeredResources.has(t)},reset(){this._registeredResources.clear()}};class Hkt{constructor(e,r){this._pool=[],this._count=0,this._index=0,this._classType=e,r&&this.prepopulate(r)}prepopulate(e){for(let r=0;r<e;r++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){let r;return this._index>0?r=this._pool[--this._index]:(r=new this._classType,this._count++),r.init?.(e),r}return(e){e.reset?.(),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let e=0;e<this._index;e++)this._pool[e].destroy();this._pool.length=0,this._count=0,this._index=0}}class Vkt{constructor(){this._poolsByClass=new Map}prepopulate(e,r){this.getPool(e).prepopulate(r)}get(e,r){return this.getPool(e).get(r)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new Hkt(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(r=>{const n=e[r._classType.name]?r._classType.name+r._classType.ID:r._classType.name;e[n]={free:r.totalFree,used:r.totalUsed,size:r.totalSize}}),e}clear(){this._poolsByClass.forEach(e=>e.clear()),this._poolsByClass.clear()}}const ec=new Vkt;_k.register(ec);const Gkt={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(t){typeof t=="boolean"&&t===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(t===!0?{}:t))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(t){mn("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(t)}};function Kkt(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}const Ykt={allowChildren:!0,removeChildren(t=0,e){const r=e??this.children.length,n=r-t,i=[];if(n>0&&n<=r){for(let o=r-1;o>=t;o--){const a=this.children[o];a&&(i.push(a),a.parent=null)}Kkt(this.children,t,r);const s=this.renderGroup||this.parentRenderGroup;s&&s.removeChildren(i);for(let o=0;o<i.length;++o){const a=i[o];a.parentRenderLayer?.detach(a),this.emit("childRemoved",a,this,o),i[o].emit("removed",this)}return i.length>0&&this._didViewChangeTick++,i}else if(n===0&&this.children.length===0)return i;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(t){const e=this.getChildAt(t);return this.removeChild(e)},getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]},setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(t),this.addChildAt(t,e)},getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(t,e){this.allowChildren||mn(Vi,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:r}=this;if(e<0||e>r.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${r.length}`);if(t.parent){const i=t.parent.children.indexOf(t);if(t.parent===this&&i===e)return t;i!==-1&&t.parent.children.splice(i,1)}e===r.length?r.push(t):r.splice(e,0,t),t.parent=this,t.didChange=!0,t._updateFlags=15;const n=this.renderGroup||this.parentRenderGroup;return n&&n.addChild(t),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",t,this,e),t.emit("added",this),t},swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t;const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...t){return t.length===1?this.reparentChildAt(t[0],this.children.length):(t.forEach(e=>this.reparentChildAt(e,this.children.length)),t[0])},reparentChildAt(t,e){if(t.parent===this)return this.setChildIndex(t,e),t;const r=t.worldTransform.clone();t.removeFromParent(),this.addChildAt(t,e);const n=this.worldTransform.clone();return n.invert(),r.prepend(n),t.setFromMatrix(r),t},replaceChild(t,e){t.updateLocalTransform(),this.addChildAt(e,this.getChildIndex(t)),e.setFromMatrix(t.localTransform),e.updateLocalTransform(),this.removeChild(t)}},Jkt={collectRenderables(t,e,r){this.parentRenderLayer&&this.parentRenderLayer!==r||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(t,e,r):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,t):this.collectRenderablesWithEffects(t,e,r))},collectRenderablesSimple(t,e,r){const n=this.children,i=n.length;for(let s=0;s<i;s++)n[s].collectRenderables(t,e,r)},collectRenderablesWithEffects(t,e,r){const{renderPipes:n}=e;for(let i=0;i<this.effects.length;i++){const s=this.effects[i];n[s.pipe].push(s,this,t)}this.collectRenderablesSimple(t,e,r);for(let i=this.effects.length-1;i>=0;i--){const s=this.effects[i];n[s.pipe].pop(s,this,t)}}};class qre{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class Xkt{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let r=0;r<this._tests.length;r++){const n=this._tests[r];if(n.test(e))return ec.get(n.maskClass,e)}return e}returnMaskEffect(e){ec.return(e)}}const Dj=new Xkt;pc.handleByList(hn.MaskEffect,Dj._effectClasses);const Qkt={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const t=this.renderGroup||this.parentRenderGroup;t&&(t.structureDidChange=!0)},addEffect(t){this.effects.indexOf(t)===-1&&(this.effects.push(t),this.effects.sort((r,n)=>r.priority-n.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(t){const e=this.effects.indexOf(t);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(t){const e=this._maskEffect;e?.mask!==t&&(e&&(this.removeEffect(e),Dj.returnMaskEffect(e),this._maskEffect=null),t!=null&&(this._maskEffect=Dj.getMaskEffect(t),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(t){this._maskOptions={...this._maskOptions,...t},t.mask&&(this.mask=t.mask),this._markStructureAsChanged()},set filters(t){!Array.isArray(t)&&t&&(t=[t]);const e=this._filterEffect||(this._filterEffect=new qre);t=t;const r=t?.length>0,n=e.filters?.length>0,i=r!==n;t=Array.isArray(t)?t.slice(0):t,e.filters=Object.freeze(t),i&&(r?this.addEffect(e):(this.removeEffect(e),e.filters=t??null))},get filters(){return this._filterEffect?.filters},set filterArea(t){this._filterEffect||(this._filterEffect=new qre),this._filterEffect.filterArea=t},get filterArea(){return this._filterEffect?.filterArea}},Zkt={label:null,get name(){return mn(Vi,"Container.name property has been removed, use Container.label instead"),this.label},set name(t){mn(Vi,"Container.name property has been removed, use Container.label instead"),this.label=t},getChildByName(t,e=!1){return this.getChildByLabel(t,e)},getChildByLabel(t,e=!1){const r=this.children;for(let n=0;n<r.length;n++){const i=r[n];if(i.label===t||t instanceof RegExp&&t.test(i.label))return i}if(e)for(let n=0;n<r.length;n++){const s=r[n].getChildByLabel(t,!0);if(s)return s}return null},getChildrenByLabel(t,e=!1,r=[]){const n=this.children;for(let i=0;i<n.length;i++){const s=n[i];(s.label===t||t instanceof RegExp&&t.test(s.label))&&r.push(s)}if(e)for(let i=0;i<n.length;i++)n[i].getChildrenByLabel(t,!0,r);return r}},Ro=ec.getPool(Br),gh=ec.getPool(du),eSt=new Br,tSt={getFastGlobalBounds(t,e){e||(e=new du),e.clear(),this._getGlobalBoundsRecursive(!!t,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const r=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(r.worldTransform),e},_getGlobalBoundsRecursive(t,e,r){let n=e;if(t&&this.parentRenderLayer&&this.parentRenderLayer!==r||this.localDisplayStatus!==7||!this.measurable)return;const i=!!this.effects.length;if((this.renderGroup||i)&&(n=gh.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const o=this.bounds;n.addFrame(o.minX,o.minY,o.maxX,o.maxY,this.groupTransform)}const s=this.children;for(let o=0;o<s.length;o++)s[o]._getGlobalBoundsRecursive(t,n,r)}if(i){let s=!1;const o=this.renderGroup||this.parentRenderGroup;for(let a=0;a<this.effects.length;a++)this.effects[a].addBounds&&(s||(s=!0,n.applyMatrix(o.worldTransform)),this.effects[a].addBounds(n,!0));s&&n.applyMatrix(o.worldTransform.copyTo(eSt).invert()),e.addBounds(n),gh.return(n)}else this.renderGroup&&(e.addBounds(n,this.relativeGroupTransform),gh.return(n))}};function vwe(t,e,r){r.clear();let n,i;return t.parent?e?n=t.parent.worldTransform:(i=Ro.get().identity(),n=OU(t,i)):n=Br.IDENTITY,wwe(t,r,n,e),i&&Ro.return(i),r.isValid||r.set(0,0,0,0),r}function wwe(t,e,r,n){if(!t.visible||!t.measurable)return;let i;n?i=t.worldTransform:(t.updateLocalTransform(),i=Ro.get(),i.appendFrom(t.localTransform,r));const s=e,o=!!t.effects.length;if(o&&(e=gh.get().clear()),t.boundsArea)e.addRect(t.boundsArea,i);else{const a=t.bounds;a&&!a.isEmpty()&&(e.matrix=i,e.addBounds(a));for(let l=0;l<t.children.length;l++)wwe(t.children[l],e,i,n)}if(o){for(let a=0;a<t.effects.length;a++)t.effects[a].addBounds?.(e);s.addBounds(e,Br.IDENTITY),gh.return(e)}n||Ro.return(i)}function OU(t,e){const r=t.parent;return r&&(OU(r,e),r.updateLocalTransform(),e.append(r.localTransform)),e}function bwe(t,e){if(t===16777215||!e)return e;if(e===16777215||!t)return t;const r=t>>16&255,n=t>>8&255,i=t&255,s=e>>16&255,o=e>>8&255,a=e&255,l=r*s/255|0,c=n*o/255|0,u=i*a/255|0;return(l<<16)+(c<<8)+u}const Wre=16777215;function Hre(t,e){return t===Wre?e:e===Wre?t:bwe(t,e)}function d_(t){return((t&255)<<16)+(t&65280)+(t>>16&255)}const rSt={getGlobalAlpha(t){if(t)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,r=this.parent;for(;r;)e*=r.alpha,r=r.parent;return e},getGlobalTransform(t=new Br,e){if(e)return t.copyFrom(this.worldTransform);this.updateLocalTransform();const r=OU(this,Ro.get().identity());return t.appendFrom(this.localTransform,r),Ro.return(r),t},getGlobalTint(t){if(t)return this.renderGroup?d_(this.renderGroup.worldColor):this.parentRenderGroup?d_(Hre(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,r=this.parent;for(;r;)e=Hre(e,r.localColor),r=r.parent;return d_(e)}};function xwe(t,e,r){return e.clear(),r||(r=Br.IDENTITY),_we(t,e,r,t,!0),e.isValid||e.set(0,0,0,0),e}function _we(t,e,r,n,i){let s;if(i)s=Ro.get(),s=r.copyTo(s);else{if(!t.visible||!t.measurable)return;t.updateLocalTransform();const l=t.localTransform;s=Ro.get(),s.appendFrom(l,r)}const o=e,a=!!t.effects.length;if(a&&(e=gh.get().clear()),t.boundsArea)e.addRect(t.boundsArea,s);else{t.renderPipeId&&(e.matrix=s,e.addBounds(t.bounds));const l=t.children;for(let c=0;c<l.length;c++)_we(l[c],e,s,n,!1)}if(a){for(let l=0;l<t.effects.length;l++)t.effects[l].addLocalBounds?.(e,n);o.addBounds(e,Br.IDENTITY),gh.return(e)}Ro.return(s)}function Cwe(t,e){const r=t.children;for(let n=0;n<r.length;n++){const i=r[n],s=i.uid,o=(i._didViewChangeTick&65535)<<16|i._didContainerChangeTick&65535,a=e.index;(e.data[a]!==s||e.data[a+1]!==o)&&(e.data[e.index]=s,e.data[e.index+1]=o,e.didChange=!0),e.index=a+2,i.children.length&&Cwe(i,e)}return e.didChange}const nSt=new Br,iSt={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(t,e){const r=Math.sign(this.scale.x)||1;e!==0?this.scale.x=t/e*r:this.scale.x=r},_setHeight(t,e){const r=Math.sign(this.scale.y)||1;e!==0?this.scale.y=t/e*r:this.scale.y=r},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new du});const t=this._localBoundsCacheData;return t.index=1,t.didChange=!1,t.data[0]!==this._didViewChangeTick&&(t.didChange=!0,t.data[0]=this._didViewChangeTick),Cwe(this,t),t.didChange&&xwe(this,t.localBounds,nSt),t.localBounds},getBounds(t,e){return vwe(this,t,e||new du)}},sSt={_onRender:null,set onRender(t){const e=this.renderGroup||this.parentRenderGroup;if(!t){this._onRender&&e?.removeOnRender(this),this._onRender=null;return}this._onRender||e?.addOnRender(this),this._onRender=t},get onRender(){return this._onRender}},oSt={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(aSt))}};function aSt(t,e){return t._zIndex-e._zIndex}const lSt={getGlobalPosition(t=new ho,e=!1){return this.parent?this.parent.toGlobal(this._position,t,e):(t.x=this._position.x,t.y=this._position.y),t},toGlobal(t,e,r=!1){const n=this.getGlobalTransform(Ro.get(),r);return e=n.apply(t,e),Ro.return(n),e},toLocal(t,e,r,n){e&&(t=e.toGlobal(t,r,n));const i=this.getGlobalTransform(Ro.get(),n);return r=i.applyInverse(t,r),Ro.return(i),r}};class Ewe{constructor(){this.uid=xi("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let cSt=0;class uSt{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this.textureStyle=new hwe(this.textureOptions)}createTexture(e,r,n){const i=new mu({...this.textureOptions,width:e,height:r,resolution:1,antialias:n,autoGarbageCollect:!1});return new Sn({source:i,label:`texturePool_${cSt++}`})}getOptimalTexture(e,r,n=1,i){let s=Math.ceil(e*n-1e-6),o=Math.ceil(r*n-1e-6);s=Pre(s),o=Pre(o);const a=(s<<17)+(o<<1)+(i?1:0);this._texturePool[a]||(this._texturePool[a]=[]);let l=this._texturePool[a].pop();return l||(l=this.createTexture(s,o,i)),l.source._resolution=n,l.source.width=s/n,l.source.height=o/n,l.source.pixelWidth=s,l.source.pixelHeight=o,l.frame.x=0,l.frame.y=0,l.frame.width=e,l.frame.height=r,l.updateUvs(),this._poolKeyHash[l.uid]=a,l}getSameSizeTexture(e,r=!1){const n=e.source;return this.getOptimalTexture(e.width,e.height,n._resolution,r)}returnTexture(e,r=!1){const n=this._poolKeyHash[e.uid];r&&(e.source.style=this.textureStyle),this._texturePool[n].push(e)}clear(e){if(e=e!==!1,e)for(const r in this._texturePool){const n=this._texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this._texturePool={}}}const kwe=new uSt;_k.register(kwe);class dSt{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Br,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new Ewe,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const r=e.children;for(let n=0;n<r.length;n++){const i=r[n];i._updateFlags=15,this.addChild(i)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(kwe.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const e=this._parentCacheAsTextureRenderGroup;e&&!e.textureNeedsUpdate&&e.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const r=this.childrenToUpdate[e];r.list.fill(null),r.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const r=this.renderGroupChildren.indexOf(e);r>-1&&this.renderGroupChildren.splice(r,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const r=e.children;for(let n=0;n<r.length;n++)this.addChild(r[n])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const r=e.children;for(let n=0;n<r.length;n++)this.removeChild(r[n])}removeChildren(e){for(let r=0;r<e.length;r++)this.removeChild(e[r])}onChildUpdate(e){let r=this.childrenToUpdate[e.relativeRenderGroupDepth];r||(r=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),r.list[r.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(e){for(let r=0;r<this._onRenderContainers.length;r++)this._onRenderContainers[r]._onRender(e)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const r=this.root.children;for(let n=0;n<r.length;n++)this._getChildren(r[n],e);return e}_getChildren(e,r=[]){if(r.push(e),e.renderGroup)return r;const n=e.children;for(let i=0;i<n.length;i++)this._getChildren(n[i],r);return r}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Br),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Br),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Br),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function hSt(t,e,r={}){for(const n in e)!r[n]&&e[n]!==void 0&&(t[n]=e[n])}const KP=new io(null),t4=new io(null),YP=new io(null,1,1),r4=new io(null),Vre=1,fSt=2,JP=4;class pd extends mo{constructor(e={}){super(),this.uid=xi("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.parentRenderLayer=null,this.updateTick=-1,this.localTransform=new Br,this.relativeGroupTransform=new Br,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new io(this,0,0),this._scale=YP,this._pivot=t4,this._origin=r4,this._skew=KP,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],hSt(this,e,{children:!0,parent:!0,effects:!0}),e.children?.forEach(r=>this.addChild(r)),e.parent?.addChild(this)}static mixin(e){mn("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),pc.mixin(pd,e)}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||mn(Vi,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let i=0;i<e.length;i++)this.addChild(e[i]);return e[0]}const r=e[0],n=this.renderGroup||this.parentRenderGroup;return r.parent===this?(this.children.splice(this.children.indexOf(r),1),this.children.push(r),n&&(n.structureDidChange=!0),r):(r.parent&&r.parent.removeChild(r),this.children.push(r),this.sortableChildren&&(this.sortDirty=!0),r.parent=this,r.didChange=!0,r._updateFlags=15,n&&n.addChild(r),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this),this._didViewChangeTick++,r._zIndex!==0&&r.depthOfChildModified(),r)}removeChild(...e){if(e.length>1){for(let i=0;i<e.length;i++)this.removeChild(e[i]);return e[0]}const r=e[0],n=this.children.indexOf(r);return n>-1&&(this._didViewChangeTick++,this.children.splice(n,1),this.renderGroup?this.renderGroup.removeChild(r):this.parentRenderGroup&&this.parentRenderGroup.removeChild(r),r.parentRenderLayer&&r.parentRenderLayer.detach(r),r.parent=null,this.emit("childRemoved",r,this,n),r.emit("removed",this)),r}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e?.removeChild(this),this.renderGroup=ec.get(dSt,this),this.groupTransform=Br.IDENTITY,e?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e?.removeChild(this),ec.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Br),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*Skt}set angle(e){this.rotation=e*Akt}get pivot(){return this._pivot===t4&&(this._pivot=new io(this,0,0)),this._pivot}set pivot(e){this._pivot===t4&&(this._pivot=new io(this,0,0),this._origin!==r4&&Ja("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===KP&&(this._skew=new io(this,0,0)),this._skew}set skew(e){this._skew===KP&&(this._skew=new io(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===YP&&(this._scale=new io(this,1,1)),this._scale}set scale(e){this._scale===YP&&(this._scale=new io(this,0,0)),typeof e=="string"&&(e=parseFloat(e)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get origin(){return this._origin===r4&&(this._origin=new io(this,0,0)),this._origin}set origin(e){this._origin===r4&&(this._origin=new io(this,0,0),this._pivot!==t4&&Ja("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._origin.set(e):this._origin.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const r=this.getLocalBounds().width;this._setWidth(e,r)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const r=this.getLocalBounds().height;this._setHeight(e,r)}getSize(e){e||(e={});const r=this.getLocalBounds();return e.width=Math.abs(this.scale.x*r.width),e.height=Math.abs(this.scale.y*r.height),e}setSize(e,r){const n=this.getLocalBounds();typeof e=="object"?(r=e.height??e.width,e=e.width):r??(r=e),e!==void 0&&this._setWidth(e,n.width),r!==void 0&&this._setHeight(r,n.height)}_updateSkew(){const e=this._rotation,r=this._skew;this._cx=Math.cos(e+r._y),this._sx=Math.sin(e+r._y),this._cy=-Math.sin(e-r._x),this._sy=Math.cos(e-r._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this.origin.set(typeof e.originX=="number"?e.originX:this.origin.x,typeof e.originY=="number"?e.originY:this.origin.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const r=this.localTransform,n=this._scale,i=this._pivot,s=this._origin,o=this._position,a=n._x,l=n._y,c=i._x,u=i._y,h=-s._x,f=-s._y;r.a=this._cx*a,r.b=this._sx*a,r.c=this._cy*l,r.d=this._sy*l,r.tx=o._x-(c*r.a+u*r.c)+(h*r.a+f*r.c)-h,r.ty=o._y-(c*r.b+u*r.d)+(h*r.b+f*r.d)-f}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=Vre,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const n=zl.shared.setValue(e??16777215).toBgrNumber();n!==this.localColor&&(this.localColor=n,this._updateFlags|=Vre,this._onUpdate())}get tint(){return d_(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=fSt,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const r=e?2:0;(this.localDisplayStatus&2)!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=JP,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const r=e?0:4;(this.localDisplayStatus&4)!==r&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=JP,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const r=e?1:0;(this.localDisplayStatus&1)!==r&&(this._updateFlags|=JP,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){if(this.destroyed)return;this.destroyed=!0;let r;if(this.children.length&&(r=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e?.children)&&r)for(let i=0;i<r.length;++i)r[i].destroy(e);this.renderGroup?.destroy(),this.renderGroup=null}}pc.mixin(pd,Ykt,tSt,lSt,sSt,iSt,Qkt,Zkt,oSt,Wkt,Gkt,rSt,Jkt);class Swe extends pd{constructor(e){super(e),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this._bounds=new du(0,1,0,0),this._boundsDirty=!0,this.autoGarbageCollect=e.autoGarbageCollect??!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const r=this.bounds,{x:n,y:i}=e;return n>=r.minX&&n<=r.maxX&&i>=r.minY&&i<=r.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}unload(){this.emit("unload",this);for(const e in this._gpuData)this._gpuData[e]?.destroy();this._gpuData=Object.create(null),this.onViewUpdate()}destroy(e){this.unload(),super.destroy(e),this._bounds=null}collectRenderablesSimple(e,r,n){const{renderPipes:i}=r;i.blendMode.pushBlendMode(this,this.groupBlendMode,e),i[this.renderPipeId].addRenderable(this,e),this.didViewUpdate=!1;const o=this.children,a=o.length;for(let l=0;l<a;l++)o[l].collectRenderables(e,r,n);i.blendMode.popBlendMode(e)}}class cx extends Swe{constructor(e=Sn.EMPTY){e instanceof Sn&&(e={texture:e});const{texture:r=Sn.EMPTY,anchor:n,roundPixels:i,width:s,height:o,...a}=e;super({label:"Sprite",...a}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new io({_onUpdate:()=>{this.onViewUpdate()}}),n?this.anchor=n:r.defaultAnchor&&(this.anchor=r.defaultAnchor),this.texture=r,this.allowChildren=!1,this.roundPixels=i??!1,s!==void 0&&(this.width=s),o!==void 0&&(this.height=o)}static from(e,r=!1){return e instanceof Sn?new cx(e):new cx(Sn.from(e,r))}set texture(e){e||(e=Sn.EMPTY);const r=this._texture;r!==e&&(r&&r.dynamic&&r.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return Okt(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return mn("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,r=this._texture,n=this._bounds,{width:i,height:s}=r.orig;n.minX=-e._x*i,n.maxX=n.minX+i,n.minY=-e._y*s,n.maxY=n.minY+s}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e?.texture){const n=typeof e=="boolean"?e:e?.textureSource;this._texture.destroy(n)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,r){typeof e=="object"?(r=e.height??e.width,e=e.width):r??(r=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),r!==void 0&&this._setHeight(r,this._texture.orig.height)}}const pSt=new du;function Awe(t,e,r){const n=pSt;t.measurable=!0,vwe(t,r,n),e.addBoundsMask(n),t.measurable=!1}function Twe(t,e,r){const n=gh.get();t.measurable=!0;const i=Ro.get().identity(),s=Iwe(t,r,i);xwe(t,n,s),t.measurable=!1,e.addBoundsMask(n),Ro.return(i),gh.return(n)}function Iwe(t,e,r){return t?(t!==e&&(Iwe(t.parent,e,r),t.updateLocalTransform(),r.append(t.localTransform)),r):(Ja("Mask bounds, renderable is not inside the root container"),r)}class Pwe{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof cx),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask=null)}addBounds(e,r){this.inverse||Awe(this.mask,e,r)}addLocalBounds(e,r){Twe(this.mask,e,r)}containsPoint(e,r){const n=this.mask;return r(n,e)}destroy(){this.reset()}static test(e){return e instanceof cx}}Pwe.extension=hn.MaskEffect;class $we{constructor(e){this.priority=0,this.pipe="colorMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}$we.extension=hn.MaskEffect;class Nwe{constructor(e){this.priority=0,this.pipe="stencilMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask!==null&&(this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null)}addBounds(e,r){Awe(this.mask,e,r)}addLocalBounds(e,r){Twe(this.mask,e,r)}containsPoint(e,r){const n=this.mask;return r(n,e)}destroy(){this.reset()}static test(e){return e instanceof pd}}Nwe.extension=hn.MaskEffect;const gSt={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")};let Gre=gSt;const dp={get(){return Gre},set(t){Gre=t}};class Rwe extends mu{constructor(e){e.resource||(e.resource=dp.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,r=this.height,n=this._resolution){const i=super.resize(e,r,n);return i&&this.resizeCanvas(),i}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}Rwe.extension=hn.TextureSource;class VC extends mu{constructor(e){super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}VC.extension=hn.TextureSource;var Fj=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Fj||{});class XP{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=r,this.priority=n,this._once=i}match(e,r=null){return this._fn===e&&this._context===r}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const r=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const Owe=class Ra{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new XP(null,null,1/0),this.deltaMS=1/Ra.targetFPMS,this.elapsedMS=1/Ra.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=Fj.NORMAL){return this._addListener(new XP(e,r,n))}addOnce(e,r,n=Fj.NORMAL){return this._addListener(new XP(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Ra.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Ra.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Ra._shared){const e=Ra._shared=new Ra;e.autoStart=!0,e._protected=!0}return Ra._shared}static get system(){if(!Ra._system){const e=Ra._system=new Ra;e.autoStart=!0,e._protected=!0}return Ra._system}};Owe.targetFPMS=.06;let n4=Owe,QP;async function mSt(){return QP??(QP=(async()=>{const e=dp.get().createCanvas(1,1).getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const r=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!r)return"premultiply-alpha-on-upload";const n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r);const s=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,s),e.deleteFramebuffer(i),e.deleteTexture(n),e.getExtension("WEBGL_lose_context")?.loseContext(),s[0]<=s[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),QP}const Ck=class jwe extends mu{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...jwe.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=n4.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,r=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(r.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await mSt(),this._load=new Promise((n,i)=>{this.isValid?n(this):(this._resolve=n,this._reject=i,r.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${r.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(n4.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(n4.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(n4.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};Ck.extension=hn.TextureSource;Ck.defaultOptions={...mu.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Ck.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let ySt=Ck;const oy=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t);class vSt{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||Ja(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=oy(e);let i;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];if(c.test(r)){i=c.getCacheableAssets(n,r);break}}const s=new Map(Object.entries(i||{}));i||n.forEach(l=>{s.set(l,r)});const o=[...s.keys()],a={cacheKeys:o,keys:n};n.forEach(l=>{this._cacheMap.set(l,a)}),o.forEach(l=>{const c=i?i[l]:r;this._cache.has(l)&&this._cache.get(l)!==c&&Ja("[Cache] already has key:",l),this._cache.set(l,s.get(l))})}remove(e){if(!this._cacheMap.has(e)){Ja(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const ay=new vSt,Lj=[];pc.handleByList(hn.TextureSource,Lj);function Mwe(t={}){const e=t&&t.resource,r=e?t.resource:t,n=e?t:{resource:t};for(let i=0;i<Lj.length;i++){const s=Lj[i];if(s.test(r))return new s(n)}throw new Error(`Could not find a source type for resource: ${n.resource}`)}function wSt(t={},e=!1){const r=t&&t.resource,n=r?t.resource:t,i=r?t:{resource:t};if(!e&&ay.has(n))return ay.get(n);const s=new Sn({source:Mwe(i)});return s.on("destroy",()=>{ay.has(n)&&ay.remove(n)}),e||ay.set(n,s),s}function bSt(t,e=!1){return typeof t=="string"?ay.get(t):t instanceof mu?new Sn({source:t}):wSt(t,e)}Sn.from=bSt;mu.from=Mwe;pc.add(Pwe,$we,Nwe,ySt,VC,Rwe,RU);var Dwe=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Dwe||{});function Sc(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Iw(t){return t.split("?")[0].split("#")[0]}function xSt(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _St(t,e,r){return t.replace(new RegExp(xSt(e),"g"),r)}function CSt(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const ux={toPosix(t){return _St(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Sc(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Sc(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Iw(this.toPosix(e??dp.get().getBaseUrl())),i=Iw(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?ux.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Sc(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=CSt(t),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Sc(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Sc(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Sc(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Sc(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Sc(t),e&&Sc(e),t=Iw(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Sc(t),t=Iw(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Sc(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Iw(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,c=t.length-1,u=0;for(;c>=i;--c){if(r=t.charCodeAt(c),r===47){if(!l){o=c+1;break}continue}a===-1&&(l=!1,a=c+1),r===46?s===-1?s=c:u!==1&&(u=1):s!==-1&&(u=-1)}return s===-1||a===-1||u===0||u===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function Fwe(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?Fwe(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function ESt(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),Fwe(t,i,0,r,n)}else n.push(t);return n}const Kre=t=>!Array.isArray(t);class Lwe{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,src:n}=e;return oy(r||n,s=>typeof s=="string"?s:Array.isArray(s)?s.map(o=>o?.src??o):s?.src?s.src:s,!0)}addManifest(e){this._manifest&&Ja("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];let i=r;Array.isArray(r)||(i=Object.entries(r).map(([s,o])=>typeof o=="string"||Array.isArray(o)?{alias:s,src:o}:{alias:s,...o})),i.forEach(s=>{const o=s.src,a=s.alias;let l;if(typeof a=="string"){const c=this._createBundleAssetId(e,a);n.push(c),l=[a,c]}else{const c=a.map(u=>this._createBundleAssetId(e,u));n.push(...c),l=[...a,...c]}this.add({...s,alias:l,src:o})}),this._bundles[e]=n}add(e){const r=[];Array.isArray(e)?r.push(...e):r.push(e);let n;n=s=>{this.hasKey(s)&&Ja(`[Resolver] already has key: ${s} overwriting`)},oy(r).forEach(s=>{const{src:o}=s;let{data:a,format:l,loadParser:c,parser:u}=s;const h=oy(o).map(v=>typeof v=="string"?ESt(v):Array.isArray(v)?v:[v]),f=this.getAlias(s);Array.isArray(f)?f.forEach(n):n(f);const p=[],m=v=>({...this._parsers.find(b=>b.test(v))?.parse(v),src:v});h.forEach(v=>{v.forEach(w=>{let b={};if(typeof w!="object"?b=m(w):(a=w.data??a,l=w.format??l,(w.loadParser||w.parser)&&(c=w.loadParser??c,u=w.parser??u),b={...m(w.src),...w}),!f)throw new Error(`[Resolver] alias is undefined for this asset: ${b.src}`);b=this._buildResolvedAsset(b,{aliases:f,data:a,format:l,loadParser:c,parser:u,progressSize:s.progressSize}),p.push(b)})}),f.forEach(v=>{this._assetMap[v]=p})})}resolveBundle(e){const r=Kre(e);e=oy(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const c=o[l];a[this._extractAssetIdFromBundle(i,l)]=c}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Kre(e);e=oy(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s);o?.priority.forEach(a=>{o.params[a].forEach(l=>{const c=s.filter(u=>u[a]?u[a]===l:!1);c.length&&(s=c)})}),this._resolverHash[i]=s[0]}else this._resolverHash[i]=this._buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[r],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}_buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,parser:o,format:a,progressSize:l}=r;return(this._basePath||this._rootPath)&&(e.src=ux.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.parser=o??e.parser,e.format=a??e.format??kSt(e.src),l!==void 0&&(e.progressSize=l),e}}Lwe.RETINA_PREFIX=/@([0-9\.]+)x/;function kSt(t){return t.split(".").pop().split("?").shift().split("#").shift()}const Yre=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t},Uwe=class nb{constructor(e,r){this.linkedSheets=[];let n=e;e?.source instanceof mu&&(n={texture:e,data:r});const{texture:i,data:s,cachePrefix:o=""}=n;this.cachePrefix=o,this._texture=i instanceof Sn?i:null,this.textureSource=i.source,this.textures={},this.animations={},this.data=s;const a=parseFloat(s.meta.scale);a?(this.resolution=a,i.source.resolution=this.resolution):this.resolution=i.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=nb.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=nb.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let a=null,l=null;const c=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,u=new ms(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);s.rotated?a=new ms(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new ms(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(l=new ms(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new Sn({source:this.textureSource,frame:a,orig:u,trim:l,rotate:s.rotated?2:0,defaultAnchor:s.anchor,defaultBorders:s.borders,label:i.toString()})}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*nb.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*nb.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};Uwe.BATCH_SIZE=1e3;let Jre=Uwe;const SSt=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function Bwe(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[`${e.cachePrefix}${i}`]=e.textures[i]}),!r){const i=ux.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=Bwe([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const ASt={extension:hn.Asset,cache:{test:t=>t instanceof Jre,getCacheableAssets:(t,e)=>Bwe(t,e,!1)},resolver:{extension:{type:hn.ResolveParser,name:"resolveSpritesheet"},test:t=>{const r=t.split("?")[0].split("."),n=r.pop(),i=r.pop();return n==="json"&&SSt.includes(i)},parse:t=>{const e=t.split(".");return{resolution:parseFloat(Lwe.RETINA_PREFIX.exec(t)?.[1]??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:hn.LoadParser,priority:Dwe.Normal,name:"spritesheetLoader"},async testParse(t,e){return ux.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){const{texture:n,imageFilename:i,textureOptions:s,cachePrefix:o}=e?.data??{};let a=ux.dirname(e.src);a&&a.lastIndexOf("/")!==a.length-1&&(a+="/");let l;if(n instanceof Sn)l=n;else{const h=Yre(a+(i??t.meta.image),e.src);l=(await r.load([{src:h,data:s}]))[h]}const c=new Jre({texture:l.source,data:t,cachePrefix:o});await c.parse();const u=t?.meta?.related_multi_packs;if(Array.isArray(u)){const h=[];for(const p of u){if(typeof p!="string")continue;let m=a+p;e.data?.ignoreMultiPack||(m=Yre(m,e.src),h.push(r.load({src:m,data:{textureOptions:s,ignoreMultiPack:!0}})))}const f=await Promise.all(h);c.linkedSheets=f,f.forEach(p=>{p.linkedSheets=[c].concat(c.linkedSheets.filter(m=>m!==p))})}return c},async unload(t,e,r){await r.unload(t.textureSource._sourceOrigin),t.destroy(!1)}}};pc.add(ASt);var ZP=/iPhone/i,Xre=/iPod/i,Qre=/iPad/i,Zre=/\biOS-universal(?:.+)Mac\b/i,e$=/\bAndroid(?:.+)Mobile\b/i,ene=/Android/i,Hm=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,i4=/Silk/i,zd=/Windows Phone/i,tne=/\bWindows(?:.+)ARM\b/i,rne=/BlackBerry/i,nne=/BB10/i,ine=/Opera Mini/i,sne=/\b(CriOS|Chrome)(?:.+)Mobile/i,one=/Mobile(?:.+)Firefox\b/i,ane=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function TSt(t){return function(e){return e.test(t)}}function lne(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=TSt(r),s={apple:{phone:i(ZP)&&!i(zd),ipod:i(Xre),tablet:!i(ZP)&&(i(Qre)||ane(e))&&!i(zd),universal:i(Zre),device:(i(ZP)||i(Xre)||i(Qre)||i(Zre)||ane(e))&&!i(zd)},amazon:{phone:i(Hm),tablet:!i(Hm)&&i(i4),device:i(Hm)||i(i4)},android:{phone:!i(zd)&&i(Hm)||!i(zd)&&i(e$),tablet:!i(zd)&&!i(Hm)&&!i(e$)&&(i(i4)||i(ene)),device:!i(zd)&&(i(Hm)||i(i4)||i(e$)||i(ene))||i(/\bokhttp\b/i)},windows:{phone:i(zd),tablet:i(tne),device:i(zd)||i(tne)},other:{blackberry:i(rne),blackberry10:i(nne),opera:i(ine),firefox:i(one),chrome:i(sne),device:i(rne)||i(nne)||i(ine)||i(one)||i(sne)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const ISt=lne.default??lne,PSt=ISt(globalThis.navigator),t$=Object.create(null),cne=Object.create(null);function jU(t,e){let r=cne[t];return r===void 0&&(t$[e]===void 0&&(t$[e]=1),cne[t]=r=t$[e]++),r}let s4;function zwe(){return(!s4||s4?.isContextLost())&&(s4=dp.get().createCanvas().getContext("webgl",{})),s4}let o4;function $St(){if(!o4){o4="mediump";const t=zwe();t&&t.getShaderPrecisionFormat&&(o4=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?"highp":"mediump")}return o4}function NSt(t,e,r){return e?t:r?(t=t.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${t}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${t}
        `}function RSt(t,e,r){const n=r?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(t.substring(0,9)!=="precision"){let i=r?e.requestedFragmentPrecision:e.requestedVertexPrecision;return i==="highp"&&n!=="highp"&&(i="mediump"),`precision ${i} float;
${t}`}else if(n!=="highp"&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}function OSt(t,e){return e?`#version 300 es
${t}`:t}const jSt={},MSt={};function DSt(t,{name:e="pixi-program"},r=!0){e=e.replace(/\s+/g,"-"),e+=r?"-fragment":"-vertex";const n=r?jSt:MSt;return n[e]?(n[e]++,e+=`-${n[e]}`):n[e]=1,t.indexOf("#define SHADER_NAME")!==-1?t:`${`#define SHADER_NAME ${e}`}
${t}`}function FSt(t,e){return e?t.replace("#version 300 es",""):t}const r$={stripVersion:FSt,ensurePrecision:RSt,addProgramDefines:NSt,setProgramName:DSt,insertVersion:OSt},Pw=Object.create(null),qwe=class Uj{constructor(e){e={...Uj.defaultOptions,...e};const r=e.fragment.indexOf("#version 300 es")!==-1,n={stripVersion:r,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:$St()},setProgramName:{name:e.name},addProgramDefines:r,insertVersion:r};let i=e.fragment,s=e.vertex;Object.keys(r$).forEach(o=>{const a=n[o];i=r$[o](i,a,!0),s=r$[o](s,a,!1)}),this.fragment=i,this.vertex=s,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=jU(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,Pw[this._cacheKey]=null}static from(e){const r=`${e.vertex}:${e.fragment}`;return Pw[r]||(Pw[r]=new Uj(e),Pw[r]._cacheKey=r),Pw[r]}};qwe.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let Wwe=qwe;const une={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function LSt(t){return une[t]??une.float32}const USt={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function BSt({source:t,entryPoint:e}){const r={},n=t.indexOf(`fn ${e}`);if(n!==-1){const i=t.indexOf("->",n);if(i!==-1){const s=t.substring(n,i),o=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let a;for(;(a=o.exec(s))!==null;){const l=USt[a[3]]??"float32";r[a[2]]={location:parseInt(a[1],10),format:l,stride:LSt(l).stride,offset:0,instance:!1,start:0}}}}return r}function n$(t){const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,r=/@group\((\d+)\)/,n=/@binding\((\d+)\)/,i=/var(<[^>]+>)? (\w+)/,s=/:\s*(\w+)/,o=/struct\s+(\w+)\s*{([^}]+)}/g,a=/(\w+)\s*:\s*([\w\<\>]+)/g,l=/struct\s+(\w+)/,c=t.match(e)?.map(h=>({group:parseInt(h.match(r)[1],10),binding:parseInt(h.match(n)[1],10),name:h.match(i)[2],isUniform:h.match(i)[1]==="<uniform>",type:h.match(s)[1]}));if(!c)return{groups:[],structs:[]};const u=t.match(o)?.map(h=>{const f=h.match(l)[1],p=h.match(a).reduce((m,v)=>{const[w,b]=v.split(":");return m[w.trim()]=b.trim(),m},{});return p?{name:f,members:p}:null}).filter(({name:h})=>c.some(f=>f.type===h))??[];return{groups:c,structs:u}}var ib=(t=>(t[t.VERTEX=1]="VERTEX",t[t.FRAGMENT=2]="FRAGMENT",t[t.COMPUTE=4]="COMPUTE",t))(ib||{});function zSt({groups:t}){const e=[];for(let r=0;r<t.length;r++){const n=t[r];e[n.group]||(e[n.group]=[]),n.isUniform?e[n.group].push({binding:n.binding,visibility:ib.VERTEX|ib.FRAGMENT,buffer:{type:"uniform"}}):n.type==="sampler"?e[n.group].push({binding:n.binding,visibility:ib.FRAGMENT,sampler:{type:"filtering"}}):n.type==="texture_2d"&&e[n.group].push({binding:n.binding,visibility:ib.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function qSt({groups:t}){const e=[];for(let r=0;r<t.length;r++){const n=t[r];e[n.group]||(e[n.group]={}),e[n.group][n.name]=n.binding}return e}function WSt(t,e){const r=new Set,n=new Set,i=[...t.structs,...e.structs].filter(o=>r.has(o.name)?!1:(r.add(o.name),!0)),s=[...t.groups,...e.groups].filter(o=>{const a=`${o.name}-${o.binding}`;return n.has(a)?!1:(n.add(a),!0)});return{structs:i,groups:s}}const $w=Object.create(null);class Ek{constructor(e){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:r,vertex:n,layout:i,gpuLayout:s,name:o}=e;if(this.name=o,this.fragment=r,this.vertex=n,r.source===n.source){const a=n$(r.source);this.structsAndGroups=a}else{const a=n$(n.source),l=n$(r.source);this.structsAndGroups=WSt(a,l)}this.layout=i??qSt(this.structsAndGroups),this.gpuLayout=s??zSt(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:r}=this,n=e.source+r.source+e.entryPoint+r.entryPoint;this._layoutKey=jU(n,"program")}get attributeData(){return this._attributeData??(this._attributeData=BSt(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,$w[this._cacheKey]=null}static from(e){const r=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return $w[r]||($w[r]=new Ek(e),$w[r]._cacheKey=r),$w[r]}}const Hwe=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],HSt=Hwe.reduce((t,e)=>(t[e]=!0,t),{});function VSt(t,e){switch(t){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Vwe=class Gwe{constructor(e,r){this._touched=0,this.uid=xi("uniform"),this._resourceType="uniformGroup",this._resourceId=xi("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,r={...Gwe.defaultOptions,...r},this.uniformStructures=e;const n={};for(const i in e){const s=e[i];if(s.name=i,s.size=s.size??1,!HSt[s.type]){const o=s.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(o){const[,a,l]=o;throw new Error(`Uniform type ${s.type} is not supported. Use type: '${a}', size: ${l} instead.`)}throw new Error(`Uniform type ${s.type} is not supported. Supported uniform types are: ${Hwe.join(", ")}`)}s.value??(s.value=VSt(s.type,s.size)),n[i]=s.value}this.uniforms=n,this._dirtyId=1,this.ubo=r.ubo,this.isStatic=r.isStatic,this._signature=jU(Object.keys(n).map(i=>`${i}-${e[i].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};Vwe.defaultOptions={ubo:!1,isStatic:!1};let Kwe=Vwe;class h_{constructor(e){this.resources=Object.create(null),this._dirty=!0;let r=0;for(const n in e){const i=e[n];this.setResource(i,r++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let r=0;for(const n in this.resources)e[r++]=this.resources[n]._resourceId;this._key=e.join("|")}setResource(e,r){const n=this.resources[r];e!==n&&(n&&e.off?.("change",this.onResourceChange,this),e.on?.("change",this.onResourceChange,this),this.resources[r]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e,r){const n=this.resources;for(const i in n)n[i]._gcLastUsed=e,n[i]._touched=r}destroy(){const e=this.resources;for(const r in e)e[r]?.off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const r=this.resources;for(const n in r)r[n]===e&&(r[n]=null)}else this._updateKey()}}var Bj=(t=>(t[t.WEBGL=1]="WEBGL",t[t.WEBGPU=2]="WEBGPU",t[t.BOTH=3]="BOTH",t))(Bj||{});class MU extends mo{constructor(e){super(),this.uid=xi("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[],this._destroyed=!1;let{gpuProgram:r,glProgram:n,groups:i,resources:s,compatibleRenderers:o,groupMap:a}=e;this.gpuProgram=r,this.glProgram=n,o===void 0&&(o=0,r&&(o|=Bj.WEBGPU),n&&(o|=Bj.WEBGL)),this.compatibleRenderers=o;const l={};if(!s&&!i&&(s={}),s&&i)throw new Error("[Shader] Cannot have both resources and groups");if(!r&&i&&!a)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!r&&i&&a)for(const c in a)for(const u in a[c]){const h=a[c][u];l[h]={group:c,binding:u,name:h}}else if(r&&i&&!a){const c=r.structsAndGroups.groups;a={},c.forEach(u=>{a[u.group]=a[u.group]||{},a[u.group][u.binding]=u.name,l[u.name]=u})}else if(s){i={},a={},r&&r.structsAndGroups.groups.forEach(h=>{a[h.group]=a[h.group]||{},a[h.group][h.binding]=h.name,l[h.name]=h});let c=0;for(const u in s)l[u]||(i[99]||(i[99]=new h_,this._ownedBindGroups.push(i[99])),l[u]={group:99,binding:c,name:u},a[99]=a[99]||{},a[99][c]=u,c++);for(const u in s){const h=u;let f=s[u];!f.source&&!f._resourceType&&(f=new Kwe(f));const p=l[h];p&&(i[p.group]||(i[p.group]=new h_,this._ownedBindGroups.push(i[p.group])),i[p.group].setResource(f,p.binding))}}this.groups=i,this._uniformBindMap=a,this.resources=this._buildResourceAccessor(i,l)}addResource(e,r,n){var i,s;(i=this._uniformBindMap)[r]||(i[r]={}),(s=this._uniformBindMap[r])[n]||(s[n]=e),this.groups[r]||(this.groups[r]=new h_,this._ownedBindGroups.push(this.groups[r]))}_buildResourceAccessor(e,r){const n={};for(const i in r){const s=r[i];Object.defineProperty(n,s.name,{get(){return e[s.group].getResource(s.binding)},set(o){e[s.group].setResource(o,s.binding)}})}return n}destroy(e=!1){this._destroyed||(this._destroyed=!0,this.emit("destroy",this),e&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(r=>{r.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null)}static from(e){const{gpu:r,gl:n,...i}=e;let s,o;return r&&(s=Ek.from(r)),n&&(o=Wwe.from(n)),new MU({gpuProgram:s,glProgram:o,...i})}}const zj=[];pc.handleByNamedList(hn.Environment,zj);async function GSt(t){if(!t)for(let e=0;e<zj.length;e++){const r=zj[e];if(r.value.test()){await r.value.load();return}}}let Nw;function KSt(){if(typeof Nw=="boolean")return Nw;try{Nw=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Nw=!1}return Nw}function dne(t,e,r=2){const n=e&&e.length,i=n?e[0]*r:t.length;let s=Ywe(t,0,i,r,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c;if(n&&(s=ZSt(t,e,s,r)),t.length>80*r){a=t[0],l=t[1];let u=a,h=l;for(let f=r;f<i;f+=r){const p=t[f],m=t[f+1];p<a&&(a=p),m<l&&(l=m),p>u&&(u=p),m>h&&(h=m)}c=Math.max(u-a,h-l),c=c!==0?32767/c:0}return dx(s,o,r,a,l,c,0),o}function Ywe(t,e,r,n,i){let s;if(i===uAt(t,e,r,n)>0)for(let o=e;o<r;o+=n)s=hne(o/n|0,t[o],t[o+1],s);else for(let o=r-n;o>=e;o-=n)s=hne(o/n|0,t[o],t[o+1],s);return s&&w1(s,s.next)&&(fx(s),s=s.next),s}function dg(t,e){if(!t)return t;e||(e=t);let r=t,n;do if(n=!1,!r.steiner&&(w1(r,r.next)||Qn(r.prev,r,r.next)===0)){if(fx(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function dx(t,e,r,n,i,s,o){if(!t)return;!o&&s&&iAt(t,n,i,s);let a=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(s?JSt(t,n,i,s):YSt(t)){e.push(l.i,t.i,c.i),fx(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=XSt(dg(t),e),dx(t,e,r,n,i,s,2)):o===2&&QSt(t,e,r,n,i,s):dx(dg(t),e,r,n,i,s,1);break}}}function YSt(t){const e=t.prev,r=t,n=t.next;if(Qn(e,r,n)>=0)return!1;const i=e.x,s=r.x,o=n.x,a=e.y,l=r.y,c=n.y,u=Math.min(i,s,o),h=Math.min(a,l,c),f=Math.max(i,s,o),p=Math.max(a,l,c);let m=n.next;for(;m!==e;){if(m.x>=u&&m.x<=f&&m.y>=h&&m.y<=p&&sb(i,a,s,l,o,c,m.x,m.y)&&Qn(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function JSt(t,e,r,n){const i=t.prev,s=t,o=t.next;if(Qn(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,h=s.y,f=o.y,p=Math.min(a,l,c),m=Math.min(u,h,f),v=Math.max(a,l,c),w=Math.max(u,h,f),b=qj(p,m,e,r,n),E=qj(v,w,e,r,n);let _=t.prevZ,A=t.nextZ;for(;_&&_.z>=b&&A&&A.z<=E;){if(_.x>=p&&_.x<=v&&_.y>=m&&_.y<=w&&_!==i&&_!==o&&sb(a,u,l,h,c,f,_.x,_.y)&&Qn(_.prev,_,_.next)>=0||(_=_.prevZ,A.x>=p&&A.x<=v&&A.y>=m&&A.y<=w&&A!==i&&A!==o&&sb(a,u,l,h,c,f,A.x,A.y)&&Qn(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;_&&_.z>=b;){if(_.x>=p&&_.x<=v&&_.y>=m&&_.y<=w&&_!==i&&_!==o&&sb(a,u,l,h,c,f,_.x,_.y)&&Qn(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;A&&A.z<=E;){if(A.x>=p&&A.x<=v&&A.y>=m&&A.y<=w&&A!==i&&A!==o&&sb(a,u,l,h,c,f,A.x,A.y)&&Qn(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function XSt(t,e){let r=t;do{const n=r.prev,i=r.next.next;!w1(n,i)&&Xwe(n,r,r.next,i)&&hx(n,i)&&hx(i,n)&&(e.push(n.i,r.i,i.i),fx(r),fx(r.next),r=t=i),r=r.next}while(r!==t);return dg(r)}function QSt(t,e,r,n,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&aAt(o,a)){let l=Qwe(o,a);o=dg(o,o.next),l=dg(l,l.next),dx(o,e,r,n,i,s,0),dx(l,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function ZSt(t,e,r,n){const i=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*n,l=s<o-1?e[s+1]*n:t.length,c=Ywe(t,a,l,n,!1);c===c.next&&(c.steiner=!0),i.push(oAt(c))}i.sort(eAt);for(let s=0;s<i.length;s++)r=tAt(i[s],r);return r}function eAt(t,e){let r=t.x-e.x;if(r===0&&(r=t.y-e.y,r===0)){const n=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);r=n-i}return r}function tAt(t,e){const r=rAt(t,e);if(!r)return e;const n=Qwe(r,t);return dg(n,n.next),dg(r,r.next)}function rAt(t,e){let r=e;const n=t.x,i=t.y;let s=-1/0,o;if(w1(t,r))return r;do{if(w1(t,r.next))return r.next;if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){const h=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(h<=n&&h>s&&(s=h,o=r.x<r.next.x?r:r.next,h===n))return o}r=r.next}while(r!==e);if(!o)return null;const a=o,l=o.x,c=o.y;let u=1/0;r=o;do{if(n>=r.x&&r.x>=l&&n!==r.x&&Jwe(i<c?n:s,i,l,c,i<c?s:n,i,r.x,r.y)){const h=Math.abs(i-r.y)/(n-r.x);hx(r,t)&&(h<u||h===u&&(r.x>o.x||r.x===o.x&&nAt(o,r)))&&(o=r,u=h)}r=r.next}while(r!==a);return o}function nAt(t,e){return Qn(t.prev,t,e.prev)<0&&Qn(e.next,t,t.next)<0}function iAt(t,e,r,n){let i=t;do i.z===0&&(i.z=qj(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,sAt(i)}function sAt(t){let e,r=1;do{let n=t,i;t=null;let s=null;for(e=0;n;){e++;let o=n,a=0;for(let c=0;c<r&&(a++,o=o.nextZ,!!o);c++);let l=r;for(;a>0||l>0&&o;)a!==0&&(l===0||!o||n.z<=o.z)?(i=n,n=n.nextZ,a--):(i=o,o=o.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=o}s.nextZ=null,r*=2}while(e>1);return t}function qj(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function oAt(t){let e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Jwe(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function sb(t,e,r,n,i,s,o,a){return!(t===o&&e===a)&&Jwe(t,e,r,n,i,s,o,a)}function aAt(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!lAt(t,e)&&(hx(t,e)&&hx(e,t)&&cAt(t,e)&&(Qn(t.prev,t,e.prev)||Qn(t,e.prev,e))||w1(t,e)&&Qn(t.prev,t,t.next)>0&&Qn(e.prev,e,e.next)>0)}function Qn(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function w1(t,e){return t.x===e.x&&t.y===e.y}function Xwe(t,e,r,n){const i=l4(Qn(t,e,r)),s=l4(Qn(t,e,n)),o=l4(Qn(r,n,t)),a=l4(Qn(r,n,e));return!!(i!==s&&o!==a||i===0&&a4(t,r,e)||s===0&&a4(t,n,e)||o===0&&a4(r,t,n)||a===0&&a4(r,e,n))}function a4(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function l4(t){return t>0?1:t<0?-1:0}function lAt(t,e){let r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Xwe(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function hx(t,e){return Qn(t.prev,t,t.next)<0?Qn(t,e,t.next)>=0&&Qn(t,t.prev,e)>=0:Qn(t,e,t.prev)<0||Qn(t,t.next,e)<0}function cAt(t,e){let r=t,n=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function Qwe(t,e){const r=Wj(t.i,t.x,t.y),n=Wj(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function hne(t,e,r,n){const i=Wj(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function fx(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Wj(t,e,r){return{i:t,x:e,y:r,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function uAt(t,e,r,n){let i=0;for(let s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}const dAt=dne.default||dne;var Zwe=(t=>(t[t.NONE=0]="NONE",t[t.COLOR=16384]="COLOR",t[t.STENCIL=1024]="STENCIL",t[t.DEPTH=256]="DEPTH",t[t.COLOR_DEPTH=16640]="COLOR_DEPTH",t[t.COLOR_STENCIL=17408]="COLOR_STENCIL",t[t.DEPTH_STENCIL=1280]="DEPTH_STENCIL",t[t.ALL=17664]="ALL",t))(Zwe||{});class hAt{constructor(e){this.items=[],this._name=e}emit(e,r,n,i,s,o,a,l){const{name:c,items:u}=this;for(let h=0,f=u.length;h<f;h++)u[h][c](e,r,n,i,s,o,a,l);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&this.items.splice(r,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const fAt=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],ebe=class tbe extends mo{constructor(e){super(),this.tick=0,this.uid=xi("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const r=[...fAt,...this.config.runners??[]];this._addRunners(...r),this._unsafeEvalCheck()}async init(e={}){const r=e.skipExtensionImports===!0?!0:e.manageImports===!1;await GSt(r),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const n in this._systemsHash)e={...this._systemsHash[n].constructor.defaultOptions,...e};e={...tbe.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let n=0;n<this.runners.init.items.length;n++)await this.runners.init.items[n].init(e);this._initOptions=e}render(e,r){this.tick++;let n=e;if(n instanceof pd&&(n={container:n},r&&(mn(Vi,"passing a second argument is deprecated, please use render options instead"),n.target=r.renderTexture)),n.target||(n.target=this.view.renderTarget),n.target===this.view.renderTarget&&(this._lastObjectRendered=n.container,n.clearColor??(n.clearColor=this.background.colorRgba),n.clear??(n.clear=this.background.clearBeforeRender)),n.clearColor){const i=Array.isArray(n.clearColor)&&n.clearColor.length===4;n.clearColor=i?n.clearColor:zl.shared.setValue(n.clearColor).toArray()}n.transform||(n.container.updateLocalTransform(),n.transform=n.container.localTransform),n.container.visible&&(n.container.enableRenderGroup(),this.runners.prerender.emit(n),this.runners.renderStart.emit(n),this.runners.render.emit(n),this.runners.renderEnd.emit(n),this.runners.postrender.emit(n))}resize(e,r,n){const i=this.view.resolution;this.view.resize(e,r,n),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),n!==void 0&&n!==i&&this.runners.resolutionChange.emit(n)}clear(e={}){const r=this;e.target||(e.target=r.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=Zwe.ALL);const{clear:n,clearColor:i,target:s}=e;zl.shared.setValue(i??this.background.colorRgba),r.renderTarget.clear(s,n,zl.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(r=>{this.runners[r]=new hAt(r)})}_addSystems(e){let r;for(r in e){const n=e[r];this._addSystem(n.value,n.name)}}_addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}_addPipes(e,r){const n=r.reduce((i,s)=>(i[s.name]=s.value,i),{});e.forEach(i=>{const s=i.value,o=i.name,a=n[o];this.renderPipes[o]=new s(this,a?new a:null),this.runners.destroy.add(this.renderPipes[o])})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),(e===!0||typeof e=="object"&&e.releaseGlobalResources)&&_k.release(),Object.values(this.runners).forEach(r=>{r.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!KSt())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};ebe.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let rbe=ebe,c4;function pAt(t){return c4!==void 0||(c4=(()=>{const e={stencil:!0,failIfMajorPerformanceCaveat:t??rbe.defaultOptions.failIfMajorPerformanceCaveat};try{if(!dp.get().getWebGLRenderingContext())return!1;let n=dp.get().createCanvas().getContext("webgl",e);const i=!!n?.getContextAttributes()?.stencil;if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}})()),c4}let u4;async function gAt(t={}){return u4!==void 0||(u4=await(async()=>{const e=dp.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(t)).requestDevice(),!0}catch{return!1}})()),u4}const fne=["webgl","webgpu","canvas"];async function mAt(t){let e=[];t.preference?(e.push(t.preference),fne.forEach(s=>{s!==t.preference&&e.push(s)})):e=fne.slice();let r,n={};for(let s=0;s<e.length;s++){const o=e[s];if(o==="webgpu"&&await gAt()){const{WebGPURenderer:a}=await bi(async()=>{const{WebGPURenderer:l}=await import("./WebGPURenderer-B9ujS4G1.js");return{WebGPURenderer:l}},__vite__mapDeps([4,2,5,3]));r=a,n={...t,...t.webgpu};break}else if(o==="webgl"&&pAt(t.failIfMajorPerformanceCaveat??rbe.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:a}=await bi(async()=>{const{WebGLRenderer:l}=await import("./WebGLRenderer-Bz3yU-cm.js");return{WebGLRenderer:l}},__vite__mapDeps([6,2,5]));r=a,n={...t,...t.webgl};break}else if(o==="canvas")throw n={...t},new Error("CanvasRenderer is not yet implemented")}if(delete n.webgpu,delete n.webgl,!r)throw new Error("No available renderer for the current environment");const i=new r;return await i.init(n),i}const nbe="8.15.0";class ibe{static init(){globalThis.__PIXI_APP_INIT__?.(this,nbe)}static destroy(){}}ibe.extension=hn.Application;class yAt{constructor(e){this._renderer=e}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,nbe)}destroy(){this._renderer=null}}yAt.extension={type:[hn.WebGLSystem,hn.WebGPUSystem],name:"initHook",priority:-10};const sbe=class Hj{constructor(...e){this.stage=new pd,e[0]!==void 0&&mn(Vi,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.stage||(this.stage=new pd),this.renderer=await mAt(e),Hj._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return mn(Vi,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,r=!1){const n=Hj._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};sbe._plugins=[];let obe=sbe;pc.handleByList(hn.Application,obe._plugins);pc.add(ibe);const pne=[{offset:0,color:"white"},{offset:1,color:"black"}],DU=class Vj{constructor(...e){this.uid=xi("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let r=vAt(e);r={...r.type==="radial"?Vj.defaultRadialOptions:Vj.defaultLinearOptions,...cwe(r)},this._textureSize=r.textureSize,this._wrapMode=r.wrapMode,r.type==="radial"?(this.center=r.center,this.outerCenter=r.outerCenter??this.center,this.innerRadius=r.innerRadius,this.outerRadius=r.outerRadius,this.scale=r.scale,this.rotation=r.rotation):(this.start=r.start,this.end=r.end),this.textureSpace=r.textureSpace,this.type=r.type,r.colorStops.forEach(i=>{this.addColorStop(i.offset,i.color)})}addColorStop(e,r){return this.colorStops.push({offset:e,color:zl.shared.setValue(r).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:e,y:r}=this.start,{x:n,y:i}=this.end,s=n-e,o=i-r;const a=s<0||o<0;if(this._wrapMode==="clamp-to-edge"){if(s<0){const w=e;e=n,n=w,s*=-1}if(o<0){const w=r;r=i,i=w,o*=-1}}const l=this.colorStops.length?this.colorStops:pne,c=this._textureSize,{canvas:u,context:h}=mne(c,1),f=a?h.createLinearGradient(this._textureSize,0,0,0):h.createLinearGradient(0,0,this._textureSize,0);gne(f,l),h.fillStyle=f,h.fillRect(0,0,c,1),this.texture=new Sn({source:new VC({resource:u,addressMode:this._wrapMode})});const p=Math.sqrt(s*s+o*o),m=Math.atan2(o,s),v=new Br;v.scale(p/c,1),v.rotate(m),v.translate(e,r),this.textureSpace==="local"&&v.scale(c,c),this.transform=v}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:pne,r=this._textureSize,{canvas:n,context:i}=mne(r,r),{x:s,y:o}=this.center,{x:a,y:l}=this.outerCenter,c=this.innerRadius,u=this.outerRadius,h=a-u,f=l-u,p=r/(u*2),m=(s-h)*p,v=(o-f)*p,w=i.createRadialGradient(m,v,c*p,(a-h)*p,(l-f)*p,u*p);gne(w,e),i.fillStyle=e[e.length-1].color,i.fillRect(0,0,r,r),i.fillStyle=w,i.translate(m,v),i.rotate(this.rotation),i.scale(1,this.scale),i.translate(-m,-v),i.fillRect(0,0,r,r),this.texture=new Sn({source:new VC({resource:n,addressMode:this._wrapMode})});const b=new Br;b.scale(1/p,1/p),b.translate(h,f),this.textureSpace==="local"&&b.scale(r,r),this.transform=b}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};DU.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};DU.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let M3=DU;function gne(t,e){for(let r=0;r<e.length;r++){const n=e[r];t.addColorStop(n.offset,n.color)}}function mne(t,e){const r=dp.get().createCanvas(t,e),n=r.getContext("2d");return{canvas:r,context:n}}function vAt(t){let e=t[0]??{};return(typeof e=="number"||t[1])&&(mn("8.5.2","use options object instead"),e={type:"linear",start:{x:t[0],y:t[1]},end:{x:t[2],y:t[3]},textureSpace:t[4],textureSize:t[5]??M3.defaultLinearOptions.textureSize}),e}const yne={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class wAt{constructor(e,r){this.uid=xi("fillPattern"),this._tick=0,this.transform=new Br,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),r&&(e.source.style.addressModeU=yne[r].addressModeU,e.source.style.addressModeV=yne[r].addressModeV)}setTransform(e){const r=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/r.frame.width,1/r.frame.height),this._tick++}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture=e,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var i$,vne;function bAt(){if(vne)return i$;vne=1,i$=r;var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function r(s){var o=[];return s.replace(e,function(a,l,c){var u=l.toLowerCase();for(c=i(c),u=="m"&&c.length>2&&(o.push([l].concat(c.splice(0,2))),u="l",l=l=="m"?"l":"L");;){if(c.length==t[u])return c.unshift(l),o.push(c);if(c.length<t[u])throw new Error("malformed path data");o.push([l].concat(c.splice(0,t[u])))}}),o}var n=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function i(s){var o=s.match(n);return o?o.map(Number):[]}return i$}var xAt=bAt();const _At=Mi(xAt);function CAt(t,e){const r=_At(t),n=[];let i=null,s=0,o=0;for(let a=0;a<r.length;a++){const l=r[a],c=l[0],u=l;switch(c){case"M":s=u[1],o=u[2],e.moveTo(s,o);break;case"m":s+=u[1],o+=u[2],e.moveTo(s,o);break;case"H":s=u[1],e.lineTo(s,o);break;case"h":s+=u[1],e.lineTo(s,o);break;case"V":o=u[1],e.lineTo(s,o);break;case"v":o+=u[1],e.lineTo(s,o);break;case"L":s=u[1],o=u[2],e.lineTo(s,o);break;case"l":s+=u[1],o+=u[2],e.lineTo(s,o);break;case"C":s=u[5],o=u[6],e.bezierCurveTo(u[1],u[2],u[3],u[4],s,o);break;case"c":e.bezierCurveTo(s+u[1],o+u[2],s+u[3],o+u[4],s+u[5],o+u[6]),s+=u[5],o+=u[6];break;case"S":s=u[3],o=u[4],e.bezierCurveToShort(u[1],u[2],s,o);break;case"s":e.bezierCurveToShort(s+u[1],o+u[2],s+u[3],o+u[4]),s+=u[3],o+=u[4];break;case"Q":s=u[3],o=u[4],e.quadraticCurveTo(u[1],u[2],s,o);break;case"q":e.quadraticCurveTo(s+u[1],o+u[2],s+u[3],o+u[4]),s+=u[3],o+=u[4];break;case"T":s=u[1],o=u[2],e.quadraticCurveToShort(s,o);break;case"t":s+=u[1],o+=u[2],e.quadraticCurveToShort(s,o);break;case"A":s=u[6],o=u[7],e.arcToSvg(u[1],u[2],u[3],u[4],u[5],s,o);break;case"a":s+=u[6],o+=u[7],e.arcToSvg(u[1],u[2],u[3],u[4],u[5],s,o);break;case"Z":case"z":e.closePath(),n.length>0&&(i=n.pop(),i?(s=i.startX,o=i.startY):(s=0,o=0)),i=null;break;default:Ja(`Unknown SVG path command: ${c}`)}c!=="Z"&&c!=="z"&&i===null&&(i={startX:s,startY:o},n.push(i))}return e}class FU{constructor(e=0,r=0,n=0){this.type="circle",this.x=e,this.y=r,this.radius=n}clone(){return new FU(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}strokeContains(e,r,n,i=.5){if(this.radius===0)return!1;const s=this.x-e,o=this.y-r,a=this.radius,l=(1-i)*n,c=Math.sqrt(s*s+o*o);return c<=a+l&&c>a-(n-l)}getBounds(e){return e||(e=new ms),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class LU{constructor(e=0,r=0,n=0,i=0){this.type="ellipse",this.x=e,this.y=r,this.halfWidth=n,this.halfHeight=i}clone(){return new LU(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,r){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let n=(e-this.x)/this.halfWidth,i=(r-this.y)/this.halfHeight;return n*=n,i*=i,n+i<=1}strokeContains(e,r,n,i=.5){const{halfWidth:s,halfHeight:o}=this;if(s<=0||o<=0)return!1;const a=n*(1-i),l=n-a,c=s-l,u=o-l,h=s+a,f=o+a,p=e-this.x,m=r-this.y,v=p*p/(c*c)+m*m/(u*u),w=p*p/(h*h)+m*m/(f*f);return v>1&&w<=1}getBounds(e){return e||(e=new ms),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function EAt(t,e,r,n,i,s){const o=t-r,a=e-n,l=i-r,c=s-n,u=o*l+a*c,h=l*l+c*c;let f=-1;h!==0&&(f=u/h);let p,m;f<0?(p=r,m=n):f>1?(p=i,m=s):(p=r+f*l,m=n+f*c);const v=t-p,w=e-m;return v*v+w*w}let kAt,SAt;class Fb{constructor(...e){this.type="polygon";let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.closePath=!0}isClockwise(){let e=0;const r=this.points,n=r.length;for(let i=0;i<n;i+=2){const s=r[i],o=r[i+1],a=r[(i+2)%n],l=r[(i+3)%n];e+=(a-s)*(l+o)}return e<0}containsPolygon(e){const r=this.getBounds(kAt),n=e.getBounds(SAt);if(!r.containsRect(n))return!1;const i=e.points;for(let s=0;s<i.length;s+=2){const o=i[s],a=i[s+1];if(!this.contains(o,a))return!1}return!0}clone(){const e=this.points.slice(),r=new Fb(e);return r.closePath=this.closePath,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],c=this.points[o*2],u=this.points[o*2+1];l>r!=u>r&&e<(c-a)*((r-l)/(u-l))+a&&(n=!n)}return n}strokeContains(e,r,n,i=.5){const s=n*n,o=s*(1-i),a=s-o,{points:l}=this,c=l.length-(this.closePath?0:2);for(let u=0;u<c;u+=2){const h=l[u],f=l[u+1],p=l[(u+2)%l.length],m=l[(u+3)%l.length],v=EAt(e,r,h,f,p,m),w=Math.sign((p-h)*(r-f)-(m-f)*(e-h));if(v<=(w<0?a:o))return!0}return!1}getBounds(e){e||(e=new ms);const r=this.points;let n=1/0,i=-1/0,s=1/0,o=-1/0;for(let a=0,l=r.length;a<l;a+=2){const c=r[a],u=r[a+1];n=c<n?c:n,i=c>i?c:i,s=u<s?u:s,o=u>o?u:o}return e.x=n,e.width=i-n,e.y=s,e.height=o-s,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return mn("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return mn("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const d4=(t,e,r,n,i,s,o)=>{const a=t-r,l=e-n,c=Math.sqrt(a*a+l*l);return c>=i-s&&c<=i+o};class UU{constructor(e=0,r=0,n=0,i=0,s=20){this.type="roundedRectangle",this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s}getBounds(e){return e||(e=new ms),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new UU(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}strokeContains(e,r,n,i=.5){const{x:s,y:o,width:a,height:l,radius:c}=this,u=n*(1-i),h=n-u,f=s+c,p=o+c,m=a-c*2,v=l-c*2,w=s+a,b=o+l;return(e>=s-u&&e<=s+h||e>=w-h&&e<=w+u)&&r>=p&&r<=p+v||(r>=o-u&&r<=o+h||r>=b-h&&r<=b+u)&&e>=f&&e<=f+m?!0:e<f&&r<p&&d4(e,r,f,p,c,h,u)||e>w-c&&r<p&&d4(e,r,w-c,p,c,h,u)||e>w-c&&r>b-c&&d4(e,r,w-c,b-c,c,h,u)||e<f&&r>b-c&&d4(e,r,f,b-c,c,h,u)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const abe={};function AAt(t,e,r){let n=2166136261;for(let i=0;i<e;i++)n^=t[i].uid,n=Math.imul(n,16777619),n>>>=0;return abe[n]||TAt(t,e,n,r)}function TAt(t,e,r,n){const i={};let s=0;for(let a=0;a<n;a++){const l=a<e?t[a]:Sn.EMPTY.source;i[s++]=l.source,i[s++]=l.style}const o=new h_(i);return abe[r]=o,o}class wne{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this.uint32View=null,this.float32View=null,this.uint16View=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._int32View=null,this._float64Array=null,this._bigUint64Array=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function bne(t,e){const r=t.byteLength/8|0,n=new Float64Array(t,0,r);new Float64Array(e,0,r).set(n);const s=t.byteLength-r*8;if(s>0){const o=new Uint8Array(t,r*8,s);new Uint8Array(e,r*8,s).set(o)}}const IAt={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var PAt=(t=>(t[t.DISABLED=0]="DISABLED",t[t.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",t[t.MASK_ACTIVE=2]="MASK_ACTIVE",t[t.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",t[t.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",t[t.NONE=5]="NONE",t))(PAt||{});function xne(t,e){return e.alphaMode==="no-premultiply-alpha"&&IAt[t]||t}const $At=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function NAt(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function RAt(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const n=$At.replace(/%forloop%/gi,NAt(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}}finally{e.deleteShader(r)}return t}let Vm=null;function OAt(){if(Vm)return Vm;const t=zwe();return Vm=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Vm=RAt(Vm,t),t.getExtension("WEBGL_lose_context")?.loseContext(),Vm}class jAt{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const r=this.textures[e];this.textures[e]=null,this.ids[r.uid]=null}this.count=0}}class MAt{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new jAt,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const Lb=[];let GC=0;_k.register({clear:()=>{if(Lb.length>0)for(const t of Lb)t&&t.destroy();Lb.length=0,GC=0}});function _ne(){return GC>0?Lb[--GC]:new MAt}function Cne(t){Lb[GC++]=t}let Rw=0;const lbe=class cbe{constructor(e){this.uid=xi("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],e={...cbe.defaultOptions,...e},e.maxTextures||(mn("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),e.maxTextures=OAt());const{maxTextures:r,attributesInitialSize:n,indicesInitialSize:i}=e;this.attributeBuffer=new wne(n*4),this.indexBuffer=new Uint16Array(i),this.maxTextures=r}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)Cne(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,r){const n=e._batch.textures.ids[r._source.uid];return!n&&n!==0?!1:(e._textureId=n,e.texture=r,!0)}updateElement(e){this.dirty=!0;const r=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,r.float32View,r.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,r.float32View,r.uint32View,e._attributeStart,e._textureId)}break(e){const r=this._elements;if(!r[this.elementStart])return;let n=_ne(),i=n.textures;i.clear();const s=r[this.elementStart];let o=xne(s.blendMode,s.texture._source),a=s.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const l=this.attributeBuffer.float32View,c=this.attributeBuffer.uint32View,u=this.indexBuffer;let h=this._batchIndexSize,f=this._batchIndexStart,p="startBatch";const m=this.maxTextures;for(let v=this.elementStart;v<this.elementSize;++v){const w=r[v];r[v]=null;const E=w.texture._source,_=xne(w.blendMode,E),A=o!==_||a!==w.topology;if(E._batchTick===Rw&&!A){w._textureId=E._textureBindLocation,h+=w.indexSize,w.packAsQuad?(this.packQuadAttributes(w,l,c,w._attributeStart,w._textureId),this.packQuadIndex(u,w._indexStart,w._attributeStart/this.vertexSize)):(this.packAttributes(w,l,c,w._attributeStart,w._textureId),this.packIndex(w,u,w._indexStart,w._attributeStart/this.vertexSize)),w._batch=n;continue}E._batchTick=Rw,(i.count>=m||A)&&(this._finishBatch(n,f,h-f,i,o,a,e,p),p="renderBatch",f=h,o=_,a=w.topology,n=_ne(),i=n.textures,i.clear(),++Rw),w._textureId=E._textureBindLocation=i.count,i.ids[E.uid]=i.count,i.textures[i.count++]=E,w._batch=n,h+=w.indexSize,w.packAsQuad?(this.packQuadAttributes(w,l,c,w._attributeStart,w._textureId),this.packQuadIndex(u,w._indexStart,w._attributeStart/this.vertexSize)):(this.packAttributes(w,l,c,w._attributeStart,w._textureId),this.packIndex(w,u,w._indexStart,w._attributeStart/this.vertexSize))}i.count>0&&(this._finishBatch(n,f,h-f,i,o,a,e,p),f=h,++Rw),this.elementStart=this.elementSize,this._batchIndexStart=f,this._batchIndexSize=h}_finishBatch(e,r,n,i,s,o,a,l){e.gpuBindGroup=null,e.bindGroup=null,e.action=l,e.batcher=this,e.textures=i,e.blendMode=s,e.topology=o,e.start=r,e.size=n,++Rw,this.batches[this.batchIndex++]=e,a.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const r=Math.max(e,this.attributeBuffer.size*2),n=new wne(r);bne(this.attributeBuffer.rawBinaryData,n.rawBinaryData),this.attributeBuffer=n}_resizeIndexBuffer(e){const r=this.indexBuffer;let n=Math.max(e,r.length*1.5);n+=n%2;const i=n>65535?new Uint32Array(n):new Uint16Array(n);if(i.BYTES_PER_ELEMENT!==r.BYTES_PER_ELEMENT)for(let s=0;s<r.length;s++)i[s]=r[s];else bne(r.buffer,i.buffer);this.indexBuffer=i}packQuadIndex(e,r,n){e[r]=n+0,e[r+1]=n+1,e[r+2]=n+2,e[r+3]=n+0,e[r+4]=n+2,e[r+5]=n+3}packIndex(e,r,n,i){const s=e.indices,o=e.indexSize,a=e.indexOffset,l=e.attributeOffset;for(let c=0;c<o;c++)r[n++]=i+s[c+a]-l}destroy(e={}){if(this.batches!==null){for(let r=0;r<this.batchIndex;r++)Cne(this.batches[r]);this.batches=null,this.geometry.destroy(!0),this.geometry=null,e.shader&&(this.shader?.destroy(),this.shader=null);for(let r=0;r<this._elements.length;r++)this._elements[r]&&(this._elements[r]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};lbe.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let DAt=lbe;var la=(t=>(t[t.MAP_READ=1]="MAP_READ",t[t.MAP_WRITE=2]="MAP_WRITE",t[t.COPY_SRC=4]="COPY_SRC",t[t.COPY_DST=8]="COPY_DST",t[t.INDEX=16]="INDEX",t[t.VERTEX=32]="VERTEX",t[t.UNIFORM=64]="UNIFORM",t[t.STORAGE=128]="STORAGE",t[t.INDIRECT=256]="INDIRECT",t[t.QUERY_RESOLVE=512]="QUERY_RESOLVE",t[t.STATIC=1024]="STATIC",t))(la||{});let px=class extends mo{constructor(e){let{data:r,size:n}=e;const{usage:i,label:s,shrinkToFit:o}=e;super(),this._gpuData=Object.create(null),this._gcLastUsed=-1,this.autoGarbageCollect=!0,this.uid=xi("buffer"),this._resourceType="buffer",this._resourceId=xi("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,r instanceof Array&&(r=new Float32Array(r)),this._data=r,n??(n=r?.byteLength);const a=!!r;this.descriptor={size:n,usage:i,mappedAtCreation:a,label:s},this.shrinkToFit=o??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&la.STATIC)}set static(e){e?this.descriptor.usage|=la.STATIC:this.descriptor.usage&=~la.STATIC}setDataWithSize(e,r,n){if(this._updateID++,this._updateSize=r*e.BYTES_PER_ELEMENT,this._data===e){n&&this.emit("update",this);return}const i=this._data;if(this._data=e,this._dataInt32=null,!i||i.length!==e.length){!this.shrinkToFit&&i&&e.byteLength<i.byteLength?n&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=xi("resource"),this.emit("change",this));return}n&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}unload(){this.emit("unload",this);for(const e in this._gpuData)this._gpuData[e]?.destroy();this._gpuData=Object.create(null)}destroy(){this.destroyed=!0,this.unload(),this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}};function ube(t,e){if(!(t instanceof px)){let r=e?la.INDEX:la.VERTEX;t instanceof Array&&(e?(t=new Uint32Array(t),r=la.INDEX|la.COPY_DST):(t=new Float32Array(t),r=la.VERTEX|la.COPY_DST)),t=new px({data:t,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:r})}return t}function FAt(t,e,r){const n=t.getAttribute(e);if(!n)return r.minX=0,r.minY=0,r.maxX=0,r.maxY=0,r;const i=n.buffer.data;let s=1/0,o=1/0,a=-1/0,l=-1/0;const c=i.BYTES_PER_ELEMENT,u=(n.offset||0)/c,h=(n.stride||8)/c;for(let f=u;f<i.length;f+=h){const p=i[f],m=i[f+1];p>a&&(a=p),m>l&&(l=m),p<s&&(s=p),m<o&&(o=m)}return r.minX=s,r.minY=o,r.maxX=a,r.maxY=l,r}function LAt(t){return(t instanceof px||Array.isArray(t)||t.BYTES_PER_ELEMENT)&&(t={buffer:t}),t.buffer=ube(t.buffer,!1),t}class UAt extends mo{constructor(e={}){super(),this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this.uid=xi("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new du,this._boundsDirty=!0;const{attributes:r,indexBuffer:n,topology:i}=e;if(this.buffers=[],this.attributes={},r)for(const s in r)this.addAttribute(s,r[s]);this.instanceCount=e.instanceCount??1,n&&this.addIndex(n),this.topology=i||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const r=this.attributes[e];return r.buffer.data.length/(r.stride/4||r.size)}return 0}addAttribute(e,r){const n=LAt(r);this.buffers.indexOf(n.buffer)===-1&&(this.buffers.push(n.buffer),n.buffer.on("update",this.onBufferUpdate,this),n.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=n}addIndex(e){this.indexBuffer=ube(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,FAt(this,"aPosition",this._bounds)):this._bounds}unload(){this.emit("unload",this);for(const e in this._gpuData)this._gpuData[e]?.destroy();this._gpuData=Object.create(null)}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(r=>r.destroy()),this.unload(),this.indexBuffer?.destroy(),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const BAt=new Float32Array(1),zAt=new Uint32Array(1);class qAt extends UAt{constructor(){const r=new px({data:BAt,label:"attribute-batch-buffer",usage:la.VERTEX|la.COPY_DST,shrinkToFit:!1}),n=new px({data:zAt,label:"index-batch-buffer",usage:la.INDEX|la.COPY_DST,shrinkToFit:!1}),i=24;super({attributes:{aPosition:{buffer:r,format:"float32x2",stride:i,offset:0},aUV:{buffer:r,format:"float32x2",stride:i,offset:8},aColor:{buffer:r,format:"unorm8x4",stride:i,offset:16},aTextureIdAndRound:{buffer:r,format:"uint16x2",stride:i,offset:20}},indexBuffer:n})}}function Ene(t,e,r){if(t)for(const n in t){const i=n.toLocaleLowerCase(),s=e[i];if(s){let o=t[n];n==="header"&&(o=o.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),r&&s.push(`//----${r}----//`),s.push(o)}else Ja(`${n} placement hook does not exist in shader`)}}const WAt=/\{\{(.*?)\}\}/g;function kne(t){const e={};return(t.match(WAt)?.map(n=>n.replace(/[{()}]/g,""))??[]).forEach(n=>{e[n]=[]}),e}function Sne(t,e){let r;const n=/@in\s+([^;]+);/g;for(;(r=n.exec(t))!==null;)e.push(r[1])}function Ane(t,e,r=!1){const n=[];Sne(e,n),t.forEach(a=>{a.header&&Sne(a.header,n)});const i=n;r&&i.sort();const s=i.map((a,l)=>`       @location(${l}) ${a},`).join(`
`);let o=e.replace(/@in\s+[^;]+;\s*/g,"");return o=o.replace("{{in}}",`
${s}
`),o}function Tne(t,e){let r;const n=/@out\s+([^;]+);/g;for(;(r=n.exec(t))!==null;)e.push(r[1])}function HAt(t){const r=/\b(\w+)\s*:/g.exec(t);return r?r[1]:""}function VAt(t){const e=/@.*?\s+/g;return t.replace(e,"")}function GAt(t,e){const r=[];Tne(e,r),t.forEach(l=>{l.header&&Tne(l.header,r)});let n=0;const i=r.sort().map(l=>l.indexOf("builtin")>-1?l:`@location(${n++}) ${l}`).join(`,
`),s=r.sort().map(l=>`       var ${VAt(l)};`).join(`
`),o=`return VSOutput(
            ${r.sort().map(l=>` ${HAt(l)}`).join(`,
`)});`;let a=e.replace(/@out\s+[^;]+;\s*/g,"");return a=a.replace("{{struct}}",`
${i}
`),a=a.replace("{{start}}",`
${s}
`),a=a.replace("{{return}}",`
${o}
`),a}function Ine(t,e){let r=t;for(const n in e){const i=e[n];i.join(`
`).length?r=r.replace(`{{${n}}}`,`//-----${n} START-----//
${i.join(`
`)}
//----${n} FINISH----//`):r=r.replace(`{{${n}}}`,"")}return r}const Hf=Object.create(null),s$=new Map;let KAt=0;function YAt({template:t,bits:e}){const r=dbe(t,e);if(Hf[r])return Hf[r];const{vertex:n,fragment:i}=XAt(t,e);return Hf[r]=hbe(n,i,e),Hf[r]}function JAt({template:t,bits:e}){const r=dbe(t,e);return Hf[r]||(Hf[r]=hbe(t.vertex,t.fragment,e)),Hf[r]}function XAt(t,e){const r=e.map(o=>o.vertex).filter(o=>!!o),n=e.map(o=>o.fragment).filter(o=>!!o);let i=Ane(r,t.vertex,!0);i=GAt(r,i);const s=Ane(n,t.fragment,!0);return{vertex:i,fragment:s}}function dbe(t,e){return e.map(r=>(s$.has(r)||s$.set(r,KAt++),s$.get(r))).sort((r,n)=>r-n).join("-")+t.vertex+t.fragment}function hbe(t,e,r){const n=kne(t),i=kne(e);return r.forEach(s=>{Ene(s.vertex,n,s.name),Ene(s.fragment,i,s.name)}),{vertex:Ine(t,n),fragment:Ine(e,i)}}const QAt=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,ZAt=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,e9t=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,t9t=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,r9t={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},n9t={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function i9t({bits:t,name:e}){const r=YAt({template:{fragment:ZAt,vertex:QAt},bits:[r9t,...t]});return Ek.from({name:e,vertex:{source:r.vertex,entryPoint:"main"},fragment:{source:r.fragment,entryPoint:"main"}})}function s9t({bits:t,name:e}){return new Wwe({name:e,...JAt({template:{vertex:e9t,fragment:t9t},bits:[n9t,...t]})})}const o9t={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},a9t={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},o$={};function l9t(t){const e=[];if(t===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let r=0;for(let n=0;n<t;n++)e.push(`@group(1) @binding(${r++}) var textureSource${n+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${r++}) var textureSampler${n+1}: sampler;`)}return e.join(`
`)}function c9t(t){const e=[];if(t===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let r=0;r<t;r++)r===t-1?e.push("  default:{"):e.push(`  case ${r}:{`),e.push(`      outColor = textureSampleGrad(textureSource${r+1}, textureSampler${r+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function u9t(t){return o$[t]||(o$[t]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${l9t(t)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${c9t(t)}
            `}}),o$[t]}const a$={};function d9t(t){const e=[];for(let r=0;r<t;r++)r>0&&e.push("else"),r<t-1&&e.push(`if(vTextureId < ${r}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${r}], vUV);`),e.push("}");return e.join(`
`)}function h9t(t){return a$[t]||(a$[t]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${t}];

            `,main:`

                ${d9t(t)}
            `}}),a$[t]}const f9t={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},p9t={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Pne={};function g9t(t){let e=Pne[t];if(e)return e;const r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=n;return e=Pne[t]=new Kwe({uTextures:{value:r,type:"i32",size:t}},{isStatic:!0}),e}class $ne extends MU{constructor(e){const r=s9t({name:"batch",bits:[a9t,h9t(e),p9t]}),n=i9t({name:"batch",bits:[o9t,u9t(e),f9t]});super({glProgram:r,gpuProgram:n,resources:{batchSamplers:g9t(e)}}),this.maxTextures=e}}let Ow=null;const fbe=class pbe extends DAt{constructor(e){super(e),this.geometry=new qAt,this.name=pbe.extension.name,this.vertexSize=6,Ow??(Ow=new $ne(e.maxTextures)),this.shader=Ow}packAttributes(e,r,n,i,s){const o=s<<16|e.roundPixels&65535,a=e.transform,l=a.a,c=a.b,u=a.c,h=a.d,f=a.tx,p=a.ty,{positions:m,uvs:v}=e,w=e.color,b=e.attributeOffset,E=b+e.attributeSize;for(let _=b;_<E;_++){const A=_*2,C=m[A],k=m[A+1];r[i++]=l*C+u*k+f,r[i++]=h*k+c*C+p,r[i++]=v[A],r[i++]=v[A+1],n[i++]=w,n[i++]=o}}packQuadAttributes(e,r,n,i,s){const o=e.texture,a=e.transform,l=a.a,c=a.b,u=a.c,h=a.d,f=a.tx,p=a.ty,m=e.bounds,v=m.maxX,w=m.minX,b=m.maxY,E=m.minY,_=o.uvs,A=e.color,C=s<<16|e.roundPixels&65535;r[i+0]=l*w+u*E+f,r[i+1]=h*E+c*w+p,r[i+2]=_.x0,r[i+3]=_.y0,n[i+4]=A,n[i+5]=C,r[i+6]=l*v+u*E+f,r[i+7]=h*E+c*v+p,r[i+8]=_.x1,r[i+9]=_.y1,n[i+10]=A,n[i+11]=C,r[i+12]=l*v+u*b+f,r[i+13]=h*b+c*v+p,r[i+14]=_.x2,r[i+15]=_.y2,n[i+16]=A,n[i+17]=C,r[i+18]=l*w+u*b+f,r[i+19]=h*b+c*w+p,r[i+20]=_.x3,r[i+21]=_.y3,n[i+22]=A,n[i+23]=C}_updateMaxTextures(e){this.shader.maxTextures!==e&&(Ow=new $ne(e),this.shader=Ow)}destroy(){this.shader=null,super.destroy()}};fbe.extension={type:[hn.Batcher],name:"default"};let m9t=fbe;class y9t{constructor(e){this.items=Object.create(null);const{renderer:r,type:n,onUnload:i,priority:s,name:o}=e;this._renderer=r,r.gc.addResourceHash(this,"items",n,s??0),this._onUnload=i,this.name=o}add(e){return this.items[e.uid]?!1:(this.items[e.uid]=e,e.once("unload",this.remove,this),e._gcLastUsed=this._renderer.gc.now,!0)}remove(e,...r){if(!this.items[e.uid])return;const n=e._gpuData[this._renderer.uid];n&&(this._onUnload?.(e,...r),n.destroy(),e._gpuData[this._renderer.uid]=null,this.items[e.uid]=null)}removeAll(...e){Object.values(this.items).forEach(r=>r&&this.remove(r,...e))}destroy(...e){this.removeAll(...e),this.items=Object.create(null),this._renderer=null,this._onUnload=null}}function v9t(t,e,r,n,i,s,o,a=null){let l=0;r*=e,i*=s;const c=a.a,u=a.b,h=a.c,f=a.d,p=a.tx,m=a.ty;for(;l<o;){const v=t[r],w=t[r+1];n[i]=c*v+h*w+p,n[i+1]=u*v+f*w+m,i+=s,r+=e,l++}}function w9t(t,e,r,n){let i=0;for(e*=r;i<n;)t[e]=0,t[e+1]=0,e+=r,i++}function gbe(t,e,r,n,i){const s=e.a,o=e.b,a=e.c,l=e.d,c=e.tx,u=e.ty;r||(r=0),n||(n=2),i||(i=t.length/n-r);let h=r*n;for(let f=0;f<i;f++){const p=t[h],m=t[h+1];t[h]=s*p+a*m+c,t[h+1]=o*p+l*m+u,h+=n}}const b9t=new Br;class mbe{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,r=e>>16|e&65280|(e&255)<<16,n=this.renderable;return n?bwe(r,n.groupColor)+(this.alpha*n.groupAlpha*255<<24):r+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||b9t}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher=null,this._batch=null}}const gx={extension:{type:hn.ShapeBuilder,name:"circle"},build(t,e){let r,n,i,s,o,a;if(t.type==="circle"){const A=t;if(o=a=A.radius,o<=0)return!1;r=A.x,n=A.y,i=s=0}else if(t.type==="ellipse"){const A=t;if(o=A.halfWidth,a=A.halfHeight,o<=0||a<=0)return!1;r=A.x,n=A.y,i=s=0}else{const A=t,C=A.width/2,k=A.height/2;r=A.x+C,n=A.y+k,o=a=Math.max(0,Math.min(A.radius,Math.min(C,k))),i=C-o,s=k-a}if(i<0||s<0)return!1;const l=Math.ceil(2.3*Math.sqrt(o+a)),c=l*8+(i?4:0)+(s?4:0);if(c===0)return!1;if(l===0)return e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s,!0;let u=0,h=l*4+(i?2:0)+2,f=h,p=c,m=i+o,v=s,w=r+m,b=r-m,E=n+v;if(e[u++]=w,e[u++]=E,e[--h]=E,e[--h]=b,s){const A=n-v;e[f++]=b,e[f++]=A,e[--p]=A,e[--p]=w}for(let A=1;A<l;A++){const C=Math.PI/2*(A/l),k=i+Math.cos(C)*o,P=s+Math.sin(C)*a,F=r+k,N=r-k,$=n+P,U=n-P;e[u++]=F,e[u++]=$,e[--h]=$,e[--h]=N,e[f++]=N,e[f++]=U,e[--p]=U,e[--p]=F}m=i,v=s+a,w=r+m,b=r-m,E=n+v;const _=n-v;return e[u++]=w,e[u++]=E,e[--p]=_,e[--p]=w,i&&(e[u++]=b,e[u++]=E,e[--p]=_,e[--p]=b),!0},triangulate(t,e,r,n,i,s){if(t.length===0)return;let o=0,a=0;for(let u=0;u<t.length;u+=2)o+=t[u],a+=t[u+1];o/=t.length/2,a/=t.length/2;let l=n;e[l*r]=o,e[l*r+1]=a;const c=l++;for(let u=0;u<t.length;u+=2)e[l*r]=t[u],e[l*r+1]=t[u+1],u>0&&(i[s++]=l,i[s++]=c,i[s++]=l-1),l++;i[s++]=c+1,i[s++]=c,i[s++]=l-1}},x9t={...gx,extension:{...gx.extension,name:"ellipse"}},_9t={...gx,extension:{...gx.extension,name:"roundedRectangle"}},ybe=1e-4,Nne=1e-4;function C9t(t){const e=t.length;if(e<6)return 1;let r=0;for(let n=0,i=t[e-2],s=t[e-1];n<e;n+=2){const o=t[n],a=t[n+1];r+=(o-i)*(a+s),i=o,s=a}return r<0?-1:1}function Rne(t,e,r,n,i,s,o,a){const l=t-r*i,c=e-n*i,u=t+r*s,h=e+n*s;let f,p;o?(f=n,p=-r):(f=-n,p=r);const m=l+f,v=c+p,w=u+f,b=h+p;return a.push(m,v),a.push(w,b),2}function Yp(t,e,r,n,i,s,o,a){const l=r-t,c=n-e;let u=Math.atan2(l,c),h=Math.atan2(i-t,s-e);a&&u<h?u+=Math.PI*2:!a&&u>h&&(h+=Math.PI*2);let f=u;const p=h-u,m=Math.abs(p),v=Math.sqrt(l*l+c*c),w=(15*m*Math.sqrt(v)/Math.PI>>0)+1,b=p/w;if(f+=b,a){o.push(t,e),o.push(r,n);for(let E=1,_=f;E<w;E++,_+=b)o.push(t,e),o.push(t+Math.sin(_)*v,e+Math.cos(_)*v);o.push(t,e),o.push(i,s)}else{o.push(r,n),o.push(t,e);for(let E=1,_=f;E<w;E++,_+=b)o.push(t+Math.sin(_)*v,e+Math.cos(_)*v),o.push(t,e);o.push(i,s),o.push(t,e)}return w*2}function E9t(t,e,r,n,i,s){const o=ybe;if(t.length===0)return;const a=e;let l=a.alignment;if(e.alignment!==.5){let q=C9t(t);l=(l-.5)*q+.5}const c=new ho(t[0],t[1]),u=new ho(t[t.length-2],t[t.length-1]),h=n,f=Math.abs(c.x-u.x)<o&&Math.abs(c.y-u.y)<o;if(h){t=t.slice(),f&&(t.pop(),t.pop(),u.set(t[t.length-2],t[t.length-1]));const q=(c.x+u.x)*.5,G=(u.y+c.y)*.5;t.unshift(q,G),t.push(q,G)}const p=i,m=t.length/2;let v=t.length;const w=p.length/2,b=a.width/2,E=b*b,_=a.miterLimit*a.miterLimit;let A=t[0],C=t[1],k=t[2],P=t[3],F=0,N=0,$=-(C-P),U=A-k,O=0,D=0,T=Math.sqrt($*$+U*U);$/=T,U/=T,$*=b,U*=b;const I=l,R=(1-I)*2,L=I*2;h||(a.cap==="round"?v+=Yp(A-$*(R-L)*.5,C-U*(R-L)*.5,A-$*R,C-U*R,A+$*L,C+U*L,p,!0)+2:a.cap==="square"&&(v+=Rne(A,C,$,U,R,L,!0,p))),p.push(A-$*R,C-U*R),p.push(A+$*L,C+U*L);for(let q=1;q<m-1;++q){A=t[(q-1)*2],C=t[(q-1)*2+1],k=t[q*2],P=t[q*2+1],F=t[(q+1)*2],N=t[(q+1)*2+1],$=-(C-P),U=A-k,T=Math.sqrt($*$+U*U),$/=T,U/=T,$*=b,U*=b,O=-(P-N),D=k-F,T=Math.sqrt(O*O+D*D),O/=T,D/=T,O*=b,D*=b;const G=k-A,W=C-P,j=k-F,Y=N-P,Q=G*j+W*Y,z=W*j-Y*G,Z=z<0;if(Math.abs(z)<.001*Math.abs(Q)){p.push(k-$*R,P-U*R),p.push(k+$*L,P+U*L),Q>=0&&(a.join==="round"?v+=Yp(k,P,k-$*R,P-U*R,k-O*R,P-D*R,p,!1)+4:v+=2,p.push(k-O*L,P-D*L),p.push(k+O*R,P+D*R));continue}const ee=(-$+A)*(-U+P)-(-$+k)*(-U+C),te=(-O+F)*(-D+P)-(-O+k)*(-D+N),se=(G*te-j*ee)/z,ce=(Y*ee-W*te)/z,ge=(se-k)*(se-k)+(ce-P)*(ce-P),ae=k+(se-k)*R,_e=P+(ce-P)*R,Ee=k-(se-k)*L,Ie=P-(ce-P)*L,qe=Math.min(G*G+W*W,j*j+Y*Y),me=Z?R:L,ze=qe+me*me*E;ge<=ze?a.join==="bevel"||ge/E>_?(Z?(p.push(ae,_e),p.push(k+$*L,P+U*L),p.push(ae,_e),p.push(k+O*L,P+D*L)):(p.push(k-$*R,P-U*R),p.push(Ee,Ie),p.push(k-O*R,P-D*R),p.push(Ee,Ie)),v+=2):a.join==="round"?Z?(p.push(ae,_e),p.push(k+$*L,P+U*L),v+=Yp(k,P,k+$*L,P+U*L,k+O*L,P+D*L,p,!0)+4,p.push(ae,_e),p.push(k+O*L,P+D*L)):(p.push(k-$*R,P-U*R),p.push(Ee,Ie),v+=Yp(k,P,k-$*R,P-U*R,k-O*R,P-D*R,p,!1)+4,p.push(k-O*R,P-D*R),p.push(Ee,Ie)):(p.push(ae,_e),p.push(Ee,Ie)):(p.push(k-$*R,P-U*R),p.push(k+$*L,P+U*L),a.join==="round"?Z?v+=Yp(k,P,k+$*L,P+U*L,k+O*L,P+D*L,p,!0)+2:v+=Yp(k,P,k-$*R,P-U*R,k-O*R,P-D*R,p,!1)+2:a.join==="miter"&&ge/E<=_&&(Z?(p.push(Ee,Ie),p.push(Ee,Ie)):(p.push(ae,_e),p.push(ae,_e)),v+=2),p.push(k-O*R,P-D*R),p.push(k+O*L,P+D*L),v+=2)}A=t[(m-2)*2],C=t[(m-2)*2+1],k=t[(m-1)*2],P=t[(m-1)*2+1],$=-(C-P),U=A-k,T=Math.sqrt($*$+U*U),$/=T,U/=T,$*=b,U*=b,p.push(k-$*R,P-U*R),p.push(k+$*L,P+U*L),h||(a.cap==="round"?v+=Yp(k-$*(R-L)*.5,P-U*(R-L)*.5,k-$*R,P-U*R,k+$*L,P+U*L,p,!1)+2:a.cap==="square"&&(v+=Rne(k,P,$,U,R,L,!1,p)));const B=Nne*Nne;for(let q=w;q<v+w-2;++q)A=p[q*2],C=p[q*2+1],k=p[(q+1)*2],P=p[(q+1)*2+1],F=p[(q+2)*2],N=p[(q+2)*2+1],!(Math.abs(A*(P-N)+k*(N-C)+F*(C-P))<B)&&s.push(q,q+1,q+2)}function k9t(t,e,r,n){const i=ybe;if(t.length===0)return;const s=t[0],o=t[1],a=t[t.length-2],l=t[t.length-1],c=e||Math.abs(s-a)<i&&Math.abs(o-l)<i,u=r,h=t.length/2,f=u.length/2;for(let p=0;p<h;p++)u.push(t[p*2]),u.push(t[p*2+1]);for(let p=0;p<h-1;p++)n.push(f+p,f+p+1);c&&n.push(f+h-1,f)}function vbe(t,e,r,n,i,s,o){const a=dAt(t,e,2);if(!a)return;for(let c=0;c<a.length;c+=3)s[o++]=a[c]+i,s[o++]=a[c+1]+i,s[o++]=a[c+2]+i;let l=i*n;for(let c=0;c<t.length;c+=2)r[l]=t[c],r[l+1]=t[c+1],l+=n}const S9t=[],A9t={extension:{type:hn.ShapeBuilder,name:"polygon"},build(t,e){for(let r=0;r<t.points.length;r++)e[r]=t.points[r];return!0},triangulate(t,e,r,n,i,s){vbe(t,S9t,e,r,n,i,s)}},T9t={extension:{type:hn.ShapeBuilder,name:"rectangle"},build(t,e){const r=t,n=r.x,i=r.y,s=r.width,o=r.height;return s>0&&o>0?(e[0]=n,e[1]=i,e[2]=n+s,e[3]=i,e[4]=n+s,e[5]=i+o,e[6]=n,e[7]=i+o,!0):!1},triangulate(t,e,r,n,i,s){let o=0;n*=r,e[n+o]=t[0],e[n+o+1]=t[1],o+=r,e[n+o]=t[2],e[n+o+1]=t[3],o+=r,e[n+o]=t[6],e[n+o+1]=t[7],o+=r,e[n+o]=t[4],e[n+o+1]=t[5],o+=r;const a=n/r;i[s++]=a,i[s++]=a+1,i[s++]=a+2,i[s++]=a+1,i[s++]=a+3,i[s++]=a+2}},I9t={extension:{type:hn.ShapeBuilder,name:"triangle"},build(t,e){return e[0]=t.x,e[1]=t.y,e[2]=t.x2,e[3]=t.y2,e[4]=t.x3,e[5]=t.y3,!0},triangulate(t,e,r,n,i,s){let o=0;n*=r,e[n+o]=t[0],e[n+o+1]=t[1],o+=r,e[n+o]=t[2],e[n+o+1]=t[3],o+=r,e[n+o]=t[4],e[n+o+1]=t[5];const a=n/r;i[s++]=a,i[s++]=a+1,i[s++]=a+2}},P9t=new Br,$9t=new ms;function N9t(t,e,r,n){const i=e.matrix?t.copyFrom(e.matrix).invert():t.identity();if(e.textureSpace==="local"){const o=r.getBounds($9t);e.width&&o.pad(e.width);const{x:a,y:l}=o,c=1/o.width,u=1/o.height,h=-a*c,f=-l*u,p=i.a,m=i.b,v=i.c,w=i.d;i.a*=c,i.b*=c,i.c*=u,i.d*=u,i.tx=h*p+f*v+i.tx,i.ty=h*m+f*w+i.ty}else i.translate(e.texture.frame.x,e.texture.frame.y),i.scale(1/e.texture.source.width,1/e.texture.source.height);const s=e.texture.source.style;return!(e.fill instanceof M3)&&s.addressMode==="clamp-to-edge"&&(s.addressMode="repeat",s.update()),n&&i.append(P9t.copyFrom(n).invert()),i}const kk={};pc.handleByMap(hn.ShapeBuilder,kk);pc.add(T9t,A9t,I9t,gx,x9t,_9t);const R9t=new ms,O9t=new Br;function j9t(t,e){const{geometryData:r,batches:n}=e;n.length=0,r.indices.length=0,r.vertices.length=0,r.uvs.length=0;for(let i=0;i<t.instructions.length;i++){const s=t.instructions[i];if(s.action==="texture")M9t(s.data,n,r);else if(s.action==="fill"||s.action==="stroke"){const o=s.action==="stroke",a=s.data.path.shapePath,l=s.data.style,c=s.data.hole;o&&c&&One(c.shapePath,l,!0,n,r),c&&(a.shapePrimitives[a.shapePrimitives.length-1].holes=c.shapePath.shapePrimitives),One(a,l,o,n,r)}}}function M9t(t,e,r){const n=[],i=kk.rectangle,s=R9t;s.x=t.dx,s.y=t.dy,s.width=t.dw,s.height=t.dh;const o=t.transform;if(!i.build(s,n))return;const{vertices:a,uvs:l,indices:c}=r,u=c.length,h=a.length/2;o&&gbe(n,o),i.triangulate(n,a,2,h,c,u);const f=t.image,p=f.uvs;l.push(p.x0,p.y0,p.x1,p.y1,p.x3,p.y3,p.x2,p.y2);const m=ec.get(mbe);m.indexOffset=u,m.indexSize=c.length-u,m.attributeOffset=h,m.attributeSize=a.length/2-h,m.baseColor=t.style,m.alpha=t.alpha,m.texture=f,m.geometryData=r,e.push(m)}function One(t,e,r,n,i){const{vertices:s,uvs:o,indices:a}=i;t.shapePrimitives.forEach(({shape:l,transform:c,holes:u})=>{const h=[],f=kk[l.type];if(!f.build(l,h))return;const p=a.length,m=s.length/2;let v="triangle-list";if(c&&gbe(h,c),r){const _=l.closePath??!0,A=e;A.pixelLine?(k9t(h,_,s,a),v="line-list"):E9t(h,A,!1,_,s,a)}else if(u){const _=[],A=h.slice();D9t(u).forEach(k=>{_.push(A.length/2),A.push(...k)}),vbe(A,_,s,2,m,a,p)}else f.triangulate(h,s,2,m,a,p);const w=o.length/2,b=e.texture;if(b!==Sn.WHITE){const _=N9t(O9t,e,l,c);v9t(s,2,m,o,w,2,s.length/2-m,_)}else w9t(o,w,2,s.length/2-m);const E=ec.get(mbe);E.indexOffset=p,E.indexSize=a.length-p,E.attributeOffset=m,E.attributeSize=s.length/2-m,E.baseColor=e.color,E.alpha=e.alpha,E.texture=b,E.geometryData=i,E.topology=v,n.push(E)})}function D9t(t){const e=[];for(let r=0;r<t.length;r++){const n=t[r].shape,i=[];kk[n.type].build(n,i)&&e.push(i)}return e}class F9t{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}reset(){this.batches&&this.batches.forEach(e=>{ec.return(e)}),this.graphicsData&&ec.return(this.graphicsData),this.isBatchable=!1,this.context=null,this.batches.length=0,this.geometryData.indices.length=0,this.geometryData.vertices.length=0,this.geometryData.uvs.length=0,this.graphicsData=null}destroy(){this.reset(),this.batches=null,this.geometryData=null}}class L9t{constructor(){this.instructions=new Ewe}init(e){const r=e.maxTextures;this.batcher?this.batcher._updateMaxTextures(r):this.batcher=new m9t({maxTextures:r}),this.instructions.reset()}get geometry(){return mn($kt,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const BU=class Gj{constructor(e){this._renderer=e,this._managedContexts=new y9t({renderer:e,type:"resource",name:"graphicsContext"})}init(e){Gj.defaultOptions.bezierSmoothness=e?.bezierSmoothness??Gj.defaultOptions.bezierSmoothness}getContextRenderData(e){return e._gpuData[this._renderer.uid].graphicsData||this._initContextRenderData(e)}updateGpuContext(e){const r=!!e._gpuData[this._renderer.uid],n=e._gpuData[this._renderer.uid]||this._initContext(e);if(e.dirty||!r){r&&n.reset(),j9t(e,n);const i=e.batchMode;e.customShader||i==="no-batch"?n.isBatchable=!1:i==="auto"?n.isBatchable=n.geometryData.vertices.length<400:n.isBatchable=!0,e.dirty=!1}return n}getGpuContext(e){return e._gpuData[this._renderer.uid]||this._initContext(e)}_initContextRenderData(e){const r=ec.get(L9t,{maxTextures:this._renderer.limits.maxBatchableTextures}),n=e._gpuData[this._renderer.uid],{batches:i,geometryData:s}=n;n.graphicsData=r;const o=s.vertices.length,a=s.indices.length;for(let h=0;h<i.length;h++)i[h].applyTransform=!1;const l=r.batcher;l.ensureAttributeBuffer(o),l.ensureIndexBuffer(a),l.begin();for(let h=0;h<i.length;h++){const f=i[h];l.add(f)}l.finish(r.instructions);const c=l.geometry;c.indexBuffer.setDataWithSize(l.indexBuffer,l.indexSize,!0),c.buffers[0].setDataWithSize(l.attributeBuffer.float32View,l.attributeSize,!0);const u=l.batches;for(let h=0;h<u.length;h++){const f=u[h];f.bindGroup=AAt(f.textures.textures,f.textures.count,this._renderer.limits.maxBatchableTextures)}return r}_initContext(e){const r=new F9t;return r.context=e,e._gpuData[this._renderer.uid]=r,this._managedContexts.add(e),r}destroy(){this._managedContexts.destroy(),this._renderer=null}};BU.extension={type:[hn.WebGLSystem,hn.WebGPUSystem,hn.CanvasSystem],name:"graphicsContext"};BU.defaultOptions={bezierSmoothness:.5};let wbe=BU;const U9t=8,h4=11920929e-14,B9t=1;function bbe(t,e,r,n,i,s,o,a,l,c){const h=Math.min(.99,Math.max(0,c??wbe.defaultOptions.bezierSmoothness));let f=(B9t-h)/1;return f*=f,z9t(e,r,n,i,s,o,a,l,t,f),t}function z9t(t,e,r,n,i,s,o,a,l,c){Kj(t,e,r,n,i,s,o,a,l,c,0),l.push(o,a)}function Kj(t,e,r,n,i,s,o,a,l,c,u){if(u>U9t)return;const h=(t+r)/2,f=(e+n)/2,p=(r+i)/2,m=(n+s)/2,v=(i+o)/2,w=(s+a)/2,b=(h+p)/2,E=(f+m)/2,_=(p+v)/2,A=(m+w)/2,C=(b+_)/2,k=(E+A)/2;if(u>0){let P=o-t,F=a-e;const N=Math.abs((r-o)*F-(n-a)*P),$=Math.abs((i-o)*F-(s-a)*P);if(N>h4&&$>h4){if((N+$)*(N+$)<=c*(P*P+F*F)){l.push(C,k);return}}else if(N>h4){if(N*N<=c*(P*P+F*F)){l.push(C,k);return}}else if($>h4){if($*$<=c*(P*P+F*F)){l.push(C,k);return}}else if(P=C-(t+o)/2,F=k-(e+a)/2,P*P+F*F<=c){l.push(C,k);return}}Kj(t,e,h,f,b,E,C,k,l,c,u+1),Kj(C,k,_,A,v,w,o,a,l,c,u+1)}const q9t=8,W9t=11920929e-14,H9t=1;function V9t(t,e,r,n,i,s,o,a){const c=Math.min(.99,Math.max(0,a??wbe.defaultOptions.bezierSmoothness));let u=(H9t-c)/1;return u*=u,G9t(e,r,n,i,s,o,t,u),t}function G9t(t,e,r,n,i,s,o,a){Yj(o,t,e,r,n,i,s,a,0),o.push(i,s)}function Yj(t,e,r,n,i,s,o,a,l){if(l>q9t)return;const c=(e+n)/2,u=(r+i)/2,h=(n+s)/2,f=(i+o)/2,p=(c+h)/2,m=(u+f)/2;let v=s-e,w=o-r;const b=Math.abs((n-s)*w-(i-o)*v);if(b>W9t){if(b*b<=a*(v*v+w*w)){t.push(p,m);return}}else if(v=p-(e+s)/2,w=m-(r+o)/2,v*v+w*w<=a){t.push(p,m);return}Yj(t,e,r,c,u,p,m,a,l+1),Yj(t,p,m,h,f,s,o,a,l+1)}function xbe(t,e,r,n,i,s,o,a){let l=Math.abs(i-s);(!o&&i>s||o&&s>i)&&(l=2*Math.PI-l),a||(a=Math.max(6,Math.floor(6*Math.pow(n,1/3)*(l/Math.PI)))),a=Math.max(a,3);let c=l/a,u=i;c*=o?-1:1;for(let h=0;h<a+1;h++){const f=Math.cos(u),p=Math.sin(u),m=e+f*n,v=r+p*n;t.push(m,v),u+=c}}function K9t(t,e,r,n,i,s){const o=t[t.length-2],l=t[t.length-1]-r,c=o-e,u=i-r,h=n-e,f=Math.abs(l*h-c*u);if(f<1e-8||s===0){(t[t.length-2]!==e||t[t.length-1]!==r)&&t.push(e,r);return}const p=l*l+c*c,m=u*u+h*h,v=l*u+c*h,w=s*Math.sqrt(p)/f,b=s*Math.sqrt(m)/f,E=w*v/p,_=b*v/m,A=w*h+b*c,C=w*u+b*l,k=c*(b+E),P=l*(b+E),F=h*(w+_),N=u*(w+_),$=Math.atan2(P-C,k-A),U=Math.atan2(N-C,F-A);xbe(t,A+e,C+r,s,$,U,c*u>h*l)}const Ub=Math.PI*2,l$={centerX:0,centerY:0,ang1:0,ang2:0},c$=({x:t,y:e},r,n,i,s,o,a,l)=>{t*=r,e*=n;const c=i*t-s*e,u=s*t+i*e;return l.x=c+o,l.y=u+a,l};function Y9t(t,e){const r=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),n=e===1.5707963267948966?.551915024494:r,i=Math.cos(t),s=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[{x:i-s*n,y:s+i*n},{x:o+a*n,y:a-o*n},{x:o,y:a}]}const jne=(t,e,r,n)=>{const i=t*n-e*r<0?-1:1;let s=t*r+e*n;return s>1&&(s=1),s<-1&&(s=-1),i*Math.acos(s)},J9t=(t,e,r,n,i,s,o,a,l,c,u,h,f)=>{const p=Math.pow(i,2),m=Math.pow(s,2),v=Math.pow(u,2),w=Math.pow(h,2);let b=p*m-p*w-m*v;b<0&&(b=0),b/=p*w+m*v,b=Math.sqrt(b)*(o===a?-1:1);const E=b*i/s*h,_=b*-s/i*u,A=c*E-l*_+(t+r)/2,C=l*E+c*_+(e+n)/2,k=(u-E)/i,P=(h-_)/s,F=(-u-E)/i,N=(-h-_)/s,$=jne(1,0,k,P);let U=jne(k,P,F,N);a===0&&U>0&&(U-=Ub),a===1&&U<0&&(U+=Ub),f.centerX=A,f.centerY=C,f.ang1=$,f.ang2=U};function X9t(t,e,r,n,i,s,o,a=0,l=0,c=0){if(s===0||o===0)return;const u=Math.sin(a*Ub/360),h=Math.cos(a*Ub/360),f=h*(e-n)/2+u*(r-i)/2,p=-u*(e-n)/2+h*(r-i)/2;if(f===0&&p===0)return;s=Math.abs(s),o=Math.abs(o);const m=Math.pow(f,2)/Math.pow(s,2)+Math.pow(p,2)/Math.pow(o,2);m>1&&(s*=Math.sqrt(m),o*=Math.sqrt(m)),J9t(e,r,n,i,s,o,l,c,u,h,f,p,l$);let{ang1:v,ang2:w}=l$;const{centerX:b,centerY:E}=l$;let _=Math.abs(w)/(Ub/4);Math.abs(1-_)<1e-7&&(_=1);const A=Math.max(Math.ceil(_),1);w/=A;let C=t[t.length-2],k=t[t.length-1];const P={x:0,y:0};for(let F=0;F<A;F++){const N=Y9t(v,w),{x:$,y:U}=c$(N[0],s,o,h,u,b,E,P),{x:O,y:D}=c$(N[1],s,o,h,u,b,E,P),{x:T,y:I}=c$(N[2],s,o,h,u,b,E,P);bbe(t,C,k,$,U,O,D,T,I),C=T,k=I,v+=w}}function Q9t(t,e,r){const n=(o,a)=>{const l=a.x-o.x,c=a.y-o.y,u=Math.sqrt(l*l+c*c),h=l/u,f=c/u;return{len:u,nx:h,ny:f}},i=(o,a)=>{o===0?t.moveTo(a.x,a.y):t.lineTo(a.x,a.y)};let s=e[e.length-1];for(let o=0;o<e.length;o++){const a=e[o%e.length],l=a.radius??r;if(l<=0){i(o,a),s=a;continue}const c=e[(o+1)%e.length],u=n(a,s),h=n(a,c);if(u.len<1e-4||h.len<1e-4){i(o,a),s=a;continue}let f=Math.asin(u.nx*h.ny-u.ny*h.nx),p=1,m=!1;u.nx*h.nx-u.ny*-h.ny<0?f<0?f=Math.PI+f:(f=Math.PI-f,p=-1,m=!0):f>0&&(p=-1,m=!0);const v=f/2;let w,b=Math.abs(Math.cos(v)*l/Math.sin(v));b>Math.min(u.len/2,h.len/2)?(b=Math.min(u.len/2,h.len/2),w=Math.abs(b*Math.sin(v)/Math.cos(v))):w=l;const E=a.x+h.nx*b+-h.ny*w*p,_=a.y+h.ny*b+h.nx*w*p,A=Math.atan2(u.ny,u.nx)+Math.PI/2*p,C=Math.atan2(h.ny,h.nx)-Math.PI/2*p;o===0&&t.moveTo(E+Math.cos(A)*w,_+Math.sin(A)*w),t.arc(E,_,w,A,C,m),s=a}}function Z9t(t,e,r,n){const i=(a,l)=>Math.sqrt((a.x-l.x)**2+(a.y-l.y)**2),s=(a,l,c)=>({x:a.x+(l.x-a.x)*c,y:a.y+(l.y-a.y)*c}),o=e.length;for(let a=0;a<o;a++){const l=e[(a+1)%o],c=l.radius??r;if(c<=0){a===0?t.moveTo(l.x,l.y):t.lineTo(l.x,l.y);continue}const u=e[a],h=e[(a+2)%o],f=i(u,l);let p;if(f<1e-4)p=l;else{const w=Math.min(f/2,c);p=s(l,u,w/f)}const m=i(h,l);let v;if(m<1e-4)v=l;else{const w=Math.min(m/2,c);v=s(l,h,w/m)}a===0?t.moveTo(p.x,p.y):t.lineTo(p.x,p.y),t.quadraticCurveTo(l.x,l.y,v.x,v.y,n)}}const eTt=new ms;class tTt{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new du,this._graphicsPath2D=e,this.signed=e.checkForHoles}moveTo(e,r){return this.startPoly(e,r),this}lineTo(e,r){this._ensurePoly();const n=this._currentPoly.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}arc(e,r,n,i,s,o){this._ensurePoly(!1);const a=this._currentPoly.points;return xbe(a,e,r,n,i,s,o),this}arcTo(e,r,n,i,s){this._ensurePoly();const o=this._currentPoly.points;return K9t(o,e,r,n,i,s),this}arcToSvg(e,r,n,i,s,o,a){const l=this._currentPoly.points;return X9t(l,this._currentPoly.lastX,this._currentPoly.lastY,o,a,e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o,a){this._ensurePoly();const l=this._currentPoly;return bbe(this._currentPoly.points,l.lastX,l.lastY,e,r,n,i,s,o,a),this}quadraticCurveTo(e,r,n,i,s){this._ensurePoly();const o=this._currentPoly;return V9t(this._currentPoly.points,o.lastX,o.lastY,e,r,n,i,s),this}closePath(){return this.endPoly(!0),this}addPath(e,r){this.endPoly(),r&&!r.isIdentity()&&(e=e.clone(!0),e.transform(r));const n=this.shapePrimitives,i=n.length;for(let s=0;s<e.instructions.length;s++){const o=e.instructions[s];this[o.action](...o.data)}if(e.checkForHoles&&n.length-i>1){let s=null;for(let o=i;o<n.length;o++){const a=n[o];if(a.shape.type==="polygon"){const l=a.shape,c=s?.shape;c&&c.containsPolygon(l)?(s.holes||(s.holes=[]),s.holes.push(a),n.copyWithin(o,o+1),n.length--,o--):s=a}}}return this}finish(e=!1){this.endPoly(e)}rect(e,r,n,i,s){return this.drawShape(new ms(e,r,n,i),s),this}circle(e,r,n,i){return this.drawShape(new FU(e,r,n),i),this}poly(e,r,n){const i=new Fb(e);return i.closePath=r,this.drawShape(i,n),this}regularPoly(e,r,n,i,s=0,o){i=Math.max(i|0,3);const a=-1*Math.PI/2+s,l=Math.PI*2/i,c=[];for(let u=0;u<i;u++){const h=a-u*l;c.push(e+n*Math.cos(h),r+n*Math.sin(h))}return this.poly(c,!0,o),this}roundPoly(e,r,n,i,s,o=0,a){if(i=Math.max(i|0,3),s<=0)return this.regularPoly(e,r,n,i,o);const l=n*Math.sin(Math.PI/i)-.001;s=Math.min(s,l);const c=-1*Math.PI/2+o,u=Math.PI*2/i,h=(i-2)*Math.PI/i/2;for(let f=0;f<i;f++){const p=f*u+c,m=e+n*Math.cos(p),v=r+n*Math.sin(p),w=p+Math.PI+h,b=p-Math.PI-h,E=m+s*Math.cos(w),_=v+s*Math.sin(w),A=m+s*Math.cos(b),C=v+s*Math.sin(b);f===0?this.moveTo(E,_):this.lineTo(E,_),this.quadraticCurveTo(m,v,A,C,a)}return this.closePath()}roundShape(e,r,n=!1,i){return e.length<3?this:(n?Z9t(this,e,r,i):Q9t(this,e,r),this.closePath())}filletRect(e,r,n,i,s){if(s===0)return this.rect(e,r,n,i);const o=Math.min(n,i)/2,a=Math.min(o,Math.max(-o,s)),l=e+n,c=r+i,u=a<0?-a:0,h=Math.abs(a);return this.moveTo(e,r+h).arcTo(e+u,r+u,e+h,r,h).lineTo(l-h,r).arcTo(l-u,r+u,l,r+h,h).lineTo(l,c-h).arcTo(l-u,c-u,e+n-h,c,h).lineTo(e+h,c).arcTo(e+u,c-u,e,c-h,h).closePath()}chamferRect(e,r,n,i,s,o){if(s<=0)return this.rect(e,r,n,i);const a=Math.min(s,Math.min(n,i)/2),l=e+n,c=r+i,u=[e+a,r,l-a,r,l,r+a,l,c-a,l-a,c,e+a,c,e,c-a,e,r+a];for(let h=u.length-1;h>=2;h-=2)u[h]===u[h-2]&&u[h-1]===u[h-3]&&u.splice(h-1,2);return this.poly(u,!0,o)}ellipse(e,r,n,i,s){return this.drawShape(new LU(e,r,n,i),s),this}roundRect(e,r,n,i,s,o){return this.drawShape(new UU(e,r,n,i,s),o),this}drawShape(e,r){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:r}),this}startPoly(e,r){let n=this._currentPoly;return n&&this.endPoly(),n=new Fb,n.points.push(e,r),this._currentPoly=n,this}endPoly(e=!1){const r=this._currentPoly;return r&&r.points.length>2&&(r.closePath=e,this.shapePrimitives.push({shape:r})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new Fb,e)){const r=this.shapePrimitives[this.shapePrimitives.length-1];if(r){let n=r.shape.x,i=r.shape.y;if(r.transform&&!r.transform.isIdentity()){const s=r.transform,o=n;n=s.a*n+s.c*i+s.tx,i=s.b*o+s.d*i+s.ty}this._currentPoly.points.push(n,i)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let r=0;r<e.instructions.length;r++){const n=e.instructions[r];this[n.action](...n.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const r=this.shapePrimitives;for(let n=0;n<r.length;n++){const i=r[n],s=i.shape.getBounds(eTt);i.transform?e.addRect(s,i.transform):e.addRect(s)}return e}}class mh{constructor(e,r=!1){this.instructions=[],this.uid=xi("graphicsPath"),this._dirty=!0,this.checkForHoles=r,typeof e=="string"?CAt(e,this):this.instructions=e?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new tTt(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,r){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,r]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,r,n,i,s){const o=this.instructions[this.instructions.length-1],a=this.getLastPoint(ho.shared);let l=0,c=0;if(!o||o.action!=="bezierCurveTo")l=a.x,c=a.y;else{l=o.data[2],c=o.data[3];const u=a.x,h=a.y;l=u+(u-l),c=h+(h-c)}return this.instructions.push({action:"bezierCurveTo",data:[l,c,e,r,n,i,s]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,r,n){const i=this.instructions[this.instructions.length-1],s=this.getLastPoint(ho.shared);let o=0,a=0;if(!i||i.action!=="quadraticCurveTo")o=s.x,a=s.y;else{o=i.data[0],a=i.data[1];const l=s.x,c=s.y;o=l+(l-o),a=c+(c-a)}return this.instructions.push({action:"quadraticCurveTo",data:[o,a,e,r,n]}),this._dirty=!0,this}rect(e,r,n,i,s){return this.instructions.push({action:"rect",data:[e,r,n,i,s]}),this._dirty=!0,this}circle(e,r,n,i){return this.instructions.push({action:"circle",data:[e,r,n,i]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,r,n,i,s,o,a){s||(s=i/2);const l=-1*Math.PI/2+o,c=n*2,u=Math.PI*2/c,h=[];for(let f=0;f<c;f++){const p=f%2?s:i,m=f*u+l;h.push(e+p*Math.cos(m),r+p*Math.sin(m))}return this.poly(h,!0,a),this}clone(e=!1){const r=new mh;if(r.checkForHoles=this.checkForHoles,!e)r.instructions=this.instructions.slice();else for(let n=0;n<this.instructions.length;n++){const i=this.instructions[n];r.instructions.push({action:i.action,data:i.data.slice()})}return r}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty;let l=0,c=0,u=0,h=0,f=0,p=0,m=0,v=0;for(let w=0;w<this.instructions.length;w++){const b=this.instructions[w],E=b.data;switch(b.action){case"moveTo":case"lineTo":l=E[0],c=E[1],E[0]=r*l+i*c+o,E[1]=n*l+s*c+a;break;case"bezierCurveTo":u=E[0],h=E[1],f=E[2],p=E[3],l=E[4],c=E[5],E[0]=r*u+i*h+o,E[1]=n*u+s*h+a,E[2]=r*f+i*p+o,E[3]=n*f+s*p+a,E[4]=r*l+i*c+o,E[5]=n*l+s*c+a;break;case"quadraticCurveTo":u=E[0],h=E[1],l=E[2],c=E[3],E[0]=r*u+i*h+o,E[1]=n*u+s*h+a,E[2]=r*l+i*c+o,E[3]=n*l+s*c+a;break;case"arcToSvg":l=E[5],c=E[6],m=E[0],v=E[1],E[0]=r*m+i*v,E[1]=n*m+s*v,E[5]=r*l+i*c+o,E[6]=n*l+s*c+a;break;case"circle":E[4]=jw(E[3],e);break;case"rect":E[4]=jw(E[4],e);break;case"ellipse":E[8]=jw(E[8],e);break;case"roundRect":E[5]=jw(E[5],e);break;case"addPath":E[0].transform(e);break;case"poly":E[2]=jw(E[2],e);break;default:Ja("unknown transform action",b.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let r=this.instructions.length-1,n=this.instructions[r];if(!n)return e.x=0,e.y=0,e;for(;n.action==="closePath";){if(r--,r<0)return e.x=0,e.y=0,e;n=this.instructions[r]}switch(n.action){case"moveTo":case"lineTo":e.x=n.data[0],e.y=n.data[1];break;case"quadraticCurveTo":e.x=n.data[2],e.y=n.data[3];break;case"bezierCurveTo":e.x=n.data[4],e.y=n.data[5];break;case"arc":case"arcToSvg":e.x=n.data[5],e.y=n.data[6];break;case"addPath":n.data[0].getLastPoint(e);break}return e}}function jw(t,e){return t?t.prepend(e):e.clone()}function ri(t,e,r){const n=t.getAttribute(e);return n?Number(n):r}function rTt(t,e){const r=t.querySelectorAll("defs");for(let n=0;n<r.length;n++){const i=r[n];for(let s=0;s<i.children.length;s++){const o=i.children[s];switch(o.nodeName.toLowerCase()){case"lineargradient":e.defs[o.id]=nTt(o);break;case"radialgradient":e.defs[o.id]=iTt();break}}}}function nTt(t){const e=ri(t,"x1",0),r=ri(t,"y1",0),n=ri(t,"x2",1),i=ri(t,"y2",0),s=t.getAttribute("gradientUnits")||"objectBoundingBox",o=new M3(e,r,n,i,s==="objectBoundingBox"?"local":"global");for(let a=0;a<t.children.length;a++){const l=t.children[a],c=ri(l,"offset",0),u=zl.shared.setValue(l.getAttribute("stop-color")).toNumber();o.addColorStop(c,u)}return o}function iTt(t){return Ja("[SVG Parser] Radial gradients are not yet supported"),new M3(0,0,1,0)}function Mne(t){const e=t.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const Dne={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function _be(t,e){const r=t.getAttribute("style"),n={},i={},s={strokeStyle:n,fillStyle:i,useFill:!1,useStroke:!1};for(const o in Dne){const a=t.getAttribute(o);a&&Fne(e,s,o,a.trim())}if(r){const o=r.split(";");for(let a=0;a<o.length;a++){const l=o[a].trim(),[c,u]=l.split(":");Dne[c]&&Fne(e,s,c,u.trim())}}return{strokeStyle:s.useStroke?n:null,fillStyle:s.useFill?i:null,useFill:s.useFill,useStroke:s.useStroke}}function Fne(t,e,r,n){switch(r){case"stroke":if(n!=="none"){if(n.startsWith("url(")){const i=Mne(n);e.strokeStyle.fill=t.defs[i]}else e.strokeStyle.color=zl.shared.setValue(n).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(n);break;case"fill":if(n!=="none"){if(n.startsWith("url(")){const i=Mne(n);e.fillStyle.fill=t.defs[i]}else e.fillStyle.color=zl.shared.setValue(n).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(n);break;case"stroke-opacity":e.strokeStyle.alpha=Number(n);break;case"opacity":e.fillStyle.alpha=Number(n),e.strokeStyle.alpha=Number(n);break}}function sTt(t){if(t.length<=2)return!0;const e=t.map(a=>a.area).sort((a,l)=>l-a),[r,n]=e,i=e[e.length-1],s=r/n,o=n/i;return!(s>3&&o<2)}function oTt(t){return t.split(/(?=[Mm])/).filter(n=>n.trim().length>0)}function aTt(t){const e=t.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!e||e.length<4)return 0;const r=e.map(Number),n=[],i=[];for(let u=0;u<r.length;u+=2)u+1<r.length&&(n.push(r[u]),i.push(r[u+1]));if(n.length===0||i.length===0)return 0;const s=Math.min(...n),o=Math.max(...n),a=Math.min(...i),l=Math.max(...i);return(o-s)*(l-a)}function Lne(t,e){const r=new mh(t,!1);for(const n of r.instructions)e.instructions.push(n)}function lTt(t,e){if(typeof t=="string"){const o=document.createElement("div");o.innerHTML=t.trim(),t=o.querySelector("svg")}const r={context:e,defs:{},path:new mh};rTt(t,r);const n=t.children,{fillStyle:i,strokeStyle:s}=_be(t,r);for(let o=0;o<n.length;o++){const a=n[o];a.nodeName.toLowerCase()!=="defs"&&Cbe(a,r,i,s)}return e}function Cbe(t,e,r,n){const i=t.children,{fillStyle:s,strokeStyle:o}=_be(t,e);s&&r?r={...r,...s}:s&&(r=s),o&&n?n={...n,...o}:o&&(n=o);const a=!r&&!n;a&&(r={color:0});let l,c,u,h,f,p,m,v,w,b,E,_,A,C,k,P,F;switch(t.nodeName.toLowerCase()){case"path":{C=t.getAttribute("d");const N=t.getAttribute("fill-rule"),$=oTt(C),U=N==="evenodd",O=$.length>1;if(U&&O){const T=$.map(R=>({path:R,area:aTt(R)}));if(T.sort((R,L)=>L.area-R.area),$.length>3||!sTt(T))for(let R=0;R<T.length;R++){const L=T[R],B=R===0;e.context.beginPath();const q=new mh(void 0,!0);Lne(L.path,q),e.context.path(q),B?(r&&e.context.fill(r),n&&e.context.stroke(n)):e.context.cut()}else for(let R=0;R<T.length;R++){const L=T[R],B=R%2===1;e.context.beginPath();const q=new mh(void 0,!0);Lne(L.path,q),e.context.path(q),B?e.context.cut():(r&&e.context.fill(r),n&&e.context.stroke(n))}}else{const T=N?N==="evenodd":!0;k=new mh(C,T),e.context.path(k),r&&e.context.fill(r),n&&e.context.stroke(n)}break}case"circle":m=ri(t,"cx",0),v=ri(t,"cy",0),w=ri(t,"r",0),e.context.ellipse(m,v,w,w),r&&e.context.fill(r),n&&e.context.stroke(n);break;case"rect":l=ri(t,"x",0),c=ri(t,"y",0),P=ri(t,"width",0),F=ri(t,"height",0),b=ri(t,"rx",0),E=ri(t,"ry",0),b||E?e.context.roundRect(l,c,P,F,b||E):e.context.rect(l,c,P,F),r&&e.context.fill(r),n&&e.context.stroke(n);break;case"ellipse":m=ri(t,"cx",0),v=ri(t,"cy",0),b=ri(t,"rx",0),E=ri(t,"ry",0),e.context.beginPath(),e.context.ellipse(m,v,b,E),r&&e.context.fill(r),n&&e.context.stroke(n);break;case"line":u=ri(t,"x1",0),h=ri(t,"y1",0),f=ri(t,"x2",0),p=ri(t,"y2",0),e.context.beginPath(),e.context.moveTo(u,h),e.context.lineTo(f,p),n&&e.context.stroke(n);break;case"polygon":A=t.getAttribute("points"),_=A.match(/-?\d+/g).map(N=>parseInt(N,10)),e.context.poly(_,!0),r&&e.context.fill(r),n&&e.context.stroke(n);break;case"polyline":A=t.getAttribute("points"),_=A.match(/-?\d+/g).map(N=>parseInt(N,10)),e.context.poly(_,!1),n&&e.context.stroke(n);break;case"g":case"svg":break;default:{Ja(`[SVG parser] <${t.nodeName}> elements unsupported`);break}}a&&(r=null);for(let N=0;N<i.length;N++)Cbe(i[N],e,r,n)}function cTt(t){return zl.isColorLike(t)}function Une(t){return t instanceof wAt}function Bne(t){return t instanceof M3}function uTt(t){return t instanceof Sn}function dTt(t,e,r){const n=zl.shared.setValue(e??0);return t.color=n.toNumber(),t.alpha=n.alpha===1?r.alpha:n.alpha,t.texture=Sn.WHITE,{...r,...t}}function hTt(t,e,r){return t.texture=e,{...r,...t}}function zne(t,e,r){return t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...r,...t}}function qne(t,e,r){return e.buildGradient(),t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,t.textureSpace=e.textureSpace,{...r,...t}}function fTt(t,e){const r={...e,...t},n=zl.shared.setValue(r.color);return r.alpha*=n.alpha,r.color=n.toNumber(),r}function ob(t,e){if(t==null)return null;const r={},n=t;return cTt(t)?dTt(r,t,e):uTt(t)?hTt(r,t,e):Une(t)?zne(r,t,e):Bne(t)?qne(r,t,e):n.fill&&Une(n.fill)?zne(n,n.fill,e):n.fill&&Bne(n.fill)?qne(n,n.fill,e):fTt(n,e)}function Wne(t,e){const{width:r,alignment:n,miterLimit:i,cap:s,join:o,pixelLine:a,...l}=e,c=ob(t,l);return c?{width:r,alignment:n,miterLimit:i,cap:s,join:o,pixelLine:a,...c}:null}const pTt=new ho,Hne=new Br,zU=class qu extends mo{constructor(){super(...arguments),this._gpuData=Object.create(null),this.autoGarbageCollect=!0,this._gcLastUsed=-1,this.uid=xi("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this.destroyed=!1,this._activePath=new mh,this._transform=new Br,this._fillStyle={...qu.defaultFillStyle},this._strokeStyle={...qu.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new du,this._boundsDirty=!0}clone(){const e=new qu;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=ob(e,qu.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=Wne(e,qu.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=ob(e,qu.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=ob(e,qu.defaultStrokeStyle),this}texture(e,r,n,i,s,o){return this.instructions.push({action:"texture",data:{image:e,dx:n||0,dy:i||0,dw:s||e.frame.width,dh:o||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:r?zl.shared.setValue(r).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new mh,this}fill(e,r){let n;const i=this.instructions[this.instructions.length-1];return this._tick===0&&i?.action==="stroke"?n=i.data.path:n=this._activePath.clone(),n?(e!=null&&(r!==void 0&&typeof e=="number"&&(mn(Vi,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:r}),this._fillStyle=ob(e,qu.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:r}=this._activePath.getLastPoint(ho.shared);this._activePath.clear(),this._activePath.moveTo(e,r)}stroke(e){let r;const n=this.instructions[this.instructions.length-1];return this._tick===0&&n?.action==="fill"?r=n.data.path:r=this._activePath.clone(),r?(e!=null&&(this._strokeStyle=Wne(e,qu.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const r=this.instructions[this.instructions.length-1-e],n=this._activePath.clone();if(r&&(r.action==="stroke"||r.action==="fill"))if(r.data.hole)r.data.hole.addPath(n);else{r.data.hole=n;break}}return this._initNextPathLocation(),this}arc(e,r,n,i,s,o){this._tick++;const a=this._transform;return this._activePath.arc(a.a*e+a.c*r+a.tx,a.b*e+a.d*r+a.ty,n,i,s,o),this}arcTo(e,r,n,i,s){this._tick++;const o=this._transform;return this._activePath.arcTo(o.a*e+o.c*r+o.tx,o.b*e+o.d*r+o.ty,o.a*n+o.c*i+o.tx,o.b*n+o.d*i+o.ty,s),this}arcToSvg(e,r,n,i,s,o,a){this._tick++;const l=this._transform;return this._activePath.arcToSvg(e,r,n,i,s,l.a*o+l.c*a+l.tx,l.b*o+l.d*a+l.ty),this}bezierCurveTo(e,r,n,i,s,o,a){this._tick++;const l=this._transform;return this._activePath.bezierCurveTo(l.a*e+l.c*r+l.tx,l.b*e+l.d*r+l.ty,l.a*n+l.c*i+l.tx,l.b*n+l.d*i+l.ty,l.a*s+l.c*o+l.tx,l.b*s+l.d*o+l.ty,a),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(e,r,n,i){return this._tick++,this._activePath.ellipse(e,r,n,i,this._transform.clone()),this}circle(e,r,n){return this._tick++,this._activePath.circle(e,r,n,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,r){this._tick++;const n=this._transform;return this._activePath.lineTo(n.a*e+n.c*r+n.tx,n.b*e+n.d*r+n.ty),this}moveTo(e,r){this._tick++;const n=this._transform,i=this._activePath.instructions,s=n.a*e+n.c*r+n.tx,o=n.b*e+n.d*r+n.ty;return i.length===1&&i[0].action==="moveTo"?(i[0].data[0]=s,i[0].data[1]=o,this):(this._activePath.moveTo(s,o),this)}quadraticCurveTo(e,r,n,i,s){this._tick++;const o=this._transform;return this._activePath.quadraticCurveTo(o.a*e+o.c*r+o.tx,o.b*e+o.d*r+o.ty,o.a*n+o.c*i+o.tx,o.b*n+o.d*i+o.ty,s),this}rect(e,r,n,i){return this._tick++,this._activePath.rect(e,r,n,i,this._transform.clone()),this}roundRect(e,r,n,i,s){return this._tick++,this._activePath.roundRect(e,r,n,i,s,this._transform.clone()),this}poly(e,r){return this._tick++,this._activePath.poly(e,r,this._transform.clone()),this}regularPoly(e,r,n,i,s=0,o){return this._tick++,this._activePath.regularPoly(e,r,n,i,s,o),this}roundPoly(e,r,n,i,s,o){return this._tick++,this._activePath.roundPoly(e,r,n,i,s,o),this}roundShape(e,r,n,i){return this._tick++,this._activePath.roundShape(e,r,n,i),this}filletRect(e,r,n,i,s){return this._tick++,this._activePath.filletRect(e,r,n,i,s),this}chamferRect(e,r,n,i,s,o){return this._tick++,this._activePath.chamferRect(e,r,n,i,s,o),this}star(e,r,n,i,s=0,o=0){return this._tick++,this._activePath.star(e,r,n,i,s,o,this._transform.clone()),this}svg(e){return this._tick++,lTt(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,r=e){return this._transform.scale(e,r),this}setTransform(e,r,n,i,s,o){return e instanceof Br?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,r,n,i,s,o),this)}transform(e,r,n,i,s,o){return e instanceof Br?(this._transform.append(e),this):(Hne.set(e,r,n,i,s,o),this._transform.append(Hne),this)}translate(e,r=e){return this._transform.translate(e,r),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this._boundsDirty=!0,!this.dirty&&(this.emit("update",this,16),this.dirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const e=this._bounds;e.clear();for(let r=0;r<this.instructions.length;r++){const n=this.instructions[r],i=n.action;if(i==="fill"){const s=n.data;e.addBounds(s.path.bounds)}else if(i==="texture"){const s=n.data;e.addFrame(s.dx,s.dy,s.dx+s.dw,s.dy+s.dh,s.transform)}if(i==="stroke"){const s=n.data,o=s.style.alignment,a=s.style.width*(1-o),l=s.path.bounds;e.addFrame(l.minX-a,l.minY-a,l.maxX+a,l.maxY+a)}}return e}containsPoint(e){if(!this.bounds.containsPoint(e.x,e.y))return!1;const r=this.instructions;let n=!1;for(let i=0;i<r.length;i++){const s=r[i],o=s.data,a=o.path;if(!s.action||!a)continue;const l=o.style,c=a.shapePath.shapePrimitives;for(let u=0;u<c.length;u++){const h=c[u].shape;if(!l||!h)continue;const f=c[u].transform,p=f?f.applyInverse(e,pTt):e;if(s.action==="fill")n=h.contains(p.x,p.y);else{const v=l;n=h.strokeContains(p.x,p.y,v.width,v.alignment)}const m=o.hole;if(m){const v=m.shapePath?.shapePrimitives;if(v)for(let w=0;w<v.length;w++)v[w].shape.contains(p.x,p.y)&&(n=!1)}if(n)return!0}}return n}unload(){this.emit("unload",this);for(const e in this._gpuData)this._gpuData[e]?.destroy();this._gpuData=Object.create(null)}destroy(e=!1){if(this.destroyed)return;if(this.destroyed=!0,this._stateStack.length=0,this._transform=null,this.unload(),this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e?.texture){const n=typeof e=="boolean"?e:e?.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(n)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(n))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};zU.defaultFillStyle={color:16777215,alpha:1,texture:Sn.WHITE,matrix:null,fill:null,textureSpace:"local"};zU.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Sn.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Mw=zU;class ih extends Swe{constructor(e){e instanceof Mw&&(e={context:e});const{context:r,roundPixels:n,...i}=e||{};super({label:"Graphics",...i}),this.renderPipeId="graphics",r?this.context=r:(this.context=this._ownedContext=new Mw,this.context.autoGarbageCollect=this.autoGarbageCollect),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=n??!1}set context(e){e!==this._context&&(this._context&&(this._context.off("update",this.onViewUpdate,this),this._context.off("unload",this.unload,this)),this._context=e,this._context.on("update",this.onViewUpdate,this),this._context.on("unload",this.unload,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||e?.context===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_onTouch(e){this._gcLastUsed=e,this._context._gcLastUsed=e}_callContextMethod(e,r){return this.context[e](...r),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new ih(this._context.clone()):(this._ownedContext=null,new ih(this._context))}lineStyle(e,r,n){mn(Vi,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const i={};return e&&(i.width=e),r&&(i.color=r),n&&(i.alpha=n),this.context.strokeStyle=i,this}beginFill(e,r){mn(Vi,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const n={};return e!==void 0&&(n.color=e),r!==void 0&&(n.alpha=r),this.context.fillStyle=n,this}endFill(){mn(Vi,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==Mw.defaultStrokeStyle.width||e.color!==Mw.defaultStrokeStyle.color||e.alpha!==Mw.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return mn(Vi,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return mn(Vi,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return mn(Vi,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return mn(Vi,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return mn(Vi,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return mn(Vi,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}pc.add(Ckt,Ekt);const Qu=9,Vne=3,gTt={id:"",market:"",side:"long",size:0,entryPrice:0,markPrice:0,liquidationPrice:0,unrealizedPnl:0,realizedPnl:0,leverage:0,timestamp:0,positionValue:0},Ebe="positionsGrid.slotArray.v1";function Gne(t){if(!(typeof window>"u"))try{window.localStorage.setItem(Ebe,JSON.stringify(t))}catch{}}function mTt(){if(typeof window>"u")return Array(Qu).fill("");try{const t=window.localStorage.getItem(Ebe),e=t?JSON.parse(t):null;if(!Array.isArray(e))return Array(Qu).fill("");const r=Array(Qu).fill("");for(let n=0;n<Math.min(Qu,e.length);n++)r[n]=typeof e[n]=="string"?e[n]:"";return r}catch{return Array(Qu).fill("")}}function yTt(t,e){const r=Array(Qu).fill(""),n=new Set(e.map(s=>s.id).filter(Boolean)),i=new Set;for(let s=0;s<Qu;s++){const o=t?.[s]??"";o&&n.has(o)&&!i.has(o)&&(r[s]=o,i.add(o))}for(const s of e){if(!s.id||i.has(s.id))continue;const o=r.findIndex(a=>a==="");if(o===-1)break;r[o]=s.id,i.add(s.id)}return r}function vTt(t,e){const r=new Map;for(const i of t)i.id&&r.set(i.id,i);const n=Array(Qu).fill(gTt);for(let i=0;i<Qu;i++){const s=e[i],o=s?r.get(s):void 0;o&&(n[i]=o)}return n}function wTt(t,e){const r=[];for(let n=0;n<t.length;n+=e)r.push(t.slice(n,n+e));return r}function bTt({index:t,children:e}){const{setNodeRef:r,isOver:n}=hkt({id:`slot-${t}`}),{theme:i}=Dr();return d.jsx("div",{ref:r,className:n?i==="light"?"ring-2 ring-black/40 rounded-md":"ring-2 ring-white/40 rounded-md":void 0,children:e})}function xTt({position:t,children:e}){const r=!t.id,{attributes:n,listeners:i,setNodeRef:s,transform:o,isDragging:a}=ckt({id:t.id||"disabled",disabled:r}),l={transform:o?Ij.Translate.toString(o):void 0,opacity:a?.6:void 0,cursor:r?"default":"grab",touchAction:"none"};return d.jsx("div",{ref:s,style:l,...r?void 0:n,...r?void 0:i,children:e})}function kbe({closeMode:t=!1,onClosePosition:e}){const{positions:r}=dc(),[n,i]=x.useState(()=>mTt()),[s,o]=x.useState("");x.useEffect(()=>{t&&o("")},[t]),x.useEffect(()=>{i(p=>{if(r.length==0)return p;const m=yTt(p,r);return(p.length!==m.length||p.some((w,b)=>w!==m[b]))&&Gne(m),m})},[r]);const a=x.useMemo(()=>vTt(r,n),[r,n]),l=x.useMemo(()=>wTt(a,Vne),[a]),c=i8t(n8t(NU,{activationConstraint:{distance:6}})),u=p=>{const m=String(p.active.id),v=p.over?.id?String(p.over.id):null;if(!v||!v.startsWith("slot-"))return;const w=Number(v.replace("slot-",""));if(!Number.isFinite(w)||w<0||w>=Qu)return;const b=n.findIndex(_=>_===m);if(b<0||b===w)return;const E=[...n];[E[b],E[w]]=[E[w],E[b]],i(E),Gne(E)},h=p=>{t?f(p):o(p.id==s?"":p.id)},f=p=>{!p.id||p.size<=0||(o(""),e?.(p.id))};return d.jsx(okt,{sensors:c,onDragEnd:u,children:d.jsx("div",{className:`flex flex-col gap-1 items-center ${PSt?"":"w-[188px]"}`,children:l.map((p,m)=>d.jsx("div",{className:"flex gap-1",children:p.map((v,w)=>{const b=m*Vne+w,E=!!(t&&v.id&&v.size>0);return d.jsx(bTt,{index:b,children:d.jsx(xTt,{position:v,children:d.jsxs("div",{className:"relative",children:[d.jsx(_kt,{position:v,isHighlighted:E?!0:void 0,onClick:()=>h(v),onDoubleClick:()=>f(v)},v.id||`empty-${b}`),v.id==s&&s!==""&&d.jsx("div",{className:`absolute \r
                          top-0 right-0\r
                          px-1 py-[3px]\r
                          rounded-md\r
                          bg-black/50                \r
                          border border-white/50  \r
                          backdrop-blur-sm\r
                          z-50\r
                          flex items-center justify-center\r
                          hover:bg-black/70\r
                          transition-all`,children:d.jsx("button",{className:"text-white text-xs font-medium",onClick:()=>f(v),children:"Close"})})]})})},`slot-${b}`)})},m))})})}function Sbe({keyboardKey:t,label:e,icon:r,onClick:n,disabled:i=!1,isActiveAction:s=!1,theme:o}){const{isMobile:a}=wo();return a?d.jsxs("button",{type:"button",className:`slot ${i?"opacity-50 cursor-not-allowed":""} ${i&&s?"border-flow":""}`,onClick:i?void 0:n,disabled:i,"aria-disabled":i,"aria-label":`${e}`,children:[d.jsx("div",{className:"icon-mobile","aria-hidden":"true",children:r}),d.jsx("div",{className:"cooldown","aria-hidden":"true"})]}):d.jsxs("button",{type:"button",className:`slot slot-desktop ${i?"opacity-50 cursor-not-allowed":""} ${i&&s?"border-flow":""}`,onClick:i?void 0:n,disabled:i,"aria-disabled":i,"aria-label":`${e} (${t})`,style:o==="light"?{background:"#fff",border:"1px solid #50D2C1",boxShadow:"0 2px 8px rgba(80,210,193,0.08)",color:"#222",transition:"box-shadow 0.2s"}:{},onMouseOver:o==="light"?l=>{l.currentTarget.style.boxShadow="0 4px 16px rgba(80,210,193,0.16)"}:void 0,onMouseOut:o==="light"?l=>{l.currentTarget.style.boxShadow="0 2px 8px rgba(80,210,193,0.08)"}:void 0,children:[d.jsx("div",{className:"kbd",style:o==="light"?{color:"#134e4a"}:{},children:t}),d.jsx("div",{className:"icon","aria-hidden":"true",children:e==="Close One"&&o==="light"?d.jsx(Nve,{width:"100%",height:"100%",color:"#000"}):e==="Close All"&&o==="light"?d.jsx($ve,{width:"100%",height:"100%",color:"#000"}):r}),d.jsx("div",{className:"label",style:o==="light"?{color:"#222"}:{},children:e}),d.jsx("div",{className:"cooldown","aria-hidden":"true"})]})}const _Tt="/assets/avatar-BzARxwZr.png",CTt=(t,e=256)=>new Promise((r,n)=>{const i=new FileReader;i.onerror=()=>n(new Error("Failed to read file")),i.onload=()=>{const s=new Image;s.onerror=()=>n(new Error("Invalid image")),s.onload=()=>{const o=s.width,a=s.height,l=Math.min(1,e/Math.max(o,a)),c=Math.max(1,Math.round(o*l)),u=Math.max(1,Math.round(a*l)),h=document.createElement("canvas");h.width=c,h.height=u;const f=h.getContext("2d");if(!f)return n(new Error("Canvas not supported"));f.imageSmoothingEnabled=!0,f.imageSmoothingQuality="high",f.drawImage(s,0,0,c,u);let p;try{p=h.toDataURL("image/webp",.9),p.startsWith("data:image/webp")||(p=h.toDataURL("image/png"))}catch{p=h.toDataURL("image/png")}r(p)},s.src=String(i.result)},i.readAsDataURL(t)}),ETt=t=>t>=1e6?new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:2}).format(t):Hn(t),Abe=[{key:"Q",action:"openLong",label:"Open Long",icon:d.jsx(fEt,{width:"100%",height:"100%",color:"rgba(45,212,191,.95)"})},{key:"W",action:"openShort",label:"Open Short",icon:d.jsx(dEt,{width:"100%",height:"100%",color:"rgba(251,113,133,.95)"})},{key:"E",action:"closeOne",label:"Close One",icon:d.jsx(Nve,{width:"100%",height:"100%"})},{key:"R",action:"closeAll",label:"Close All",icon:d.jsx($ve,{width:"100%",height:"100%"})}];function kTt(){const{address:t,isConnected:e}=Pn(),{network:r}=fn(),{bottomBarEnabled:n,hotkeySettingEnabled:i}=wo(),{theme:s}=Dr(),{toast:o,isOperating:a,opAction:l,closeMode:c,openLong:u,openShort:h,closePosition:f,closeAllPositions:p,toggleCloseMode:m}=N3({toastPosition:"bottom"}),v=x.useRef(null),w=_Tt,b="hyperui:avatar",[E,_]=x.useState(w),{data:A}=fs(r_t(t||"",r)),C=A?.freeCollateral??0;x.useEffect(()=>{try{const $=window.localStorage.getItem(b);_($||w)}catch{_(w)}},[t]);const k=()=>v.current?.click(),P=()=>{try{window.localStorage.removeItem(b)}catch{}_(w),o.info("Avatar reset")},F=async $=>{const U=$.target.files?.[0];if(U){if(!U.type.startsWith("image/")){o.error("Please select an image file");return}if(U.size>5*1024*1024){o.error("Image is too large (max 5MB)");return}try{const O=await CTt(U,256);if(O.length>15e5){o.error("Image is too large after processing. Try a smaller image.");return}window.localStorage.setItem(b,O),_(O),o.success("Avatar updated")}catch(O){o.error(O?.message||"Failed to update avatar")}}},N=$=>{if(K1e({openLong:"Open Long",openShort:"Open Short",closeOne:"Close One",closeAll:"Close All"}[$]),a){o.info(`Please wait (${l??"operation"} in progress)`);return}switch($){case"openLong":u();break;case"openShort":h();break;case"closeOne":m();break;case"closeAll":p();break}};return BEt(i,N),n?d.jsx("div",{className:"fixed bottom-0",style:{left:"calc(50% - 400px)",width:"800px"},children:d.jsx("div",{className:"py-1 flex flex-col gap-3 overflow-hidden bg-panel-gradient",style:{minHeight:"180px"},children:d.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[d.jsx("div",{className:"flex items-center gap-3 min-w-[180px]",children:d.jsxs("div",{className:`relative w-[180px] h-[180px] rounded-sm overflow-hidden border ${s==="light"?"border-black/10":"border-white/10"}`,children:[e&&t&&d.jsxs("div",{className:`h-[28px] px-2 flex items-center justify-between gap-2 border-b ${s==="light"?"bg-white/90 border-black/10 text-[#134e4a]":"bg-black/60 border-white/10 text-muted"}`,children:[d.jsx("span",{className:"text-[11px] flex-none whitespace-nowrap",children:"Spot Balance:"}),d.jsxs("span",{className:"text-[11px] tabular-nums flex-1 min-w-0 text-right whitespace-nowrap overflow-hidden text-ellipsis",title:`${C.toLocaleString()} USDC`,children:[ETt(C)," USDC"]})]}),d.jsxs("div",{className:"relative flex-1 overflow-hidden",children:[d.jsx("img",{src:E,alt:"User avatar",className:"w-full h-full object-cover"}),d.jsx("input",{ref:v,type:"file",accept:"image/*",className:"hidden",onChange:F}),d.jsxs("div",{className:"absolute top-0 right-0 flex items-center gap-2",children:[d.jsx("button",{type:"button",onClick:k,className:"w-8 h-8 rounded-md border border-white/10 bg-black/40 hover:bg-white/10 transition flex items-center justify-center backdrop-blur-sm",title:"Change avatar","aria-label":"Change avatar",disabled:a,children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",className:"text-white/70",children:[d.jsx("path",{d:"M4 7a2 2 0 0 1 2-2h3l1-1h4l1 1h3a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V7Z",stroke:"currentColor",strokeWidth:"2",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 17a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z",stroke:"currentColor",strokeWidth:"2"})]})}),d.jsx("button",{type:"button",onClick:P,className:"w-8 h-8 rounded-md border border-white/10 bg-black/40 hover:bg-white/10 transition flex items-center justify-center backdrop-blur-sm",title:"Reset avatar","aria-label":"Reset avatar",disabled:a,children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",className:"text-white/70",children:[d.jsx("path",{d:"M21 12a9 9 0 1 1-3-6.7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),d.jsx("path",{d:"M21 3v6h-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})]}),e&&t&&d.jsxs("div",{className:`absolute bottom-2 left-2 right-2 flex items-center gap-2 rounded-lg p-2 border backdrop-blur-sm ${s==="light"?"bg-white/90 border-[#50D2C1]":"bg-black/90 border-stroke/60"}`,children:[d.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-sm ${s==="light"?"bg-[#e0f7fa] text-[#134e4a]":"bg-accent/16"}`,children:""}),d.jsx("span",{className:`text-xs truncate ${s==="light"?"text-[#134e4a]":"text-muted"}`,children:Zf(t)})]})]})}),d.jsxs("div",{className:"flex flex-col gap-3",children:[d.jsx("div",{className:"flex items-center gap-2",children:Abe.map($=>d.jsx(Sbe,{keyboardKey:$.key,label:$.label,icon:$.icon,onClick:()=>N($.action),disabled:a,isActiveAction:l===$.action,theme:s},$.key))}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx(Wve,{}),d.jsx(qve,{})]})]}),d.jsx("div",{className:"flex-1 overflow-hidden min-w-0",children:d.jsx(kbe,{closeMode:c,onClosePosition:f})})]})})}):null}function STt({isOpen:t,onClose:e,children:r}){const n=x.useRef(null);return Wy(n,e),x.useEffect(()=>(document.body.style.overflow=t?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[t]),t?d.jsxs("div",{className:"fixed inset-0 z-50",children:[d.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),d.jsx("div",{className:"absolute left-1/2 top-20 -translate-x-1/2",children:d.jsx("div",{ref:n,className:`
            w-[1000px] max-w-[95vw]
            bg-[rgba(8,10,12,0.88)]
            animate-in fade-in slide-in-from-top-2 duration-150
          `,children:r})})]}):null}function Tbe({open:t,onClose:e,title:r,children:n,showEscHint:i=!0}){const{theme:s}=Dr(),o=x.useRef(null);if(x.useEffect(()=>{if(!t)return;const l=c=>{c.key==="Escape"&&(c.preventDefault(),c.stopPropagation(),e())};return window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l)}},[t,e]),x.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),!t)return null;const a=d.jsxs("div",{ref:o,className:"fixed inset-0 z-[9999] flex flex-col",style:{background:"rgba(4, 5, 6, 0.98)",backdropFilter:"blur(8px)"},onClick:l=>{l.stopPropagation()},children:[d.jsxs("div",{className:`${s==="light"?"border-black/10 bg-[#FAFAFA]":"border-white/10 bg-[#040404]"} px-6 py-4 border-b flex items-center justify-between`,children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("h2",{className:"text-lg font-black text-txt",children:r}),i&&d.jsx("span",{className:"text-xs text-muted",children:"Press ESC to exit"})]}),d.jsx("button",{onClick:e,className:`px-4 py-2 rounded-lg border text-txt font-black transition-colors ${s==="light"?"border-black/10 hover:bg-black/10":"border-white/10 hover:bg-white/10"}`,"aria-label":"Collapse",children:"Collapse"})]}),d.jsx("div",{className:"flex-1 overflow-hidden",style:{background:s==="light"?"rgba(251, 250, 249, 0.98)":"rgba(4, 5, 6, 0.98)"},children:n})]});return Ls.createPortal(a,document.body)}function Ibe(){const{marketPopupOpen:t,setMarketPopupOpen:e,selectedMarket:r,setSelectedMarket:n,markets:i}=uc(),{isMobile:s}=wo(),{marketStats:o}=Sve(),{theme:a}=Dr(),[l,c]=x.useState(""),[u,h]=x.useState("volume"),[f,p]=x.useState("desc"),m=x.useRef(null),v=i.find(C=>C.symbol===r),w=o[r];x.useEffect(()=>{if(!t)return;c("");const C=setTimeout(()=>m.current?.focus(),0);return()=>clearTimeout(C)},[t]);const b=C=>{u===C?p(k=>k==="asc"?"desc":"asc"):(h(C),p("desc"))},E=x.useMemo(()=>{const C=l.trim().toLowerCase();return[...i.filter(P=>o[P.symbol]?C?P.symbol.toLowerCase().includes(C)||P.baseAsset.toLowerCase().includes(C):!0:!1)].sort((P,F)=>{const N=o[P.symbol],$=o[F.symbol];let U=0,O=0;switch(u){case"symbol":return f==="asc"?P.baseAsset.localeCompare(F.baseAsset):F.baseAsset.localeCompare(P.baseAsset);case"price":U=N?.lastPrice??-1/0,O=$?.lastPrice??-1/0;break;case"change":U=N?.change24hPct??-1/0,O=$?.change24hPct??-1/0;break;case"funding":U=N?.funding??-1/0,O=$?.funding??-1/0;break;case"volume":U=N?.volume24h??-1/0,O=$?.volume24h??-1/0;break;case"openInterest":U=N?.openInterest??-1/0,O=$?.openInterest??-1/0;break}return f==="asc"?U-O:O-U})},[l,i,o,u,f]),_=C=>{n(C),e(!1)},A=d.jsxs("div",{className:`w-full px-6 pb-5 text-sm ${a==="light"?"bg-white":""}`,children:[v&&w&&d.jsxs("div",{className:"flex flex-wrap items-center gap-x-10 gap-y-4 py-4",children:[d.jsxs("div",{className:`text-lg font-semibold ${a==="light"?"text-black":"text-white"}`,children:[v.baseAsset,"/",v.quoteAsset]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:a==="light"?"text-gray-500 text-xs":"text-muted text-xs",children:"Mark"}),d.jsx("span",{className:`${a==="light"?"text-black":"text-white"}`,children:Ll(w.lastPrice)})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:a==="light"?"text-gray-500 text-xs":"text-muted text-xs",children:"Oracle"}),d.jsx("span",{className:`${a==="light"?"text-black":"text-white"}`,children:Ll(w.oraclePrice)})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:a==="light"?"text-gray-500 text-xs":"text-muted text-xs",children:"24H Change"}),d.jsx("span",{className:`${w.change24hPct>=0?"text-buy-500":"text-sell-500"}`,children:lre(w.change24hAbs,w.change24hPct)})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:a==="light"?"text-gray-500 text-xs":"text-muted text-xs",children:"24H Volume"}),d.jsxs("span",{className:`${a==="light"?"text-black":"text-white"}`,children:["$",Os(w.volume24h)]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:a==="light"?"text-gray-500 text-xs":"text-muted text-xs",children:"Open Interest"}),d.jsxs("span",{className:`${a==="light"?"text-black":"text-white"}`,children:["$",Os(w.openInterest)]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("span",{className:a==="light"?"text-gray-500 text-xs":"text-muted text-xs",children:"Funding / Countdown"}),d.jsx("span",{className:`text-xxs ${w.funding>=0?"text-buy-500":"text-sell-500"}`,children:LCt(w.funding,w.nextFundingTime)})]})]}),d.jsx("input",{ref:m,value:l,onChange:C=>c(C.target.value),placeholder:"Search markets",className:`w-full h-10 px-4 mb-4 rounded-lg ${a==="light"?"bg-gray-100 border border-gray-300 text-black placeholder:text-gray-400":"bg-[#0f1720] border border-white/10 text-white"}`}),d.jsxs("div",{className:`grid grid-cols-[2.2fr_1.2fr_2fr] md:grid-cols-[2.2fr_1.2fr_2fr_1.2fr] lg:grid-cols-[2.2fr_1.2fr_2fr_1.2fr_1.6fr_1.6fr] gap-x-6 px-3 py-2 text-[11px] font-semibold ${a==="light"?"text-gray-500":"text-muted"}`,children:[d.jsx("button",{className:"text-left",onClick:()=>b("symbol"),children:"Symbol"}),d.jsx("button",{className:"text-left",onClick:()=>b("price"),children:"Last Price"}),d.jsx("button",{className:"text-left",onClick:()=>b("change"),children:"24H Change"}),d.jsx("button",{onClick:()=>b("funding"),className:"hidden md:block text-left",children:"8H Funding"}),d.jsx("button",{onClick:()=>b("volume"),className:"hidden lg:block text-left",children:"Volume"}),d.jsx("button",{onClick:()=>b("openInterest"),className:"hidden lg:block text-left",children:"Open Interest"})]}),d.jsx("div",{className:a==="light"?"border-b border-gray-200 mb-1":"border-b border-white/10 mb-1"}),d.jsx("div",{className:`max-h-[440px] overflow-y-auto [&::-webkit-scrollbar]:w-2
                                  [&::-webkit-scrollbar-track]:opacity-0
                                  [&::-webkit-scrollbar-thumb]:bg-gray-300
                                  ${a==="light"?"[&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300":"dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500"}`,children:E.map(C=>{const k=o?.[C.symbol];return d.jsxs("div",{onClick:()=>_(C.symbol),className:`grid grid-cols-[2.2fr_1.2fr_2fr] md:grid-cols-[2.2fr_1.2fr_2fr_1.2fr] lg:grid-cols-[2.2fr_1.2fr_2fr_1.2fr_1.6fr_1.6fr] gap-x-6 px-3 py-3 items-center cursor-pointer ${a==="light"?"hover:bg-gray-100":"hover:bg-white/5"}`,children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`font-semibold ${a==="light"?"text-black":"text-white"}`,children:[C.baseAsset,"-",C.quoteAsset]}),d.jsxs("span",{className:`text-xs px-2 py-[2px] rounded ${a==="light"?"bg-teal-100 text-teal-700":"bg-[#17453f] text-[#97fce4]"}`,children:[C.maxLeverage,"x"]})]}),d.jsx("div",{className:`${a==="light"?"text-black":"text-white"}`,children:Ll(k.lastPrice)}),d.jsx("div",{className:`${k.change24hPct>=0?"text-buy-500":"text-sell-500"}`,children:lre(k.change24hAbs,k.change24hPct)}),d.jsxs("div",{className:`hidden md:block ${k.funding>=0?"text-buy-500":"text-sell-500"}`,children:[(k.funding*100).toFixed(4),"%"]}),d.jsxs("div",{className:`hidden lg:block ${a==="light"?"text-black":"text-white"}`,children:["$",Os(k.volume24h)]}),d.jsxs("div",{className:`hidden lg:block ${a==="light"?"text-black":"text-white"}`,children:["$",Os(k.openInterest)]})]},C.symbol)})})]});return s&&t?d.jsx(Tbe,{open:t,onClose:()=>e(!1),title:"Select Market",showEscHint:!1,children:A}):d.jsx(STt,{isOpen:t,onClose:()=>e(!1),children:A})}var u$={},d$={},h$={},Kne;function Pbe(){return Kne||(Kne=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e}});function e(r){if(r=`${r}`,r==="0")return"0";if(/^[+-]?(\d+|\d*\.\d+)(e[+-]?\d+)?(%|\w+)?$/.test(r))return r.replace(/^[+-]?/,i=>i==="-"?"":"-");let n=["var","calc","min","max","clamp"];for(const i of n)if(r.includes(`${i}(`))return`calc(${r} * -1)`}})(h$)),h$}var f$={},Yne;function ATt(){return Yne||(Yne=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e}});const e=["preflight","container","accessibility","pointerEvents","visibility","position","inset","isolation","zIndex","order","gridColumn","gridColumnStart","gridColumnEnd","gridRow","gridRowStart","gridRowEnd","float","clear","margin","boxSizing","lineClamp","display","aspectRatio","size","height","maxHeight","minHeight","width","minWidth","maxWidth","flex","flexShrink","flexGrow","flexBasis","tableLayout","captionSide","borderCollapse","borderSpacing","transformOrigin","translate","rotate","skew","scale","transform","animation","cursor","touchAction","userSelect","resize","scrollSnapType","scrollSnapAlign","scrollSnapStop","scrollMargin","scrollPadding","listStylePosition","listStyleType","listStyleImage","appearance","columns","breakBefore","breakInside","breakAfter","gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateColumns","gridTemplateRows","flexDirection","flexWrap","placeContent","placeItems","alignContent","alignItems","justifyContent","justifyItems","gap","space","divideWidth","divideStyle","divideColor","divideOpacity","placeSelf","alignSelf","justifySelf","overflow","overscrollBehavior","scrollBehavior","textOverflow","hyphens","whitespace","textWrap","wordBreak","borderRadius","borderWidth","borderStyle","borderColor","borderOpacity","backgroundColor","backgroundOpacity","backgroundImage","gradientColorStops","boxDecorationBreak","backgroundSize","backgroundAttachment","backgroundClip","backgroundPosition","backgroundRepeat","backgroundOrigin","fill","stroke","strokeWidth","objectFit","objectPosition","padding","textAlign","textIndent","verticalAlign","fontFamily","fontSize","fontWeight","textTransform","fontStyle","fontVariantNumeric","lineHeight","letterSpacing","textColor","textOpacity","textDecoration","textDecorationColor","textDecorationStyle","textDecorationThickness","textUnderlineOffset","fontSmoothing","placeholderColor","placeholderOpacity","caretColor","accentColor","opacity","backgroundBlendMode","mixBlendMode","boxShadow","boxShadowColor","outlineStyle","outlineWidth","outlineOffset","outlineColor","ringWidth","ringColor","ringOpacity","ringOffsetWidth","ringOffsetColor","blur","brightness","contrast","dropShadow","grayscale","hueRotate","invert","saturate","sepia","filter","backdropBlur","backdropBrightness","backdropContrast","backdropGrayscale","backdropHueRotate","backdropInvert","backdropOpacity","backdropSaturate","backdropSepia","backdropFilter","transitionProperty","transitionDelay","transitionDuration","transitionTimingFunction","willChange","contain","content","forcedColorAdjust"]})(f$)),f$}var p$={},Jne;function TTt(){return Jne||(Jne=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e}});function e(r,n){return r===void 0?n:Array.isArray(r)?r:[...new Set(n.filter(s=>r!==!1&&r[s]!==!1).concat(Object.keys(r).filter(s=>r[s]!==!1)))]}})(p$)),p$}var g$={},m$={},f4={exports:{}},Xne;function $be(){if(Xne)return f4.exports;Xne=1;var t=String,e=function(){return{isColorSupported:!1,reset:t,bold:t,dim:t,italic:t,underline:t,inverse:t,hidden:t,strikethrough:t,black:t,red:t,green:t,yellow:t,blue:t,magenta:t,cyan:t,white:t,gray:t,bgBlack:t,bgRed:t,bgGreen:t,bgYellow:t,bgBlue:t,bgMagenta:t,bgCyan:t,bgWhite:t,blackBright:t,redBright:t,greenBright:t,yellowBright:t,blueBright:t,magentaBright:t,cyanBright:t,whiteBright:t,bgBlackBright:t,bgRedBright:t,bgGreenBright:t,bgYellowBright:t,bgBlueBright:t,bgMagentaBright:t,bgCyanBright:t,bgWhiteBright:t}};return f4.exports=e(),f4.exports.createColors=e,f4.exports}var Qne;function qU(){return Qne||(Qne=1,(function(t){var e={};Object.defineProperty(t,"__esModule",{value:!0});function r(c,u){for(var h in u)Object.defineProperty(c,h,{enumerable:!0,get:u[h]})}r(t,{dim:function(){return a},default:function(){return l}});const n=i($be());function i(c){return c&&c.__esModule?c:{default:c}}let s=new Set;function o(c,u,h){typeof process<"u"&&e.JEST_WORKER_ID||h&&s.has(h)||(h&&s.add(h),console.warn(""),u.forEach(f=>console.warn(c,"-",f)))}function a(c){return n.default.dim(c)}const l={info(c,u){o(n.default.bold(n.default.cyan("info")),...Array.isArray(c)?[c]:[u,c])},warn(c,u){o(n.default.bold(n.default.yellow("warn")),...Array.isArray(c)?[c]:[u,c])},risk(c,u){o(n.default.bold(n.default.magenta("risk")),...Array.isArray(c)?[c]:[u,c])}}})(m$)),m$}var Zne;function ITt(){return Zne||(Zne=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});const e=r(qU());function r(s){return s&&s.__esModule?s:{default:s}}function n({version:s,from:o,to:a}){e.default.warn(`${o}-color-renamed`,[`As of Tailwind CSS ${s}, \`${o}\` has been renamed to \`${a}\`.`,"Update your configuration file to silence this warning."])}const i={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return n({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return n({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return n({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return n({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return n({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}})(g$)),g$}var y$={},eie;function PTt(){return eie||(eie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"defaults",{enumerable:!0,get:function(){return e}});function e(r,...n){for(let o of n){for(let a in o){var i;!(r==null||(i=r.hasOwnProperty)===null||i===void 0)&&i.call(r,a)||(r[a]=o[a])}for(let a of Object.getOwnPropertySymbols(o)){var s;!(r==null||(s=r.hasOwnProperty)===null||s===void 0)&&s.call(r,a)||(r[a]=o[a])}}return r}})(y$)),y$}var v$={},tie;function $Tt(){return tie||(tie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"toPath",{enumerable:!0,get:function(){return e}});function e(r){if(Array.isArray(r))return r;let n=r.split("[").length-1,i=r.split("]").length-1;if(n!==i)throw new Error(`Path is invalid. Has unbalanced brackets: ${r}`);return r.split(/\.(?![^\[]*\])|[\[\]]/g).filter(Boolean)}})(v$)),v$}var w$={},b$={},rie;function WU(){return rie||(rie=1,(function(t){var e={};Object.defineProperty(t,"__esModule",{value:!0});function r(f,p){for(var m in p)Object.defineProperty(f,m,{enumerable:!0,get:p[m]})}r(t,{flagEnabled:function(){return l},issueFlagNotices:function(){return u},default:function(){return h}});const n=s($be()),i=s(qU());function s(f){return f&&f.__esModule?f:{default:f}}let o={optimizeUniversalDefaults:!1,generalizedModifiers:!0,disableColorOpacityUtilitiesByDefault:!1,relativeContentPathsByDefault:!1},a={future:["hoverOnlyWhenSupported","respectDefaultRingColorOpacity","disableColorOpacityUtilitiesByDefault","relativeContentPathsByDefault"],experimental:["optimizeUniversalDefaults","generalizedModifiers"]};function l(f,p){if(a.future.includes(p)){var m,v,w;return f.future==="all"||((w=(v=f==null||(m=f.future)===null||m===void 0?void 0:m[p])!==null&&v!==void 0?v:o[p])!==null&&w!==void 0?w:!1)}if(a.experimental.includes(p)){var b,E,_;return f.experimental==="all"||((_=(E=f==null||(b=f.experimental)===null||b===void 0?void 0:b[p])!==null&&E!==void 0?E:o[p])!==null&&_!==void 0?_:!1)}return!1}function c(f){if(f.experimental==="all")return a.experimental;var p;return Object.keys((p=f?.experimental)!==null&&p!==void 0?p:{}).filter(m=>a.experimental.includes(m)&&f.experimental[m])}function u(f){if(e.JEST_WORKER_ID===void 0&&c(f).length>0){let p=c(f).map(m=>n.default.yellow(m)).join(", ");i.default.warn("experimental-flags-enabled",[`You have enabled experimental features: ${p}`,"Experimental features in Tailwind CSS are not covered by semver, may introduce breaking changes, and can change at any time."])}}const h=a})(b$)),b$}var nie;function NTt(){return nie||(nie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeConfig",{enumerable:!0,get:function(){return s}});const e=WU(),r=i(qU());function n(o){if(typeof WeakMap!="function")return null;var a=new WeakMap,l=new WeakMap;return(n=function(c){return c?l:a})(o)}function i(o,a){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var l=n(a);if(l&&l.has(o))return l.get(o);var c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in o)if(h!=="default"&&Object.prototype.hasOwnProperty.call(o,h)){var f=u?Object.getOwnPropertyDescriptor(o,h):null;f&&(f.get||f.set)?Object.defineProperty(c,h,f):c[h]=o[h]}return c.default=o,l&&l.set(o,c),c}function s(o){if((()=>{if(o.purge||!o.content||!Array.isArray(o.content)&&!(typeof o.content=="object"&&o.content!==null))return!1;if(Array.isArray(o.content))return o.content.every(c=>typeof c=="string"?!0:!(typeof c?.raw!="string"||c?.extension&&typeof c?.extension!="string"));if(typeof o.content=="object"&&o.content!==null){if(Object.keys(o.content).some(c=>!["files","relative","extract","transform"].includes(c)))return!1;if(Array.isArray(o.content.files)){if(!o.content.files.every(c=>typeof c=="string"?!0:!(typeof c?.raw!="string"||c?.extension&&typeof c?.extension!="string")))return!1;if(typeof o.content.extract=="object"){for(let c of Object.values(o.content.extract))if(typeof c!="function")return!1}else if(!(o.content.extract===void 0||typeof o.content.extract=="function"))return!1;if(typeof o.content.transform=="object"){for(let c of Object.values(o.content.transform))if(typeof c!="function")return!1}else if(!(o.content.transform===void 0||typeof o.content.transform=="function"))return!1;if(typeof o.content.relative!="boolean"&&typeof o.content.relative<"u")return!1}return!0}return!1})()||r.default.warn("purge-deprecation",["The `purge`/`content` options have changed in Tailwind CSS v3.0.","Update your configuration file to eliminate this warning.","https://tailwindcss.com/docs/upgrade-guide#configure-content-sources"]),o.safelist=(()=>{var c;let{content:u,purge:h,safelist:f}=o;return Array.isArray(f)?f:Array.isArray(u?.safelist)?u.safelist:Array.isArray(h?.safelist)?h.safelist:Array.isArray(h==null||(c=h.options)===null||c===void 0?void 0:c.safelist)?h.options.safelist:[]})(),o.blocklist=(()=>{let{blocklist:c}=o;if(Array.isArray(c)){if(c.every(u=>typeof u=="string"))return c;r.default.warn("blocklist-invalid",["The `blocklist` option must be an array of strings.","https://tailwindcss.com/docs/content-configuration#discarding-classes"])}return[]})(),typeof o.prefix=="function")r.default.warn("prefix-function",["As of Tailwind CSS v3.0, `prefix` cannot be a function.","Update `prefix` in your configuration to be a string to eliminate this warning.","https://tailwindcss.com/docs/upgrade-guide#prefix-cannot-be-a-function"]),o.prefix="";else{var l;o.prefix=(l=o.prefix)!==null&&l!==void 0?l:""}o.content={relative:(()=>{let{content:c}=o;return c?.relative?c.relative:(0,e.flagEnabled)(o,"relativeContentPathsByDefault")})(),files:(()=>{let{content:c,purge:u}=o;return Array.isArray(u)?u:Array.isArray(u?.content)?u.content:Array.isArray(c)?c:Array.isArray(c?.content)?c.content:Array.isArray(c?.files)?c.files:[]})(),extract:(()=>{let c=(()=>{var f,p,m,v,w,b,E,_,A,C;return!((f=o.purge)===null||f===void 0)&&f.extract?o.purge.extract:!((p=o.content)===null||p===void 0)&&p.extract?o.content.extract:!((m=o.purge)===null||m===void 0||(v=m.extract)===null||v===void 0)&&v.DEFAULT?o.purge.extract.DEFAULT:!((w=o.content)===null||w===void 0||(b=w.extract)===null||b===void 0)&&b.DEFAULT?o.content.extract.DEFAULT:!((E=o.purge)===null||E===void 0||(_=E.options)===null||_===void 0)&&_.extractors?o.purge.options.extractors:!((A=o.content)===null||A===void 0||(C=A.options)===null||C===void 0)&&C.extractors?o.content.options.extractors:{}})(),u={},h=(()=>{var f,p,m,v;if(!((f=o.purge)===null||f===void 0||(p=f.options)===null||p===void 0)&&p.defaultExtractor)return o.purge.options.defaultExtractor;if(!((m=o.content)===null||m===void 0||(v=m.options)===null||v===void 0)&&v.defaultExtractor)return o.content.options.defaultExtractor})();if(h!==void 0&&(u.DEFAULT=h),typeof c=="function")u.DEFAULT=c;else if(Array.isArray(c))for(let{extensions:f,extractor:p}of c??[])for(let m of f)u[m]=p;else typeof c=="object"&&c!==null&&Object.assign(u,c);return u})(),transform:(()=>{let c=(()=>{var h,f,p,m,v,w;return!((h=o.purge)===null||h===void 0)&&h.transform?o.purge.transform:!((f=o.content)===null||f===void 0)&&f.transform?o.content.transform:!((p=o.purge)===null||p===void 0||(m=p.transform)===null||m===void 0)&&m.DEFAULT?o.purge.transform.DEFAULT:!((v=o.content)===null||v===void 0||(w=v.transform)===null||w===void 0)&&w.DEFAULT?o.content.transform.DEFAULT:{}})(),u={};return typeof c=="function"?u.DEFAULT=c:typeof c=="object"&&c!==null&&Object.assign(u,c),u})()};for(let c of o.content.files)if(typeof c=="string"&&/{([^,]*?)}/g.test(c)){r.default.warn("invalid-glob-braces",[`The glob pattern ${(0,r.dim)(c)} in your Tailwind CSS configuration is invalid.`,`Update it to ${(0,r.dim)(c.replace(/{([^,]*?)}/g,"$1"))} to silence this warning.`]);break}return o}})(w$)),w$}var x$={},iie;function RTt(){return iie||(iie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e}});function e(r){if(Object.prototype.toString.call(r)!=="[object Object]")return!1;const n=Object.getPrototypeOf(r);return n===null||Object.getPrototypeOf(n)===null}})(x$)),x$}var _$={},sie;function OTt(){return sie||(sie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"cloneDeep",{enumerable:!0,get:function(){return e}});function e(r){return Array.isArray(r)?r.map(n=>e(n)):typeof r=="object"&&r!==null?Object.fromEntries(Object.entries(r).map(([n,i])=>[n,e(i)])):r}})(_$)),_$}var C$={},E$={},oie;function jTt(){return oie||(oie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e}});function e(r){return r.replace(/\\,/g,"\\2c ")}})(E$)),E$}var k$={},S$={},A$={},aie;function MTt(){return aie||(aie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e}});const e={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}})(A$)),A$}var lie;function Nbe(){return lie||(lie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(m,v){for(var w in v)Object.defineProperty(m,w,{enumerable:!0,get:v[w]})}e(t,{parseColor:function(){return f},formatColor:function(){return p}});const r=n(MTt());function n(m){return m&&m.__esModule?m:{default:m}}let i=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,s=/^#([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,o=/(?:\d+|\d*\.\d+)%?/,a=/(?:\s*,\s*|\s+)/,l=/\s*[,/]\s*/,c=/var\(--(?:[^ )]*?)(?:,(?:[^ )]*?|var\(--[^ )]*?\)))?\)/,u=new RegExp(`^(rgba?)\\(\\s*(${o.source}|${c.source})(?:${a.source}(${o.source}|${c.source}))?(?:${a.source}(${o.source}|${c.source}))?(?:${l.source}(${o.source}|${c.source}))?\\s*\\)$`),h=new RegExp(`^(hsla?)\\(\\s*((?:${o.source})(?:deg|rad|grad|turn)?|${c.source})(?:${a.source}(${o.source}|${c.source}))?(?:${a.source}(${o.source}|${c.source}))?(?:${l.source}(${o.source}|${c.source}))?\\s*\\)$`);function f(m,{loose:v=!1}={}){var w,b;if(typeof m!="string")return null;if(m=m.trim(),m==="transparent")return{mode:"rgb",color:["0","0","0"],alpha:"0"};if(m in r.default)return{mode:"rgb",color:r.default[m].map(k=>k.toString())};let E=m.replace(s,(k,P,F,N,$)=>["#",P,P,F,F,N,N,$?$+$:""].join("")).match(i);if(E!==null)return{mode:"rgb",color:[parseInt(E[1],16),parseInt(E[2],16),parseInt(E[3],16)].map(k=>k.toString()),alpha:E[4]?(parseInt(E[4],16)/255).toString():void 0};var _;let A=(_=m.match(u))!==null&&_!==void 0?_:m.match(h);if(A===null)return null;let C=[A[2],A[3],A[4]].filter(Boolean).map(k=>k.toString());return C.length===2&&C[0].startsWith("var(")?{mode:A[1],color:[C[0]],alpha:C[1]}:!v&&C.length!==3||C.length<3&&!C.some(k=>/^var\(.*?\)$/.test(k))?null:{mode:A[1],color:C,alpha:(w=A[5])===null||w===void 0||(b=w.toString)===null||b===void 0?void 0:b.call(w)}}function p({mode:m,color:v,alpha:w}){let b=w!==void 0;return m==="rgba"||m==="hsla"?`${m}(${v.join(", ")}${b?`, ${w}`:""})`:`${m}(${v.join(" ")}${b?` / ${w}`:""})`}})(S$)),S$}var cie;function Rbe(){return cie||(cie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(s,o){for(var a in o)Object.defineProperty(s,a,{enumerable:!0,get:o[a]})}e(t,{withAlphaValue:function(){return n},default:function(){return i}});const r=Nbe();function n(s,o,a){if(typeof s=="function")return s({opacityValue:o});let l=(0,r.parseColor)(s,{loose:!0});return l===null?a:(0,r.formatColor)({...l,alpha:o})}function i({color:s,property:o,variable:a}){let l=[].concat(o);if(typeof s=="function")return{[a]:"1",...Object.fromEntries(l.map(u=>[u,s({opacityVariable:a,opacityValue:`var(${a}, 1)`})]))};const c=(0,r.parseColor)(s);return c===null?Object.fromEntries(l.map(u=>[u,s])):c.alpha!==void 0?Object.fromEntries(l.map(u=>[u,s])):{[a]:"1",...Object.fromEntries(l.map(u=>[u,(0,r.formatColor)({...c,alpha:`var(${a}, 1)`})]))}}})(k$)),k$}var T$={},I$={},uie;function DTt(){return uie||(uie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(k,P){for(var F in P)Object.defineProperty(k,F,{enumerable:!0,get:P[F]})}e(t,{hasMathFn:function(){return A},addWhitespaceAroundMathOperators:function(){return C}});const r=97,n=122,i=65,s=90,o=101,a=69,l=48,c=57,u=43,h=45,f=42,p=47,m=40,v=41,w=44,b=32,E=37,_=["calc","min","max","clamp","mod","rem","sin","cos","tan","asin","acos","atan","atan2","pow","sqrt","hypot","log","exp","round"];function A(k){return k.indexOf("(")!==-1&&_.some(P=>k.includes(`${P}(`))}function C(k){if(!_.some(U=>k.includes(U)))return k;let P="",F=[],N=null,$=null;for(let U=0;U<k.length;U++){let O=k.charCodeAt(U);if(O>=l&&O<=c||N!==null&&(O===E||O>=r&&O<=n||O>=i&&O<=s)?N=U:($=N,N=null),O===m){P+=k[U];let D=U;for(let I=U-1;I>=0;I--){let R=k.charCodeAt(I);if(R>=l&&R<=c)D=I;else if(R>=r&&R<=n)D=I;else break}let T=k.slice(D,U);if(_.includes(T)){F.unshift(!0);continue}else if(F[0]&&T===""){F.unshift(!0);continue}F.unshift(!1);continue}else if(O===v)P+=k[U],F.shift();else if(O===w&&F[0]){P+=", ";continue}else{if(O===b&&F[0]&&P.charCodeAt(P.length-1)===b)continue;if((O===u||O===f||O===p||O===h)&&F[0]){let D=P.trimEnd(),T=D.charCodeAt(D.length-1),I=D.charCodeAt(D.length-2),R=k.charCodeAt(U+1);if((T===o||T===a)&&I>=l&&I<=c){P+=k[U];continue}else if(T===u||T===f||T===p||T===h){P+=k[U];continue}else if(T===m||T===w){P+=k[U];continue}else k.charCodeAt(U-1)===b?P+=`${k[U]} `:T>=l&&T<=c||R>=l&&R<=c||T===v||R===m||R===u||R===f||R===p||R===h||$!==null&&$===U-1?P+=` ${k[U]} `:P+=k[U]}else P+=k[U]}}return P}})(I$)),I$}var P$={},$$={},die;function HU(){return die||(die=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"splitAtTopLevelOnly",{enumerable:!0,get:function(){return e}});function e(r,n){let i=[],s=[],o=0,a=!1;for(let l=0;l<r.length;l++){let c=r[l];i.length===0&&c===n[0]&&!a&&(n.length===1||r.slice(l,l+n.length)===n)&&(s.push(r.slice(o,l)),o=l+n.length),a=a?!1:c==="\\",c==="("||c==="["||c==="{"?i.push(c):(c===")"&&i[i.length-1]==="("||c==="]"&&i[i.length-1]==="["||c==="}"&&i[i.length-1]==="{")&&i.pop()}return s.push(r.slice(o)),s}})($$)),$$}var hie;function FTt(){return hie||(hie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(l,c){for(var u in c)Object.defineProperty(l,u,{enumerable:!0,get:c[u]})}e(t,{parseBoxShadowValue:function(){return o},formatBoxShadowValue:function(){return a}});const r=HU();let n=new Set(["inset","inherit","initial","revert","unset"]),i=/\ +(?![^(]*\))/g,s=/^-?(\d+|\.\d+)(.*?)$/g;function o(l){return(0,r.splitAtTopLevelOnly)(l,",").map(u=>{let h=u.trim(),f={raw:h},p=h.split(i),m=new Set;for(let v of p)s.lastIndex=0,!m.has("KEYWORD")&&n.has(v)?(f.keyword=v,m.add("KEYWORD")):s.test(v)?m.has("X")?m.has("Y")?m.has("BLUR")?m.has("SPREAD")||(f.spread=v,m.add("SPREAD")):(f.blur=v,m.add("BLUR")):(f.y=v,m.add("Y")):(f.x=v,m.add("X")):f.color?(f.unknown||(f.unknown=[]),f.unknown.push(v)):f.color=v;return f.valid=f.x!==void 0&&f.y!==void 0,f})}function a(l){return l.map(c=>c.valid?[c.keyword,c.x,c.y,c.blur,c.spread,c.color].filter(Boolean).join(" "):c.raw).join(", ")}})(P$)),P$}var fie;function Obe(){return fie||(fie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(L,B){for(var q in B)Object.defineProperty(L,q,{enumerable:!0,get:B[q]})}e(t,{normalize:function(){return c},normalizeAttributeSelectors:function(){return u},url:function(){return h},number:function(){return f},percentage:function(){return p},length:function(){return w},lineWidth:function(){return E},shadow:function(){return _},color:function(){return A},image:function(){return C},gradient:function(){return P},position:function(){return N},familyName:function(){return $},genericName:function(){return O},absoluteSize:function(){return T},relativeSize:function(){return R}});const r=Nbe(),n=DTt(),i=FTt(),s=HU();let o=["min","max","clamp","calc"];function a(L){return o.some(B=>new RegExp(`^${B}\\(.*\\)`).test(L))}const l=new Set(["scroll-timeline-name","timeline-scope","view-timeline-name","font-palette","anchor-name","anchor-scope","position-anchor","position-try-options","scroll-timeline","animation-timeline","view-timeline","position-try"]);function c(L,B=null,q=!0){let G=B&&l.has(B.property);return L.startsWith("--")&&!G?`var(${L})`:L.includes("url(")?L.split(/(url\(.*?\))/g).filter(Boolean).map(W=>/^url\(.*?\)$/.test(W)?W:c(W,B,!1)).join(""):(L=L.replace(/([^\\])_+/g,(W,j)=>j+" ".repeat(W.length-1)).replace(/^_/g," ").replace(/\\_/g,"_"),q&&(L=L.trim()),L=(0,n.addWhitespaceAroundMathOperators)(L),L)}function u(L){return L.includes("=")&&(L=L.replace(/(=.*)/g,(B,q)=>{if(q[1]==="'"||q[1]==='"')return q;if(q.length>2){let G=q[q.length-1];if(q[q.length-2]===" "&&(G==="i"||G==="I"||G==="s"||G==="S"))return`="${q.slice(1,-2)}" ${q[q.length-1]}`}return`="${q.slice(1)}"`})),L}function h(L){return L.startsWith("url(")}function f(L){return!isNaN(Number(L))||a(L)}function p(L){return L.endsWith("%")&&f(L.slice(0,-1))||a(L)}let v=`(?:${["cm","mm","Q","in","pc","pt","px","em","ex","ch","rem","lh","rlh","vw","vh","vmin","vmax","vb","vi","svw","svh","lvw","lvh","dvw","dvh","cqw","cqh","cqi","cqb","cqmin","cqmax"].join("|")})`;function w(L){return L==="0"||new RegExp(`^[+-]?[0-9]*.?[0-9]+(?:[eE][+-]?[0-9]+)?${v}$`).test(L)||a(L)}let b=new Set(["thin","medium","thick"]);function E(L){return b.has(L)}function _(L){let B=(0,i.parseBoxShadowValue)(c(L));for(let q of B)if(!q.valid)return!1;return!0}function A(L){let B=0;return(0,s.splitAtTopLevelOnly)(L,"_").every(G=>(G=c(G),G.startsWith("var(")?!0:(0,r.parseColor)(G,{loose:!0})!==null?(B++,!0):!1))?B>0:!1}function C(L){let B=0;return(0,s.splitAtTopLevelOnly)(L,",").every(G=>(G=c(G),G.startsWith("var(")?!0:h(G)||P(G)||["element(","image(","cross-fade(","image-set("].some(W=>G.startsWith(W))?(B++,!0):!1))?B>0:!1}let k=new Set(["conic-gradient","linear-gradient","radial-gradient","repeating-conic-gradient","repeating-linear-gradient","repeating-radial-gradient"]);function P(L){L=c(L);for(let B of k)if(L.startsWith(`${B}(`))return!0;return!1}let F=new Set(["center","top","right","bottom","left"]);function N(L){let B=0;return(0,s.splitAtTopLevelOnly)(L,"_").every(G=>(G=c(G),G.startsWith("var(")?!0:F.has(G)||w(G)||p(G)?(B++,!0):!1))?B>0:!1}function $(L){let B=0;return(0,s.splitAtTopLevelOnly)(L,",").every(G=>(G=c(G),G.startsWith("var(")?!0:G.includes(" ")&&!/(['"])([^"']+)\1/g.test(G)||/^\d/g.test(G)?!1:(B++,!0)))?B>0:!1}let U=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]);function O(L){return U.has(L)}let D=new Set(["xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large"]);function T(L){return D.has(L)}let I=new Set(["larger","smaller"]);function R(L){return I.has(L)}})(T$)),T$}var N$={},pie;function LTt(){return pie||(pie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"backgroundSize",{enumerable:!0,get:function(){return n}});const e=Obe(),r=HU();function n(i){let s=["cover","contain"];return(0,r.splitAtTopLevelOnly)(i,",").every(o=>{let a=(0,r.splitAtTopLevelOnly)(o,"_").filter(Boolean);return a.length===1&&s.includes(a[0])?!0:a.length!==1&&a.length!==2?!1:a.every(l=>(0,e.length)(l)||(0,e.percentage)(l)||l==="auto")})}})(N$)),N$}var gie;function UTt(){return gie||(gie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(N,$){for(var U in $)Object.defineProperty(N,U,{enumerable:!0,get:$[U]})}e(t,{updateAllClasses:function(){return c},asValue:function(){return f},parseColorFormat:function(){return v},asColor:function(){return b},asLookupValue:function(){return E},typeMap:function(){return A},coerceValue:function(){return P},getMatchingTypes:function(){return F}});const r=l(jTt()),n=Rbe(),i=Obe(),s=l(Pbe()),o=LTt(),a=WU();function l(N){return N&&N.__esModule?N:{default:N}}function c(N,$){N.walkClasses(U=>{U.value=$(U.value),U.raws&&U.raws.value&&(U.raws.value=(0,r.default)(U.raws.value))})}function u(N,$){if(!p(N))return;let U=N.slice(1,-1);if($(U))return(0,i.normalize)(U)}function h(N,$={},U){let O=$[N];if(O!==void 0)return(0,s.default)(O);if(p(N)){let D=u(N,U);return D===void 0?void 0:(0,s.default)(D)}}function f(N,$={},{validate:U=()=>!0}={}){var O;let D=(O=$.values)===null||O===void 0?void 0:O[N];return D!==void 0?D:$.supportsNegativeValues&&N.startsWith("-")?h(N.slice(1),$.values,U):u(N,U)}function p(N){return N.startsWith("[")&&N.endsWith("]")}function m(N){let $=N.lastIndexOf("/"),U=N.lastIndexOf("[",$),O=N.indexOf("]",$);return N[$-1]==="]"||N[$+1]==="["||U!==-1&&O!==-1&&U<$&&$<O&&($=N.lastIndexOf("/",U)),$===-1||$===N.length-1?[N,void 0]:p(N)&&!N.includes("]/[")?[N,void 0]:[N.slice(0,$),N.slice($+1)]}function v(N){if(typeof N=="string"&&N.includes("<alpha-value>")){let $=N;return({opacityValue:U=1})=>$.replace(/<alpha-value>/g,U)}return N}function w(N){return(0,i.normalize)(N.slice(1,-1))}function b(N,$={},{tailwindConfig:U={}}={}){var O;if(((O=$.values)===null||O===void 0?void 0:O[N])!==void 0){var D;return v((D=$.values)===null||D===void 0?void 0:D[N])}let[T,I]=m(N);if(I!==void 0){var R,L,B,q;let G=(q=(R=$.values)===null||R===void 0?void 0:R[T])!==null&&q!==void 0?q:p(T)?T.slice(1,-1):void 0;return G===void 0?void 0:(G=v(G),p(I)?(0,n.withAlphaValue)(G,w(I)):((L=U.theme)===null||L===void 0||(B=L.opacity)===null||B===void 0?void 0:B[I])===void 0?void 0:(0,n.withAlphaValue)(G,U.theme.opacity[I]))}return f(N,$,{validate:i.color})}function E(N,$={}){var U;return(U=$.values)===null||U===void 0?void 0:U[N]}function _(N){return($,U)=>f($,U,{validate:N})}let A={any:f,color:b,url:_(i.url),image:_(i.image),length:_(i.length),percentage:_(i.percentage),position:_(i.position),lookup:E,"generic-name":_(i.genericName),"family-name":_(i.familyName),number:_(i.number),"line-width":_(i.lineWidth),"absolute-size":_(i.absoluteSize),"relative-size":_(i.relativeSize),shadow:_(i.shadow),size:_(o.backgroundSize)},C=Object.keys(A);function k(N,$){let U=N.indexOf($);return U===-1?[void 0,N]:[N.slice(0,U),N.slice(U+1)]}function P(N,$,U,O){if(U.values&&$ in U.values)for(let{type:T}of N??[]){let I=A[T]($,U,{tailwindConfig:O});if(I!==void 0)return[I,T,null]}if(p($)){let T=$.slice(1,-1),[I,R]=k(T,":");if(!/^[\w-_]+$/g.test(I))R=T;else if(I!==void 0&&!C.includes(I))return[];if(R.length>0&&C.includes(I))return[f(`[${R}]`,U),I,null]}let D=F(N,$,U,O);for(let T of D)return T;return[]}function*F(N,$,U,O){let D=(0,a.flagEnabled)(O,"generalizedModifiers"),[T,I]=m($);if(D&&U.modifiers!=null&&(U.modifiers==="any"||typeof U.modifiers=="object"&&(I&&p(I)||I in U.modifiers))||(T=$,I=void 0),I!==void 0&&T===""&&(T="DEFAULT"),I!==void 0&&typeof U.modifiers=="object"){var L,B;let q=(B=(L=U.modifiers)===null||L===void 0?void 0:L[I])!==null&&B!==void 0?B:null;q!==null?I=q:p(I)&&(I=w(I))}for(let{type:q}of N??[]){let G=A[q](T,U,{tailwindConfig:O});G!==void 0&&(yield[G,q,I??null])}}})(C$)),C$}var R$={},mie;function BTt(){return mie||(mie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e}});function e(r){return typeof r=="function"?r({}):r}})(R$)),R$}var yie;function zTt(){return yie||(yie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return U}});const e=p(Pbe()),r=p(ATt()),n=p(TTt()),i=p(ITt()),s=PTt(),o=$Tt(),a=NTt(),l=p(RTt()),c=OTt(),u=UTt(),h=Rbe(),f=p(BTt());function p(O){return O&&O.__esModule?O:{default:O}}function m(O){return typeof O=="function"}function v(O,...D){let T=D.pop();for(let I of D)for(let R in I){let L=T(O[R],I[R]);L===void 0?(0,l.default)(O[R])&&(0,l.default)(I[R])?O[R]=v({},O[R],I[R],T):O[R]=I[R]:O[R]=L}return O}const w={colors:i.default,negative(O){return Object.keys(O).filter(D=>O[D]!=="0").reduce((D,T)=>{let I=(0,e.default)(O[T]);return I!==void 0&&(D[`-${T}`]=I),D},{})},breakpoints(O){return Object.keys(O).filter(D=>typeof O[D]=="string").reduce((D,T)=>({...D,[`screen-${T}`]:O[T]}),{})}};function b(O,...D){return m(O)?O(...D):O}function E(O){return O.reduce((D,{extend:T})=>v(D,T,(I,R)=>I===void 0?[R]:Array.isArray(I)?[R,...I]:[R,I]),{})}function _(O){return{...O.reduce((D,T)=>(0,s.defaults)(D,T),{}),extend:E(O)}}function A(O,D){if(Array.isArray(O)&&(0,l.default)(O[0]))return O.concat(D);if(Array.isArray(D)&&(0,l.default)(D[0])&&(0,l.default)(O))return[O,...D];if(Array.isArray(D))return D}function C({extend:O,...D}){return v(D,O,(T,I)=>!m(T)&&!I.some(m)?v({},T,...I,A):(R,L)=>v({},...[T,...I].map(B=>b(B,R,L)),A))}function*k(O){let D=(0,o.toPath)(O);if(D.length===0||(yield D,Array.isArray(O)))return;let T=/^(.*?)\s*\/\s*([^/]+)$/,I=O.match(T);if(I!==null){let[,R,L]=I,B=(0,o.toPath)(R);B.alpha=L,yield B}}function P(O){const D=(T,I)=>{for(const R of k(T)){let L=0,B=O;for(;B!=null&&L<R.length;)B=B[R[L++]],B=m(B)&&(R.alpha===void 0||L<=R.length-1)?B(D,w):B;if(B!==void 0){if(R.alpha!==void 0){let q=(0,u.parseColorFormat)(B);return(0,h.withAlphaValue)(q,R.alpha,(0,f.default)(q))}return(0,l.default)(B)?(0,c.cloneDeep)(B):B}}return I};return Object.assign(D,{theme:D,...w}),Object.keys(O).reduce((T,I)=>(T[I]=m(O[I])?O[I](D,w):O[I],T),{})}function F(O){let D=[];return O.forEach(T=>{D=[...D,T];var I;const R=(I=T?.plugins)!==null&&I!==void 0?I:[];R.length!==0&&R.forEach(L=>{L.__isOptionsFunction&&(L=L());var B;D=[...D,...F([(B=L?.config)!==null&&B!==void 0?B:{}])]})}),D}function N(O){return[...O].reduceRight((T,I)=>m(I)?I({corePlugins:T}):(0,n.default)(I,T),r.default)}function $(O){return[...O].reduceRight((T,I)=>[...T,...I],[])}function U(O){let D=[...F(O),{prefix:"",important:!1,separator:":"}];var T,I;return(0,a.normalizeConfig)((0,s.defaults)({theme:P(C(_(D.map(R=>(T=R?.theme)!==null&&T!==void 0?T:{})))),corePlugins:N(D.map(R=>R.corePlugins)),plugins:$(O.map(R=>(I=R?.plugins)!==null&&I!==void 0?I:[]))},...D))}})(d$)),d$}var O$={},j$,vie;function qTt(){return vie||(vie=1,j$={content:[],presets:[],darkMode:"media",theme:{accentColor:({theme:t})=>({...t("colors"),auto:"auto"}),animation:{none:"none",spin:"spin 1s linear infinite",ping:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite",pulse:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",bounce:"bounce 1s infinite"},aria:{busy:'busy="true"',checked:'checked="true"',disabled:'disabled="true"',expanded:'expanded="true"',hidden:'hidden="true"',pressed:'pressed="true"',readonly:'readonly="true"',required:'required="true"',selected:'selected="true"'},aspectRatio:{auto:"auto",square:"1 / 1",video:"16 / 9"},backdropBlur:({theme:t})=>t("blur"),backdropBrightness:({theme:t})=>t("brightness"),backdropContrast:({theme:t})=>t("contrast"),backdropGrayscale:({theme:t})=>t("grayscale"),backdropHueRotate:({theme:t})=>t("hueRotate"),backdropInvert:({theme:t})=>t("invert"),backdropOpacity:({theme:t})=>t("opacity"),backdropSaturate:({theme:t})=>t("saturate"),backdropSepia:({theme:t})=>t("sepia"),backgroundColor:({theme:t})=>t("colors"),backgroundImage:{none:"none","gradient-to-t":"linear-gradient(to top, var(--tw-gradient-stops))","gradient-to-tr":"linear-gradient(to top right, var(--tw-gradient-stops))","gradient-to-r":"linear-gradient(to right, var(--tw-gradient-stops))","gradient-to-br":"linear-gradient(to bottom right, var(--tw-gradient-stops))","gradient-to-b":"linear-gradient(to bottom, var(--tw-gradient-stops))","gradient-to-bl":"linear-gradient(to bottom left, var(--tw-gradient-stops))","gradient-to-l":"linear-gradient(to left, var(--tw-gradient-stops))","gradient-to-tl":"linear-gradient(to top left, var(--tw-gradient-stops))"},backgroundOpacity:({theme:t})=>t("opacity"),backgroundPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},backgroundSize:{auto:"auto",cover:"cover",contain:"contain"},blur:{0:"0",none:"",sm:"4px",DEFAULT:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},borderColor:({theme:t})=>({...t("colors"),DEFAULT:t("colors.gray.200","currentColor")}),borderOpacity:({theme:t})=>t("opacity"),borderRadius:{none:"0px",sm:"0.125rem",DEFAULT:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},borderSpacing:({theme:t})=>({...t("spacing")}),borderWidth:{DEFAULT:"1px",0:"0px",2:"2px",4:"4px",8:"8px"},boxShadow:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",DEFAULT:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)",inner:"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)",none:"none"},boxShadowColor:({theme:t})=>t("colors"),brightness:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5",200:"2"},caretColor:({theme:t})=>t("colors"),colors:({colors:t})=>({inherit:t.inherit,current:t.current,transparent:t.transparent,black:t.black,white:t.white,slate:t.slate,gray:t.gray,zinc:t.zinc,neutral:t.neutral,stone:t.stone,red:t.red,orange:t.orange,amber:t.amber,yellow:t.yellow,lime:t.lime,green:t.green,emerald:t.emerald,teal:t.teal,cyan:t.cyan,sky:t.sky,blue:t.blue,indigo:t.indigo,violet:t.violet,purple:t.purple,fuchsia:t.fuchsia,pink:t.pink,rose:t.rose}),columns:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12","3xs":"16rem","2xs":"18rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem"},container:{},content:{none:"none"},contrast:{0:"0",50:".5",75:".75",100:"1",125:"1.25",150:"1.5",200:"2"},cursor:{auto:"auto",default:"default",pointer:"pointer",wait:"wait",text:"text",move:"move",help:"help","not-allowed":"not-allowed",none:"none","context-menu":"context-menu",progress:"progress",cell:"cell",crosshair:"crosshair","vertical-text":"vertical-text",alias:"alias",copy:"copy","no-drop":"no-drop",grab:"grab",grabbing:"grabbing","all-scroll":"all-scroll","col-resize":"col-resize","row-resize":"row-resize","n-resize":"n-resize","e-resize":"e-resize","s-resize":"s-resize","w-resize":"w-resize","ne-resize":"ne-resize","nw-resize":"nw-resize","se-resize":"se-resize","sw-resize":"sw-resize","ew-resize":"ew-resize","ns-resize":"ns-resize","nesw-resize":"nesw-resize","nwse-resize":"nwse-resize","zoom-in":"zoom-in","zoom-out":"zoom-out"},divideColor:({theme:t})=>t("borderColor"),divideOpacity:({theme:t})=>t("borderOpacity"),divideWidth:({theme:t})=>t("borderWidth"),dropShadow:{sm:"0 1px 1px rgb(0 0 0 / 0.05)",DEFAULT:["0 1px 2px rgb(0 0 0 / 0.1)","0 1px 1px rgb(0 0 0 / 0.06)"],md:["0 4px 3px rgb(0 0 0 / 0.07)","0 2px 2px rgb(0 0 0 / 0.06)"],lg:["0 10px 8px rgb(0 0 0 / 0.04)","0 4px 3px rgb(0 0 0 / 0.1)"],xl:["0 20px 13px rgb(0 0 0 / 0.03)","0 8px 5px rgb(0 0 0 / 0.08)"],"2xl":"0 25px 25px rgb(0 0 0 / 0.15)",none:"0 0 #0000"},fill:({theme:t})=>({none:"none",...t("colors")}),flex:{1:"1 1 0%",auto:"1 1 auto",initial:"0 1 auto",none:"none"},flexBasis:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%"}),flexGrow:{0:"0",DEFAULT:"1"},flexShrink:{0:"0",DEFAULT:"1"},fontFamily:{sans:["ui-sans-serif","system-ui","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:["ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"]},fontSize:{xs:["0.75rem",{lineHeight:"1rem"}],sm:["0.875rem",{lineHeight:"1.25rem"}],base:["1rem",{lineHeight:"1.5rem"}],lg:["1.125rem",{lineHeight:"1.75rem"}],xl:["1.25rem",{lineHeight:"1.75rem"}],"2xl":["1.5rem",{lineHeight:"2rem"}],"3xl":["1.875rem",{lineHeight:"2.25rem"}],"4xl":["2.25rem",{lineHeight:"2.5rem"}],"5xl":["3rem",{lineHeight:"1"}],"6xl":["3.75rem",{lineHeight:"1"}],"7xl":["4.5rem",{lineHeight:"1"}],"8xl":["6rem",{lineHeight:"1"}],"9xl":["8rem",{lineHeight:"1"}]},fontWeight:{thin:"100",extralight:"200",light:"300",normal:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800",black:"900"},gap:({theme:t})=>t("spacing"),gradientColorStops:({theme:t})=>t("colors"),gradientColorStopPositions:{"0%":"0%","5%":"5%","10%":"10%","15%":"15%","20%":"20%","25%":"25%","30%":"30%","35%":"35%","40%":"40%","45%":"45%","50%":"50%","55%":"55%","60%":"60%","65%":"65%","70%":"70%","75%":"75%","80%":"80%","85%":"85%","90%":"90%","95%":"95%","100%":"100%"},grayscale:{0:"0",DEFAULT:"100%"},gridAutoColumns:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridAutoRows:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridColumn:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridColumnEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridColumnStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRow:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridRowEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRowStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridTemplateColumns:{none:"none",subgrid:"subgrid",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},gridTemplateRows:{none:"none",subgrid:"subgrid",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},height:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%",full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),hueRotate:{0:"0deg",15:"15deg",30:"30deg",60:"60deg",90:"90deg",180:"180deg"},inset:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),invert:{0:"0",DEFAULT:"100%"},keyframes:{spin:{to:{transform:"rotate(360deg)"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},pulse:{"50%":{opacity:".5"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}}},letterSpacing:{tighter:"-0.05em",tight:"-0.025em",normal:"0em",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeight:{none:"1",tight:"1.25",snug:"1.375",normal:"1.5",relaxed:"1.625",loose:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},listStyleType:{none:"none",disc:"disc",decimal:"decimal"},listStyleImage:{none:"none"},margin:({theme:t})=>({auto:"auto",...t("spacing")}),lineClamp:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6"},maxHeight:({theme:t})=>({...t("spacing"),none:"none",full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),maxWidth:({theme:t,breakpoints:e})=>({...t("spacing"),none:"none",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem",full:"100%",min:"min-content",max:"max-content",fit:"fit-content",prose:"65ch",...e(t("screens"))}),minHeight:({theme:t})=>({...t("spacing"),full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),minWidth:({theme:t})=>({...t("spacing"),full:"100%",min:"min-content",max:"max-content",fit:"fit-content"}),objectPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},opacity:{0:"0",5:"0.05",10:"0.1",15:"0.15",20:"0.2",25:"0.25",30:"0.3",35:"0.35",40:"0.4",45:"0.45",50:"0.5",55:"0.55",60:"0.6",65:"0.65",70:"0.7",75:"0.75",80:"0.8",85:"0.85",90:"0.9",95:"0.95",100:"1"},order:{first:"-9999",last:"9999",none:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},outlineColor:({theme:t})=>t("colors"),outlineOffset:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},outlineWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},padding:({theme:t})=>t("spacing"),placeholderColor:({theme:t})=>t("colors"),placeholderOpacity:({theme:t})=>t("opacity"),ringColor:({theme:t})=>({DEFAULT:t("colors.blue.500","#3b82f6"),...t("colors")}),ringOffsetColor:({theme:t})=>t("colors"),ringOffsetWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},ringOpacity:({theme:t})=>({DEFAULT:"0.5",...t("opacity")}),ringWidth:{DEFAULT:"3px",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},rotate:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg",45:"45deg",90:"90deg",180:"180deg"},saturate:{0:"0",50:".5",100:"1",150:"1.5",200:"2"},scale:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5"},screens:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},scrollMargin:({theme:t})=>({...t("spacing")}),scrollPadding:({theme:t})=>t("spacing"),sepia:{0:"0",DEFAULT:"100%"},skew:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg"},space:({theme:t})=>({...t("spacing")}),spacing:{px:"1px",0:"0px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},stroke:({theme:t})=>({none:"none",...t("colors")}),strokeWidth:{0:"0",1:"1",2:"2"},supports:{},data:{},textColor:({theme:t})=>t("colors"),textDecorationColor:({theme:t})=>t("colors"),textDecorationThickness:{auto:"auto","from-font":"from-font",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},textIndent:({theme:t})=>({...t("spacing")}),textOpacity:({theme:t})=>t("opacity"),textUnderlineOffset:{auto:"auto",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},transformOrigin:{center:"center",top:"top","top-right":"top right",right:"right","bottom-right":"bottom right",bottom:"bottom","bottom-left":"bottom left",left:"left","top-left":"top left"},transitionDelay:{0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionDuration:{DEFAULT:"150ms",0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionProperty:{none:"none",all:"all",DEFAULT:"color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",colors:"color, background-color, border-color, text-decoration-color, fill, stroke",opacity:"opacity",shadow:"box-shadow",transform:"transform"},transitionTimingFunction:{DEFAULT:"cubic-bezier(0.4, 0, 0.2, 1)",linear:"linear",in:"cubic-bezier(0.4, 0, 1, 1)",out:"cubic-bezier(0, 0, 0.2, 1)","in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},translate:({theme:t})=>({...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),size:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",min:"min-content",max:"max-content",fit:"fit-content"}),width:({theme:t})=>({auto:"auto",...t("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",screen:"100vw",svw:"100svw",lvw:"100lvw",dvw:"100dvw",min:"min-content",max:"max-content",fit:"fit-content"}),willChange:{auto:"auto",scroll:"scroll-position",contents:"contents",transform:"transform"},zIndex:{auto:"auto",0:"0",10:"10",20:"20",30:"30",40:"40",50:"50"}},plugins:[]}),j$}var wie;function WTt(){return wie||(wie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});const e=n(qTt()),r=WU();function n(s){return s&&s.__esModule?s:{default:s}}function i(s){var o;const a=((o=s?.presets)!==null&&o!==void 0?o:[e.default]).slice().reverse().flatMap(u=>i(u instanceof Function?u():u)),l={respectDefaultRingColorOpacity:{theme:{ringColor:({theme:u})=>({DEFAULT:"#3b82f67f",...u("colors")})}},disableColorOpacityUtilitiesByDefault:{corePlugins:{backgroundOpacity:!1,borderOpacity:!1,divideOpacity:!1,placeholderOpacity:!1,ringOpacity:!1,textOpacity:!1}}},c=Object.keys(l).filter(u=>(0,r.flagEnabled)(s,u)).map(u=>l[u]);return[s,...c,...a]}})(O$)),O$}var bie;function HTt(){return bie||(bie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});const e=n(zTt()),r=n(WTt());function n(s){return s&&s.__esModule?s:{default:s}}function i(...s){let[,...o]=(0,r.default)(s[0]);return(0,e.default)([...s,...o])}})(u$)),u$}var M$,xie;function VTt(){if(xie)return M$;xie=1;let t=HTt();return M$=(t.__esModule?t:{default:t}).default,M$}var GTt=VTt();const KTt=Mi(GTt);var D$={},F$={},_ie;function YTt(){return _ie||(_ie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});function e(n,i){return{handler:n,config:i}}e.withOptions=function(n,i=()=>({})){const s=function(o){return{__options:o,handler:n(o),config:i(o)}};return s.__isOptionsFunction=!0,s.__pluginFunction=n,s.__configFunction=i,s};const r=e})(F$)),F$}var Cie;function JTt(){return Cie||(Cie=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});const e=r(YTt());function r(i){return i&&i.__esModule?i:{default:i}}const n=e.default})(D$)),D$}var L$,Eie;function XTt(){if(Eie)return L$;Eie=1;let t=JTt();return L$=(t.__esModule?t:{default:t}).default,L$}XTt();const QTt={content:["./index.html","./src/**/*.{js,ts,jsx,tsx}"],theme:{extend:{backgroundImage:{"panel-grad-1":"linear-gradient(180deg, rgba(5, 6, 7, 0.72), rgba(5, 6, 7, 0.35))","panel-gradient":"linear-gradient(180deg, rgba(8,10,12,.88), rgba(8,10,12,.55))","buy-depth-gradient":"linear-gradient(90deg, rgb(43, 255, 180, 0.7), rgb(43, 255, 180, 0.5), transparent)","sell-depth-gradient":"linear-gradient(90deg, rgb(239 68 68 / 0.8), rgb(239 68 68 / 0.4), transparent)"},colors:{white:"#ffffff",black:"#000000",bg:"#050607","soft-black":"rgb(18, 20, 22)",surface:"#0b0f14",panel:"#15181e",panel:"rgba(255,255,255,.05)",stroke:"rgba(255,255,255,.10)",txt:"#e9f5ef",muted:"#a8c7b8",accent2:"#00d7ff",grayed:"#949e9c",neon:"#50d2c1",sell:{50:"#fff1f1",100:"#ffdfdf",200:"#ffc5c5",300:"#ff9d9d",400:"#ff6e6e",500:"#ff4a4a",600:"#ed2d2d",700:"#c72121",800:"#a51f1f",900:"#891f1f",950:"#4b0c0c"},buy:{50:"#E6FFF6",100:"#CCFFED",200:"#99FFDB",300:"#66FFC9",400:"#33FFB7",500:"#2BFFB4",600:"#22CC90",700:"#1A996C",800:"#116648",900:"#083324"},cyan:{50:"#e6fbfb",100:"#cdf7f4",200:"#9bede9",300:"#69e3dd",400:"#37d9d1",500:"#00D8CC",600:"#00ada3",700:"#00827a",800:"#005651",900:"#002b28",950:"#001614"},mute:{50:"#f2f7f5",100:"#dfece4",200:"#c1d9cc",300:"#a8c7b8",400:"#6b9c86",500:"#4b7e69",600:"#386352",700:"#2c5043",800:"#254036",900:"#1f352d",950:"#111d19"},accent:{50:"#eafeff",100:"#cbfcff",200:"#9ef7ff",300:"#5bedff",400:"#00d7ff",500:"#00bce5",600:"#0095c0",700:"#03769b",800:"#0d5f7d",900:"#104f69",950:"#033349"},grayed:{50:"#f7f8f7",100:"#f1f2f1",200:"#e4e6e6",300:"#ced3d1",400:"#afb7b5",500:"#949e9c",600:"#7c8685",700:"#66706f",800:"#565e5d",900:"#4a5150",950:"#292e2d"}},boxShadow:{glow:"0 0 18px rgba(43,255,180,.22), 0 0 60px rgba(0,215,255,.10)","glow-sell":"0 0 18px rgba(255,74,74,.18)"},fontFamily:{mono:["ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],sans:["ui-sans-serif","system-ui","-apple-system","Segoe UI","Roboto","Helvetica","Arial","sans-serif"]},fontSize:{"2xs":["0.625rem",{lineHeight:"0.75rem"}],xs:["0.7rem",{lineHeight:"1rem"}]},keyframes:{slideDown:{"0%":{opacity:"0",transform:"translateY(-10px)"},"100%":{opacity:"1",transform:"translateY(0)"}},slideUp:{"0%":{opacity:"0",transform:"translateY(10px)"},"100%":{opacity:"1",transform:"translateY(0)"}},slideRight:{"0%":{opacity:"0",transform:"translateX(-10px)"},"100%":{opacity:"1",transform:"translateX(0)"}},slideLeft:{"0%":{opacity:"0",transform:"translateX(10px)"},"100%":{opacity:"1",transform:"translateX(0)"}},slideOutLeft:{"0%":{opacity:"1",transform:"translateX(0)"},"100%":{opacity:"0",transform:"translateX(-10px)"}}},animation:{"slide-down":"slideDown 0.15s ease-out forwards","slide-up":"slideUp 0.15s ease-out forwards","slide-righ":"slideRight 0.15s ease-out forwards","slide-left":"slideLeft 0.2s ease-out forwards","slide-out-left":"slideOutLeft 0.2s ease-in forwards"}}},plugins:[]},ZTt=KTt(QTt),kie=ZTt.theme?.colors,di=(t,e,r)=>Math.max(e,Math.min(r,t)),Gm=(t,e,r)=>t+(e-t)*r,e7t=(t,e)=>{const r=Math.sign(t)||1,n=Math.abs(t),i=1+6*e;return r*Math.pow(n,1/i)};function Sie(t){const e=Math.random()*Math.PI*2,r=Math.sqrt(Math.random());return{x:Math.cos(e)*t*r,z:Math.sin(e)*t*r}}function t7t({width:t,height:e,agitation:r=6,agitationSpeed:n=1.6,volumeIntensity:i=1.2,volumeSmooth:s=.22,edgeSharpness:o=1.7,sizeMult:a=1.5,burst:l=0,bubbleInterval:c=1,bubblesPerPump:u=7,bubbleMinRadius:h=2.5,bubbleMaxRadius:f=8,bubbleRiseSpeed:p=85,level:m=0,surfaceBandColor:v=4138025,surfaceFrontColor:w=7028037,surfaceBackColor:b=7028037,onStats:E}){const{theme:_}=Dr(),A=x.useRef(null),C=x.useRef({agitation:r,agitationSpeed:n,baseAgitation:r,baseAgitationSpeed:n,volumeIntensity:i,volumeSmooth:s,edgeSharpness:o,sizeMult:a,burst:l,bubbleInterval:c,bubblesPerPump:u,bubbleMinRadius:h,bubbleMaxRadius:f,bubbleRiseSpeed:p,level:m,surfaceBandColor:v,surfaceFrontColor:w,surfaceBackColor:b}),k=x.useRef([]),P=x.useRef(new Map),F=x.useRef(0),N=x.useRef(0),$=x.useRef(0),U=x.useRef(0),O=x.useRef([]);return C.current={agitation:r,agitationSpeed:n,baseAgitation:r,baseAgitationSpeed:n,volumeIntensity:i,volumeSmooth:s,edgeSharpness:o,sizeMult:a,burst:l,bubbleInterval:c,bubblesPerPump:u,bubbleMinRadius:h,bubbleMaxRadius:f,bubbleRiseSpeed:p,level:m,surfaceBandColor:v,surfaceFrontColor:w,surfaceBackColor:b},x.useEffect(()=>{const D=z4t(T=>{if(k.current.push(T),T.type==="trade"){let L=.8*Math.max(T.size??0,0);T.isUser&&(L*=1.4),$.current+=L}});return()=>{D()}},[]),x.useEffect(()=>{const D=A.current;if(!D)return;let T=!1,I=!1,R=null,L=null;const B=[],q=()=>{if(!I){I=!0;try{L?.disconnect()}catch{}if(L=null,!!R){try{R.ticker.stop()}catch{}try{const W=R.canvas;W?.parentNode&&W.parentNode.removeChild(W)}catch{}try{R.destroy(!0)}catch{}R=null}}},G=(async()=>{if(R=new obe,await R.init({width:1,height:1,backgroundAlpha:0,antialias:!0,autoDensity:!0,resolution:Math.min(2,window.devicePixelRatio||1)}),T){q();return}D.appendChild(R.canvas);const W=new pd;R.stage.addChild(W);const j=new pd;W.addChild(j);const Y=new ih;j.mask=Y,W.addChild(Y);const Q=new ih,z=new ih,Z=new ih,ee=new ih,te=new ih;j.addChild(Q,z,Z,ee),W.addChild(te);let se=0,ce=0,ge=0,ae=0,_e=160;const Ee=.1,Ie=-.08,qe=140,me=220;let ze=0,rt=1,Ae=1,Fe=0,nt=0,_t=0,Ye=0,wt=0,xt=0,Le=C.current.burst,Ke=0;function Qe(Ne,Ve){const Se=C.current.volumeIntensity,Me=.12*Math.sin(Ne*.16)+.07*Math.sin(Ne*.41+1.7),Je=.03*Math.sin(Ne*2.1)+.02*Math.sin(Ne*3.7+.4);return xt*=Math.exp(-.85*Ve),di(1*Se+Me+Je+xt,.35,3.7)}function it(Ne){const Me=Math.pow(di(Ae,.4,3.2),.55)-.85,Je=di(Me,0,2.7);Fe=Gm(Fe,Je,1-Math.exp(-Ne/.12))}function st(Ne){const Ve=di(Fe/2.7,0,1),Se=k.current;if(Se.length){const le=Date.now();for(let ve=0;ve<32&&Se.length;ve++){const be=Se.shift();if(be.type!=="trade")continue;const Pe=be.market,Xe=be.side,gt=be.size,Pt=`${Pe}|${Xe}|${Math.round(gt*1e3)/1e3}`;if(be.source==="publicTrade"){const qr=P.current.get(Pt);if(qr&&le-qr<900)continue}else be.source==="userAction"&&P.current.set(Pt,le);const er=C.current,Nt=Math.max(gt,1e-4),Et=-2,Vt=di((Math.log10(Nt)-Et)/(3-Et),0,1),Lt=Gm(er.bubbleMinRadius,er.bubbleMaxRadius*2.2,Vt)*(be.isUser?1.15:1),_r=_e*.7,gr=Sie(_r),vr=pt(gr.x,gr.z)+(12+Math.random()*30);B.push({x:gr.x,y:vr,z:gr.z,r:Lt,vy:er.bubbleRiseSpeed*(.7+.6*Math.random())*(.75+.55*Ve),phase:Math.random()*Math.PI*2,age:0,life:1+Math.random()*1.2,isUser:!!be.isUser,side:Xe,spawnedAt:le,source:be.source})}for(const[ve,be]of P.current.entries())le-be>2e3&&P.current.delete(ve)}const Me=di((rt-Ae)*1.3+.35*Math.sin(ze*.8),-1,1)*(.4+.9*Ve),Je=7.1,Ue=12.2,vt=1.1,tr=1.45,$t=4.6,X=3,ne=$t*Me-2*vt*Je*_t-Je*Je*nt,oe=X*Me-2*tr*Ue*wt-Ue*Ue*Ye;_t+=ne*Ne,nt+=_t*Ne,wt+=oe*Ne,Ye+=wt*Ne,nt=di(nt,-1.25,1.25),Ye=di(Ye,-1.25,1.25)}function pt(Ne,Ve){const Se=di(C.current.level,-1,1)*(_e*.45),Me=.18*nt,Je=.12*Ye,Ue=di(Fe/2.7,0,1),vt=Math.atan2(Ve,Ne),tr=Math.sqrt(Ne*Ne+Ve*Ve),$t=_e*.92,X=di(tr/$t,0,1),ne=(1.2+4.2*Ue)*(.55+.65*C.current.agitation),oe=3+5*Ue,le=1.8*C.current.agitationSpeed,be=(.15+.85*Math.pow(X,.8))*ne*(.55*Math.sin(vt*oe+ze*le)+.25*Math.sin(vt*(oe*1.7)+ze*(le*1.35)+1.1)+.2*Math.sin(vt*(oe*2.6)+ze*(le*1.9)+.4)),Pe=di(C.current.vol??0,0,1),Xe=di((Pe-.55)/.45,0,1),gt=e7t(be,Xe),Pt=be*(1-Xe)+gt*Xe,er=Math.pow(Pe,1.3),Et=(.18+1.1*er)*(.3+.7*X)*(.65+.35*Ue)*(.55*Math.sin(vt*11+ze*(6.5+8*er)+.3)+.3*Math.sin(vt*17+ze*(9+11*er)+1.7)+.15*Math.sin(vt*23+ze*(12+14*er)+2.9)),Ct=10+22*C.current.edgeSharpness,Vt=Math.exp(-Ct*(1-X)),Lt=(_e*.02+_e*.06*Ue)*Vt;return Se+Me*Ne+Je*Ve+Pt+Et-Lt}function Ze(Ne,Ve,Se){const Me=Ne,Je=Ve+Se*Ee+Se*Ee*Ie,Ue=di(Se/(_e*.92),-1,1);return{sx:Me,sy:Je,depthN:Ue}}function Mt(){Y.clear(),Y.circle(0,0,_e).fill(16777215),te.clear(),te.circle(0,0,_e).stroke({color:_==="light"?14667195:2110020,alpha:.95,width:2})}function yt(){const Ne=_e*.92,Ve=[];for(let Se=0;Se<=qe;Se++){const Me=Se/qe,Je=Gm(-Ne,Ne,Me),Ue=Math.sqrt(Math.max(0,Ne*Ne-Je*Je));let vt=pt(Je,0);vt=di(vt,-Ue,Ue),Ve.push({x:Je,y:vt})}Q.clear(),Q.moveTo(Ve[0].x,Ve[0].y);for(let Se=1;Se<Ve.length;Se++)Q.lineTo(Ve[Se].x,Ve[Se].y);for(let Se=qe;Se>=0;Se--){const Me=Se/qe,Je=Gm(-Ne,Ne,Me),Ue=-Math.sqrt(Math.max(0,Ne*Ne-Je*Je));Q.lineTo(Je,Ue)}Q.closePath(),Q.fill({color:_==="light"?2949127:13828088,alpha:.14}),z.clear(),z.moveTo(Ve[0].x,Ve[0].y);for(let Se=1;Se<Ve.length;Se++)z.lineTo(Ve[Se].x,Ve[Se].y);for(let Se=qe;Se>=0;Se--){const Me=Se/qe,Je=Gm(-Ne,Ne,Me),Ue=Math.sqrt(Math.max(0,Ne*Ne-Je*Je));z.lineTo(Je,Ue)}z.closePath(),z.fill({color:_==="light"?298618:16478597,alpha:.28})}function ue(){Z.clear();const Ne=_e*.92,Ve=[],Se=[];for(let Me=0;Me<=me;Me++){const Je=Me/me*Math.PI*2,Ue=Ne*Math.cos(Je),vt=Ne*Math.sin(Je),tr=pt(Ue,vt),$t=Ze(Ue,tr,vt);vt<0?Ve.push({x:$t.sx,y:$t.sy}):Se.push({x:$t.sx,y:$t.sy})}if(!(Ve.length<2||Se.length<2)){Z.moveTo(Ve[0].x,Ve[0].y);for(let Me=1;Me<Ve.length;Me++)Z.lineTo(Ve[Me].x,Ve[Me].y);for(let Me=0;Me<Se.length;Me++)Z.lineTo(Se[Me].x,Se[Me].y);Z.closePath(),Z.fill({color:v,alpha:.9}),Z.moveTo(Ve[0].x,Ve[0].y);for(let Me=1;Me<Ve.length;Me++)Z.lineTo(Ve[Me].x,Ve[Me].y);Z.stroke({color:b,alpha:.9,width:1}),Z.moveTo(Se[0].x,Se[0].y);for(let Me=1;Me<Se.length;Me++)Z.lineTo(Se[Me].x,Se[Me].y);Z.stroke({color:b,alpha:.9,width:1})}}function we(Ne){const Ve=C.current,Se=di(Fe/2.7,0,1);if(Ke+=Ne,Ke>=Ve.bubbleInterval){Ke-=Ve.bubbleInterval;for(let Me=0;Me<Ve.bubblesPerPump;Me++){const Je=_e*.7,Ue=Sie(Je),tr=pt(Ue.x,Ue.z)+(12+Math.random()*30);B.push({x:Ue.x,z:Ue.z,y:tr,r:Ve.bubbleMinRadius+Math.random()*(Ve.bubbleMaxRadius-Ve.bubbleMinRadius),vy:Ve.bubbleRiseSpeed*(.7+.6*Math.random())*(.75+.55*Se),phase:Math.random()*Math.PI*2,age:0,life:1+Math.random()*1.2})}}for(let Me=B.length-1;Me>=0;Me--){const Je=B[Me];Je.age+=Ne,Je.y-=Je.vy*Ne;const Ue=(10+30*Se)*Ve.agitationSpeed;Je.x+=Math.sin(Je.phase+Je.age*3.1)*Ue*Ne*.15,Je.z+=Math.cos(Je.phase+Je.age*2.6)*Ue*Ne*.15;const vt=_e*.86,tr=Math.sqrt(Je.x*Je.x+Je.z*Je.z);if(tr>vt){const X=vt/tr;Je.x*=X,Je.z*=X}const $t=pt(Je.x,Je.z);if(Je.y<=$t||Je.age>=Je.life){B.splice(Me,1);continue}}ee.clear(),B.sort((Me,Je)=>Me.z-Je.z);for(const Me of B){const Je=Ze(Me.x,Me.y,Me.z),Ue=Je.depthN,vt=1+.12*Ue,tr=di(.55+.2*Ue,.25,.85),X=1-di(Me.age/Me.life,0,1),ne=Me.r*vt,oe=kie.buy[_==="light"?700:400],le=kie.sell[_==="light"?900:600],ve=Me.isUser?_==="light"?0:16777215:Me.side==="sell"?le:oe;let be=(Me.isUser?.16:.1)*tr*X,Pe=(Me.isUser?.55:.28)*tr*X;if(_=="light"&&(be=Math.min(1,.1+be),Pe=Math.min(1,.1+Pe)),ee.circle(Je.sx,Je.sy,ne).fill({color:ve,alpha:be}),ee.circle(Je.sx,Je.sy,ne).stroke({width:Me.isUser?3:2,color:ve,alpha:Pe}),Me.isUser){const Nt=.5+.5*Math.sin(ze*9+Me.phase),Et=(.35+.35*Nt)*tr*X;ee.circle(Je.sx,Je.sy,ne*(1.1+.08*Nt)).fill({color:_==="light"?0:16777215,alpha:.12*Nt*tr*X}),ee.circle(Je.sx,Je.sy,ne*(1.45+.1*Nt)).stroke({width:4,color:_==="light"?0:16777215,alpha:.28*Nt*tr*X}),ee.circle(Je.sx,Je.sy,ne*(1.85+.12*Nt)).stroke({width:3,color:_==="light"?0:16777215,alpha:Et})}const Xe=di(C.current.vol??0,0,1),gt=O.current,er=Math.max(0,Xe-.7)*22*Ne;if(Math.random()<er){const Nt=1+(Math.random()<.35?1:0);for(let Et=0;Et<Nt;Et++){const Ct=Math.random()*Math.PI*2,Lt=_e*.9*(.82+.18*Math.random()),_r=Math.cos(Ct)*Lt,gr=Math.sin(Ct)*Lt,Nr=pt(_r,gr);gt.push({x:_r,y:Nr+6,z:gr,vy:70+150*Xe+50*Math.random(),r:1.2+2.4*Math.random(),life:.35+.28*Math.random(),age:0,phase:Math.random()*Math.PI*2})}}for(let Nt=gt.length-1;Nt>=0;Nt--){const Et=gt[Nt];if(Et.age+=Ne,Et.y-=Et.vy*Ne,Et.vy*=1-1.6*Ne,Et.age>=Et.life){gt.splice(Nt,1);continue}const Ct=Ze(Et.x,Et.y,Et.z),Lt=1-di(Et.age/Et.life,0,1),_r=.6+.4*Math.sin(ze*14+Et.phase);ee.circle(Ct.sx,Ct.sy,Et.r).fill({color:_==="light"?0:16777215,alpha:.35*Lt*_r})}}}function Re(Ne,Ve){!R||T||(se=Math.max(2,Math.floor(Ne)),ce=Math.max(2,Math.floor(Ve)),ge=se/2,ae=ce/2,R.renderer.resize(se,ce),W.position.set(ge,ae),_e=Math.min(se,ce)*.24*C.current.sizeMult,Mt())}if(t!=null&&e!=null)Re(t,e);else{const Ne=D.getBoundingClientRect();Re(Ne.width,Ne.height),L=new ResizeObserver(Ve=>{if(!R||T)return;const Se=Ve[0]?.contentRect;Se&&Re(Se.width,Se.height)}),L.observe(D)}R.ticker.add(()=>{if(!R||T)return;const Ne=R.ticker.deltaMS/1e3;ze+=Ne;const Ve=1.2;F.current*=Math.exp(-Ne/Ve),F.current+=$.current,$.current=0;const Me=1-Math.exp(-Ne/4);U.current+=Me*(F.current-U.current);const Ue=Math.max(10,U.current*1.2),vt=1-Math.exp(-F.current/Ue),$t=1-Math.exp(-Ne/.18);N.current+=$t*(vt-N.current);const X=Math.max(0,Math.min(1,N.current)),ne=C.current.baseAgitation??C.current.agitation,oe=C.current.baseAgitationSpeed??C.current.agitationSpeed,le=5,ve=.5,be=Math.pow(X,1.6);C.current.agitation=ne+le*be,C.current.agitationSpeed=oe+ve*X,C.current.vol=X,C.current.burst!==Le&&(Le=C.current.burst,xt=2.2),rt=Qe(ze,Ne);const Pe=di(C.current.volumeSmooth,.05,.9),Xe=1-Math.exp(-Ne/(.06+.55*Pe));Ae=Gm(Ae,rt,Xe),it(Ne),st(Ne),yt(),ue(),we(Ne),E?.({energy:Fe,bubbles:B.length}),W.position.set(ge,ae)})})();return()=>{T=!0,G.finally(()=>q())}},[_,t,e,E]),d.jsx("div",{ref:A,style:{width:t??"100%",height:e??"100%"}})}function jbe(){const{theme:t}=Dr(),[e,r]=x.useState({w:window.innerWidth,h:window.innerHeight});return x.useEffect(()=>{const n=()=>r({w:window.innerWidth,h:window.innerHeight});return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),d.jsx("div",{className:"fixed inset-0 z-0",children:d.jsx(t7t,{width:e.w,height:e.h,level:.05,agitation:.75,agitationSpeed:1.25,burst:3,bubbleMinRadius:1.6,bubbleMaxRadius:18,bubbleRiseSpeed:55,surfaceBandColor:t=="light"?12639190:4138025,surfaceFrontColor:t=="light"?9749178:7028037,surfaceBackColor:t=="light"?9749178:7028037})})}function f_(t){const{link:e,children:r,className:n=""}=t;return d.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:n,...t,children:r&&d.jsx("span",{children:r})})}function r7t({size:t=22,className:e="",...r}){return d.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-colors ${e}`,...r,children:[d.jsx("path",{d:"M6 5v14"}),d.jsx("path",{d:"M4.8 8h2.4v6H4.8z"}),d.jsx("path",{d:"M12 3v18"}),d.jsx("path",{d:"M10.8 7h2.4v8h-2.4z"}),d.jsx("path",{d:"M18 6v12"}),d.jsx("path",{d:"M16.8 9h2.4v4h-2.4z"})]})}function n7t({size:t=22,className:e="",...r}){return d.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-colors ${e}`,...r,children:[d.jsx("path",{d:"M3 3v18h18"}),d.jsx("path",{d:"M7 14l4-4 4 4 4-6"})]})}function i7t({size:t=22,className:e="",...r}){return d.jsxs("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`transition-colors ${e}`,...r,children:[d.jsx("path",{d:"M4 7h11"}),d.jsx("path",{d:"M9 3l-4 4 4 4"}),d.jsx("path",{d:"M20 17H9"}),d.jsx("path",{d:"M15 13l4 4-4 4"})]})}function s7t(){const{theme:t}=Dr(),{selectedMarket:e,markets:r,marketPopupOpen:n,setMarketPopupOpen:i}=uc(),s=r.find(a=>a.symbol===e),o=s?.baseAsset&&s?.quoteAsset?`${s.baseAsset}-${s.quoteAsset}`:e;return d.jsxs("button",{onClick:()=>i(!0),className:`
        flex items-center gap-2 text-lg font-semibold
        ${t==="light"?"text-black":"text-white"}
        hover:opacity-80 transition focus:outline-none
      `,children:[d.jsx("span",{className:"whitespace-nowrap",children:o}),d.jsx("svg",{className:`opacity-60 transition-transform ${n?"rotate-180":""}`,style:{width:".85em",height:".85em"},viewBox:"0 0 24 24",fill:"none",children:d.jsx("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2"})})]})}function VU({allowMobileToggle:t=!1}){const{theme:e}=Dr(),[r,n]=x.useState(!1),[i,s]=x.useState(Date.now()),{isMobile:o}=wo(),{selectedMarket:a,markets:l}=uc(),{marketStats:c}=Sve(),u=l.find(f=>f.symbol===a),h=c[a];return x.useEffect(()=>{const f=setInterval(()=>s(Date.now()),1e3);return()=>clearInterval(f)},[]),d.jsxs("div",{className:`rounded-sm ${o?"":`border ${e==="light"?"border-black/10":"border-white/10"}`} px-4 py-3`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx(s7t,{}),d.jsxs("div",{className:"text-[11px] text-buy-500 mt-0.5",children:[u?.maxLeverage||1,"x"]})]}),d.jsxs("div",{className:"flex flex-col leading-tight",children:[d.jsxs("div",{className:`text-xl font-semibold ${e==="light"?"text-black":"text-white"}`,children:["$",Ll(h?.lastPrice||0)]}),d.jsxs("div",{className:`text-sm ${h?.change24hPct>=0?"text-buy-500":"text-sell-500"}`,children:[h?.change24hAbs>=0?"+":"",h?.change24hAbs.toFixed(0)||"--"," /"," ",h?.change24hPct.toFixed(2)||"--","%"]})]})]}),(!o||t)&&d.jsx("button",{onClick:()=>n(f=>!f),className:`w-7 h-7 flex items-center justify-center rounded-lg
                        border ${e==="light"?"border-black/10":"border-white/10"} bg-white/5
                        hover:bg-white/10 transition`,children:d.jsx(BC,{toggle:r,size:14,className:e==="light"?"text-black":"text-white"})})]}),r&&d.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-y-2 gap-x-4 text-[13px]",children:[d.jsx(p4,{label:"Mark / Oracle",value:`${Ll(h?.lastPrice)} / ${Ll(h?.oraclePrice)}`}),d.jsx(p4,{label:"24H Volume",value:`$${Os(h?.volume24h)}`}),d.jsx(p4,{label:"Open Interest",value:`$${Os(h?.openInterest)}`}),d.jsx(p4,{label:"Funding / Countdown",value:o7t(h?.funding,h?.nextFundingTime,i),positive:h?.funding>=0})]})]})}function o7t(t,e,r){const n=t*100,s=`${n>=0?"+":""}${n.toFixed(4)}%`,o=Math.max(0,e-r),a=Math.floor(o/1e3),l=Math.floor(a/3600),c=Math.floor(a%3600/60),u=a%60;return`${s} ${l.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`}function p4({label:t,value:e,positive:r}){const{theme:n}=Dr();return d.jsxs("div",{children:[d.jsx("div",{className:"text-muted text-[9px] sm:text-[10px] tracking-wide",children:t}),d.jsx("div",{className:`break-all leading-tight ${r===void 0?n==="light"?"text-black":"text-white":r?"text-buy-500":"text-sell-500"}`,children:e})]})}function Mbe(){const{address:t,isConnected:e}=Pn(),{network:r}=fn(),{showApprovalModal:n,isBuilderFeeApproved:i}=CU();if(!e||!t||!lh()||Ol===0)return null;const s=F0(t,r),o=LC(t,r);if(!s||o||i)return null;const a=F1e(Ol),l=(a*.01).toFixed(3);return d.jsx("div",{className:"rounded-lg border border-yellow-500/50 bg-yellow-500/10 p-3 mb-3",children:d.jsxs("div",{className:"flex items-start justify-between gap-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-black text-txt mb-1",children:"Approve Builder Fee"}),d.jsxs("div",{className:"text-xs text-mute-300",children:["To support the terminal, a builder fee of ",d.jsxs("span",{className:"text-txt font-bold",children:[a," bps"]})," (",l,"%) will be applied to your trades."]})]}),d.jsx(Gr,{variant:"primary",onClick:n,className:"px-4 py-2 text-xs whitespace-nowrap",children:"Approve"})]})})}function hs({children:t,className:e=""}){return d.jsx("div",{className:`card ${e}`,children:t})}function lo({id:t,value:e,onChange:r,label:n,labelMobile:i,onAddonAct:s,addonAct:o,suffix:a,className:l="",type:c="number",error:u,...h}){const{theme:f}=Dr(),{isMobile:p}=wo(),m=p&&i?i:n,v=!!e,w=v&&!!u;return d.jsxs("div",{children:[d.jsxs("div",{className:"floating-label-container relative",children:[d.jsx("input",{id:t,type:c,value:e,onChange:r,placeholder:" ",className:`floating-label-input ${a?"pr-12":""} ${v?"has-value":""} ${l}`,...h}),d.jsx("label",{htmlFor:t,className:"floating-label",children:m}),o&&d.jsx("span",{className:`${f==="light"?"text-black/90":"text-mute-300"} absolute cursor-pointer select-none hover:underline right-2 top-1/3 -translate-y-1/2 text-[10px]`,onClick:()=>s&&s(),children:o}),a&&d.jsx("span",{className:`${f==="light"?"text-black/90":"text-mute-300"} absolute right-2 ${o?"bottom-[-2px]":"top-1/2"} -translate-y-1/2 text-[10px] pointer-events-none`,children:a})]}),w&&d.jsx("p",{className:"ml-2 mr-2 text-[10px] text-red-500",children:u})]})}const a7t=[{key:"market",label:"Market",hint:"Instant"},{key:"limit",label:"Limit",hint:"Trigger"},{key:"stop-market",label:"Stop Market",hint:"Instant"},{key:"stop-limit",label:"Stop Limit",hint:"Trigger"}];function l7t({value:t,onChange:e,variant:r}){const{theme:n}=Dr();return d.jsx("div",{className:`grid grid-cols-4 gap-1 rounded-lg p-1 border ${n==="light"?"bg-black/10 border-black/10":"bg-white/10 border-white/10"}`,children:a7t.map(i=>{const s=t===i.key;return d.jsx("button",{type:"button",onClick:()=>e(i.key),className:["h-9 rounded-md text-left transition","border select-none text-center",r=="mini"?"px-1":"px-2",n==="light"?s?"bg-[#50D2C1] border-[#50D2C1] text-black":"bg-white border-gray-200 text-black/70 hover:text-black":s?"bg-white/15 border-white/20":"bg-black/20 border-white/10 hover:bg-white/10"].join(" "),title:i.hint,children:d.jsx("div",{className:`text-[${r=="mini"?"9px":"11px"}] font-extrabold tracking-wide`,children:i.label})},i.key)})})}function Dbe({variant:t="standard"}){const{theme:e}=Dr(),{address:r}=Pn(),{network:n}=fn(),{orderType:i,setOrderType:s,leverage:o,setLeverage:a,size:l,setSize:c,limitPrice:u,setLimitPrice:h,stopTriggerPrice:f,setStopTriggerPrice:p,takeProfit:m,setTakeProfit:v,stopLoss:w,setStopLoss:b}=oU(),{data:E}=P3({address:r||"",network:n}),{positions:_}=dc(),{totalCollateral:A}=kU(_),C=E?.totalEquity??0,{markets:k,selectedMarket:P}=uc(),{isMobile:F}=wo(),N=x.useMemo(()=>k.find(I=>I.symbol===P)?.maxLeverage??1,[k,P]),$=x.useMemo(()=>Math.max(0,Math.floor((C-A)*N-1)),[N,E,_]),U=x.useRef(""),[O,D]=m1(`orderForm:${P}`,{orderType:i,leverage:o,size:l,limitPrice:u,stopTriggerPrice:f,takeProfit:m,stopLoss:w});x.useEffect(()=>{if(O){O.orderType&&s(O.orderType),typeof O.leverage=="number"&&a(O.leverage),typeof O.size=="string"&&c(O.size),typeof O.limitPrice=="string"&&h(O.limitPrice),typeof O.stopTriggerPrice=="string"&&p(O.stopTriggerPrice),typeof O.takeProfit=="string"&&v(O.takeProfit),typeof O.stopLoss=="string"&&b(O.stopLoss);try{U.current=JSON.stringify(O)}catch{}}},[P]),x.useEffect(()=>{const I={orderType:i,leverage:o,size:l,limitPrice:u,stopTriggerPrice:f,takeProfit:m,stopLoss:w},R=JSON.stringify(I);R!==U.current&&(U.current=R,D(I))},[i,o,l,u,f,m,w,D]);const T=()=>{a(N),c($.toFixed(0))};return d.jsxs(d.Fragment,{children:[!F&&d.jsx(Mbe,{}),d.jsxs(hs,{className:"space-y-2 bg-panel-gradient rounded-sm",children:[d.jsxs("div",{children:[d.jsx("label",{className:`text-[10px] tracking-wide ${e==="light"?"text-black":"text-mute-300"}`,children:"Order Type"}),d.jsx("div",{className:"mt-1",children:d.jsx(l7t,{value:i,onChange:s,variant:t})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("div",{children:d.jsx(lo,{id:"order-size",type:"number",value:l,onChange:I=>c(I.target.value),label:"Size",addonAct:"MAX",onAddonAct:()=>{T()},suffix:"USDC",error:Number(l)<10.5?"Size must be at least 10.5":Number(l)>$?`Your max size is ${$}`:""})}),d.jsx("div",{children:F?d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("label",{className:`text-[10px] tracking-wide whitespace-nowrap ${e==="light"?"text-black":"text-mute-300"}`,children:"Leverage"}),d.jsxs("span",{className:"text-[11px] text-white/80 whitespace-nowrap",children:[o,"x"]})]}),d.jsx("input",{type:"range",min:"1",max:N,value:o,onChange:I=>a(Number(I.target.value)),className:`w-full h-8 ${e==="light"?"accent-cyan-700":"accent-cyan-500"}`})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-end justify-between",children:[d.jsx("label",{className:`text-[10px] tracking-wide whitespace-nowrap ${e==="light"?"text-black":"text-mute-300"}`,children:"Leverage"}),d.jsxs("span",{className:"text-[11px] text-white/80",children:[o,"x"]})]}),d.jsx("input",{type:"range",min:"1",max:N,value:o,onChange:I=>a(Number(I.target.value)),className:`w-full h-8 ${e==="light"?"accent-cyan-700":"accent-cyan-500"}`})]})})]}),i==="limit"&&d.jsx(lo,{id:"order-limit-price",type:"number",value:u,onChange:I=>h(I.target.value),label:"Limit Price"}),(i==="limit"||i==="market")&&d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx(lo,{id:"order-take-profit",type:"number",value:m,onChange:I=>v(I.target.value),label:"Take Profit %",labelMobile:"TP %"}),d.jsx(lo,{id:"order-stop-loss",type:"number",value:w,onChange:I=>b(I.target.value),label:"Stop Loss %",labelMobile:"SL %"})]}),(i==="stop-market"||i==="stop-limit")&&d.jsx(lo,{id:"order-trigger-price",type:"number",value:f,onChange:I=>p(I.target.value),label:"Trigger Price"}),i==="stop-limit"&&d.jsx(lo,{id:"order-stop-limit-price",type:"number",value:u,onChange:I=>h(I.target.value),label:"Limit Price"}),d.jsx("div",{className:"border-t border-white/10 pt-2",children:d.jsxs("div",{className:`text-[10px] ${e==="light"?"text-black":"text-mute-300"}`,children:["Builder Fee:"," ",d.jsxs("span",{className:"text-txt font-semibold",children:[lh()?(k4t(Ol)*100).toFixed(3):"0","%"]})]})})]})]})}function c7t(){const{isMobile:t,showSettingsPanel:e,setShowSettingsPanel:r,miniWidgetEnabled:n,setMiniWidgetEnabled:i,rightDockEnabled:s,setRightDockEnabled:o,bottomRightDockEnabled:a,setBottomRightDockEnabled:l,hotkeySettingEnabled:c,setHotkeySettingEnabled:u,bottomBarEnabled:h,setBottomBarEnabled:f}=wo(),{theme:p}=Dr();return t?null:d.jsxs("div",{className:"fixed left-0 top-[88px] z-40 pointer-events-auto",children:[d.jsx("div",{className:`transition-all duration-200 ${e?"opacity-100":"opacity-0 pointer-events-none translate-x-[-8px]"}`,children:d.jsxs("div",{className:"w-[330px] bg-panel-gradient rounded-sm border border-white/10 backdrop-blur-[10px] overflow-hidden shadow-lg",children:[d.jsxs("div",{className:`px-3 py-2 border-b ${p==="light"?"border-black/10":"border-white/10"} flex items-center justify-between`,children:[d.jsx("div",{className:"text-sm font-black text-txt",children:"Settings"}),d.jsx("button",{className:"text-mute-300 hover:text-cyan-50 font-black",onClick:()=>r(!1),"aria-label":"Close settings",children:""})]}),d.jsxs("div",{className:"p-3 space-y-3",children:[d.jsx("div",{className:"text-[11px] text-muted",children:"Toggle"}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:()=>o(!s),className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center
                    ${p==="light"?s?"bg-[#50D2C1]":"bg-white":s?"bg-white/15":"bg-black/30 hover:bg-white/10"}`,"aria-label":"Market panel",title:"Market Panel",children:d.jsx(n7t,{className:p==="light"?s?"text-black":"text-gray-400":"text-white/60"})}),d.jsx("button",{onClick:()=>i(!n),className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center
                    ${p==="light"?n?"bg-[#50D2C1]":"bg-white":n?"bg-white/15":"bg-black/30 hover:bg-white/10"}`,"aria-label":"Toggle mini chart widget",title:n?"Mini Chart: On":"Mini Chart: Off",children:d.jsx(r7t,{className:p==="light"?n?"text-black":"text-gray-400":"text-white/60"})}),d.jsx("button",{onClick:()=>l(!a),className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center
                    ${p==="light"?a?"bg-[#50D2C1]":"bg-white":a?"bg-white/15":"bg-black/30 hover:bg-white/10"}`,"aria-label":"Funds (Deposit / Withdraw)",title:"Deposit / Withdraw",children:d.jsx(i7t,{className:p==="light"?a?"text-black":"text-gray-400":"text-white/60"})}),d.jsx("button",{onClick:()=>f(!h),className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center
                    ${p==="light"?h?"bg-[#50D2C1]":"bg-white":h?"bg-white/15":"bg-black/30 hover:bg-white/10"}`,"aria-label":"Bottom Panel Setting",title:h?"Bottom Panel: On":"Bottom Panel: Off",children:d.jsx(sEt,{className:p==="light"?h?"text-black":"text-gray-400":"text-white/60"})}),d.jsx("button",{onClick:()=>u(!c),className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center
                    ${p==="light"?c?"bg-[#50D2C1]":"bg-white":c?"bg-white/15":"bg-black/30 hover:bg-white/10"}`,"aria-label":"Hotkey settings",title:c?"Hotkeys: On":"Hotkeys: Off",children:d.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:p==="light"?c?"text-black":"text-gray-400":"text-white/60","aria-hidden":"true",children:[d.jsx("rect",{x:"3",y:"7",width:"18",height:"10",rx:"2"}),d.jsx("path",{d:"M7 11h.01M10 11h.01M13 11h.01M16 11h.01M19 11h.01"}),d.jsx("path",{d:"M7 14h.01M10 14h.01M13 14h.01M16 14h.01"}),d.jsx("path",{d:"M8 16h8"})]})})]}),d.jsx(Bve,{}),d.jsx(VU,{}),d.jsx("div",{className:"h-full",children:d.jsx(Dbe,{})}),d.jsx("div",{className:`text-[11px] leading-relaxed ${p==="light"?"text-black":"text-mute-300"}`,children:"Tip: Place orders instantly with hotkeys and visualize trades for faster reaction and awareness."}),d.jsx("div",{children:d.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[d.jsx("a",{href:"mailto:contactus@engrewlabs.org",className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center ${p==="light"?"bg-black/10 hover:bg-gray-200":"bg-black/30 hover:bg-white/10"}`,"aria-label":"Email",title:"Email",children:d.jsx(Fve,{className:p==="light"?"w-5 h-5 text-black mx-auto":"w-5 h-5 text-white/60 mx-auto"})}),d.jsx(f_,{link:"https://discord.gg/rzSfuFUJbJ",className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center ${p==="light"?"bg-black/10 hover:bg-gray-200":"bg-black/30 hover:bg-white/10"}`,"aria-label":"Discord",title:"Discord",children:d.jsx(jve,{className:p==="light"?"w-5 h-5 text-black mx-auto":"w-5 h-5 text-white/60 mx-auto"})}),d.jsx(f_,{link:"https://t.me/HyperUIOfficial",className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center ${p==="light"?"bg-black/10 hover:bg-gray-200":"bg-black/30 hover:bg-white/10"}`,"aria-label":"Telegram",title:"Telegram",children:d.jsx(Mve,{className:p==="light"?"w-5 h-5 text-black mx-auto":"w-5 h-5 text-white/60 mx-auto"})}),d.jsx(f_,{link:"https://x.com/HyperUIOfficial",className:`w-9 h-9 rounded-lg border border-stroke/60 transition flex items-center justify-center ${p==="light"?"bg-black/10 hover:bg-gray-200":"bg-black/30 hover:bg-white/10"}`,"aria-label":"Twitter / X",title:"Twitter / X",children:d.jsx(Dve,{className:p==="light"?"w-5 h-5 text-black mx-auto":"w-5 h-5 text-white/60 mx-auto"})})]})})]})]})}),!e&&d.jsx("button",{onClick:()=>r(!0),className:"w-11 h-11 bg-panel-gradient rounded-sm border border-white/10 backdrop-blur-[10px] shadow-lg text-txt font-black","aria-label":"Open settings",children:""})]})}function u7t(t,e,r=20,n){return x.useMemo(()=>{if(!t?.bids||!t?.asks||!e||e<=0)return{groupedBids:[],groupedAsks:[]};const i=(a,l)=>{if(a.length===0)return[];const c={};a.forEach(m=>{const w=(l==="bid"?Math.floor(m.price/e)*e:Math.ceil(m.price/e)*e).toFixed(8),b=n?m.price*m.size:m.size;c[w]=(c[w]||0)+b});const u=Object.keys(c).sort((m,v)=>l==="ask"?parseFloat(m)-parseFloat(v):parseFloat(v)-parseFloat(m));let h=0;const p=u.map(m=>{const v=parseFloat(m),w=c[m];return h+=w,{price:v,size:w,total:h}}).slice(0,r);return l==="ask"?p.reverse():p},s=i(t.bids,"bid"),o=i(t.asks,"ask");return{groupedBids:s,groupedAsks:o}},[t,e,r,n])}function Fbe({toggle:t,onToggle:e,variant:r="slide",labelOff:n=!1,onLabel:i,offLabel:s,className:o=" "}){const{theme:a}=Dr();return d.jsxs("div",{onClick:e,className:`relative w-[8rem] h-6 border ${a==="light"?"bg-black/10 border-black/10":"bg-[#1e2026] border-gray-700"} rounded-full p-1 cursor-pointer select-none 
        ${o}
        ${r==="switch"?t?"!bg-neon":"!bg-transparent border-neon":""}
        `,children:[d.jsx("div",{className:`
					absolute top-1 bottom-1 w-[calc(50%-4px)] rounded-full 
					bg-neon transition-all duration-300 ease-in-out
          ${r==="switch"?t?"!bg-black":"!bg-neon":""}
					${t?"translate-x-full":"translate-x-0"}
        `}),d.jsxs("div",{className:"relative z-10 h-full w-full flex items-center justify-between font-bold text-xs",children:[d.jsx("div",{className:`w-1/2 text-center transition-colors duration-300 
            ${a==="light"?t?"text-black hover:text-black":"text-black/60":t?"text-gray-400 hover:text-gray-200":"text-black/60"}
        	`,children:!n&&i}),d.jsx("div",{className:`
						w-1/2 text-center transition-colors duration-300
						${a==="light"?t?"text-black/60":"text-black hover:text-black":t?"text-black/60":"text-gray-400 hover:text-gray-200"}
					`,children:!n&&s})]})]})}const KC=({options:t,value:e,onChange:r,placeholder:n,className:i="",optionClassName:s="",disabled:o=!1,name:a,id:l,required:c=!1})=>{const u=h=>{r?.(h.target.value)};return d.jsxs("select",{id:l,name:a,value:e,onChange:u,className:i,disabled:o,required:c,children:[n&&d.jsx("option",{value:"",disabled:!0,className:s,children:n}),t.map(h=>d.jsx("option",{value:h.value,className:`${s} ${h.className||""}`.trim(),disabled:h.disabled,children:h.label||h.value},h.value))]})},Aie=1e-9,Km=100;function Lbe({variant:t="standard"}){const{isMobile:e}=wo(),{selectedMarket:r,selectedMarketQuoteAsset:n}=uc(),{price:i}=aU(),{network:s}=fn(),{isConnected:o}=nv(s),{theme:a}=Dr(),l=G4t(r,s),[c,u]=m1("selectedTick",String(0)),[h,f]=x.useState(!1),p=zEt(i||0).map((k,P)=>({id:P,value:k,label:UCt(k)})),m=e?t==="mini"?5:8:11,{groupedBids:v=[],groupedAsks:w=[]}=u7t(l,p[Number(c)].value,m,h),b=x.useMemo(()=>{const k=l?.asks[0]?.price,P=l?.bids[0]?.price;if(!k||!P)return{spread:0,percentage:0};const F=Math.round((k-P)*1e8)/1e8,N=F/k*100;return{spread:F,percentage:N,bestAsk:k,bestBid:P}},[l?.bids,l?.asks]),E=h?n:r,_=Math.max(Aie,...w.map(k=>k.size)),A=Math.max(Aie,...v.map(k=>k.size));function C(k){if(!Number.isFinite(k))return"-";if(!i||h||i<.3)return Hn(k,0);switch(zve(i||0)){case 1:return Hn(k,2);case 10:return Hn(k,2);case 100:return Hn(k,3);case 1e3:return Hn(k,4);case 1e4:return Hn(k,5);default:return Hn(k,4)}}return!o||!l?d.jsx("div",{className:"p-4 flex items-center justify-center h-full",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-accent mb-2"}),d.jsx("div",{className:"text-muted text-sm",children:o?"Loading order book...":"Connecting to WebSocket..."})]})}):t==="mini"?d.jsxs("div",{className:"flex-1 flex flex-col ",children:[d.jsx("div",{className:"grid grid-cols-2 text-xs px-3 text-gray-400",children:d.jsx("span",{children:"Price"})}),d.jsx("div",{className:" relative flex flex-col justify-between h-full overflow-x-hidden",children:d.jsxs("div",{className:"absolute inset-0",children:[l.asks.length!==0?d.jsx("div",{children:w.map((k,P)=>d.jsxs("div",{className:"relative grid grid-cols px-[10px] py-1 mb-[2px] text-xs",children:[d.jsx("div",{className:"absolute inset-0 opacity-[0.22] rounded-l bg-sell-depth-gradient",style:{width:`${Math.min(100,k.size/_*Km)}%`}}),d.jsx("span",{className:"relative z-10 text-sell-500",children:Ll(k.price)})]},P))}):d.jsx("div",{className:"px-[14px] py-[14px] text-muted/75 text-xs",children:"Waiting for asks"}),d.jsxs("span",{className:"px-[10px] text-sell-500",children:["$",b.bestAsk]}),l.bids.length!==0?d.jsx("div",{children:v.map((k,P)=>d.jsxs("div",{className:"relative grid grid-cols px-[10px] py-1 mb-[2px] text-xs",children:[d.jsx("div",{className:"absolute inset-0 opacity-[0.22] rounded-l bg-buy-depth-gradient",style:{width:`${Math.min(Km,k.size/A*Km)}%`}}),d.jsx("span",{className:"relative z-10 text-buy-500",children:Ll(k.price)})]},P))}):d.jsx("div",{className:"px-[14px] py-[14px] text-muted/75 text-xs",children:"Waiting for bids"})]})}),d.jsx(KC,{options:p.map(({id:k,label:P})=>({value:k,label:P})),value:c,onChange:k=>u(k.toString()),className:`px-2 py-1 rounded-md text-xs border text-txt focus:outline-none focus:border-stroke text-sm ${a=="light"?"bg-black/5 border-black/10":"bg-white/5 border-white/10"}`,optionClassName:`text-txt ${a=="light"?"bg-white/90":"bg-black/90"}`})]}):d.jsxs("div",{className:`flex flex-col h-full overflow-y-auto [&::-webkit-scrollbar]:w-1\r
                                  [&::-webkit-scrollbar-track]:opacity-0\r
                                  [&::-webkit-scrollbar-thumb]:bg-gray-300\r
                                  [&::-webkit-scrollbar-thumb]:cursor-pointer\r
                                  dark:[&::-webkit-scrollbar-track]:bg-neutral-700\r
                                  dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500`,children:[d.jsxs("div",{className:"flex flex-row justify-between px-3 my-2",children:[d.jsx(KC,{options:p.map(({id:k,label:P})=>({value:k,label:P})),value:c,onChange:k=>u(k.toString()),className:`px-2 py-1 rounded-md text-xs border text-txt focus:outline-none focus:border-stroke text-sm ${a=="light"?"bg-black/5 border-black/10":"bg-white/5 border-white/10"}`,optionClassName:`text-txt ${a=="light"?"bg-white/90":"bg-black/90"}`}),d.jsx(Fbe,{toggle:h,onToggle:()=>f(k=>!k),onLabel:r,offLabel:n})]}),d.jsxs("div",{className:`grid grid-cols-[1.2fr_1fr_1fr] text-xs px-3 pb-2 ${a==="light"?"text-black":"text-gray-400"}`,children:[d.jsx("span",{children:"Price"}),d.jsxs("span",{className:"text-right",children:["Size (",E,")"]}),d.jsxs("span",{className:"text-right",children:["Total (",E,")"]})]}),l.asks.length!==0?d.jsx("div",{children:w.map((k,P)=>d.jsxs("div",{className:"relative grid grid-cols-[1.2fr_1fr_1fr] px-[10px] py-1 mb-[2px] text-xs",children:[d.jsx("div",{className:"absolute inset-0 opacity-[0.22] bg-sell-depth-gradient",style:{width:`${Math.min(100,k.size/_*Km)}%`}}),d.jsx("span",{className:"relative z-10 text-sell-500",children:Ll(k.price)}),d.jsx("span",{className:"relative z-10 text-right text-txt",children:C(k.size)}),d.jsx("span",{className:"relative z-10 text-right text-txt",children:C(k.total)})]},P))}):d.jsx("div",{className:"px-[14px] py-[14px] text-muted/75 text-xs",children:"Waiting for asks"}),d.jsx("div",{className:"flex justify-center my-2",children:d.jsxs("div",{className:`flex flex-row w-2/3 justify-around items-center text-xs ${a==="light"?"text-black":""}`,children:[d.jsx("span",{children:"Spread"}),d.jsx("span",{children:b.spread}),d.jsxs("span",{children:[b.percentage.toFixed(3),"%"]})]})}),l.bids.length!==0?d.jsx("div",{children:v.map((k,P)=>d.jsxs("div",{className:"relative grid grid-cols-[1.2fr_1fr_1fr] px-[10px] py-1 mb-[2px] text-xs",children:[d.jsx("div",{className:"absolute inset-0 opacity-[0.22] bg-buy-depth-gradient",style:{width:`${Math.min(Km,k.size/A*Km)}%`}}),d.jsx("span",{className:"relative z-10 text-buy-500",children:Ll(k.price)}),d.jsx("span",{className:"relative z-10 text-right text-txt",children:C(k.size)}),d.jsx("span",{className:"relative z-10 text-right text-txt",children:C(k.total)})]},P))}):d.jsx("div",{className:"px-[14px] py-[14px] text-muted/75 text-xs",children:"Waiting for bids"})]})}function d7t({size:t=18,color:e="currentColor",className:r="",...n}){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:e,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`lucide lucide-external-link ${r}`,...n,children:[d.jsx("path",{d:"M15 3h6v6"}),d.jsx("path",{d:"M10 14 21 3"}),d.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"})]})}function h7t(){const{isMobile:t}=wo(),{trades:e,isConnected:r}=J4t(),{selectedMarket:n}=uc(),{theme:i}=Dr(),s=t?e.slice(0,14):e;return r?!s||s.length===0?d.jsx("div",{className:"px-[14px] py-[14px] text-mute-300/75 text-xs",children:"Waiting for trades..."}):d.jsxs("div",{className:`flex flex-col h-full overflow-y-auto [&::-webkit-scrollbar]:w-1\r
                                  [&::-webkit-scrollbar-track]:opacity-0\r
                                  [&::-webkit-scrollbar-thumb]:bg-gray-300\r
                                  [&::-webkit-scrollbar-thumb]:cursor-pointer\r
                                  dark:[&::-webkit-scrollbar-track]:bg-neutral-700\r
                                  dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500`,children:[d.jsxs("div",{className:`grid grid-cols-[1fr_1fr_1.2fr] text-xs px-3 py-2 ${i=="light"?"text-black":"text-gray-400"}`,children:[d.jsx("span",{children:"Price"}),d.jsxs("span",{className:"text-right",children:["Size (",n,")"]}),d.jsx("span",{className:"text-right",children:"Time"})]}),s.map(o=>d.jsxs("div",{className:`grid grid-cols-[1fr_1fr_1.2fr] gap-[10px] px-[10px] py-2 border-b border-stroke/40 text-xs ${o.side==="buy"?"buy":"sell"}`,children:[d.jsx("span",{className:o.side==="buy"?"text-buy-500":"text-sell-500",children:Ll(o.price)}),d.jsx("span",{className:"text-txt text-right",children:o.size.toFixed(4)}),d.jsxs("span",{className:`flex flex-row justify-end items-center gap-2 ${i=="light"?"text-black/70":"text-gray-400"}`,children:[new Date(o.timestamp).toLocaleTimeString(),d.jsx(f_,{link:o.explorer,children:d.jsx(d7t,{size:12,className:"transition-all duration-300 hover:text-accent2/70"})})]})]},o.id))]}):d.jsx("div",{className:"p-4 flex items-center justify-center h-full",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-accent mb-2"}),d.jsx("div",{className:"text-mute-300 text-sm",children:"Connecting to WebSocket..."})]})})}function f7t(){const{theme:t}=Dr(),{address:e,isConnected:r,getProvider:n}=Pn(),{network:i}=fn(),s=k3(),[o,a]=x.useState(null),c=(e?A3(e,i):null)?.address,{data:u=[],isLoading:h}=fs(UC(e||"",i)),{data:f=[],isLoading:p}=fs({...UC(c||"",i),enabled:!!c&&c!==e}),m=x.useMemo(()=>{const E=[...u,...f],_=new Map;return E.forEach(A=>{_.set(A.id,A)}),Array.from(_.values())},[u,f]),v=h||p;x.useEffect(()=>{if(m.length>0){console.log("[TriggerOrdersPanel] All open orders (user + agent):",m),console.log("[TriggerOrdersPanel] User orders:",u),console.log("[TriggerOrdersPanel] Agent orders:",f);const E=m.filter(_=>_.orderType==="trigger"||_.tpsl);console.log("[TriggerOrdersPanel] Filtered trigger orders:",E)}},[m,u,f]);const w=m,b=async E=>{if(!(!r||!e||!n)){a(E.id);try{const _=n();if(!_){console.error("[TriggerOrders] Provider not available");return}const A=new Us(i),{agentExchange:C,userExchange:k,agentAccount:P}=await Qf(_,e,i);await Xu(k,e,P.address,i);const F=await A.getAssetIndex(E.market);if(F===-1){console.error(`[TriggerOrders] Market ${E.market} not found`);return}const N=await ky(async()=>{let $;if(typeof E.id=="number")$=E.id;else if(typeof E.id=="string"){const U=parseInt(E.id,10);$=isNaN(U)?parseInt(E.id.split("-").pop()||"0",36):U}else throw new Error("Invalid order ID format");return await C.cancel({cancels:[{a:F,o:$}]})},{userExchange:k,user:e,agent:P.address,network:i});N.status==="ok"?s.invalidateQueries({queryKey:wi.openOrders(e,i)}):console.error("[TriggerOrders] Cancel failed:",N)}catch(_){console.error("[TriggerOrders] Error cancelling order:",_)}finally{a(null)}}};return!r||!e?d.jsx(hs,{children:d.jsx("div",{className:"text-center py-4 text-muted text-xs",children:"Connect wallet to view trigger orders"})}):v?d.jsx(hs,{children:d.jsx("div",{className:"text-center py-4 text-muted text-xs",children:"Loading orders..."})}):w.length===0?d.jsx(hs,{children:d.jsx("div",{className:"text-center py-4 text-muted text-xs",children:"No open orders"})}):d.jsx("div",{className:"space-y-2",children:w.map(E=>d.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg border ${t=="light"?"bg-black/5 border-black/10":"bg-white/5 border-white/10"}`,children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xs font-black text-txt",children:E.market}),d.jsx("span",{className:"text-xs bg-white/10 px-1.5 py-0.5 rounded",children:E.orderType}),d.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${E.side==="long"?"bg-buy-500/20 text-buy-500":"bg-sell-500/20 text-sell-500"}`,children:E.side.toUpperCase()}),E.tpsl&&d.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${E.tpsl==="tp"?"bg-buy-500/20 text-buy-500":"bg-sell-500/20 text-sell-500"}`,children:E.tpsl.toUpperCase()})]}),d.jsxs("div",{className:"text-[10px] text-muted mt-1",children:[E.price>0&&d.jsxs("span",{className:"mr-2",children:["Price: ",Os(E.price,4)]}),d.jsxs("span",{children:["Size: ",Os(E.size,4)," ",E.market,E.price>0&&d.jsxs("span",{className:"text-muted/60",children:[" ","(",Os(E.size*E.price,2)," USDC)"]})]})]})]}),d.jsx(Gr,{variant:"secondary",disabled:o===E.id,onClick:()=>b(E),className:"ml-2 text-xs px-2 py-1",children:o===E.id?d.jsxs("div",{className:"flex text-xs items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 border-2 border-t-transparent border-current rounded-full animate-spin"}),"Cancel"]}):"Cancel"})]},E.id))})}function p7t(){const[t,e]=x.useState(!1),[r,n]=x.useState("grid");return d.jsxs("div",{className:"p-3 space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-black text-txt",children:"Bots (Beta)"}),d.jsx("div",{className:"text-[11px] text-muted",children:"Frontend-only automation. No backend required."})]}),d.jsx("button",{onClick:()=>e(i=>!i),className:`px-3 py-1.5 rounded-lg text-xs font-black border border-white/10 transition ${t?"bg-emerald-500/20 text-emerald-200":"bg-black/25 text-muted hover:bg-white/10"}`,children:t?"Enabled":"Enable"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"text-[11px] text-muted",children:"Template"}),d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[d.jsx("button",{onClick:()=>n("grid"),className:`px-2 py-2 rounded-lg text-xs border border-white/10 transition ${r==="grid"?"bg-white/15 text-txt":"bg-black/20 text-muted hover:bg-white/10"}`,children:"Grid"}),d.jsx("button",{onClick:()=>n("dca"),className:`px-2 py-2 rounded-lg text-xs border border-white/10 transition ${r==="dca"?"bg-white/15 text-txt":"bg-black/20 text-muted hover:bg-white/10"}`,children:"DCA"}),d.jsx("button",{onClick:()=>n("signal"),className:`px-2 py-2 rounded-lg text-xs border border-white/10 transition ${r==="signal"?"bg-white/15 text-txt":"bg-black/20 text-muted hover:bg-white/10"}`,children:"Signal"})]})]}),d.jsxs("div",{className:"rounded-lg border border-white/10 bg-black/20 p-3 text-[11px] text-muted leading-relaxed",children:[d.jsx("div",{className:"font-black text-txt mb-1",children:"Next step"}),r==="grid"?d.jsx("div",{children:"Grid bot will support: price range, grid count, order size, stop-loss, take-profit."}):r==="dca"?d.jsx("div",{children:"DCA bot will support: interval or dip-based adds, max entries, TP/SL, cooldown."}):d.jsx("div",{children:"Signal bot will support: connect a read-only signal feed URL and map signals to actions."})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{disabled:!t,className:`flex-1 px-3 py-2 rounded-lg text-xs font-black border border-white/10 transition ${t?"bg-white/15 text-txt hover:bg-white/20":"bg-black/20 text-muted opacity-60"}`,children:"Start (Coming soon)"}),d.jsx("button",{disabled:!t,className:`px-3 py-2 rounded-lg text-xs font-black border border-white/10 transition ${t?"bg-black/20 text-muted hover:bg-white/10":"bg-black/20 text-muted opacity-60"}`,children:"Stop"})]})]})}const g7t="tradeNotes";function Ube(t,e){const r=e.toLowerCase();return`${g7t}:${t}:${r}`}function GU(t,e){if(typeof window>"u")return{};try{const r=Ube(t,e),n=window.localStorage.getItem(r);if(!n)return{};const i=JSON.parse(n);if(typeof i=="object"&&i!==null)return i}catch(r){console.warn("[NotesStore] Failed to load notes:",r)}return{}}function Bbe(t,e,r,n){if(!(typeof window>"u"))try{const i=Ube(t,e),s=GU(t,e),o=s[r]||{userNote:"",botNote:"",updatedAt:0},a={userNote:n.userNote!==void 0?n.userNote:o.userNote,botNote:n.botNote!==void 0?n.botNote:o.botNote,updatedAt:Date.now()};s[r]=a,window.localStorage.setItem(i,JSON.stringify(s))}catch(i){console.error("[NotesStore] Failed to save note:",i)}}function m7t(t){const e=[];return t.realizedPnl<0&&t.fees>Math.abs(t.realizedPnl)*.2&&e.push("Fees dominating; adjust size or maker strategy"),t.fillCount>4&&e.push("High churn; consider limit orders / reduce overtrading"),Math.abs(t.avgExitPx-t.avgEntryPx)/t.avgEntryPx>.05&&t.realizedPnl<0&&e.push("Consider tighter stop / risk cap"),e.length===0?"Trade executed normally":e.join(" | ")}function y7t(t,e,r,n){const s=GU(t,e)[r];if(s&&s.botNote)return s.botNote;const o=m7t(n);return Bbe(t,e,r,{botNote:o}),o}function Tie(t){return new Date(t).toLocaleString()}function v7t(t,e){const r=e-t,n=Math.floor(r/6e4),i=Math.floor(n/60),s=Math.floor(i/24);return s>0?`${s}d ${i%24}h`:i>0?`${i}h ${n%60}m`:`${n}m`}function Jj({viewMode:t="tab",onExpand:e}={}){const{address:r,isConnected:n}=Pn(),{network:i}=fn(),{cycles:s}=_ve(),{theme:o}=Dr(),[a,l]=x.useState(""),[c,u]=x.useState(null),[h,f]=x.useState("closeTime"),[p,m]=x.useState(!0),v=x.useRef(null),w=x.useMemo(()=>r?GU(i,r):{},[i,r]),b=x.useMemo(()=>{const C=new Set(s.map(k=>k.coin));return Array.from(C).sort()},[s]),E=x.useMemo(()=>{let C=s;return a&&(C=C.filter(k=>k.coin.toLowerCase().includes(a.toLowerCase()))),C=[...C].sort((k,P)=>{let F,N;switch(h){case"closeTime":F=k.closeTime,N=P.closeTime;break;case"realizedPnl":F=k.realizedPnl,N=P.realizedPnl;break;case"coin":F=k.coin,N=P.coin;break;default:return 0}if(typeof F=="string"&&typeof N=="string")return p?N.localeCompare(F):F.localeCompare(N);const $=typeof F=="number"?F:0,U=typeof N=="number"?N:0;return p?U-$:$-U}),C},[s,a,h,p]),_=x.useCallback((C,k)=>{r&&(v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{Bbe(i,r,C,{userNote:k})},300))},[i,r]);if(!n||!r)return d.jsx("div",{className:"p-4 flex items-center justify-center h-full",children:d.jsx("div",{className:"text-center text-muted text-xs",children:"Connect wallet to view trade history"})});const A=t==="fullscreen"||t==="leaderboard";return d.jsxs("div",{className:`${t==="leaderboard"?"":"h-full"} flex flex-col`,children:[d.jsxs("div",{className:`mb-2 space-y-2 ${A?"px-6 pt-4":""}`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:`${A?"text-lg":"text-sm"} font-black text-txt`}),t==="tab"&&e&&d.jsxs("button",{onClick:e,className:`px-3 py-1.5 rounded-md text-xs border text-txt font-black transition-colors flex items-center gap-2 ${o=="light"?"bg-black/5 hover:bg-black/10 border-black/10":"bg-white/5 hover:bg-white/10 border-white/10"}`,"aria-label":"Full Screen",children:[d.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})}),"Full Screen"]})]}),d.jsx("div",{className:"flex gap-2",children:d.jsx(KC,{value:a,onChange:C=>l(C.toString()),className:`px-2 py-1 rounded-md text-xs border ${o=="light"?"bg-black/5 border-black/10":"bg-white/5 border-white/10"} text-txt focus:outline-none focus:border-stroke ${A?"text-sm":""}`,optionClassName:`text-txt ${o=="light"?"bg-white/90":"bg-black/90"}`,options:[{value:"",label:"All Coins"},...b.map(C=>({value:C}))]})})]}),d.jsxs("div",{className:`flex-1 overflow-auto ${A?"px-6 pb-6":""}
                                  [&::-webkit-scrollbar]:w-1
                                  [&::-webkit-scrollbar-track]:opacity-0
                                  [&::-webkit-scrollbar-thumb]:bg-gray-300
                                  dark:[&::-webkit-scrollbar-track]:bg-neutral-700
                                  dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500`,children:[d.jsxs("table",{className:`w-full ${A?"text-sm":"text-xs"}`,children:[d.jsx("thead",{className:`sticky top-0 border-b border-stroke/60 z-10 ${o==="light"?"bg-black/5":"bg-white/5"}`,children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-2 py-2 text-left text-muted font-medium",children:d.jsxs("button",{onClick:()=>{h==="closeTime"?m(!p):(f("closeTime"),m(!0))},className:"hover:text-txt",children:["Close Time ",h==="closeTime"&&(p?"":"")]})}),d.jsx("th",{className:"px-2 py-2 text-left text-muted font-medium",children:d.jsxs("button",{onClick:()=>{h==="coin"?m(!p):(f("coin"),m(!1))},className:"hover:text-txt",children:["Coin ",h==="coin"&&(p?"":"")]})}),d.jsx("th",{className:"px-2 py-2 text-left text-muted font-medium",children:"Side"}),d.jsx("th",{className:"px-2 py-2 text-right text-muted font-medium",children:"Size"}),d.jsx("th",{className:"px-2 py-2 text-right text-muted font-medium",children:"Entry"}),d.jsx("th",{className:"px-2 py-2 text-right text-muted font-medium",children:"Exit"}),d.jsx("th",{className:"px-2 py-2 text-right text-muted font-medium",children:d.jsxs("button",{onClick:()=>{h==="realizedPnl"?m(!p):(f("realizedPnl"),m(!0))},className:"hover:text-txt",children:["Realized PnL ",h==="realizedPnl"&&(p?"":"")]})}),d.jsx("th",{className:"px-2 py-2 text-right text-muted font-medium",children:"Fees"}),d.jsx("th",{className:"px-2 py-2 text-left text-muted font-medium",children:"Notes"})]})}),d.jsx("tbody",{children:E.map(C=>{const k=w[C.id]||{userNote:"",botNote:""},P=C,F={realizedPnl:P.realizedPnl,fees:P.fees,avgEntryPx:P.avgEntryPx,avgExitPx:P.avgExitPx,fillCount:P.fillCount,qty:P.qty},N=k.botNote||y7t(i,r,P.id,F),$=c===C.id;return d.jsxs(ht.Fragment,{children:[d.jsxs("tr",{className:`${o==="light"?"border-black/20 hover:bg-black/5":"border-white/20 hover:bg-white/5"} border-b cursor-pointer`,onClick:()=>u($?null:C.id),children:[d.jsxs("td",{className:"px-2 py-2 text-txt",children:[d.jsx("div",{className:"text-[10px]",children:Tie(C.closeTime)}),d.jsx("div",{className:"text-[10px] text-muted",children:v7t(C.openTime,C.closeTime)})]}),d.jsx("td",{className:"px-2 py-2 text-txt font-medium",children:C.coin}),d.jsx("td",{className:"px-2 py-2",children:d.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] ${C.direction==="LONG"?"bg-buy-500/20 text-buy-500":"bg-sell-500/20 text-sell-500"}`,children:C.direction})}),d.jsxs("td",{className:`px-2 py-2 text-right text-txt tabular-nums ${A?"font-medium":""}`,children:["$",Os(C.qty*C.avgEntryPx,2)]}),d.jsxs("td",{className:`px-2 py-2 text-right text-txt tabular-nums ${A?"font-medium":""}`,children:["$",Os(C.avgEntryPx,2)]}),d.jsxs("td",{className:`px-2 py-2 text-right text-txt tabular-nums ${A?"font-medium":""}`,children:["$",Os(C.avgExitPx,2)]}),d.jsxs("td",{className:`px-2 py-2 text-right tabular-nums ${A?"font-semibold":"font-medium"} ${C.realizedPnl>=0?"text-buy-500":"text-sell-500"}`,children:[C.realizedPnl>=0?"+":"","$",Os(C.realizedPnl,2)]}),d.jsxs("td",{className:`px-2 py-2 text-right text-muted tabular-nums ${A?"font-medium":""}`,children:["$",Os(C.fees,2)]}),d.jsx("td",{className:"px-2 py-2 text-muted text-[10px] max-w-[150px] truncate",children:k.userNote||N||""})]}),$&&d.jsx("tr",{className:o=="light"?"bg-black/5":"bg-white/5",children:d.jsx("td",{colSpan:9,className:"px-4 py-3",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] text-muted block mb-1",children:"User Note"}),d.jsx("textarea",{value:k.userNote,onChange:U=>_(C.id,U.target.value),placeholder:"Add your notes...",className:"w-full px-2 py-1 rounded-md text-xs border border-stroke/60 bg-panel text-txt placeholder-muted focus:outline-none focus:border-stroke resize-none",rows:2,onClick:U=>U.stopPropagation()})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-[10px] text-muted block mb-1",children:"Bot Note"}),d.jsx("div",{className:"px-2 py-1 rounded-md text-xs border border-stroke/60 bg-panel text-muted",children:N})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-[10px] text-muted block mb-1",children:["Fills (",C.fillCount,")"]}),d.jsx("div",{className:"max-h-32 overflow-auto",children:d.jsxs("table",{className:"w-full text-[10px]",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-muted",children:[d.jsx("th",{className:"px-1 py-1 text-left",children:"Time"}),d.jsx("th",{className:"px-1 py-1 text-left",children:"Side"}),d.jsx("th",{className:"px-1 py-1 text-right",children:"Size"}),d.jsx("th",{className:"px-1 py-1 text-right",children:"Price"}),d.jsx("th",{className:"px-1 py-1 text-right",children:"PnL"})]})}),d.jsx("tbody",{children:C.fills.map((U,O)=>d.jsxs("tr",{className:`border-t ${o==="light"?"border-black/5":"border-white/5"}`,children:[d.jsx("td",{className:"px-1 py-1 text-txt",children:Tie(U.time)}),d.jsx("td",{className:"px-1 py-1 text-txt",children:U.side}),d.jsx("td",{className:"px-1 py-1 text-right text-txt tabular-nums",children:Os(U.sz,4)}),d.jsxs("td",{className:"px-1 py-1 text-right text-txt tabular-nums",children:["$",Os(U.px,2)]}),d.jsx("td",{className:"px-1 py-1 text-right text-txt tabular-nums",children:U.closedPnl!==void 0?`${U.closedPnl>=0?"+":""}$${Os(U.closedPnl,2)}`:""})]},O))})]})})]})]})})})]},C.id)})})]}),E.length===0&&d.jsx("div",{className:"text-center py-8 text-muted text-sm",children:"No closed cycles found"})]})]})}function w7t(t={}){const{address:e,getProvider:r}=Pn(),{network:n}=fn(),{followedTraders:i,getCopyConfig:s,getCopiedPositions:o,addCopiedPosition:a,removeCopiedPosition:l,calculateSize:c,validateTrade:u}=ov(),{positions:h,setPositions:f}=dc(),{closePosition:p}=N3(),[m,v]=x.useState(!1),w=x.useCallback(async(C,k,P,F,N,$)=>{let U=0;try{const O="real",D=O==="real"?k.replace("-USD",""):k.includes("-USD")?k:`${k}-USD`;if(!e){t.onError?.("Wallet not connected");return}v(!0),t.onSuccess?.("[WAIT] Validating trade configuration...");let T=s(C);T||(T={traderId:C,scalingFactor:1,sizeMode:"leverage",autoTakeProfit:!0,tpPercentage:5,autoStopLoss:!0,slPercentage:2,priceMode:"market"}),t.onSuccess?.("[WAIT] Calculating position size..."),U=c(C,F,$,N);const I=h.filter(Y=>Y.market===D).length;t.onSuccess?.("[WAIT] Running validation...");const R=u(C,U,I,$,N);if(!R.valid){t.onError?.(`Validation failed: ${R.reason}`);return}if(!i.find(Y=>Y.address===C)){t.onError?.("Trader no longer being followed");return}const B=T.priceMode??"limit";t.onSuccess?.("[WAIT] Placing order..."),B==="market"?(t.onSuccess?.("[WAIT] Confirming..."),await E(D,P==="long"?"buy":"sell",U,N)):(t.onSuccess?.("[WAIT] Confirming..."),await b(D,P==="long"?"buy":"sell",U,N)),t.onSuccess?.("[SUCCESS] Order placed");let q=null;const G=5,W=500;for(let Y=0;Y<G;Y++){await new Promise(Q=>setTimeout(Q,W*Math.pow(2,Y)));try{if(q=(await Uo(n).getPositions(e)).find(Z=>Z.market===D&&Z.side===P),q)break}catch{}}q?a(q.id.toString(),`trader-${C}-${D}`):t.onError?.("Position not found - auto-close disabled"),t.onSuccess?.(`Copied ${F.toFixed(4)} ${k} ${P.toUpperCase()}`);const j=e||(O==="mock"?"mock-user":null);if(j)try{const Q=await Uo(n).getPositions(j);f(Q)}catch{}v(!1)}catch(O){v(!1);const D=O instanceof Error?O.message:"Failed to copy trade";t.onError?.(D)}},[e,s,c,u,h,i,a,n,r,f]),b=x.useCallback(async(C,k,P,F)=>{try{if(!e)throw new Error("Wallet not connected");const N=r();if(!N)throw new Error("Provider not available");const $=new Us(n),U=await $.getAccountInfo(e),O=P*F;if(!U.freeCollateral||U.freeCollateral<=0)throw new Error("Insufficient collateral to place order");if(O>U.freeCollateral)throw new Error("Order amount exceeds available collateral");const D=await $.getAssetIndex(C);if(D===-1)throw new Error(`Market ${C} not found`);const T=C.split("-")[0],R=await Uve($,D,T,k==="buy",F,P),{userExchange:L,agentAccount:B,agentExchange:q}=await Qf(N,e,n);try{await Xu(L,e,B.address,n)}catch(j){const Y=String(j?.message||j).toLowerCase();if(Y.includes("already used")||Y.includes("extra agent already")){const{markAgentApproved:Q}=await bi(async()=>{const{markAgentApproved:z}=await Promise.resolve().then(()=>Rb);return{markAgentApproved:z}},void 0);Q(e,B.address,n)}else throw j}const{retryWithReapprove:G}=await bi(async()=>{const{retryWithReapprove:j}=await Promise.resolve().then(()=>ore);return{retryWithReapprove:j}},void 0),W=await G(async()=>await q.order({orders:[R],grouping:"na"}),{userExchange:L,user:e,agent:B.address,network:n});if(W.status!=="ok")throw new Error(`Limit order failed: ${JSON.stringify(W)}`);return W}catch(N){throw N}},[e,n,r]),E=x.useCallback(async(C,k,P,F)=>{try{const N="real";if(!e)throw new Error("Wallet not connected");const $=r();if(!$)throw new Error("Provider not available");const U=new Us(n),O=await U.getAccountInfo(e),D=P*F;if(!O.freeCollateral||O.freeCollateral<=0)throw new Error("Insufficient collateral to place order");if(D>O.freeCollateral)throw new Error("Order amount exceeds available collateral");const T=await U.getAssetIndex(C);if(T===-1)throw new Error(`Market ${C} not found`);const I=C.split("-")[0],L=await Lve(U,T,I,k==="buy",P),{userExchange:B,agentAccount:q,agentExchange:G}=await Qf($,e,n);try{await Xu(B,e,q.address,n)}catch(Y){const Q=String(Y?.message||Y).toLowerCase();if(Q.includes("already used")||Q.includes("extra agent already")){const{markAgentApproved:z}=await bi(async()=>{const{markAgentApproved:Z}=await Promise.resolve().then(()=>Rb);return{markAgentApproved:Z}},void 0);z(e,q.address,n)}else throw Y}const{retryWithReapprove:W}=await bi(async()=>{const{retryWithReapprove:Y}=await Promise.resolve().then(()=>ore);return{retryWithReapprove:Y}},void 0),j=await W(async()=>await G.order({orders:[L],grouping:"na"}),{userExchange:B,user:e,agent:q.address,network:n});if(j.status!=="ok")throw new Error(`Market order failed: ${JSON.stringify(j)}`);return j}catch(N){throw N}},[e,n,r]),_=x.useCallback(async C=>{try{v(!0);const k=o(C);let P=0;for(const F of k){const N=h.find($=>$.id===F);if(!N){l(F);continue}try{console.log(`[AUTO-CLOSE] Closing position ${F} for ${N.market}`),await p(N.id),console.log(`[AUTO-CLOSE] Successfully closed ${N.market}`),l(F),P++}catch($){console.error(`[AUTO-CLOSE] Failed to close position ${F}:`,$),t.onError?.(`Failed to close ${N.market}: ${$ instanceof Error?$.message:"Unknown error"}`)}}t.onSuccess?.(`Successfully closed ${P} copied positions`),v(!1)}catch(k){v(!1),t.onError?.(k instanceof Error?k.message:"Failed to close copied trades")}},[o,h,l,p,t]),A=x.useCallback(C=>{const k=s(C),P=o(`trader-${C}`),F=h.filter(N=>P.includes(N.id));return{isActive:!!k,scalingFactor:k?.scalingFactor||1,activePositions:F.length,totalValue:F.reduce((N,$)=>N+$.size*$.entryPrice,0)}},[s,o,h]);return{copyTrade:w,closeCopiedTrade:_,getTraderCopyStatus:A,isCopying:m}}function b7t({onSelectTrader:t}){const{followedTraders:e,addFollowedTrader:r,removeFollowedTrader:n}=ov(),{address:i}=Pn(),s=sv("bottom"),{copyTrade:o}=w7t({onSuccess:N=>{console.log(N),N.includes("[WAIT]")||s.success(N)},onError:N=>{console.error(N),s.error(N)}}),[a,l]=x.useState(!1),{network:c}=fn(),[u,h]=x.useState(""),[f,p]=x.useState(null),[m,v]=x.useState(new Map),[w,b]=x.useState(new Map),E=x.useRef(new Set),[_,A]=x.useState({address:"",name:"",leverage:5,riskPerTrade:2,maxOpenPositions:5}),[C,k]=x.useState(1e6),P=async N=>{try{b(O=>new Map(O).set(N,!0));const U=await Uo(c).getPositions(N);v(O=>new Map(O).set(N,U))}catch{v(U=>new Map(U).set(N,[]))}finally{b($=>new Map($).set(N,!1))}};x.useEffect(()=>{e.forEach(N=>{P(N.address)})},[e]),x.useEffect(()=>{(async()=>{if(!i){k(1e6);return}try{const O=(await Uo(c).getAccountInfo(i)).freeCollateral||1e6;k(O>0?O:1e6)}catch{k(1e6)}})()},[i,c]);const F=()=>{if(h(""),!_.address){h("Please enter a wallet address");return}if(!/^0x[a-fA-F0-9]{40}$/.test(_.address)){h("Invalid address format (must be 0x followed by 40 hex chars)");return}if(_.leverage<1||_.leverage>20){h("Leverage must be between 1x and 20x");return}if(_.riskPerTrade<.1||_.riskPerTrade>10){h("Risk must be between 0.1% and 10%");return}if(_.maxOpenPositions<1||_.maxOpenPositions>20){h("Max positions must be between 1 and 20");return}try{r({address:_.address,name:_.name||_.address.slice(0,6),leverage:_.leverage,riskPerTrade:_.riskPerTrade,maxOpenPositions:_.maxOpenPositions,isActive:!0,addedAt:Date.now()}),P(_.address),A({address:"",name:"",leverage:5,riskPerTrade:2,maxOpenPositions:5}),l(!1)}catch(N){h(N instanceof Error?N.message:"Failed to add trader")}};return d.jsxs("div",{className:"space-y-3 p-3 h-full overflow-y-auto",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:"text-xs font-semibold text-txt",children:"Followed Traders"}),d.jsx(Gr,{onClick:()=>l(!0),className:"text-xs px-2 py-1",children:"+ Follow"})]}),e.length===0?d.jsx("div",{className:"text-[10px] text-muted text-center py-6",children:"No traders followed yet"}):d.jsx("div",{className:"space-y-2",children:e.map(N=>d.jsxs(hs,{className:"p-2 space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-[10px] font-medium text-txt",children:N.name}),d.jsxs("p",{className:"text-[8px] text-muted",children:[N.address.slice(0,10),"..."]})]}),d.jsx(Gr,{onClick:()=>n(N.address),className:"text-xs px-1 py-0",variant:"secondary",children:""})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[9px]",children:[d.jsxs("div",{className:"p-1 bg-gray-700/30 rounded",children:[d.jsx("span",{className:"text-muted",children:"Leverage:"}),d.jsxs("p",{className:"font-medium text-txt",children:[N.leverage,"x"]})]}),d.jsxs("div",{className:"p-1 bg-gray-700/30 rounded",children:[d.jsx("span",{className:"text-muted",children:"Risk:"}),d.jsxs("p",{className:"font-medium text-txt",children:[N.riskPerTrade,"%"]})]}),d.jsxs("div",{className:"p-1 bg-gray-700/30 rounded",children:[d.jsx("span",{className:"text-muted",children:"Max Pos:"}),d.jsx("p",{className:"font-medium text-txt",children:N.maxOpenPositions})]}),d.jsxs("div",{className:"p-1 bg-gray-700/30 rounded",children:[d.jsx("span",{className:"text-muted",children:"Status:"}),d.jsx("p",{className:`font-medium ${N.isActive?"text-primary-400":"text-red-400"}`,children:N.isActive?"Active":"Off"})]})]}),d.jsx(Gr,{onClick:()=>p(f===N.address?null:N.address),className:"w-full text-xs py-1",variant:"secondary",children:w.get(N.address)?"Loading...":f===N.address?" Hide Positions":" Open Positions"}),f===N.address&&d.jsx("div",{className:"space-y-1 pt-2 border-t border-gray-700",children:m.get(N.address)?.length===0?d.jsx("p",{className:"text-[8px] text-muted text-center py-2",children:"No open positions"}):m.get(N.address)?.map(($,U)=>d.jsxs("div",{className:"p-2 bg-gray-800/50 rounded text-[8px]",children:[d.jsxs("div",{className:"flex justify-between items-start mb-1",children:[d.jsx("span",{className:"font-medium text-txt",children:$.market}),d.jsx("span",{className:$.side==="long"?"text-green-400":"text-red-400",children:$.side.toUpperCase()})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-1 text-muted",children:[d.jsxs("div",{children:["Size: ",d.jsx("span",{className:"text-txt",children:$.size.toFixed(4)})]}),d.jsxs("div",{children:["Entry: ",d.jsxs("span",{className:"text-txt",children:["$",$.entryPrice.toFixed(2)]})]}),d.jsxs("div",{children:["Mark: ",d.jsxs("span",{className:"text-txt",children:["$",$.markPrice.toFixed(2)]})]}),d.jsxs("div",{className:$.unrealizedPnl>=0?"text-green-400":"text-red-400",children:["PnL: $",$.unrealizedPnl.toFixed(2)]})]}),d.jsx(Gr,{"data-market":$.market,"data-side":$.side,"data-size":$.size,"data-entry-price":$.entryPrice,onClick:async O=>{O.preventDefault(),O.stopPropagation();const D=O.currentTarget,T=D.getAttribute("data-market")||$.market,I=D.getAttribute("data-side")||$.side,R=parseFloat(D.getAttribute("data-size")||String($.size)),L=parseFloat(D.getAttribute("data-entry-price")||String($.entryPrice)),B=`${N.address}-${T}-${I}`;if(E.current.has(B)){s.info("Position copy already in progress");return}E.current.add(B);try{await o(N.address,T,I,R,L,C),setTimeout(()=>{p(null)},500)}finally{E.current.delete(B)}},className:"w-full text-xs py-1 mt-2",variant:"secondary",children:"Copy Trade"})]},`${N.address}-${$.market}-${$.side}-${U}`))}),d.jsx(Gr,{onClick:()=>t?.(N),className:"w-full text-xs py-1",variant:"primary",children:"Configure"})]},N.address))}),d.jsx(I3,{isOpen:a,onClose:()=>l(!1),title:"Follow New Trader",children:d.jsxs("div",{className:"space-y-3",children:[d.jsx("h3",{className:"text-xs font-semibold text-txt",children:"Follow New Trader"}),u&&d.jsx("div",{className:"p-2 bg-red-500/20 border border-red-500/50 rounded text-xs text-red-300",children:u}),d.jsx(lo,{id:"address-input",label:"Wallet Address",value:_.address,onChange:N=>A({..._,address:N.target.value}),type:"text"}),d.jsx(lo,{id:"name-input",label:"Display Name (optional)",value:_.name,onChange:N=>A({..._,name:N.target.value}),type:"text"}),d.jsx(lo,{id:"leverage-input",label:"Leverage (1-20x)",value:_.leverage.toString(),onChange:N=>A({..._,leverage:parseInt(N.target.value)||1}),type:"number",min:"1",max:"20"}),d.jsx(lo,{id:"risk-input",label:"Risk Per Trade (%)",value:_.riskPerTrade.toString(),onChange:N=>A({..._,riskPerTrade:parseFloat(N.target.value)||.1}),type:"number",min:"0.1",max:"10",step:"0.1"}),d.jsx(lo,{id:"maxpos-input",label:"Max Open Positions",value:_.maxOpenPositions.toString(),onChange:N=>A({..._,maxOpenPositions:parseInt(N.target.value)||1}),type:"number",min:"1",max:"20"}),d.jsxs("div",{className:"flex gap-2 pt-2",children:[d.jsx(Gr,{onClick:F,className:"flex-1 text-xs py-1",variant:"primary",children:"Follow"}),d.jsx(Gr,{onClick:()=>l(!1),className:"flex-1 text-xs py-1",variant:"secondary",children:"Cancel"})]})]})})]})}function Iie({tabs:t,activeTab:e,onTabChange:r}){return d.jsx("div",{className:"flex border-b border-gray-700",children:t.map(n=>d.jsx("button",{onClick:()=>r(n.id),className:`px-4 py-2 font-medium transition-colors ${e===n.id?"text-primary-400 border-b-2 border-primary-400":"text-gray-400 hover:text-gray-200"}`,children:n.label},n.id))})}function x7t({trader:t,onBack:e}){const{getCopyConfig:r,setCopyConfig:n,removeCopyConfig:i}=ov(),s=r(t.address),[o,a]=x.useState(s||{traderId:t.address,scalingFactor:1,sizeMode:"leverage",autoTakeProfit:!0,tpPercentage:5,autoStopLoss:!0,slPercentage:2}),[l,c]=x.useState(o.sizeMode||"leverage"),[u,h]=x.useState(o.priceMode||"market"),f=()=>{const m={...o,sizeMode:l,priceMode:u};l==="fixed"?m.fixedSize=o.fixedSize||100:l==="percentage"&&(m.percentageOfCapital=o.percentageOfCapital||10),n(t.address,m),e?.()},p=()=>{i(t.address),e?.()};return d.jsxs("div",{className:"space-y-3 p-3 h-full overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("button",{onClick:e,className:"text-[10px] text-muted hover:text-txt transition",children:" Back"}),d.jsxs("h2",{className:"text-xs font-semibold text-txt",children:["Setup: ",t.name]})]}),d.jsxs(hs,{className:"p-3 space-y-3",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-[10px] font-semibold text-txt mb-2",children:"Position Size Mode"}),d.jsx(Iie,{tabs:[{id:"leverage",label:"Leverage"},{id:"percentage",label:"%Capital"},{id:"fixed",label:"$Fixed"}],activeTab:l,onTabChange:m=>c(m)}),d.jsxs("div",{className:"mt-2 p-2 bg-gray-700/20 rounded space-y-2",children:[l==="leverage"&&d.jsx(lo,{id:"scaling-factor",label:"Scaling Factor (0.5-5x)",type:"number",min:"0.1",max:"5",step:"0.1",value:o.scalingFactor.toString(),onChange:m=>a({...o,scalingFactor:parseFloat(m.target.value)||1})}),l==="percentage"&&d.jsx(lo,{id:"percentage-capital",label:"% of Account (1-50%)",type:"number",min:"1",max:"50",value:o.percentageOfCapital?.toString()||"10",onChange:m=>a({...o,percentageOfCapital:parseFloat(m.target.value)||10})}),l==="fixed"&&d.jsx(lo,{id:"fixed-usdc",label:"USDC Per Trade",type:"number",min:"10",value:o.fixedSize?.toString()||"100",onChange:m=>a({...o,fixedSize:parseFloat(m.target.value)||100})})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-[10px] font-semibold text-txt mb-2",children:"Order Execution"}),d.jsx(Iie,{tabs:[{id:"market",label:"Market (Immediate)"},{id:"limit",label:"Limit (Wait for Price)"}],activeTab:u,onTabChange:m=>h(m)}),d.jsx("div",{className:"mt-2 p-2 bg-gray-700/20 rounded text-[9px] text-muted",children:u==="market"?d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"font-medium text-txt",children:"Market Mode"}),d.jsx("p",{children:"Opens immediately at current market price"}),d.jsx("p",{className:"text-[8px]",children:"Never misses a trade"}),d.jsx("p",{className:"text-[8px]",children:"Might get slightly worse fill"})]}):d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"font-medium text-txt",children:"Limit Mode"}),d.jsx("p",{children:"Waits for trader's exact entry price"}),d.jsx("p",{className:"text-[8px]",children:"Better fill price"}),d.jsx("p",{className:"text-[8px]",children:"Might not fill if price keeps rising"})]})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-[10px] font-semibold text-txt mb-2",children:"Risk Management"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"flex items-center gap-2 p-2 bg-gray-700/20 rounded cursor-pointer text-[10px]",children:[d.jsx("input",{type:"checkbox",checked:o.autoTakeProfit,onChange:m=>a({...o,autoTakeProfit:m.target.checked}),className:"w-3 h-3"}),d.jsx("span",{className:"text-txt",children:"Auto Take Profit"})]}),o.autoTakeProfit&&d.jsx(lo,{id:"tp-percent",label:"TP %",type:"number",min:"0.1",max:"50",value:o.tpPercentage?.toString()||"5",onChange:m=>a({...o,tpPercentage:parseFloat(m.target.value)||5})}),d.jsxs("label",{className:"flex items-center gap-2 p-2 bg-gray-700/20 rounded cursor-pointer text-[10px]",children:[d.jsx("input",{type:"checkbox",checked:o.autoStopLoss,onChange:m=>a({...o,autoStopLoss:m.target.checked}),className:"w-3 h-3"}),d.jsx("span",{className:"text-txt",children:"Auto Stop Loss"})]}),o.autoStopLoss&&d.jsx(lo,{id:"sl-percent",label:"SL %",type:"number",min:"0.1",max:"10",value:o.slPercentage?.toString()||"2",onChange:m=>a({...o,slPercentage:parseFloat(m.target.value)||2})})]})]}),d.jsxs("div",{className:"p-2 bg-blue-500/10 border border-blue-500/30 rounded",children:[d.jsx("h4",{className:"text-[9px] font-medium text-blue-300 mb-1",children:"Summary"}),d.jsxs("ul",{className:"text-[8px] text-muted space-y-0.5",children:[d.jsxs("li",{children:[" Mode: ",l==="leverage"?"Scaling":l==="percentage"?"Percentage":"Fixed"]}),l==="leverage"&&d.jsxs("li",{children:[" Scale: ",o.scalingFactor,"x"]}),l==="percentage"&&d.jsxs("li",{children:[" Using: ",o.percentageOfCapital,"% of account"]}),l==="fixed"&&d.jsxs("li",{children:[" Fixed: $",o.fixedSize," per trade"]}),d.jsxs("li",{children:[" TP: ",o.autoTakeProfit?`${o.tpPercentage}%`:"Off"]}),d.jsxs("li",{children:[" SL: ",o.autoStopLoss?`${o.slPercentage}%`:"Off"]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Gr,{onClick:f,className:"flex-1 text-xs py-1",variant:"primary",children:"Save"}),d.jsx(Gr,{onClick:p,className:"flex-1 text-xs py-1",variant:"secondary",children:"Disable"}),e&&d.jsx(Gr,{onClick:e,className:"text-xs px-2 py-1",variant:"secondary",children:""})]})]})]})}function _7t(t){const{positions:e,setPositions:r}=dc(),{network:n}=fn(),{address:i}=Pn(),{subscribe:s,isConnected:o}=nv(n),a=t||i||null,l=x.useCallback(async()=>{if(a)try{const u=await Uo(n).getPositions(a);r(u)}catch(c){console.error("[WS-POSITIONS] Failed to refresh positions:",c)}},[a,n,r]);return x.useEffect(()=>{if(!a)return;console.log(`[WS-POSITIONS] Starting position polling for ${a}`),l();const c=setInterval(l,2e3);return()=>clearInterval(c)},[a,l]),x.useEffect(()=>{if(!o||e.length===0)return;const c=[...new Set(e.map(h=>h.market))];if(c.length===0)return;console.log(`[WS-POSITIONS] Subscribing to real-time prices: ${c.join(", ")}`);const u=[];return c.forEach(h=>{const f=s({type:"trades",coin:h},p=>{if(!Array.isArray(p)||p.length===0)return;const m=p[p.length-1],v=parseFloat(m.px);isNaN(v)||r(e.map(w=>w.market===h?{...w,markPrice:v}:w))});u.push(f)}),()=>{u.forEach(h=>h())}},[o,e,s,r]),{isConnected:o,positions:e,refreshPositions:l}}const C7t="real";function E7t(){const{followedTraders:t,getCopyConfig:e,removeCopiedPosition:r,getCopiedPositions:n}=ov(),{positions:i}=dc(),{network:s}=fn(),{address:o}=Pn(),{closePosition:a}=N3(),l=sv("bottom"),{isConnected:c}=_7t(o||void 0),u=x.useRef(new Map),h=x.useRef(new Map);x.useEffect(()=>{const f=async()=>{if(!o){console.warn("[AUTO-CLOSE] REAL mode requires connected address");return}for(const v of t){const w=e(v.address);if(w)try{const b=Uo(s),E=1e4,_=await Promise.race([b.getPositions(v.address),new Promise((k,P)=>setTimeout(()=>P(new Error("Timeout")),E))]),A=o||(C7t==="mock"?"mock-user":null),C=await Promise.race([A?b.getPositions(A):Promise.resolve(i),new Promise((k,P)=>setTimeout(()=>P(new Error("Timeout")),E))]);h.current.delete(v.address);for(const k of C){const P=k.market.includes("-USD")?k.market:`${k.market}-USD`;if(!n(`trader-${v.address}-${P}`).includes(k.id))continue;let N=!1,$="";if(!_.some(O=>O.market===k.market&&O.side===k.side)&&k.size>0&&(N=!0,$="Trader closed position"),!N&&w.autoTakeProfit&&w.tpPercentage&&w.tpPercentage>0){const O=k.side==="long"?k.entryPrice*(1+w.tpPercentage/100):k.entryPrice*(1-w.tpPercentage/100);(k.side==="long"?k.markPrice>=O:k.markPrice<=O)&&(N=!0,$=`Take Profit hit (${w.tpPercentage}%)`)}if(!N&&w.autoStopLoss&&w.slPercentage&&w.slPercentage>0){const O=k.side==="long"?k.entryPrice*(1-w.slPercentage/100):k.entryPrice*(1+w.slPercentage/100);(k.side==="long"?k.markPrice<=O:k.markPrice>=O)&&(N=!0,$=`Stop Loss hit (${w.slPercentage}%)`)}if(N){if(!C.some(I=>I.id===k.id&&I.size>0)){r(k.id);continue}const D=u.current.get(k.id),T=Date.now();if(D&&T-D.lastAttempt<5e3*Math.pow(3,D.count))continue;try{await a(k.id),u.current.delete(k.id),l.success(`${k.market} closed: ${$}`),r(k.id)}catch(I){const R=I instanceof Error?I.message:String(I),L=D||{count:0,lastAttempt:T};L.count++,L.lastAttempt=T,u.current.set(k.id,L),L.count===1?l.error(`Failed to close ${k.market}: ${R}`):L.count>3&&l.error(`Failed to close ${k.market} (${L.count} attempts)`)}}}}catch(b){const E=b instanceof Error?b.message:String(b),_=h.current.get(v.address)||0;Date.now()-_>3e5&&(E.includes("timeout")&&l.error(`Network timeout checking ${v.name}`),h.current.set(v.address,Date.now()))}}};f();const m=setInterval(f,c?5e3:1e4);return()=>clearInterval(m)},[t,e,n,i,r,a,s,o,c,l])}function k7t(){const{followedTraders:t,getCopyConfig:e}=ov(),{positions:r}=dc(),{network:n}=fn();x.useEffect(()=>{const s=setInterval(async()=>{for(const o of t)if(e(o.address))try{const c=await Uo(n).getPositions(o.address);r.forEach(u=>{const h=c.find(v=>v.market===u.market&&v.side===u.side);if(!h)return;Math.abs(h.size-u.size)/u.size*100>15&&console.log(`[POSITION-SYNC] ${o.name} changed size on ${h.market}: ${u.size.toFixed(4)} -> ${h.size.toFixed(4)}`),Math.abs(h.leverage-u.leverage)>1.5&&console.log(`[POSITION-SYNC] ${o.name} changed leverage on ${h.market}: ${u.leverage}x -> ${h.leverage}x`)})}catch(l){console.error(`[POSITION-SYNC] Error checking ${o.name}:`,l)}},45e3);return()=>clearInterval(s)},[t,e,r,n])}function S7t(){E7t(),k7t();const[t,e]=x.useState(null);return t?d.jsx(x7t,{trader:t,onBack:()=>e(null)}):d.jsx(b7t,{onSelectTrader:r=>e(r)})}const g4=320,A7t=88;function T7t(){return typeof window>"u"?0:Math.round(window.innerWidth/2-180)}function xf(t,e,r){return Math.max(e,Math.min(r,t))}function KU({viewOnly:t}){const{theme:e}=Dr(),{selectedMarket:r}=uc(),{price:n,candles:i,interval:s,setInterval:o,isConnected:a}=aU(),{miniWidgetEnabled:l,isMobile:c}=wo(),{orderType:u,limitPrice:h,setLimitPrice:f,takeProfit:p,stopLoss:m,stopTriggerPrice:v,setStopTriggerPrice:w}=oU(),[b,E]=x.useState(()=>({x:T7t(),y:A7t})),[_,A]=x.useState(!1),[C,k]=x.useState(!1),[P,F]=x.useState(0),N=x.useRef(null),$=x.useRef(null),U=x.useRef(null),O=x.useRef(null),D=x.useRef(null),T=()=>{D.current==null&&(D.current=window.requestAnimationFrame(()=>{D.current=null,F(te=>(te+1)%1e6)}))},I=x.useRef({dragging:!1,pointerId:null,startClientX:0,startClientY:0,originX:0,originY:0,boundsW:g4,boundsH:220}),R=c?20:48,L=x.useMemo(()=>i.slice(-R),[i]),B=0;x.useEffect(()=>{const te=N.current;if(!te)return;const se=window.devicePixelRatio||1,ce=te.clientWidth,ge=te.clientHeight;te.width=Math.floor(ce*se),te.height=Math.floor(ge*se);const ae=te.getContext("2d");if(!ae)return;if(ae.setTransform(se,0,0,se,0,0),ae.clearRect(0,0,ce,ge),ae.fillStyle=e==="light"?"rgba(255,255,255,0.18)":"rgba(0,0,0,0.18)",ae.fillRect(0,0,ce,ge),!L.length){ae.fillStyle="rgba(255,255,255,0.55)",ae.font="12px ui-sans-serif, system-ui",ae.fillText("Loading candles",ce/2-50,ge/2,320);return}const _e=L.map(Le=>Le.h),Ee=L.map(Le=>Le.l),Ie=Math.max(..._e),qe=Math.min(...Ee),me=(Ie-qe)*.05||1,ze=Ie+me,rt=qe-me;O.current={w:ce,h:ge,yMin:rt,yMax:ze};const Ae=Le=>{const Ke=(Le-rt)/(ze-rt);return ge-B-Ke*(ge-B*2)},Fe=L.length,nt=2,_t=Math.max(3,Math.floor((ce-B*2-nt*(Fe-1))/Fe)),Ye=B;ae.strokeStyle=e==="light"?"rgba(0,0,0,0.06)":"rgba(255,255,255,0.06)",ae.lineWidth=1;for(let Le=1;Le<=3;Le++){const Ke=ge*Le/4;ae.beginPath(),ae.moveTo(B,Ke),ae.lineTo(ce-B,Ke),ae.stroke()}for(let Le=0;Le<Fe;Le++){const Ke=L[Le],Qe=Ye+Le*(_t+nt),it=Ae(Ke.o),st=Ae(Ke.c),pt=Ae(Ke.h),Ze=Ae(Ke.l),Mt=Ke.c>=Ke.o;ae.strokeStyle=Mt?"rgba(43,255,180,0.75)":"rgba(255,74,74,0.75)",ae.fillStyle=Mt?"rgba(43,255,180,0.5)":"rgba(255,74,74,0.5)",ae.lineWidth=1,ae.beginPath(),ae.moveTo(Qe+_t/2,pt),ae.lineTo(Qe+_t/2,Ze),ae.stroke();const yt=Math.min(it,st),ue=Math.max(it,st),we=Math.max(1,ue-yt);ae.fillRect(Qe,yt,_t,we),ae.strokeRect(Qe,yt,_t,we)}function wt(Le,Ke=!0){ae&&(Ke&&ae.setLineDash([3,3]),ae.beginPath(),ae.moveTo(B,Le),ae.lineTo(ce-B,Le),ae.stroke(),Ke&&ae.setLineDash([]))}if(n!=null&&Number.isFinite(n)){const Le=Ae(n);ae.strokeStyle=e==="light"?"rgba(0,0,0,0.75)":"rgba(255,255,255,0.75)",wt(Le)}const xt=U.current;if(xt&&Number.isFinite(xt.price)&&!c&&!C){const Le=xf(xt.x,B,ce-B),Ke=xf(xt.y,B,ge-B);ae.strokeStyle=e==="light"?"rgba(0,0,0,0.22)":"rgba(255,255,255,0.22)",ae.lineWidth=1,ae.setLineDash([3,3]),ae.beginPath(),ae.moveTo(Le,B),ae.lineTo(Le,ge-B),ae.stroke(),wt(Ke);const Qe=n??NaN,it=Number.isFinite(Qe)&&Qe!==0?(xt.price-Qe)/Qe*100:NaN,st=Number.isFinite(it)&&it>0?"+":"",pt=Number.isFinite(it)?`${st}${it.toFixed(2)}%`:"",Ze=`Price: ${Ku(xt.price)} (${pt})`;ae.font="12px ui-sans-serif, system-ui";const Mt=ae.measureText(Ze).width,yt=1,ue=1,we=8,Re=22,Ne=Math.ceil(Mt+we*2),Ve=8;ae.fillStyle=e==="light"?"rgba(255,255,255,0.55)":"rgba(0,0,0,0.55)",ae.strokeStyle=e==="light"?"rgba(0,0,0,0.12)":"rgba(255,255,255,0.12)",ae.beginPath(),ae.moveTo(yt+Ve,ue),ae.arcTo(yt+Ne,ue,yt+Ne,ue+Re,Ve),ae.arcTo(yt+Ne,ue+Re,yt,ue+Re,Ve),ae.arcTo(yt,ue+Re,yt,ue,Ve),ae.arcTo(yt,ue,yt+Ne,ue,Ve),ae.closePath(),ae.fill(),ae.stroke(),ae.fillStyle=e==="light"?"rgba(0,0,0,0.88)":"rgba(255,255,255,0.88)",ae.fillText(Ze,yt+we,ue+15)}if(!t){if(_&&(u=="market"||u=="limit")){let Le=n;if(u=="limit"&&(h?Le=parseFloat(h):Le=null),Le!=null&&Number.isFinite(Le)){if(p&&parseFloat(p)>0){const Ke=parseFloat(p),Qe=Ae(Le*(1+Ke/100));ae.strokeStyle=e==="light"?"rgba(0,128,0,0.75)":"rgba(0,255,0,0.25)",wt(Qe,!1);const it=Ae(Le*(1-Ke/100));ae.strokeStyle=e==="light"?"rgba(0,128,0,0.75)":"rgba(0,255,0,0.25)",wt(it,!1)}if(m&&parseFloat(m)>0){const Ke=parseFloat(m),Qe=Ae(Le*(1+Ke/100));ae.strokeStyle="rgba(255,0,0,0.5)",wt(Qe,!1);const it=Ae(Le*(1-Ke/100));ae.strokeStyle="rgba(255,0,0,0.5)",wt(it,!1)}}}if((u=="stop-limit"||u=="stop-market")&&v&&parseFloat(v)>0){const Le=parseFloat(v),Ke=Ae(Le);ae.strokeStyle="rgba(0,255,0,0.25)",wt(Ke,!1)}if((u=="limit"||u=="stop-limit")&&h&&parseFloat(h)>0){const Le=parseFloat(h);ae.strokeStyle=e==="light"?"rgba(0,120,255,0.88)":"rgba(0,255,255,0.75)",ae.lineWidth=1,wt(Ae(Le));const Ke=n??NaN,Qe=Number.isFinite(Ke)&&Ke!==0?(Le-Ke)/Ke*100:NaN,it=Number.isFinite(Qe)&&Qe>0?"+":"",st=Number.isFinite(Qe)?`${it}${Qe.toFixed(2)}%`:"",pt=`Limit: ${Ku(Le)} (${st})`;ae.font="12px ui-sans-serif, system-ui";const Ze=ae.measureText(pt).width,Mt=8,yt=22,ue=Math.ceil(Ze+Mt*2),we=ce-ue,Re=1,Ne=8;ae.fillStyle=e==="light"?"rgba(255,255,255,0.55)":"rgba(0,0,0,0.55)",ae.strokeStyle=e==="light"?"rgba(0,0,0,0.12)":"rgba(255,255,255,0.12)",ae.beginPath(),ae.moveTo(we+Ne,Re),ae.arcTo(we+ue,Re,we+ue,Re+yt,Ne),ae.arcTo(we+ue,Re+yt,we,Re+yt,Ne),ae.arcTo(we,Re+yt,we,Re,Ne),ae.arcTo(we,Re,we+ue,Re,Ne),ae.closePath(),ae.fill(),ae.stroke(),ae.fillStyle=e==="light"?"rgba(0,120,255,0.88)":"rgba(0,255,255,0.88)",ae.fillText(pt,we+Mt,Re+15)}}},[L,n,P]),x.useEffect(()=>{if(typeof window>"u")return;const te=()=>{const se=$.current?.getBoundingClientRect(),ce=se?.width??g4,ge=se?.height??I.current.boundsH;E(ae=>({x:xf(ae.x,8,window.innerWidth-ce-8),y:xf(ae.y,8,window.innerHeight-ge-8)}))};return window.addEventListener("resize",te),()=>window.removeEventListener("resize",te)},[]);const q=te=>{if(te.button!==0)return;const se=$.current?.getBoundingClientRect();I.current.boundsW=se?.width??g4,I.current.boundsH=se?.height??I.current.boundsH,I.current.dragging=!0,I.current.pointerId=te.pointerId,I.current.startClientX=te.clientX,I.current.startClientY=te.clientY,I.current.originX=b.x,I.current.originY=b.y,te.currentTarget.setPointerCapture(te.pointerId),te.preventDefault(),te.stopPropagation()},G=te=>{if(!I.current.dragging||I.current.pointerId!==te.pointerId)return;const se=te.clientX-I.current.startClientX,ce=te.clientY-I.current.startClientY,ge=I.current.boundsW,ae=I.current.boundsH,_e={x:xf(I.current.originX+se,8,window.innerWidth-ge-8),y:xf(I.current.originY+ce,8,window.innerHeight-ae-8)};E(_e)},W=te=>{if(!(!I.current.dragging||I.current.pointerId!==te.pointerId)){I.current.dragging=!1,I.current.pointerId=null;try{te.currentTarget.releasePointerCapture(te.pointerId)}catch{}}},j=te=>{const se=N.current,ce=O.current;if(!se||!ce)return null;const ge=se.getBoundingClientRect(),ae=te.clientX-ge.left,_e=te.clientY-ge.top,Ee=xf(ae,B,ce.w-B),Ie=xf(_e,B,ce.h-B),qe=(ce.h-B-Ie)/(ce.h-B*2),me=ce.yMin+qe*(ce.yMax-ce.yMin);return{x:Ee,y:Ie,price:me}},Y=te=>{if(t)return;k(!0);const se=j(te);se!=null&&(u=="stop-market"?w(Ku(se.price)):(u=="limit"||u=="stop-limit")&&f(Ku(se.price)),T())},Q=te=>{const se=j(te);se!=null&&(U.current=se,C&&(u=="stop-market"?w(Ku(se.price)):(u=="limit"||u=="stop-limit")&&f(Ku(se.price))),T())},z=()=>{t||(U.current=null,T())};if(!l&&!c)return null;const Z=d.jsx("div",{className:"flex items-center gap-1",children:["1m","3m","5m","15m"].map(te=>d.jsx("button",{onClick:()=>o(te),className:`py-1 rounded-md text-xs border transition ${c?"px-1":"px-2"}
            ${e==="light"?s===te?"bg-black/15 border-black/25 text-black/90":"bg-white/20 border-black/10 text-black/60 hover:bg-black/10":s===te?"bg-white/15 border-white/25 text-white/90":"bg-black/20 border-white/10 text-white/60 hover:bg-white/10"}
          `,title:`Timeframe ${te}`,children:te},te))}),ee=d.jsxs("div",{className:`
      rounded-sm border backdrop-blur-[10px] overflow-hidden
    ${e==="light"?"border-black/10 bg-white/35":"border-white/10 bg-black/35"}`,children:[d.jsxs("div",{className:"border-b border-white/10 px-3 py-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[!c&&d.jsx("div",{className:`mr-2 -ml-1 px-2 py-1 rounded-md cursor-move select-none
                ${e==="light"?"text-black/50 hover:text-black/80 hover:bg-black/5":"text-white/50 hover:text-white/80 hover:bg-white/5"}`,title:"Drag",onPointerDown:q,onPointerMove:G,onPointerUp:W,onPointerCancel:W,children:""}),d.jsxs("div",{className:"flex flex-col leading-tight flex-1",children:[d.jsxs("div",{className:`text-xs flex items-center gap-2 ${e==="light"?"text-black/60":"text-white/60"}`,children:[!t&&d.jsx("span",{className:`text-[10px] cursor-pointer px-0.5 py-0.5 rounded border ${e==="light"?`border-black/10 ${_?"bg-black/15":"bg-white/30"}`:`border-white/10 ${_?"bg-white/15":"bg-black/30"}`}`,onClick:()=>A(!_),children:d.jsx(aEt,{className:e==="light"?"text-black/60":"text-white/60",width:18,height:18})}),d.jsx("span",{className:"select-none",children:r}),d.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border select-none ${e==="light"?"border-black/10 bg-white/20":"border-white/10 bg-black/20"}`,children:a?"LIVE":""})]}),d.jsx("div",{className:`text-base font-semibold tabular-nums ${e==="light"?"text-black/90":"text-white/90"}`,children:Ku(n)})]}),!c&&Z]}),c&&Z]}),d.jsx("div",{className:"h-[200px] w-full",onMouseMove:Q,onMouseDown:Y,onMouseUp:()=>k(!1),onMouseLeave:z,children:d.jsx("canvas",{ref:N,className:"w-full h-full rounded-lg"})})]});return c?ee:d.jsx("div",{ref:$,className:"fixed z-40 pointer-events-auto",style:{top:b.y,left:b.x,width:g4},children:ee})}const I7t="ui:historyExpanded";function Xj({variant:t="desktop"}){const{theme:e}=Dr(),r=x.useMemo(()=>t==="mobile"?[{id:"chart",label:"Chart"},{id:"orderbook",label:"Orderbook"},{id:"trades",label:"Trades"},{id:"triggers",label:"Triggers"},{id:"bots",label:"Bots"},{id:"copytrading",label:"Copy"},{id:"history",label:"History"}]:[{id:"orderbook",label:"Orderbook"},{id:"trades",label:"Trades"},{id:"triggers",label:"Triggers"},{id:"bots",label:"Bots"},{id:"copytrading",label:"Copy"},{id:"history",label:"History"}],[t]),[n,i]=x.useState(()=>t==="mobile"?"chart":"orderbook"),[s,o]=x.useState(!1),a=()=>{o(!0),i("history")},l=()=>{o(!1),i("history");try{localStorage.setItem(I7t,"false")}catch{}},c=r.length,u=Math.max(0,r.findIndex(f=>f.id===n)),h={width:`${100/c}%`,left:`${100/c*u}%`};return d.jsxs("div",{className:"h-full flex flex-col",children:[d.jsxs("div",{className:`relative border-b  ${e==="light"?"border-black/10":"border-white/10"} ${t==="mobile"?"overflow-x-auto":""}`,children:[d.jsx("div",{className:"absolute bottom-0 h-[2px] bg-neon transition-all duration-300",style:h}),d.jsx("div",{className:"flex",children:r.map(f=>d.jsx("button",{onClick:()=>i(f.id),className:`flex-1 py-[10px] text-xs cursor-pointer transition-all text-center whitespace-nowrap
                ${t==="mobile"?"text-[11px]":"text-xs"}
                ${n===f.id?e==="light"?"text-black font-bold":"text-white font-bold":e==="light"?"text-gray-500 hover:text-black":"text-grayed hover:text-white/80"}
              `,children:f.label},f.id))})]}),d.jsx("div",{className:`flex-1 min-h-0 overflow-auto overflow-auto [&::-webkit-scrollbar]:w-1\r
                                [&::-webkit-scrollbar-track]:opacity-0\r
                                [&::-webkit-scrollbar-thumb]:bg-gray-300\r
                                dark:[&::-webkit-scrollbar-track]:bg-neutral-700\r
                                dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500`,children:n==="chart"?d.jsx(KU,{viewOnly:!0}):n==="bots"?d.jsx(p7t,{}):n==="orderbook"?d.jsx(Lbe,{}):n==="trades"?d.jsx(h7t,{}):n==="triggers"?d.jsx(f7t,{}):n==="copytrading"?d.jsx(S7t,{}):d.jsx(Jj,{viewMode:"tab",onExpand:a})}),d.jsx(Tbe,{open:s,onClose:l,title:"Historical Trades",showEscHint:!0,children:d.jsx(Jj,{viewMode:"fullscreen",onCollapse:l})})]})}function P7t(){const{rightDockEnabled:t,setRightDockEnabled:e,isMobile:r}=wo(),[n,i]=x.useState(!0);return t?r?d.jsx("div",{className:"fixed left-0 right-0 top-[88px] z-40 pointer-events-auto lg:hidden",children:d.jsxs("div",{className:`mx-2 mb-2 rounded-xl border border-white/10 overflow-hidden shadow-lg bg-panel-gradient backdrop-blur-[10px] transition-all duration-200 ${n?"h-[70vh]":"h-12"}`,children:[d.jsxs("div",{className:"px-3 py-2 border-b border-white/10 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{className:"text-muted hover:text-txt font-black",onClick:()=>i(s=>!s),"aria-label":n?"Collapse":"Expand",title:n?"Collapse":"Expand",children:n?"":""}),d.jsx("div",{className:"text-sm font-black text-txt",children:"Market Data"})]}),d.jsx("button",{className:"text-muted hover:text-txt font-black",onClick:()=>e(!1),"aria-label":"Hide market panel",title:"Hide",children:""})]}),n?d.jsx("div",{className:"h-full",children:d.jsx(Xj,{variant:"mobile"})}):d.jsx("div",{className:"h-full flex items-center px-3 text-[11px] text-muted",children:"Tap to expand (Chart  Orderbook  Trades  Triggers  Bots  Settings)"})]})}):d.jsx("div",{className:"fixed right-0 top-[88px] z-40 pointer-events-auto hidden lg:block",children:d.jsxs("div",{className:"flex flex-col w-[360px] h-[calc(100vh_-_76px_-_220px)] rounded-sm border border-white/10 overflow-hidden shadow-lg bg-panel-gradient backdrop-blur-[10px]",children:[d.jsxs("div",{className:"px-3 py-2 border-b border-white/10 flex items-center justify-between shrink-0",children:[d.jsx("div",{className:"text-sm font-black text-txt",children:"Market Data"}),d.jsx("button",{className:"text-muted hover:text-txt font-black",onClick:()=>e(!1),"aria-label":"Close",children:""})]}),d.jsx("div",{className:"flex-1 h-0 min-h-0 overflow-auto",children:d.jsx(Xj,{variant:"desktop"})})]})}):null}const $7t={mainnet:"0x2Df1c51E09aECF9cacB7bc98cB1742757f163dF7",testnet:"0x08cfc1b6b2dcf36a1480b99353a354aa8ac56f89"},mx={mainnet:["0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8","0xaf88d065e77c8cC2239327C5EDb3A432268e5831"],testnet:["0x1baAbB04529D43a73232B713C0FE471f7c7334d5"]};function zbe(t){const r=mx[t].find(n=>n&&n!=="0x0000000000000000000000000000000000000000");if(!r)throw new Error(`No valid USDC contract configured for ${t}. Please update USDC_CONTRACTS.${t} in deposit.ts with the correct USDC contract address.`);return r}const Qj=5,p_=6;function qbe(t,e){const r=t==="mainnet"?xU:_U;return eu(e?{chain:r,transport:PE(e)}:{chain:r,transport:cd()})}async function N7t(t,e,r){const n=qbe(r,t),i=mx[r];let s=BigInt(0),o=zbe(r);for(const a of i)if(a!=="0x0000000000000000000000000000000000000000")try{const l=await n.readContract({address:a,abi:OM,functionName:"balanceOf",args:[e]});l>s&&(s=l,o=a)}catch(l){console.warn(`[Deposit] Could not check balance for ${a}:`,l)}return o}async function R7t(t,e,r,n,i){const s=$7t[r];if(r==="testnet"){if(!s||s==="0x0000000000000000000000000000000000000000")throw new Error("Testnet bridge contract address not configured. Please update BRIDGE_CONTRACTS.testnet in deposit.ts with the correct Hyperliquid testnet bridge address.");if(!mx[r].some(c=>c&&c!=="0x0000000000000000000000000000000000000000"))throw new Error("Testnet USDC contract address not configured. Please update USDC_CONTRACTS.testnet in deposit.ts with the correct USDC testnet address for Arbitrum Sepolia.")}const o=Rae(e,p_);if(parseFloat(e)<Qj)throw new Error(`Minimum deposit amount is ${Qj} USDC`);try{let a;n&&i?(a=await N7t(n,i,r),console.log(`[Deposit] Using USDC contract: ${a}`)):(a=zbe(r),console.log(`[Deposit] Using primary USDC contract: ${a}`)),console.log(`[Deposit] Transferring ${e} USDC from ${a} to bridge ${s}`);const l=await t.writeContract({address:a,abi:OM,functionName:"transfer",args:[s,o]});return console.log(`[Deposit] Transaction hash: ${l}`),l}catch(a){throw console.error("[Deposit] Error depositing USDC:",a),a.message?new Error(`Deposit failed: ${a.message}`):new Error(`Deposit failed: ${a.toString()}`)}}async function O7t(t,e,r){try{const n=qbe(r,t),i=mx[r];let s=BigInt(0);for(const a of i)if(a!=="0x0000000000000000000000000000000000000000")try{const l=await n.readContract({address:a,abi:OM,functionName:"balanceOf",args:[e]});s+=l,console.log(`[Deposit] Balance from ${a}: ${Ni(l,p_)} USDC`)}catch(l){console.warn(`[Deposit] Could not read balance from ${a}:`,l)}const o=Ni(s,p_);return console.log(`[Deposit] Total USDC balance: ${o}`),o}catch(n){console.error("[Deposit] Error getting USDC balance:",n);try{if(t&&t.request){console.log("[Deposit] Trying fallback method via provider RPC");const i=mx[r].filter(o=>o!=="0x0000000000000000000000000000000000000000");let s=BigInt(0);for(const o of i)try{const a=`0x70a08231${e.slice(2).padStart(64,"0")}`,l=await t.request({method:"eth_call",params:[{to:o,data:a},"latest"]});l&&l!=="0x"&&l!=="0x0"&&(s+=BigInt(l))}catch(a){console.warn(`[Deposit] Fallback failed for ${o}:`,a)}if(s>0)return Ni(s,p_)}}catch(i){console.error("[Deposit] Fallback balance check failed:",i)}throw n}}function j7t(){return Qj}async function YC(t,e="mainnet"){const r=e==="mainnet"?xU:_U,n=`eip155:${r.id}`,i=e==="mainnet"?"Arbitrum One":"Arbitrum Sepolia";if(t&&t.chainId===n)return!0;try{return console.log(`Switching to ${i} (chainId: ${r.id})...`),await t.switchChain(r.id),!0}catch(s){return console.error(`User rejected switch to ${i} or error occurred:`,s),!1}}function Wbe({isOpen:t,onClose:e,onSuccess:r}){const{address:n,isConnected:i,getProvider:s}=Pn(),{network:o}=fn(),{wallets:[a]}=pu(),{showApprovalModal:l}=CU(),[c,u]=x.useState(""),[h,f]=x.useState(null),[p,m]=x.useState(!1),[v,w]=x.useState(null),[b,E]=x.useState("input"),_=j7t();x.useEffect(()=>{t&&i&&n&&A()},[t,i,n,o]);const A=async()=>{try{const F=s();if(!F||!n)return;if(await YC(a,o)){const N=await O7t(F,n,o);f(N)}}catch(F){console.error("[Deposit] Error loading USDC balance:",F),w(`Failed to load balance: ${F.message}`)}},C=async()=>{if(!n||!c)return;const F=parseFloat(c);if(isNaN(F)||F<=0){w("Please enter a valid amount");return}if(F<_){w(`Minimum deposit is ${_} USDC`);return}if(h&&F>parseFloat(h)){w("Insufficient USDC balance");return}m(!0),w(null),E("depositing");try{const N=s();if(!N)throw new Error("Wallet provider not available");console.log(` [Deposit] Network: ${o.toUpperCase()} (${o==="mainnet"?"MAINNET":"TESTNET"})`);const $=await mk(N,n,o),U=await R7t($,c,o,N,n);let O=null;for(let D=0;D<60;D++){try{if(O=await N.request({method:"eth_getTransactionReceipt",params:[U]}),O)break}catch{}await new Promise(T=>setTimeout(T,2e3))}if(O&&O.status==="0x1")E("success"),n&&!F0(n,o)&&(U1e(n,o),lh()&&setTimeout(()=>{l()},2500)),setTimeout(()=>{r?.(),k()},2e3);else throw new Error("Transaction failed")}catch(N){console.error("[Deposit] Error depositing USDC:",N),w(`Deposit failed: ${N.message}`),E("input")}finally{m(!1)}},k=()=>{u(""),w(null),E("input"),e()},P=()=>{h&&u(h)};return d.jsx(I3,{isOpen:t,onClose:k,title:"Deposit USDC",children:d.jsx("div",{className:"space-y-4",children:b==="success"?d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"text-4xl",children:""}),d.jsx("p",{className:"text-txt",children:"Deposit successful!"}),d.jsx("p",{className:"text-muted text-xs",children:"Your deposit will be credited within 30-40 seconds."})]}):d.jsxs(d.Fragment,{children:[h!==null&&d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-muted text-xs",children:"Available USDC:"}),d.jsx("span",{className:"text-txt font-bold",children:parseFloat(h).toFixed(2)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-muted font-bold mb-2",children:"Deposit Amount (USDC)"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"number",value:c,onChange:F=>u(F.target.value),placeholder:`Min: ${_} USDC`,min:_,step:"0.01",className:"input flex-1",disabled:p}),d.jsx(Gr,{variant:"secondary",onClick:P,disabled:p||!h,className:"px-3",children:"MAX"})]}),d.jsxs("p",{className:"text-xs text-muted mt-1",children:["Minimum deposit: ",_," USDC"]})]}),v&&d.jsx("div",{className:"p-3 rounded-lg border border-red-500/50 bg-red-500/10",children:d.jsx("p",{className:"text-red-400 text-xs",children:v})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Gr,{variant:"secondary",onClick:C,disabled:p||!c||parseFloat(c)<_,className:"flex-1",children:b==="depositing"?"Depositing...":"Deposit"}),d.jsx(Gr,{variant:"secondary",onClick:k,disabled:p,children:"Cancel"})]}),d.jsx("div",{className:"",children:d.jsxs("p",{className:"text-xs text-muted",children:[" Deposits are processed on ",o==="mainnet"?"Arbitrum One":"Arbitrum Sepolia",d.jsx("br",{})," Minimum deposit: ",_," USDC",d.jsx("br",{})," Deposits typically complete within 30-40 seconds"]})})]})})})}const M7t={mainnet:"USDC:0x6d1e7cde53ba9467b783cb7c530ce054",testnet:"USDC:0xeb62eee3685fc4c43992febcd9e75443"};async function D7t(t,e,r,n,i="",s=""){try{const o=n==="mainnet"?"Mainnet":"Testnet";if(typeof t.sendAsset!="function")throw new Error("ExchangeClient.sendAsset method not available");const a=i==="spot"||s==="spot"?M7t[n]:"USDC",l=await t.sendAsset({destination:r,token:a,amount:e,sourceDex:i,destinationDex:s,hyperliquidChain:o});return console.log("[Send] Send result:",l),l}catch(o){throw console.error("[Send] Error Sending USDC:",o),o}}function Pie(t){const{theme:e}=Dr(),{options:r,selected:n,onSelect:i,buttonClass:s="",direction:o="down",disabled:a=!1}=t,[l,c]=x.useState(!1),[u,h]=x.useState({top:0,left:0,width:0}),f=x.useRef(null),p=x.useRef(null);return Wy([f,p],()=>c(!1)),x.useLayoutEffect(()=>{if(l&&f.current){const m=f.current.getBoundingClientRect();h({top:o==="down"?m.bottom+window.scrollY:m.top+window.scrollY,left:m.left+window.scrollX,width:m.width})}},[l,o]),d.jsxs("div",{className:"relative",ref:f,children:[d.jsxs("button",{type:"button",onClick:()=>c(!l),className:`flex flex-row gap-2 justify-between items-center text-xs md:text-sm px-2 rounded-md border-b group ${s}
                      ${e==="light"?"border-black":"border-white"}`,disabled:a,children:[d.jsx("span",{className:`text-start transition-colors ${e==="light"?"text-black/80 group-hover:text-black":"text-gray-200 group-hover:text-white"}`,children:r.find(m=>m.id===n)?.label||r[0].label}),d.jsx(BC,{toggle:l,size:14,direction:o,className:e==="light"?"text-black":"text-white"})]}),l&&Ls.createPortal(d.jsx("div",{ref:p,"data-dropdown-portal":"true",style:{position:"fixed",top:o==="down"?`${u.top+8}px`:void 0,bottom:o==="up"?`${window.innerHeight-u.top+8}px`:void 0,left:`${u.left}px`,width:`${u.width}px`},className:`
              ${e==="light"?"bg-white/30":"bg-black/30"}
              backdrop-blur-[10px] border border-gray-700 rounded-lg shadow-xl z-[9999] overflow-hidden
              ${o==="down"?"animate-slide-down":"animate-slide-up"}
            `,children:d.jsx("div",{className:"flex flex-col",children:r.map(m=>d.jsx("button",{type:"button",onClick:()=>{i(m.id),c(!1)},className:`p-2 text-left text-xs md:text-sm transition-colors ${e==="light"?n===m.id?"text-black bg-white/10 font-bold":"text-black hover:text-black/8 hover:bg-black/5":n===m.id?"text-txt bg-white/10 font-bold":"text-grayed hover:text-gray-200 hover:bg-white/5"}`,children:m.label},m.id))})}),document.body)]})}function Hbe({isOpen:t,onClose:e,onSuccess:r}){const{address:n,getProvider:i}=Pn(),{network:s}=fn(),{wallets:[o]}=pu(),[a,l]=x.useState(!1),[c,u]=x.useState(""),[h,f]=x.useState(0),[p,m]=x.useState(0),[v,w]=x.useState(""),[b,E]=x.useState(null),[_,A]=x.useState("input"),{data:C,abstraction:k,spot:P,isLoading:F,error:N}=P3({address:n||"",network:s,mode:"both"}),$=h?P?.freeCollateral||0:C?.freeCollateral||0,U=F,O=N,D=k==="unifiedAccount"?[{id:0,value:"spot",label:"Trading Account"}]:[{id:0,value:"",label:"Perps Account"},{id:1,value:"spot",label:"Spot Account"}];x.useEffect(()=>{!t||!o||(async()=>await YC(o,"mainnet"))()},[t,o,s]);const T=B=>{const q=B.target.value,G=parseFloat(q);q===""||G<=$?w(q):w($.toString())},I=()=>{w($.toFixed(2))},R=async()=>{u(""),w(""),f(0),m(0),A("input"),E(""),await YC(o,s),e()},L=async()=>{if(!n||!v)return;const B=parseFloat(v);if(isNaN(B)||B<=0){E("Please enter a valid amount");return}if(!oi(c)){E("Enter a valid destination address.");return}if(c.toLowerCase()===n.toLowerCase()){E("Select correct destination address. Self transfer is not supported.");return}l(!0),E(null),A("sending"),setTimeout(()=>{l(!1),A("input")},2e3);try{const q=i();if(!q)throw new Error("Wallet provider not available");const G=await mk(q,n,s),W=Uo(s).createExchangeClient(G),j=await D7t(W,v,c,s,D[h].value,D[h].value);if(j.status==="ok")A("success"),setTimeout(()=>{r?.(),R()},2e3);else throw new Error(j.response?.data||"Send Tokens failed")}catch(q){console.error("[Send] Error Sending USDC:",q),E(`Send failed: ${q.message||"Unknown error"}`),A("input")}finally{l(!1)}};return d.jsx(I3,{isOpen:t,onClose:R,title:"Send Tokens",children:d.jsx("div",{className:"space-y-4",children:_==="success"?d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"text-4xl",children:""}),d.jsx("p",{className:"text-txt",children:"Send successful!"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"destination",className:"block text-sm font-medium text-gray-400 mb-1",children:"Destination"}),d.jsx("input",{type:"text",id:"destination",className:"w-full p-3 rounded input !shadow-none",placeholder:"Destination address",value:c,onChange:B=>u(B.target.value),autoComplete:"off"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("label",{htmlFor:"accountType",className:"block text-sm font-medium text-gray-400 mb-1",children:"Account"}),d.jsx(Pie,{options:D,selected:h,onSelect:B=>f(B),buttonClass:"border-none w-full input !shadow-none"})]}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("label",{htmlFor:"token",className:"block text-sm font-medium text-gray-400 mb-1",children:"Token"}),d.jsx(Pie,{options:[{id:0,value:"USDC",label:"USDC"}],selected:p,onSelect:B=>m(B),buttonClass:"border-none w-full input !shadow-none"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-400 mb-1",children:"Amount"}),d.jsxs("div",{className:"relative input focus-within:border-[rgba(43,255,180,.35)] rounded-md",children:[d.jsx("input",{type:"number",id:"amount",className:"appearance-none bg-transparent w-2/3 border-transparent focus:outline-none no-spinner",placeholder:"0.00",value:v,max:$,onChange:T}),d.jsx("button",{onClick:I,className:"absolute right-3 top-1/2 transform -translate-y-1/2 transition-colors duration-300 text-cyan-800 text-sm font-semibold hover:text-cyan-500",children:U?d.jsx("span",{className:"text-muted",children:"Loading..."}):O?d.jsx("span",{className:"text-red-400",children:"Error loading"}):`${$.toFixed(2)} USDC`})]})]}),b&&d.jsx("div",{className:"p-3 rounded-lg border border-red-500/50 bg-red-500/10",children:d.jsx("p",{className:"text-red-400 text-xs",children:b})}),d.jsx(Gr,{variant:"secondary",onClick:L,disabled:a||!v||parseFloat(v)===0,className:"w-full mt-3",children:_==="sending"?"Sending...":"Send"}),d.jsxs("div",{className:"mt-5",children:[d.jsx("p",{className:"text-xs text-muted",children:" Send tokens to another account on the Hyperliquid L1."}),d.jsx("p",{className:"text-xs text-muted",children:" Send fee: 1 USDC"})]})]})})})}async function F7t(t,e,r,n){try{const i=n==="mainnet"?"Mainnet":"Testnet",s=n==="mainnet"?"0xa4b1":"0x66eee";if(console.log("[Withdraw] Attempting withdrawal with:",{amount:e,destination:r,hyperliquidChain:i,signatureChainId:s}),typeof t.withdraw3!="function")throw new Error("ExchangeClient.withdraw3 method not available");const o=await t.withdraw3({amount:e,destination:r,hyperliquidChain:i,signatureChainId:s});return console.log("[Withdraw] Withdrawal result:",o),o}catch(i){throw console.error("[Withdraw] Error withdrawing USDC:",i),i}}function Vbe({isOpen:t,onClose:e,onSuccess:r}){const{theme:n}=Dr(),{address:i,getProvider:s}=Pn(),{network:o}=fn(),{wallets:[a]}=pu(),[l,c]=x.useState(""),[u,h]=x.useState(!1),[f,p]=x.useState(null),[m,v]=x.useState("input"),w=1,b=2,{data:E,isLoading:_,error:A}=P3({address:i||"",network:o,enabled:t}),C=E?.freeCollateral||0;t&&(console.log("[Withdraw] Account info:",E),console.log("[Withdraw] Available balance:",C),console.log("[Withdraw] Balance error:",A),console.log("[Withdraw] Loading balance:",_)),x.useEffect(()=>{!t||!a||(async()=>await YC(a,o))()},[t,a,o]);const k=async()=>{if(!i||!l)return;console.log(` [Withdraw] Network: ${o.toUpperCase()} (${o==="mainnet"?"MAINNET":"TESTNET"})`);const N=parseFloat(l);if(isNaN(N)||N<=0){p("Please enter a valid amount");return}const $=N+w;if(N<b-w){p(`Minimum withdrawal amount is ${b-w} USDC (total ${b} USDC including ${w} USDC fee)`);return}if($>C){p(`Insufficient balance. You need ${$.toFixed(2)} USDC (${N.toFixed(2)} + ${w} USDC fee)`);return}h(!0),p(null),v("withdrawing");try{const U=s();if(!U)throw new Error("Wallet provider not available");const O=await mk(U,i,o),D=Uo(o).createExchangeClient(O),T=await F7t(D,l,i,o);if(T.status==="ok")v("success"),setTimeout(()=>{r?.(),P()},2e3);else throw new Error(T.response?.data||"Withdrawal failed")}catch(U){console.error("[Withdraw] Error withdrawing USDC:",U),p(`Withdrawal failed: ${U.message||"Unknown error"}`),v("input")}finally{h(!1)}},P=()=>{c(""),p(null),v("input"),e()},F=()=>{if(C>=b){const N=C-w;c(N.toFixed(2))}else p(`Insufficient balance. You need at least ${b} USDC to withdraw (minimum ${b-w} USDC + ${w} USDC fee)`)};return d.jsx(I3,{isOpen:t,onClose:P,title:"Withdraw USDC",children:d.jsx("div",{className:"space-y-4",children:m==="success"?d.jsxs("div",{className:"text-center space-y-4",children:[d.jsx("div",{className:"text-4xl",children:""}),d.jsx("p",{className:"text-txt",children:"Withdrawal initiated!"}),d.jsx("p",{className:"text-muted text-xs",children:"Funds will arrive in your wallet within 3-4 minutes."})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-muted text-xs",children:"Available Balance:"}),d.jsx("span",{className:"text-txt font-bold",children:_?d.jsx("span",{className:"text-muted",children:"Loading..."}):A?d.jsx("span",{className:"text-red-400",children:"Error loading"}):`${C.toFixed(2)} USDC`})]}),C>0&&d.jsx("div",{className:`p-2 rounded-lg border ${n==="light"?"border-yellow-900/30 bg-yellow-900/10":"border-yellow-500/30 bg-yellow-500/10"}`,children:d.jsxs("p",{className:`${n==="light"?"text-yellow-700":"text-yellow-400"} text-xs`,children:[" Withdrawal fee: ",w," USDC | Minimum withdrawal: ",b," USDC total"]})}),!1,d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-muted font-bold mb-2",children:"Withdraw Amount (USDC)"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"number",value:l,onChange:N=>c(N.target.value),placeholder:"0.00",min:b-w,step:"0.01",max:C>w?C-w:0,className:"input flex-1",disabled:u}),d.jsx(Gr,{variant:"secondary",onClick:F,disabled:u||C<=w,className:"px-3",children:"MAX"})]}),l&&parseFloat(l)>0&&d.jsx("div",{className:`mt-2 p-2 rounded border ${n==="light"?"bg-black/5 border-black/10":"bg-white/5 border-white/10"}`,children:d.jsxs("p",{className:"text-xs text-muted",children:["You will receive: ",d.jsxs("span",{className:"text-txt font-bold",children:[(parseFloat(l)-w).toFixed(2)," USDC"]}),d.jsx("br",{}),"Fee: ",d.jsxs("span",{className:"text-muted",children:[w," USDC"]}),d.jsx("br",{}),"Total deducted: ",d.jsxs("span",{className:"text-muted",children:[parseFloat(l).toFixed(2)," USDC"]})]})})]}),f&&d.jsx("div",{className:"p-3 rounded-lg border border-red-500/50 bg-red-500/10",children:d.jsx("p",{className:"text-red-400 text-xs",children:f})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Gr,{variant:"secondary",onClick:k,disabled:u||!l||parseFloat(l)<2||parseFloat(l)+w>C||parseFloat(l)<b-w,className:"flex-1",children:m==="withdrawing"?"Withdrawing...":"Withdraw"}),d.jsx(Gr,{variant:"secondary",onClick:P,disabled:u,children:"Cancel"})]}),d.jsx("div",{className:"",children:d.jsxs("p",{className:"text-xs text-muted",children:[" Withdrawals require a signature on Hyperliquid",d.jsx("br",{})," Withdrawal fee: 1 USDC",d.jsx("br",{})," Funds typically arrive within 3-4 minutes",d.jsx("br",{})," No Arbitrum transaction required"]})})]})})})}function L7t(){const{bottomRightDockEnabled:t}=wo(),[e,r]=x.useState(!1),[n,i]=x.useState(!1),[s,o]=x.useState(!1),a=k3(),{address:l}=Pn(),{network:c}=fn(),u=()=>{l&&(a.invalidateQueries({queryKey:wi.accountInfo(l,c)}),a.invalidateQueries({queryKey:wi.positions(l,c)}))},h=()=>{l&&(a.invalidateQueries({queryKey:wi.accountInfo(l,c)}),a.invalidateQueries({queryKey:wi.positions(l,c)}))},f=()=>{l&&(a.invalidateQueries({queryKey:wi.accountInfo(l,c)}),a.invalidateQueries({queryKey:wi.positions(l,c)}))};return t?d.jsxs("div",{className:"fixed right-0 bottom-0 z-50 pointer-events-auto hidden md:block",children:[d.jsx("div",{className:"rounded-sm bg-panel-gradient border border-white/10 overflow-hidden shadow-lg",children:d.jsxs("div",{className:"p-2 flex gap-2",children:[d.jsx(Gr,{className:"flex-1",variant:"secondary",onClick:()=>r(!0),children:"Deposit"}),d.jsx(Gr,{className:"flex-1",variant:"secondary",onClick:()=>i(!0),children:"Withdraw"}),d.jsx(Gr,{className:"flex-1",variant:"secondary",onClick:()=>o(!0),children:"Send"})]})}),d.jsx(Wbe,{isOpen:e,onClose:()=>r(!1),onSuccess:u}),d.jsx(Vbe,{isOpen:n,onClose:()=>i(!1),onSuccess:h}),d.jsx(Hbe,{isOpen:s,onClose:()=>o(!1),onSuccess:f})]}):null}function U7t({active:t}){return d.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:t?"text-emerald-400":"text-gray-400",children:d.jsx("path",{d:"M4 14v6M10 10v10M16 6v14M22 2v18",stroke:"currentColor",strokeWidth:"3.5",strokeLinecap:"round"})})}function B7t({active:t}){return d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:t?"text-emerald-400":"text-gray-400",children:[d.jsx("path",{d:"M7 7h10M7 7l3-3M7 7l3 3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M17 17H7M17 17l-3-3M17 17l-3 3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function z7t({active:t}){return d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:t?"text-emerald-400":"text-gray-400",children:[d.jsx("path",{d:"M12 22a10 10 0 1 0 0-20 10 10 0 0 0 0 20Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),d.jsx("path",{d:"M12 12a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),d.jsx("path",{d:"M7.5 18a6 6 0 0 1 9 0",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}function q7t({active:t,onChange:e}){const r="flex-1 py-4 text-[14px] font-black flex items-center justify-center gap-3 select-none",{theme:n}=Dr(),i=n==="light"?"text-emerald-600":"text-emerald-400",s=n==="light"?"text-gray-700":"text-gray-400";return d.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-40 pointer-events-auto",children:d.jsx("div",{className:`mx-0 mb-0 rounded-sm border overflow-hidden ${n==="light"?"border-black/10":"border-white/10"}`,style:{background:n==="light"?"#FAFAFA":"linear-gradient(180deg, rgba(8,10,12,.92), rgba(8,10,12,.70))"},children:d.jsxs("div",{className:"flex",children:[d.jsxs("button",{type:"button",className:`${r} ${t==="markets"?i:s}`,onClick:()=>e("markets"),children:[d.jsx(U7t,{active:t==="markets"}),"Markets"]}),d.jsxs("button",{type:"button",className:`${r} ${t==="trade"?i:s}`,onClick:()=>e("trade"),children:[d.jsx(B7t,{active:t==="trade"}),"Trade"]}),d.jsxs("button",{type:"button",className:`${r} ${t==="account"?i:s}`,onClick:()=>e("account"),children:[d.jsx(z7t,{active:t==="account"}),"Account"]})]})})})}function W7t(){return d.jsxs("div",{className:"h-full overflow-auto",children:[d.jsx("div",{className:"rounded-sm border border-white/10 bg-panel-gradient",children:d.jsx(VU,{allowMobileToggle:!0})}),d.jsx("div",{className:"rounded-sm border border-white/10 overflow-hidden bg-panel-gradient",children:d.jsx(Xj,{variant:"mobile"})})]})}function H7t(){const{opAction:t,toast:e,closeMode:r,toggleCloseMode:n,isOperating:i,openLong:s,openShort:o,closeAllPositions:a,closePosition:l}=N3(),[c,u]=x.useState(!1),h=f=>{if(K1e({openLong:"Open Long",openShort:"Open Short",closeOne:"Close One",closeAll:"Close All"}[f]),i){e.info(`Please wait (${t??"operation"} in progress)`);return}switch(f){case"openLong":s();break;case"openShort":o();break;case"closeOne":n();break;case"closeAll":a();break}};return d.jsxs("div",{className:"h-full overflow-auto",children:[d.jsx(Mbe,{}),d.jsxs("div",{className:"flex flex-row justify-between items-center pr-2 rounded-sm border border-white/10 bg-panel-gradient",children:[d.jsx(VU,{}),d.jsx(Fbe,{toggle:c,onToggle:()=>u(f=>!f),variant:"switch",labelOff:!0,className:"!w-[2.5rem]"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex flex-row items-stretch",children:[d.jsx("div",{className:"flex-1",children:d.jsx(Dbe,{variant:c?"mini":"standard"})}),d.jsx("div",{className:`w-1/3 ${c?"flex flex-col":"hidden"} bg-panel-gradient`,children:d.jsx(Lbe,{variant:"mini"})})]}),d.jsxs("div",{className:"flex flex-row gap-1",children:[d.jsxs("div",{className:`${c?"flex flex-col":"flex-1 flex flex-col"} items-center gap-1`,children:[d.jsx("div",{className:"flex flex-col items-center",children:d.jsx("div",{className:"flex gap-1",children:Abe.map(f=>d.jsx(Sbe,{keyboardKey:f.key,label:f.label,icon:f.icon,onClick:()=>h(f.action),disabled:i,isActiveAction:t===f.action},f.key))})}),d.jsxs("div",{className:"relative gap-1 w-[196px]",children:[d.jsx(Wve,{}),d.jsx(qve,{})]}),d.jsx("div",{className:"flex-1 overflow-x-auto min-w-0",children:d.jsx(kbe,{closeMode:r,onClosePosition:l})})]}),d.jsx("div",{className:`${c?"flex flex-col":"hidden"}`,style:{width:"calc(100% - 196px)"},children:d.jsx(KU,{})})]})]})]})}function V7t(){const{address:t,isConnected:e}=Pn(),{network:r}=fn(),{positions:n}=dc(),{theme:i}=Dr(),s=k3(),[o,a]=x.useState(!1),[l,c]=x.useState(!1),[u,h]=x.useState(!1),f=()=>{t&&(s.invalidateQueries({queryKey:wi.accountInfo(t,r)}),s.invalidateQueries({queryKey:wi.positions(t,r)}))},p=n.filter(m=>m.id&&m.size>0);return d.jsxs("div",{className:"h-full overflow-auto",children:[d.jsxs("div",{className:"rounded-sm border border-white/10 p-3 bg-panel-gradient",children:[d.jsx("div",{className:"text-xs text-muted mb-2",children:"Account"}),d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("div",{className:"text-xs text-muted truncate",children:e&&t?Zf(t):"Wallet not connected"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg text-xs font-black border ${i==="light"?"border-black/10 bg-white text-black":"border-white/10 bg-black/20 text-muted hover:bg-white/10"}`,onClick:()=>a(!0),disabled:!e,children:"Deposit"}),d.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg text-xs font-black border ${i==="light"?"border-black/10 bg-white text-black":"border-white/10 bg-black/20 text-muted hover:bg-white/10"}`,onClick:()=>c(!0),disabled:!e,children:"Withdraw"}),d.jsx("button",{type:"button",className:`px-3 py-2 rounded-lg text-xs font-black border ${i==="light"?"border-black/10 bg-white text-black":"border-white/10 bg-black/20 text-muted hover:bg-white/10"}`,onClick:()=>h(!0),disabled:!e,children:"Send"})]})]})]}),d.jsxs("div",{className:"rounded-sm border border-white/10 p-3 bg-panel-gradient",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("div",{className:"text-xs text-muted",children:"Positions"})}),p.length===0?d.jsx("div",{className:"text-muted text-center py-4 text-xs",children:"No open positions."}):d.jsx("div",{className:"mt-3 space-y-2",children:p.map(m=>d.jsx("div",{className:`rounded-lg ${i==="light"?"bg-black/5":"bg-white/5"} border border-stroke/60 px-3 py-2 flex items-center justify-between gap-2`,children:d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"text-xs font-black text-txt",children:m.market}),d.jsxs("div",{className:"text-[11px] text-muted truncate",children:[m.side,"  ",m.positionValue," USDC  ",m.leverage,"x"]})]})},m.id))})]}),d.jsx(Wbe,{isOpen:o,onClose:()=>a(!1),onSuccess:f}),d.jsx(Vbe,{isOpen:l,onClose:()=>c(!1),onSuccess:f}),d.jsx(Hbe,{isOpen:u,onClose:()=>h(!1),onSuccess:f})]})}function G7t(){const[t,e]=x.useState("trade"),r=x.useMemo(()=>{switch(t){case"markets":return d.jsx(W7t,{});case"trade":return d.jsx(H7t,{});case"account":return d.jsx(V7t,{})}},[t]);return d.jsxs("div",{className:"h-screen w-screen font-mono overflow-hidden relative",children:[d.jsx(jbe,{}),d.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 pointer-events-auto",children:d.jsx(yk,{})}),d.jsx("div",{className:"absolute inset-0 pt-[71px] pb-[58px] z-40 pointer-events-auto",children:r}),d.jsx(q7t,{active:t,onChange:e}),d.jsx(Ibe,{})]})}const qd={title:"Q1 2026 Crypto Trading Challenge",description:"Compete with top traders, showcase your skills, and win amazing prizes. Join the most exciting trading competition in crypto.",startDate:new Date("2026-01-01T00:00:00Z"),endDate:new Date("2026-03-31T23:59:59Z"),eligibility:"Must be a registered user with a connected wallet"};function K7t({onViewLeaderboard:t}={}){const{isConnected:e,connect:r}=Pn(),n=new Date,i=n>=qd.startDate&&n<=qd.endDate,s=n<qd.startDate,o=n>qd.endDate,a=l=>l.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return d.jsx("div",{className:"rounded-sm border border-stroke/60 p-6 md:p-8",children:d.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-black text-txt mb-3",children:qd.title}),d.jsx("p",{className:"text-muted mb-4 max-w-2xl",children:qd.description}),d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i&&d.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-green-500/20 text-green-400 border border-green-500/30",children:" Active Now"}),s&&d.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-blue-500/20 text-blue-400 border border-blue-500/30",children:" Starting Soon"}),o&&d.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-500/20 text-gray-400 border border-gray-500/30",children:" Competition Ended"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-muted mb-1",children:"Start Date"}),d.jsx("div",{className:"text-sm font-semibold text-txt",children:a(qd.startDate)})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-xs text-muted mb-1",children:"End Date"}),d.jsx("div",{className:"text-sm font-semibold text-txt",children:a(qd.endDate)})]})]}),d.jsxs("div",{className:"text-xs text-muted",children:[d.jsx("span",{className:"font-semibold",children:"Eligibility:"})," ",qd.eligibility]})]}),d.jsx("div",{className:"flex-shrink-0",children:e?d.jsx(Gr,{variant:"primary",onClick:t,className:"w-full md:w-auto",children:i?"View Leaderboard":s?"Register Now":"View Results"}):d.jsx(Gr,{variant:"primary",onClick:r,className:"w-full md:w-auto",children:"Connect Wallet to Join"})})]})})}function Y7t(){return d.jsxs(hs,{className:"space-y-6",children:[d.jsx("h2",{className:"text-2xl font-black text-txt",children:"Competition Rules & Structure"}),d.jsxs("section",{children:[d.jsx("h3",{className:"text-lg font-bold text-txt mb-3",children:"Trading Instruments"}),d.jsxs("div",{className:"text-sm text-muted",children:[d.jsx("p",{className:"mb-2",children:"Allowed assets for trading:"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:["BTC","ETH","SOL","AVAX","ARB","SUI","HYPE","PURR"].map(t=>d.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/5 border border-white/10 text-txt text-xs",children:t},t))})]})]}),d.jsxs("section",{children:[d.jsx("h3",{className:"text-lg font-bold text-txt mb-3",children:"Trading Rules"}),d.jsxs("div",{className:"space-y-2 text-sm text-muted",children:[d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-txt font-semibold min-w-[140px]",children:"Position Size:"}),d.jsx("span",{children:"Minimum: 10 USDC | Maximum: 100,000 USDC per position"})]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-txt font-semibold min-w-[140px]",children:"Leverage:"}),d.jsx("span",{children:"Maximum leverage: 20x (varies by asset)"})]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-txt font-semibold min-w-[140px]",children:"Margin:"}),d.jsx("span",{children:"Initial margin: 5% | Maintenance margin: 2.5%"})]})]})]}),d.jsxs("section",{children:[d.jsx("h3",{className:"text-lg font-bold text-txt mb-3",children:"Risk Control"}),d.jsxs("div",{className:"space-y-2 text-sm text-muted",children:[d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-txt font-semibold min-w-[140px]",children:"Max Daily Loss:"}),d.jsx("span",{children:"30% of starting balance triggers temporary suspension"})]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-txt font-semibold min-w-[140px]",children:"Liquidation:"}),d.jsx("span",{children:"Positions are liquidated when margin falls below maintenance margin"})]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-txt font-semibold min-w-[140px]",children:"Drawdown Limit:"}),d.jsx("span",{children:"Maximum drawdown of 50% results in disqualification"})]})]})]}),d.jsxs("section",{children:[d.jsx("h3",{className:"text-lg font-bold text-txt mb-3",children:"Prohibited Activities"}),d.jsxs("div",{className:"space-y-2 text-sm text-muted",children:[d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-red-400",children:""}),d.jsx("span",{children:"No automated trading bots or Expert Advisors (EAs)"})]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-red-400",children:""}),d.jsx("span",{children:"No wash trading or self-matching orders"})]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-red-400",children:""}),d.jsx("span",{children:"No market manipulation or coordinated trading"})]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-red-400",children:""}),d.jsx("span",{children:"No use of multiple accounts to circumvent rules"})]}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-red-400",children:""}),d.jsx("span",{children:"No insider trading or use of non-public information"})]})]})]}),d.jsxs("section",{children:[d.jsx("h3",{className:"text-lg font-bold text-txt mb-3",children:"Scoring & Ranking"}),d.jsxs("div",{className:"space-y-2 text-sm text-muted",children:[d.jsxs("p",{children:["Rankings are based on ",d.jsx("span",{className:"text-txt font-semibold",children:"Total Return %"})," calculated as:"]}),d.jsx("div",{className:"bg-black/30 p-3 rounded-lg border border-white/10 text-xs",children:"Total Return % = ((Final Balance - Starting Balance) / Starting Balance)  100"}),d.jsxs("p",{className:"mt-2",children:["All participants start with a virtual balance of ",d.jsx("span",{className:"text-txt font-semibold",children:"10,000 USDC"}),"."]})]})]})]})}function Sk(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function J7t(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}const X7t=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class YU extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Q7t extends YU{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $ie extends YU{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Nie extends YU{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zj;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Zj||(Zj={}));class Z7t{constructor(e,{headers:r={},customFetch:n,region:i=Zj.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=X7t(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return J7t(this,arguments,void 0,function*(r,n={}){var i;let s,o;try{const{headers:a,method:l,body:c,signal:u,timeout:h}=n;let f={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(f["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let v;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(f["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(f["Content-Type"]="application/json",v=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?v=JSON.stringify(c):v=c;let w=u;h&&(o=new AbortController,s=setTimeout(()=>o.abort(),h),u?(w=o.signal,u.addEventListener("abort",()=>o.abort())):w=o.signal);const b=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:v,signal:w}).catch(C=>{throw new Q7t(C)}),E=b.headers.get("x-relay-error");if(E&&E==="true")throw new $ie(b);if(!b.ok)throw new Nie(b);let _=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),A;return _==="application/json"?A=yield b.json():_==="application/octet-stream"||_==="application/pdf"?A=yield b.blob():_==="text/event-stream"?A=b:_==="multipart/form-data"?A=yield b.formData():A=yield b.text(),{data:A,error:null,response:b}}catch(a){return{data:null,error:a,response:a instanceof Nie||a instanceof $ie?a.context:void 0}}finally{s&&clearTimeout(s)}})}}var eIt=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},tIt=class{constructor(t){var e,r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=t.urlLengthLimit)!==null&&n!==void 0?n:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,a=null,l=null,c=s.status,u=s.statusText;if(s.ok){var h,f;if(r.method!=="HEAD"){var p;const b=await s.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?a=b:a=JSON.parse(b))}const v=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),w=(f=s.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");v&&w&&w.length>1&&(l=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var m;const v=await s.text();try{o=JSON.parse(v),Array.isArray(o)&&s.status===404&&(a=[],o=null,c=200,u="OK")}catch{s.status===404&&v===""?(c=204,u="No Content"):o={message:v}}if(o&&r.isMaybeSingle&&(!(o==null||(m=o.details)===null||m===void 0)&&m.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&r.shouldThrowOnError)throw new eIt(o)}return{error:o,data:a,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(i=i.catch(s=>{var o;let a="",l="",c="";const u=s?.cause;if(u){var h,f,p,m;const b=(h=u?.message)!==null&&h!==void 0?h:"",E=(f=u?.code)!==null&&f!==void 0?f:"";a=`${(p=s?.name)!==null&&p!==void 0?p:"FetchError"}: ${s?.message}`,a+=`

Caused by: ${(m=u?.name)!==null&&m!==void 0?m:"Error"}: ${b}`,E&&(a+=` (${E})`),u?.stack&&(a+=`
${u.stack}`)}else{var v;a=(v=s?.stack)!==null&&v!==void 0?v:""}const w=this.url.toString().length;return s?.name==="AbortError"||s?.code==="ABORT_ERR"?(c="",l="Request was aborted (timeout or manual cancellation)",w>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${w} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(u?.name==="HeadersOverflowError"||u?.code==="UND_ERR_HEADERS_OVERFLOW")&&(c="",l="HTTP headers exceeded server limits (typically 16KB)",w>this.urlLengthLimit&&(l+=`. Your request URL is ${w} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(o=s?.name)!==null&&o!==void 0?o:"FetchError"}: ${s?.message}`,details:a,hint:l,code:c},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},rIt=class extends tIt{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${a};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Rie=new RegExp("[,()]");var ly=class extends rIt{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Rie.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Rie.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},nIt=class{constructor(t,{headers:e={},schema:r,fetch:n,urlLengthLimit:i=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),n&&l.append("Prefer",`count=${n}`),new ly({method:i,url:a,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),r||o.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);s.searchParams.set("columns",l.join(","))}}return new ly({method:i,url:s,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),n&&l.append("Prefer",`count=${n}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);a.searchParams.set("columns",u.join(","))}}return new ly({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new ly({method:n,url:i,headers:s,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new ly({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function yx(t){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yx(t)}function iIt(t,e){if(yx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sIt(t){var e=iIt(t,"string");return yx(e)=="symbol"?e:e+""}function oIt(t,e,r){return(e=sIt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oie(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Oie(Object(r),!0).forEach(function(n){oIt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oie(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var aIt=class Gbe{constructor(e,{headers:r={},schema:n,fetch:i,timeout:s,urlLengthLimit:o=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=o;const a=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(l,c)=>{const u=new AbortController,h=setTimeout(()=>u.abort(),s),f=c?.signal;if(f){if(f.aborted)return clearTimeout(h),a(l,c);const p=()=>{clearTimeout(h),u.abort()};return f.addEventListener("abort",p,{once:!0}),a(l,m4(m4({},c),{},{signal:u.signal})).finally(()=>{clearTimeout(h),f.removeEventListener("abort",p)})}return a(l,m4(m4({},c),{},{signal:u.signal})).finally(()=>clearTimeout(h))}:this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new nIt(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new Gbe(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;const u=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(u)),h=n&&Object.values(r).some(u);h?(a="POST",c=r):n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{l.searchParams.append(p,m)})):(a="POST",c=r);const f=new Headers(this.headers);return h?f.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&f.set("Prefer",`count=${s}`),new ly({method:a,url:l,headers:f,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}};class lIt{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const cIt="2.98.0",uIt=`realtime-js/${cIt}`,dIt="1.0.0",Kbe="2.0.0",jie=Kbe,eM=1e4,hIt=1e3,fIt=100;var Pf;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Pf||(Pf={}));var qi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(qi||(qi={}));var Dc;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Dc||(Dc={}));var tM;(function(t){t.websocket="websocket"})(tM||(tM={}));var f0;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(f0||(f0={}));class pIt{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var i,s;const o=e.topic,a=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",c=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(p),v=0;m.setUint8(v++,this.KINDS.userBroadcastPush),m.setUint8(v++,l.length),m.setUint8(v++,a.length),m.setUint8(v++,o.length),m.setUint8(v++,c.length),m.setUint8(v++,h.length),m.setUint8(v++,r),Array.from(l,b=>m.setUint8(v++,b.charCodeAt(0))),Array.from(a,b=>m.setUint8(v++,b.charCodeAt(0))),Array.from(o,b=>m.setUint8(v++,b.charCodeAt(0))),Array.from(c,b=>m.setUint8(v++,b.charCodeAt(0))),Array.from(h,b=>m.setUint8(v++,b.charCodeAt(0)));var w=new Uint8Array(p.byteLength+n.byteLength);return w.set(new Uint8Array(p),0),w.set(new Uint8Array(n),p.byteLength),w.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,o,a,l]=n;return r({join_ref:i,ref:s,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,i)}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+i));l=l+i;const u=n.decode(e.slice(l,l+s));l=l+s;const h=n.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),p=a===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,m={type:this.BROADCAST_EVENT,event:u,payload:p};return o>0&&(m.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Ybe{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var In;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(In||(In={}));const Mie=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=gIt(o,t,e,i),s),{}):{}},gIt=(t,e,r,n)=>{const i=e.find(a=>a.name===t),s=i?.type,o=r[t];return s&&!n.includes(s)?Jbe(s,o):rM(o)},Jbe=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return wIt(e,r)}switch(t){case In.bool:return mIt(e);case In.float4:case In.float8:case In.int2:case In.int4:case In.int8:case In.numeric:case In.oid:return yIt(e);case In.json:case In.jsonb:return vIt(e);case In.timestamp:return bIt(e);case In.abstime:case In.date:case In.daterange:case In.int4range:case In.int8range:case In.money:case In.reltime:case In.text:case In.time:case In.timestamptz:case In.timetz:case In.tsrange:case In.tstzrange:return rM(e);default:return rM(e)}},rM=t=>t,mIt=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},yIt=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},vIt=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},wIt=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Jbe(e,a))}return t},bIt=t=>typeof t=="string"?t.replace(" ","T"):t,Xbe=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class U${constructor(e,r,n={},i=eM){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Die;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Die||(Die={}));class Bb{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bb.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Bb.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Bb.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=s[c];if(h){const f=u.map(w=>w.presence_ref),p=h.map(w=>w.presence_ref),m=u.filter(w=>p.indexOf(w.presence_ref)<0),v=h.filter(w=>f.indexOf(w.presence_ref)<0);m.length>0&&(a[c]=m),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}n(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fie;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Fie||(Fie={}));var zb;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(zb||(zb={}));var Xd;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Xd||(Xd={}));class Ay{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=qi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new U$(this,Dc.join,this.params,this.timeout),this.rejoinTimer=new Ybe(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qi.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=qi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=qi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dc.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Bb(this),this.broadcastEndpointURL=Xbe(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==qi.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[zb.PRESENCE]&&this.bindings[zb.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e?.(Xd.CHANNEL_ERROR,p)),this._onClose(()=>e?.(Xd.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e?.(Xd.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,w=(m=v?.length)!==null&&m!==void 0?m:0,b=[];for(let E=0;E<w;E++){const _=v[E],{filter:{event:A,schema:C,table:k,filter:P}}=_,F=p&&p[E];if(F&&F.event===A&&Ay.isFilterValueEqual(F.schema,C)&&Ay.isFilterValueEqual(F.table,k)&&Ay.isFilterValueEqual(F.filter,P))b.push(Object.assign(Object.assign({},_),{id:F.id}));else{this.unsubscribe(),this.state=qi.errored,e?.(Xd.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Xd.SUBSCRIBED);return}}).receive("error",p=>{this.state=qi.errored,e?.(Xd.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e?.(Xd.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===qi.joined&&e===zb.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dc.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new U$(this,Dc.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qi.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new U$(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>fIt){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Dc;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,v,w;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((w=(v=p.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(f,n)):(s=this.bindings[o])===null||s===void 0||s.filter(p=>{var m,v,w,b,E,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const A=p.id,C=(m=p.filter)===null||m===void 0?void 0:m.event;return A&&((v=r.ids)===null||v===void 0?void 0:v.includes(A))&&(C==="*"||C?.toLocaleLowerCase()===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const A=(E=(b=p?.filter)===null||b===void 0?void 0:b.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return A==="*"||A===((_=r?.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:v,table:w,commit_timestamp:b,type:E,errors:_}=m;f=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:b,eventType:E,new:{},old:{},errors:_}),this._getPayloadRecords(m))}p.callback(f,n)})}_isClosed(){return this.state===qi.closed}_isJoined(){return this.state===qi.joined}_isJoining(){return this.state===qi.joining}_isLeaving(){return this.state===qi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Ay.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Dc.close,{},e)}_onError(e){this._on(Dc.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Mie(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Mie(e.columns,e.old_record)),r}}const B$=()=>{},y4={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xIt=[1e3,2e3,5e3,1e4],_It=1e4,CIt=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class EIt{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=eM,this.transport=null,this.heartbeatIntervalMs=y4.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=B$,this.ref=0,this.reconnectTimer=null,this.vsn=jie,this.logger=B$,this.conn=null,this.sendBuffer=[],this.serializer=new pIt,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${tM.websocket}`,this.httpEndpoint=Xbe(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lIt.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Pf.connecting:return f0.Connecting;case Pf.open:return f0.Open;case Pf.closing:return f0.Closing;default:return f0.Closed}}isConnected(){return this.connectionState()===f0.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Ay(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(hIt,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},y4.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:o}=r,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${a}`.trim(),s),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Pf.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Pf.open||this.conn.readyState===Pf.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.accessTokenValue&&(this.channels.forEach(r=>{r.updateJoinPayload({access_token:this.accessTokenValue})}),this.sendBuffer=[],this.channels.forEach(r=>{r._isJoining()&&(r.joinPush.sent=!1,r.joinPush.send())})),this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Dc.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([CIt],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:uIt};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Dc.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Ybe(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},y4.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,o,a,l,c,u,h,f,p;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:eM,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:y4.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:B$,this.vsn=(l=e?.vsn)!==null&&l!==void 0?l:jie,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(m=>xIt[m-1]||_It),this.vsn){case dIt:this.encode=(u=e?.encode)!==null&&u!==void 0?u:((m,v)=>v(JSON.stringify(m))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:((m,v)=>v(JSON.parse(m)));break;case Kbe:this.encode=(f=e?.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var vx=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function kIt(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function SIt(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function AIt(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:o}){const a=kIt(t.baseUrl,n,i),l=await SIt(t.auth),c=await e(a,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...o},body:s?JSON.stringify(s):void 0}),u=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),f=h&&u?JSON.parse(u):u;if(!c.ok){const p=h?f:void 0,m=p?.error;throw new vx(m?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:m?.type,icebergCode:m?.code,details:p})}return{status:c.status,headers:c.headers,data:f}}}}function v4(t){return t.join("")}var TIt=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:v4(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${v4(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${v4(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${v4(t.namespace)}`}),!0}catch(e){if(e instanceof vx&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof vx&&r.status===409)return;throw r}}};function Ym(t){return t.join("")}var IIt=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ym(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ym(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ym(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ym(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ym(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ym(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof vx&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof vx&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},PIt=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=AIt({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new TIt(this.client,e),this.tableOps=new IIt(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Ak=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Tk(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var w4=class extends Ak{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Qbe=class extends Ak{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const $It=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),NIt=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},nM=t=>{if(Array.isArray(t))return t.map(r=>nM(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=nM(n)}),e},RIt=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function wx(t){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wx(t)}function OIt(t,e){if(wx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jIt(t){var e=OIt(t,"string");return wx(e)=="symbol"?e:e+""}function MIt(t,e,r){return(e=jIt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lie(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lie(Object(r),!0).forEach(function(n){MIt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lie(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Uie=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},DIt=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t,s=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const a=o?.statusCode||o?.code||s+"";e(new w4(Uie(o),s,a,n))}).catch(()=>{if(n==="vectors"){const o=s+"";e(new w4(i.statusText||`HTTP ${s} error`,s,o,n))}else{const o=s+"";e(new w4(i.statusText||`HTTP ${s} error`,s,o,n))}});else{const o=s+"";e(new w4(i.statusText||`HTTP ${s} error`,s,o,n))}}else e(new Qbe(Uie(t),t,n))},FIt=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!n?or(or({},i),r):(NIt(n)?(i.headers=or({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),or(or({},i),r))};async function Dw(t,e,r,n,i,s,o){return new Promise((a,l)=>{t(r,FIt(e,n,i,s)).then(c=>{if(!c.ok)throw c;if(n?.noResolveJson)return c;if(o==="vectors"){const u=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!u||!u.includes("application/json"))return{}}return c.json()}).then(c=>a(c)).catch(c=>DIt(c,l,n,o))})}function Zbe(t="storage"){return{get:async(e,r,n,i)=>Dw(e,"GET",r,n,i,void 0,t),post:async(e,r,n,i,s)=>Dw(e,"POST",r,i,s,n,t),put:async(e,r,n,i,s)=>Dw(e,"PUT",r,i,s,n,t),head:async(e,r,n,i)=>Dw(e,"HEAD",r,or(or({},n),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,r,n,i,s)=>Dw(e,"DELETE",r,i,s,n,t)}}const LIt=Zbe("storage"),{get:bx,post:jc,put:iM,head:UIt,remove:JU}=LIt,Va=Zbe("vectors");var cv=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=$It(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=or(or({},this.headers),{},{[t]:e}),this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Tk(r))return{data:null,error:r};throw r}}},BIt=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Tk(e))return{data:null,error:e};throw e}}};let e2e;e2e=Symbol.toStringTag;var zIt=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[e2e]="BlobDownloadBuilder",this.promise=null}asStream(){return new BIt(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Tk(e))return{data:null,error:e};throw e}}};const qIt={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bie={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var WIt=class extends cv{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var i=this;return i.handleOperation(async()=>{let s;const o=or(or({},Bie),n);let a=or(or({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),n?.headers&&(a=or(or({},a),n.headers));const c=i._removeEmptyFolders(e),u=i._getFinalPath(c),h=await(t=="PUT"?iM:jc)(i.fetch,`${i.url}/object/${u}`,s,or({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{path:c,id:h.Id,fullPath:h.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const s=i._removeEmptyFolders(t),o=i._getFinalPath(s),a=new URL(i.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",e),i.handleOperation(async()=>{let l;const c=or({upsert:Bie.upsert},n),u=or(or({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{path:s,fullPath:(await iM(i.fetch,a.toString(),l,{headers:u})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const i=or({},r.headers);e?.upsert&&(i["x-upsert"]="true");const s=await jc(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(r.url+s.url),a=o.searchParams.get("token");if(!a)throw new Ak("No token returned by API");return{signedUrl:o.toString(),path:t,token:a}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await jc(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await jc(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(t),s=await jc(n.fetch,`${n.url}/object/sign/${i}`,or({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${o}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const i=await jc(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(o=>or(or({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${s}`):null}))})}download(t,e,r){const n=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),s=i?`?${i}`:"",o=this._getFinalPath(t),a=()=>bx(this.fetch,`${this.url}/${n}/${o}${s}`,{headers:this.headers,noResolveJson:!0},r);return new zIt(a,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>nM(await bx(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await UIt(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Tk(n)&&n instanceof Qbe){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const s=typeof e?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(e?.transform||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${a}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await JU(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const i=or(or(or({},qIt),e),{},{prefix:t||""});return await jc(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=or({},t);return await jc(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const HIt="2.98.0",D3={"X-Client-Info":`storage-js/${HIt}`};var VIt=class extends cv{constructor(t,e={},r,n){const i=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),o=or(or({},D3),e);super(s,o,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await bx(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await bx(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await jc(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await iM(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await jc(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await JU(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},GIt=class extends cv{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=or(or({},D3),e);super(n,i,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await jc(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await bx(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await JU(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!RIt(t))throw new Ak("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new PIt({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const o=i[s];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(i,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},KIt=class extends cv{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=or(or({},D3),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Va.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await Va.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Va.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await Va.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},YIt=class extends cv{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=or(or({},D3),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Va.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Va.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Va.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Va.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Va.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},JIt=class extends cv{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=or(or({},D3),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Va.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Va.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Va.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Va.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},XIt=class extends JIt{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new QIt(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},QIt=class extends KIt{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,or(or({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,or(or({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new ZIt(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},ZIt=class extends YIt{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,or(or({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,or(or({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,or(or({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,or(or({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,or(or({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},ePt=class extends VIt{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new WIt(this.url,this.headers,t,this.fetch)}get vectors(){return new XIt(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new GIt(this.url+"/iceberg",this.headers,this.fetch)}};const t2e="2.98.0",cy=30*1e3,sM=3,z$=sM*cy,tPt="http://localhost:9999",rPt="supabase.auth.token",nPt={"X-Client-Info":`gotrue-js/${t2e}`},oM="X-Supabase-Api-Version",r2e={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iPt=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sPt=600*1e3;class xx extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Zt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class oPt extends xx{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function aPt(t){return Zt(t)&&t.name==="AuthApiError"}class p0 extends xx{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Uh extends xx{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Oa extends Uh{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function q$(t){return Zt(t)&&t.name==="AuthSessionMissingError"}class Jm extends Uh{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class b4 extends Uh{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class x4 extends Uh{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lPt(t){return Zt(t)&&t.name==="AuthImplicitGrantRedirectError"}class zie extends Uh{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cPt extends Uh{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class aM extends Uh{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function W$(t){return Zt(t)&&t.name==="AuthRetryableFetchError"}class qie extends Uh{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class lM extends Uh{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const JC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wie=` 	
\r=`.split(""),uPt=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Wie.length;e+=1)t[Wie[e].charCodeAt(0)]=-2;for(let e=0;e<JC.length;e+=1)t[JC[e].charCodeAt(0)]=e;return t})();function Hie(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(JC[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(JC[n]),e.queuedBits-=6}}function n2e(t,e,r){const n=uPt[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Vie(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{fPt(o,n,r)};for(let o=0;o<t.length;o+=1)n2e(t.charCodeAt(o),i,s);return e.join("")}function dPt(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function hPt(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}dPt(n,e)}}function fPt(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Vy(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)n2e(t.charCodeAt(i),r,n);return new Uint8Array(e)}function pPt(t){const e=[];return hPt(t,r=>e.push(r)),new Uint8Array(e)}function A0(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>Hie(i,r,n)),Hie(null,r,n),e.join("")}function gPt(t){return Math.round(Date.now()/1e3)+t}function mPt(){return Symbol("auth-callback")}const Is=()=>typeof window<"u"&&typeof document<"u",Jp={tested:!1,writable:!1},i2e=()=>{if(!Is())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jp.tested)return Jp.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Jp.tested=!0,Jp.writable=!0}catch{Jp.tested=!0,Jp.writable=!1}return Jp.writable};function yPt(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const s2e=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),vPt=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",uy=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Xp=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},As=async(t,e)=>{await t.removeItem(e)};class Ik{constructor(){this.promise=new Ik.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ik.promiseConstructor=Promise;function _4(t){const e=t.split(".");if(e.length!==3)throw new lM("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!iPt.test(e[n]))throw new lM("JWT not in base64url format");return{header:JSON.parse(Vie(e[0])),payload:JSON.parse(Vie(e[1])),signature:Vy(e[2]),raw:{header:e[0],payload:e[1]}}}async function wPt(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function bPt(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function xPt(t){return("0"+t.toString(16)).substr(-2)}function _Pt(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,xPt).join("")}async function CPt(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function EPt(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await CPt(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xm(t,e,r=!1){const n=_Pt();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await uy(t,`${e}-code-verifier`,i);const s=await EPt(n);return[s,n===s?"plain":"s256"]}const kPt=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SPt(t){const e=t.headers.get(oM);if(!e||!e.match(kPt))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function APt(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function TPt(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const IPt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qm(t){if(!IPt.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function H$(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function PPt(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function Gie(t){return JSON.parse(JSON.stringify(t))}const s0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$Pt=[502,503,504];async function Kie(t){var e;if(!vPt(t))throw new aM(s0(t),0);if($Pt.includes(t.status))throw new aM(s0(t),t.status);let r;try{r=await t.json()}catch(s){throw new p0(s0(s),s)}let n;const i=SPt(t);if(i&&i.getTime()>=r2e["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new qie(s0(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Oa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new qie(s0(r),t.status,r.weak_password.reasons);throw new oPt(s0(r),t.status||500,n)}const NPt=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ar(t,e,r,n){var i;const s=Object.assign({},n?.headers);s[oM]||(s[oM]=r2e["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await RPt(t,e,r+a,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function RPt(t,e,r,n,i,s){const o=NPt(e,n,i,s);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new aM(s0(l),0)}if(a.ok||await Kie(a),n?.noResolveJson)return a;try{return await a.json()}catch(l){await Kie(l)}}function Pc(t){var e;let r=null;MPt(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=gPt(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Yie(t){const e=Pc(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ff(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function OPt(t){return{data:t,error:null}}function jPt(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=Sk(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Jie(t){return t}function MPt(t){return t.access_token&&t.refresh_token&&t.expires_in}const V$=["global","local","others"];class DPt{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=s2e(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=V$[0]){if(V$.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${V$.join(", ")}`);try{return await ar(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ar(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ff})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Sk(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await ar(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:jPt,redirectTo:r?.redirectTo})}catch(r){if(Zt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ar(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ff})}catch(r){if(Zt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ar(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Jie});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(m.split(";")[1].split("=")[1]);c[`${w}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Zt(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Qm(e);try{return await ar(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ff})}catch(r){if(Zt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Qm(e);try{return await ar(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ff})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Qm(e);try{return await ar(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ff})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Qm(e.userId);try{const{data:r,error:n}=await ar(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Qm(e.userId),Qm(e.id);try{return{data:await ar(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ar(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Jie});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(m.split(";")[1].split("=")[1]);c[`${w}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Zt(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await ar(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ar(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ar(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Zt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ar(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Zt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ar(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Zt(r))return{data:null,error:r};throw r}}}function Xie(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Wd={debug:!!(globalThis&&i2e()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class o2e extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class FPt extends o2e{}async function LPt(t,e,r){Wd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;e>0&&setTimeout(()=>{n.abort(),Wd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve();try{return await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Wd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Wd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Wd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new FPt(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Wd.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(i){if(i?.name==="AbortError"&&e>0)return Wd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire timeout, recovering by stealing lock",t),console.warn(`@supabase/gotrue-js: Lock "${t}" was not released within ${e}ms. This may indicate an orphaned lock from a component unmount (e.g., React Strict Mode). Forcefully acquiring the lock to recover.`),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,{mode:"exclusive",steal:!0},async s=>{if(s){Wd.debug&&console.log("@supabase/gotrue-js: navigatorLock: recovered (stolen)",t,s.name);try{return await r()}finally{Wd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released (stolen)",t,s.name)}}else return console.warn("@supabase/gotrue-js: Navigator LockManager returned null lock even with steal: true"),await r()}));throw i}}function UPt(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function a2e(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function BPt(t){return parseInt(t,16)}function zPt(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function qPt(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=a2e(t.address),m=u?`${u}://${n}`:n,v=t.statement?`${t.statement}
`:"",w=`${m} wants you to sign in with your Ethereum account:
${p}

${v}`;let b=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let E=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);E+=`
- ${_}`}b+=E}return`${w}
${b}`}class ki extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class XC extends ki{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function WPt({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ki({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ki({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ki({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ki({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ki({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ki({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ki({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ki({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(l2e(o)){if(s.rp.id!==o)return new ki({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ki({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new ki({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ki({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ki({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function HPt({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ki({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ki({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(l2e(n)){if(r.rpId!==n)return new ki({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ki({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ki({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ki({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class VPt{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const GPt=new VPt;function KPt(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Sk(t,["challenge","user","excludeCredentials"]),s=Vy(e).buffer,o=Object.assign(Object.assign({},r),{id:Vy(r.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Vy(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function YPt(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Sk(t,["challenge","allowCredentials"]),i=Vy(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Vy(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function JPt(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:A0(new Uint8Array(t.response.attestationObject)),clientDataJSON:A0(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function XPt(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:A0(new Uint8Array(i.authenticatorData)),clientDataJSON:A0(new Uint8Array(i.clientDataJSON)),signature:A0(new Uint8Array(i.signature)),userHandle:i.userHandle?A0(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function l2e(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Qie(){var t,e;return!!(Is()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function QPt(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new XC("Browser returned unexpected credential type",e)}:{data:null,error:new XC("Empty credential response",e)}}catch(e){return{data:null,error:WPt({error:e,options:t})}}}async function ZPt(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new XC("Browser returned unexpected credential type",e)}:{data:null,error:new XC("Empty credential response",e)}}catch(e){return{data:null,error:HPt({error:e,options:t})}}}const e$t={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},t$t={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function QC(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(e(o)){const a=n[s];e(a)?n[s]=QC(a,o):n[s]=QC(o)}else n[s]=o}return n}function r$t(t,e){return QC(e$t,t,e||{})}function n$t(t,e){return QC(t$t,t,e||{})}class i$t{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:l};const c=i??GPt.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;if(!u.name){const h=n;if(h)u.name=`${u.id}:${h}`;else{const p=(await this.client.getUser()).data.user,m=((o=p?.user_metadata)===null||o===void 0?void 0:o.name)||p?.email||p?.id||"User";u.name=`${u.id}:${m}`}}u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=r$t(a.webauthn.credential_options.publicKey,s?.create),{data:h,error:f}=await QPt({publicKey:u,signal:c});return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const u=n$t(a.webauthn.credential_options.publicKey,s?.request),{data:h,error:f}=await ZPt(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(a){return Zt(a)?{data:null,error:a}:{data:null,error:new p0("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new xx("rpId is required for WebAuthn authentication")};try{if(!Qie())return{data:null,error:new p0("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return Zt(o)?{data:null,error:o}:{data:null,error:new p0("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new xx("rpId is required for WebAuthn registration")};try{if(!Qie())return{data:null,error:new p0("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return Zt(o)?{data:null,error:o}:{data:null,error:new p0("Unexpected error in register",o)}}}}UPt();const s$t={url:tPt,storageKey:rPt,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nPt,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:5e3,skipAutoInitialize:!1};async function Zie(t,e,r){return await r()}const Zm={};class _x{get jwks(){var e,r;return(r=(e=Zm[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Zm[this.storageKey]=Object.assign(Object.assign({},Zm[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Zm[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Zm[this.storageKey]=Object.assign(Object.assign({},Zm[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},s$t),e);if(this.storageKey=s.storageKey,this.instanceID=(r=_x.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,_x.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Is()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new DPt({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=s2e(s.fetch),this.lock=s.lock||Zie,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Is()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=LPt:this.lock=Zie,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new i$t(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:i2e()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xie(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Xie(this.memoryStorage)),Is()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}s.skipAutoInitialize||this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${t2e}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Is()&&(r=yPt(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Is()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),lPt(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Zt(r)?this._returnResult({error:r}):this._returnResult({error:new p0("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await ar(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Pc}),{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(Zt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:u,password:h,options:f}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Xm(this.storage,this.storageKey)),s=await ar(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:u,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:m},xform:Pc})}else if("phone"in e){const{phone:u,password:h,options:f}=e;s=await ar(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=f?.data)!==null&&n!==void 0?n:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Pc})}else throw new b4("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return await As(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(await As(this.storage,`${this.storageKey}-code-verifier`),Zt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:a}=e;r=await ar(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Yie})}else if("phone"in e){const{phone:s,password:o,options:a}=e;r=await ar(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Yie})}else throw new b4("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new Jm;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Zt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,o,a,l,c,u,h,f;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:v,wallet:w,statement:b,options:E}=e;let _;if(Is())if(typeof w=="object")_=w;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")_=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=w}const A=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),C=await _.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=a2e(C[0]);let P=(n=E?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!P){const N=await _.request({method:"eth_chainId"});P=BPt(N)}const F={domain:A.host,address:k,statement:b,uri:A.href,version:"1",chainId:P,nonce:(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=E?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=E?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=qPt(F),m=await _.request({method:"personal_sign",params:[zPt(p),k]})}try{const{data:v,error:w}=await ar(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Pc});if(w)throw w;if(!v||!v.session||!v.user){const b=new Jm;return this._returnResult({data:{user:null,session:null},error:b})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:w})}catch(v){if(Zt(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var r,n,i,s,o,a,l,c,u,h,f,p;let m,v;if("message"in e)m=e.message,v=e.signature;else{const{chain:w,wallet:b,statement:E,options:_}=e;let A;if(Is())if(typeof b=="object")A=b;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))A=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=b}const C=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const k=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),E?{statement:E}:null));let P;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")P=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)P=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)m=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),v=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${C.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(n=_?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=_?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((a=_?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(u=_?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const k=await A.signMessage(new TextEncoder().encode(m),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:w,error:b}=await ar(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:A0(v)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Pc});if(b)throw b;if(!w||!w.session||!w.user){const E=new Jm;return this._returnResult({data:{user:null,session:null},error:E})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(Zt(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const r=await Xp(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new cPt;const{data:s,error:o}=await ar(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Pc});if(await As(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const a=new Jm;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await As(this.storage,`${this.storageKey}-code-verifier`),Zt(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,a=await ar(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Pc}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Jm;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Zt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Xm(this.storage,this.storageKey));const{error:h}=await ar(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await ar(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new b4("You must provide either an email or phone number.")}catch(a){if(await As(this.storage,`${this.storageKey}-code-verifier`),Zt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await ar(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Pc});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(Zt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Xm(this.storage,this.storageKey));const c=await ar(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:OPt});return!((s=c.data)===null||s===void 0)&&s.url&&Is()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await As(this.storage,`${this.storageKey}-code-verifier`),Zt(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Oa;const{error:i}=await ar(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Zt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await ar(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:a}=await ar(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:a})}throw new b4("You must provide either an email or phone number and a type")}catch(r){if(Zt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Xp(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<z$:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Xp(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=H$()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=PPt(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ar(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ff}):await this._useSession(async r=>{var n,i,s;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Oa}:await ar(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ff})})}catch(r){if(Zt(r))return q$(r)&&(await this._removeSession(),await As(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Oa;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Xm(this.storage,this.storageKey));const{data:c,error:u}=await ar(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ff});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await As(this.storage,`${this.storageKey}-code-verifier`),Zt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Oa;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=_4(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Zt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Oa;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Zt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Is())throw new x4("No browser detected.");if(e.error||e.error_description||e.error_code)throw new x4(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zie("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new x4("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new zie("No code detected.");const{data:E,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!s||!a||!o||!c)throw new x4("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const p=f-u;p*1e3<=cy&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const m=f-h;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,u);const{data:v,error:w}=await this._getUser(s);if(w)throw w;const b={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(n){if(Zt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Xp(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s&&!q$(s))return this._returnResult({error:s});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(aPt(a)&&(a.status===404||a.status===401||a.status===403)||q$(a)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await As(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=mPt(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Xm(this.storage,this.storageKey,!0));try{return await ar(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await As(this.storage,`${this.storageKey}-code-verifier`),Zt(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Zt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,l,c,u;const{data:h,error:f}=s;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ar(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Is()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Zt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,h=await ar(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Pc}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Jm}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(i){if(await As(this.storage,`${this.storageKey}-code-verifier`),Zt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await ar(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Zt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await bPt(async i=>(i>0&&await wPt(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ar(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pc})),(i,s)=>{const o=200*Math.pow(2,i);return s&&W$(s)&&Date.now()+o-n<cy})}catch(n){if(this._debug(r,"error",n),Zt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Is()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Xp(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Xp(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await uy(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:H$()}else if(i&&!i.user&&!i.user){const o=await Xp(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await As(this.storage,this.storageKey+"-user"),await uy(this.storage,this.storageKey,i)):i.user=H$()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<z$;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${z$}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),W$(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Oa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ik;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Oa;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Zt(s)){const o={data:null,error:s};return W$(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await As(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await uy(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=Gie(i);await uy(this.storage,this.storageKey,s)}else{const i=Gie(r);await uy(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await As(this.storage,this.storageKey),await As(this.storage,this.storageKey+"-code-verifier"),await As(this.storage,this.storageKey+"-user"),this.userStorage&&await As(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Is()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),cy);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/cy);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${cy}ms, refresh threshold is ${sM} ticks`),i<=sM&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof o2e)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Is()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Xm(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await ar(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Zt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await ar(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Zt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?JPt(e.webauthn.credential_response):XPt(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await ar(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(Zt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=await ar(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:KPt(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:YPt(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Zt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,i,s;if(e)try{const{payload:p}=_4(e);let m=null;p.aal&&(m=p.aal);let v=m;const{data:{user:w},error:b}=await this.getUser(e);if(b)return this._returnResult({data:null,error:b});((n=(r=w?.factors)===null||r===void 0?void 0:r.filter(A=>A.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(v="aal2");const _=p.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:_},error:null}}catch(p){if(Zt(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=_4(o.access_token);let c=null;l.aal&&(c=l.aal);let u=c;((s=(i=o.user.factors)===null||i===void 0?void 0:i.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(u="aal2");const f=l.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await ar(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Oa})})}catch(r){if(Zt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Oa});const o=await ar(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Is()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Zt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Oa});const o=await ar(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Is()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Zt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await ar(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Oa})})}catch(e){if(Zt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await ar(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Oa})})}catch(r){if(Zt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+sPt>i)return n;const{data:s,error:o}=await ar(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return this._returnResult({data:null,error:m});n=p.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:l}}=_4(n);r?.allowExpired||APt(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:i,signature:o},error:null}}const u=TPt(i.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,pPt(`${a}.${l}`)))throw new lM("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(Zt(n))return this._returnResult({data:null,error:n});throw n}}}_x.nextInstanceID={};const o$t=_x,a$t="2.98.0";let ab="";typeof Deno<"u"?ab="deno":typeof document<"u"?ab="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ab="react-native":ab="node";const l$t={"X-Client-Info":`supabase-js-${ab}/${a$t}`},c$t={headers:l$t},u$t={schema:"public"},d$t={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},h$t={};function Cx(t){"@babel/helpers - typeof";return Cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cx(t)}function f$t(t,e){if(Cx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p$t(t){var e=f$t(t,"string");return Cx(e)=="symbol"?e:e+""}function g$t(t,e,r){return(e=p$t(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ese(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ese(Object(r),!0).forEach(function(n){g$t(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ese(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const m$t=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),y$t=()=>Headers,v$t=(t,e,r)=>{const n=m$t(r),i=y$t();return async(s,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new i(o?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,ii(ii({},o),{},{headers:c}))}};function w$t(t){return t.endsWith("/")?t:t+"/"}function b$t(t,e){var r,n;const{db:i,auth:s,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,f={db:ii(ii({},l),i),auth:ii(ii({},c),s),realtime:ii(ii({},u),o),storage:{},global:ii(ii(ii({},h),a),{},{headers:ii(ii({},(r=h?.headers)!==null&&r!==void 0?r:{}),(n=a?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function x$t(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(w$t(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var _$t=class extends o$t{constructor(t){super(t)}},C$t=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const s=x$t(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,a={db:u$t,realtime:h$t,auth:ii(ii({},d$t),{},{storageKey:o}),global:c$t},l=b$t(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=v$t(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ii({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new aIt(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new ePt(this.storageUrl.href,this.headers,this.fetch,r?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Z7t(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:o,lock:a,debug:l,throwOnError:c},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _$t({url:this.authUrl.href,headers:ii(ii({},f),u),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:a,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new EIt(this.realtimeUrl.href,ii(ii({},t),{},{params:ii(ii({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const c2e=(t,e,r)=>new C$t(t,e,r);function E$t(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}E$t()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const u2e="https://fkzxgojujrmfqeivpjcv.supabase.co",d2e="sb_publishable_Z_5dA5N-HSJqyn-Y7-8Hog_yD1QphHc",h2e=c2e(u2e,d2e);c2e(u2e,d2e,{accessToken:async()=>localStorage.getItem("sb_ext_jwt")??null});async function k$t(t,e,r){const n=(e-1)*r,i=n+r-1,{data:s,count:o,error:a}=await h2e.from("leaderboard_entries").select("*",{count:"exact"}).eq("network",t).order("rank",{ascending:!0}).range(n,i);if(a)throw a;return{entries:(s||[]).map(c=>({address:String(c.address),rank:Number(c.rank),rankChange:Number(c.rank_change),username:c.username?String(c.username):void 0,avatar:c.avatar_url?String(c.avatar_url):void 0,balance:Number(c.balance),totalPnL:Number(c.pnl),totalPnLPercent:Number(c.pnl_percent),volume:Number(c.volume),openPositions:Number(c.open_positions),trades:Number(c.filled_positions),fees_collected:Number(c.fees_collected)})),total:o||0}}async function S$t(t,e){const{data:r,error:n}=await h2e.from("leaderboard_entries").select("rank").eq("network",t).ilike("address",e).single();if(n)throw n;return r?.rank}const ey=t=>t.trim().toLowerCase();function A$t(t){return Number.isFinite(t)?t<.01?t.toFixed(6).replace(/\.?0+$/,""):t<1e3?t.toFixed(2).replace(/\.?0+$/,""):t.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2}):"0"}function f2e(){const{theme:t}=Dr(),{address:e}=Pn(),{network:r}=fn(),n=sv(),[i,s]=x.useState(1),[o,a]=x.useState(25),[l,c]=x.useState(""),[u,h]=x.useState(""),[f,p]=x.useState(null),[m,v]=x.useState(""),{data:w,isPending:b,error:E}=fs({queryKey:["leaderboard",r,i,o],queryFn:()=>k$t(r,i,o),staleTime:1e3*60*5}),{data:_}=fs(n_t(D0,r)),A=x.useRef(new Map),C=u?ey(u):"",k=w?Math.ceil(w.total/o):1,P=R4t(_),N=parseFloat(N4t(P.referralStates))+parseFloat(P.builderRewards),$=G=>W=>{const j=ey(G);if(!W){A.current.delete(j);return}W.offsetParent!==null&&A.current.set(j,W)},U=G=>{const W=ey(G),j=A.current.get(W);return j?(j.scrollIntoView({behavior:"smooth",block:"center"}),!0):!1},O=G=>!!e&&G.address.toLowerCase()===e.toLowerCase(),D=G=>!!C&&G.address.toLowerCase()===C,T=G=>{c(G.target.value),m&&v("")},I=async()=>{const G=ey(l);if(!G||!G.startsWith("0x")||G.length<6){v("Enter a valid 0x address."),n.error("Enter a valid 0x address.");return}try{const W=await S$t(r,G);if(!W)throw new Error("Not found");const j=Math.ceil(W/o);v(""),p(W),s(j),h(G)}catch{h(""),p(null),v("Address not found in leaderboard."),n.error("Address not found in leaderboard.")}},R=()=>{c(""),h(""),p(null),v(""),s(1)},L=G=>{const W=Number(G);a(W),s(u&&f?Math.ceil(f/W):1)},B=()=>n.success("Address Copied to Clipboard!");x.useEffect(()=>{if(!u||!w?.entries?.length)return;const G=ey(u);if(!w.entries.some(Z=>ey(Z.address)===G))return;let j=0,Y=0,Q=0;const z=()=>{Q+=1,!U(G)&&Q<10&&(j=requestAnimationFrame(()=>{Y=requestAnimationFrame(z)}))};return j=requestAnimationFrame(()=>{Y=requestAnimationFrame(z)}),()=>{j&&cancelAnimationFrame(j),Y&&cancelAnimationFrame(Y)}},[u,i,o,w?.entries]);const q=G=>G===0?d.jsx("span",{className:"text-muted",children:""}):G>0?d.jsxs("span",{className:"text-green-400 flex justify-center items-center gap-1",children:[d.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M12 5l-7 7h4v5h6v-5h4l-7-7z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),G]}):d.jsxs("span",{className:"text-red-400 flex justify-center items-center gap-1",children:[d.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M12 19l7-7h-4V7h-6v5H5l7 7z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),Math.abs(G)]});return b?d.jsx(hs,{children:d.jsx("div",{className:"text-center py-12 text-muted",children:"Loading leaderboard..."})}):E?d.jsx(hs,{children:d.jsx("div",{className:"text-center py-12 text-red-400",children:"Error loading leaderboard"})}):d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("div",{children:d.jsxs("div",{className:"flex flex-row items-center w-full gap-3",children:[d.jsxs(hs,{className:"w-1/5",children:[d.jsx("h2",{children:"Traders referred"}),d.jsx("span",{children:P.nReferrals||0})]}),d.jsxs(hs,{className:"w-1/5",children:[d.jsx("h2",{children:"Rewards Earned"}),d.jsx("span",{children:N||0})]}),d.jsxs(hs,{className:"w-1/5",children:[d.jsx("h2",{children:"Claimable Rewards"}),d.jsx("span",{children:P.unclaimedRewards||0})]})]})}),d.jsxs(hs,{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[d.jsx("h2",{className:"text-2xl font-black text-txt",children:"Leaderboard"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx("input",{value:l,onChange:T,placeholder:"Search address (0x...)",className:`w-60 md:w-96 px-3 py-2 rounded text-xs md:text-sm outline-none transition border focus:ring-2 ${t==="light"?"bg-black/5":"bg-white/5"} ${m?"border-red-500 focus:ring-red-500/40":t==="light"?"border-black/10 focus:ring-[#2BFFB4]/40":"border-white/10 focus:ring-[#2BFFB4]/40"}`}),d.jsx(Gr,{variant:"secondary",className:"text-xs px-3 py-2",onClick:I,disabled:!l.trim(),children:"Search"}),d.jsx(Gr,{variant:"secondary",className:"text-xs px-3 py-2",onClick:R,disabled:!l&&!u,children:"Clear"}),d.jsx("span",{className:"text-xs text-muted ml-2",children:"Show:"}),d.jsx(KC,{value:o,onChange:L,className:`px-2 py-1 rounded border text-sm text-txt ${t=="light"?"bg-black/5 border-black/10":"bg-white/5 border-white/10"}`,optionClassName:`text-txt ${t=="light"?"bg-white/90":"bg-black/90"}`,options:[{value:25},{value:50},{value:100}]})]})]}),d.jsx("div",{className:"hidden md:block overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"border-b border-white/10",children:[d.jsx("th",{className:"text-left py-3 px-4 text-xs font-bold text-muted",children:"Rank"}),d.jsx("th",{className:"text-left py-3 px-4 text-xs font-bold text-muted",children:"Trader"}),d.jsx("th",{className:"text-right py-3 px-4 text-xs font-bold text-muted",children:"Balance"}),d.jsx("th",{className:"text-right py-3 px-4 text-xs font-bold text-muted",children:"PnL"}),d.jsx("th",{className:"text-right py-3 px-4 text-xs font-bold text-muted",children:"PnL %"}),d.jsx("th",{className:"text-right py-3 px-4 text-xs font-bold text-muted",children:"Volume"}),d.jsx("th",{className:"text-right py-3 px-4 text-xs font-bold text-muted",children:"Open Positions"}),d.jsx("th",{className:"text-right py-3 px-4 text-xs font-bold text-muted",children:"Filled Positions"}),d.jsx("th",{className:"text-right py-3 px-4 text-xs font-bold text-muted",children:"Fees Collected"}),d.jsx("th",{className:"text-center py-3 px-4 text-xs font-bold text-muted",children:"Change"}),d.jsx("th",{className:"text-center py-3 px-4 text-xs font-bold text-muted",children:"Action"})]})}),d.jsx("tbody",{children:w?.entries?.map(G=>d.jsxs("tr",{ref:$(G.address),className:`border-b border-white/5 hover:bg-white/5 transition
                    ${O(G)?"bg-[#2BFFB4]/10 border-[#2BFFB4]/30":""}
                    ${D(G)?"ring-2 ring-buy-400/60 bg-buy-400/10":""}
                  `,children:[d.jsx("td",{className:"py-3 px-4",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-sm font-bold text-txt",children:["#",G.rank]}),G.rank<=3&&d.jsx("span",{className:"text-lg",children:G.rank===1?"":G.rank===2?"":""})]})}),d.jsx("td",{className:"py-3 px-4",children:d.jsxs("div",{className:"flex items-center gap-2",children:[G.avatar?d.jsx("img",{src:G.avatar,alt:"",className:"w-8 h-8 rounded-full"}):d.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center text-xs font-bold",children:G.username?.[0]||G.address[2].toUpperCase()}),d.jsx("div",{children:d.jsxs("div",{className:"flex flex-row gap-2 items-center text-sm font-semibold text-txt",children:[G.username||Zf(G.address),d.jsx(_Et,{text:G.address,onCopy:B,children:d.jsx(Ove,{})})]})})]})}),d.jsx("td",{className:"py-3 px-4 text-right",children:d.jsx("span",{className:"text-sm text-txt",children:Hn(G.balance)})}),d.jsx("td",{className:"py-3 px-4 text-right",children:d.jsxs("span",{className:`text-sm font-semibold ${G.totalPnL>=0?"text-green-400":"text-red-400"}`,children:[G.totalPnL>=0?"+":"",Hn(G.totalPnL)]})}),d.jsx("td",{className:"py-3 px-4 text-right",children:d.jsx("span",{className:`text-sm font-semibold ${G.totalPnLPercent>=0?"text-green-400":"text-red-400"}`,children:S0(G.totalPnLPercent)})}),d.jsx("td",{className:"py-3 px-4 text-right",children:d.jsx("span",{className:"text-sm text-txt",children:Hn(G.volume)})}),d.jsx("td",{className:"py-3 px-4 text-right",children:d.jsx("span",{className:"text-sm text-txt",children:G.openPositions})}),d.jsx("td",{className:"py-3 px-4 text-right",children:d.jsx("span",{className:"text-sm text-txt",children:G.trades})}),d.jsx("td",{className:"py-3 px-4 text-right",children:d.jsx("span",{className:"text-sm text-txt",children:A$t(G.fees_collected)})}),d.jsx("td",{className:"py-3 px-4 text-center",children:q(G.rankChange)}),d.jsx("td",{className:"py-3 px-4 text-center",children:d.jsx(Gr,{variant:"secondary",className:"text-xs px-3 py-1",onClick:()=>{alert("Copy trading coming soon!")},children:"Follow"})})]},G.address))})]})}),d.jsx("div",{className:"md:hidden space-y-3",children:w?.entries.map(G=>d.jsxs("div",{ref:$(G.address),className:`p-4 rounded-lg border
                ${O(G)?"bg-[#2BFFB4]/10 border-[#2BFFB4]/30":""}
                ${D(G)?"ring-2 ring-buy-400/60 bg-buy-400/10":""}
              `,children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-lg font-bold text-txt",children:["#",G.rank]}),G.rank<=3&&d.jsx("span",{className:"text-xl",children:G.rank===1?"":G.rank===2?"":""}),d.jsx("div",{className:"text-xs text-muted",children:q(G.rankChange)})]}),d.jsx("div",{className:`text-sm font-bold ${G.totalPnLPercent>=0?"text-green-400":"text-red-400"}`,children:S0(G.totalPnLPercent)})]}),d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[G.avatar?d.jsx("img",{src:G.avatar,alt:"",className:"w-8 h-8 rounded-full"}):d.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center text-xs font-bold",children:G.username?.[0]||G.address[2].toUpperCase()}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-sm font-semibold text-txt",children:G.username||Zf(G.address)}),d.jsx("div",{className:"text-xs text-muted",children:Zf(G.address)})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-muted",children:"PnL"}),d.jsxs("div",{className:`font-semibold ${G.totalPnL>=0?"text-green-400":"text-red-400"}`,children:[G.totalPnL>=0?"+":"",Hn(G.totalPnL)]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-muted",children:"Volume"}),d.jsx("div",{className:"font-semibold text-txt",children:Hn(G.volume)})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-muted",children:"Balance"}),d.jsx("div",{className:"font-semibold text-txt",children:G.balance})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-muted",children:"Open Positions"}),d.jsx("div",{className:"font-semibold text-txt",children:G.openPositions})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-muted",children:"Filled Positions"}),d.jsx("div",{className:"font-semibold text-txt",children:G.trades})]})]}),d.jsx("div",{className:"mt-3",children:d.jsx(Gr,{variant:"secondary",className:"w-full text-xs py-2",onClick:()=>{alert("Copy trading coming soon!")},children:"Follow Strategy"})})]},G.address))}),d.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[d.jsxs("div",{className:"text-sm text-muted",children:["Showing ",(i-1)*o+1," - ",Math.min(i*o,w?.total||0)," of ",w?.total||0," traders"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Gr,{variant:"secondary",onClick:()=>s(G=>Math.max(1,G-1)),disabled:i===1,className:"px-3 py-1 text-xs",children:"Previous"}),d.jsxs("span",{className:"text-sm text-muted",children:["Page ",i," of ",k]}),d.jsx(Gr,{variant:"secondary",onClick:()=>s(G=>Math.min(k,G+1)),disabled:i>=k,className:"px-3 py-1 text-xs",children:"Next"})]})]})]})]})}const XU=[{rank:1,address:"0x1234567890123456789012345678901234567890",username:"CryptoWhale",totalPnL:15234.56,totalPnLPercent:152.35,volume:125e4,openPositions:3,rankChange:0,trades:145,winRate:68.5},{rank:2,address:"0x2345678901234567890123456789012345678901",username:"TradingPro",totalPnL:12345.67,totalPnLPercent:123.46,volume:98e4,openPositions:5,rankChange:1,trades:132,winRate:65.2},{rank:3,address:"0x3456789012345678901234567890123456789012",username:"DeFiMaster",totalPnL:9876.54,totalPnLPercent:98.77,volume:875e3,openPositions:2,rankChange:-1,trades:98,winRate:72.4},{rank:4,address:"0x4567890123456789012345678901234567890123",username:"BullRunner",totalPnL:8765.43,totalPnLPercent:87.65,volume:765e3,openPositions:4,rankChange:2,trades:112,winRate:61.8},{rank:5,address:"0x5678901234567890123456789012345678901234",username:"MoonTrader",totalPnL:7654.32,totalPnLPercent:76.54,volume:654e3,openPositions:1,rankChange:0,trades:87,winRate:69.3}];for(let t=6;t<=100;t++)XU.push({rank:t,address:`0x${t.toString().padStart(40,"0")}`,username:`Trader${t}`,totalPnL:Math.random()*5e3-2e3,totalPnLPercent:Math.random()*50-20,volume:Math.random()*5e5,openPositions:Math.floor(Math.random()*5),rankChange:Math.floor(Math.random()*5)-2,trades:Math.floor(Math.random()*100)+10,winRate:Math.random()*40+40});async function T$t(t=1,e=25){await new Promise(s=>setTimeout(s,300));const r=(t-1)*e,n=r+e,i=[...XU].sort((s,o)=>o.totalPnLPercent-s.totalPnLPercent);return i.forEach((s,o)=>{s.rank=o+1}),{entries:i.slice(r,n),total:i.length}}async function I$t(t){await new Promise(n=>setTimeout(n,200));const e=[...XU].sort((n,i)=>i.totalPnLPercent-n.totalPnLPercent),r=e.find(n=>n.address.toLowerCase()===t.toLowerCase());return r?e.indexOf(r)+1:null}function P$t(){const{address:t}=Pn(),{positions:e}=dc(),{data:r}=fs({queryKey:["userRank",t],queryFn:()=>t?I$t(t):null,enabled:!!t}),{data:n}=fs({queryKey:["leaderboard",1,100],queryFn:()=>T$t(1,100),enabled:!!t}),i=n?.entries.find(h=>t&&h.address.toLowerCase()===t.toLowerCase()),s=e.filter(h=>h.id&&h.size>0),o=s.reduce((h,f)=>h+Math.abs(f.size),0),a=1e4,l=i?a+i.totalPnL:a,c=i?i.totalPnLPercent:0,u=i?i.totalPnL:0;return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(hs,{className:"space-y-4",children:[d.jsx("h2",{className:"text-2xl font-black text-txt",children:"My Dashboard"}),t&&d.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10",children:[d.jsx("div",{className:"text-xs text-muted mb-1",children:"Wallet Address"}),d.jsx("div",{className:"text-sm text-txt",children:Zf(t,8,6)})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10",children:[d.jsx("div",{className:"text-xs text-muted mb-1",children:"Current Rank"}),d.jsx("div",{className:"text-2xl font-black text-txt",children:r?`#${r}`:""}),r&&r<=10&&d.jsx("div",{className:"text-xs text-green-400 mt-1",children:" Top 10!"})]}),d.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10",children:[d.jsx("div",{className:"text-xs text-muted mb-1",children:"Total Return"}),d.jsx("div",{className:`text-2xl font-black ${c>=0?"text-green-400":"text-red-400"}`,children:S0(c)}),d.jsxs("div",{className:"text-xs text-muted mt-1",children:[u>=0?"+":"",Hn(u)," USDC"]})]}),d.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10",children:[d.jsx("div",{className:"text-xs text-muted mb-1",children:"Current Balance"}),d.jsx("div",{className:"text-2xl font-black text-txt",children:Hn(l)}),d.jsxs("div",{className:"text-xs text-muted mt-1",children:["Starting: ",Hn(a)," USDC"]})]}),d.jsxs("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10",children:[d.jsx("div",{className:"text-xs text-muted mb-1",children:"Total Volume"}),d.jsx("div",{className:"text-2xl font-black text-txt",children:Hn(i?i.volume:0)}),d.jsxs("div",{className:"text-xs text-muted mt-1",children:[i?.trades||0," trades"]})]})]})]}),d.jsxs(hs,{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-bold text-txt",children:"Open Positions"}),s.length===0?d.jsx("div",{className:"text-center py-8 text-muted",children:"No open positions"}):d.jsx("div",{className:"space-y-2",children:s.map(h=>d.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold text-txt",children:h.market}),d.jsxs("div",{className:"text-xs text-muted",children:[h.side,"  ",Hn(Math.abs(h.size))," USDC  ",h.leverage,"x"]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:`text-sm font-semibold ${h.unrealizedPnl>=0?"text-green-400":"text-red-400"}`,children:[h.unrealizedPnl>=0?"+":"",Hn(h.unrealizedPnl)]}),d.jsx("div",{className:"text-xs text-muted",children:"Unrealized"})]})]},h.id))})]}),d.jsxs(hs,{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-bold text-txt",children:"Risk Metrics"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10",children:[d.jsx("div",{className:"text-xs text-muted mb-1",children:"Total Exposure"}),d.jsx("div",{className:"text-lg font-semibold text-txt",children:Hn(o)})]}),d.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10",children:[d.jsx("div",{className:"text-xs text-muted mb-1",children:"Open Positions"}),d.jsx("div",{className:"text-lg font-semibold text-txt",children:s.length})]}),d.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10",children:[d.jsx("div",{className:"text-xs text-muted mb-1",children:"Win Rate"}),d.jsx("div",{className:"text-lg font-semibold text-txt",children:i?`${i.winRate.toFixed(1)}%`:""})]})]})]}),d.jsxs(hs,{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-bold text-txt",children:"Trade History"}),d.jsx("div",{className:"",children:d.jsx(Jj,{viewMode:"leaderboard"})})]})]})}const $$t=[{rank:1,title:" First Place",rewards:[{type:"Cash Prize",amount:"$10,000 USDC"},{type:"Funded Account",amount:"$50,000 Prop Firm Account"},{type:"Bonus",amount:"Premium Trading Tools Access"}],color:"from-yellow-500/20 to-yellow-600/10",borderColor:"border-yellow-500/30"},{rank:2,title:" Second Place",rewards:[{type:"Cash Prize",amount:"$5,000 USDC"},{type:"Funded Account",amount:"$25,000 Prop Firm Account"},{type:"Bonus",amount:"Advanced Trading Tools Access"}],color:"from-gray-400/20 to-gray-500/10",borderColor:"border-gray-400/30"},{rank:3,title:" Third Place",rewards:[{type:"Cash Prize",amount:"$2,500 USDC"},{type:"Funded Account",amount:"$10,000 Prop Firm Account"},{type:"Bonus",amount:"Standard Trading Tools Access"}],color:"from-orange-600/20 to-orange-700/10",borderColor:"border-orange-600/30"}],N$t=[{task:"First Deposit",reward:"100 Competition Points"},{task:"First Options Trade",reward:"50 Competition Points"},{task:"Reach Top 100",reward:"Exclusive Discord Role"},{task:"Complete 100 Trades",reward:"Trading Badge NFT"},{task:"Weekly Top Performer",reward:"$500 Bonus Prize"}];function tse(){return d.jsxs(hs,{className:"space-y-6",children:[d.jsx("h2",{className:"text-2xl font-black text-txt",children:"Prizes & Rewards"}),d.jsxs("section",{children:[d.jsx("h3",{className:"text-lg font-bold text-txt mb-4",children:"Top 3 Winners"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:$$t.map(t=>d.jsxs("div",{className:`rounded-lg border p-4 bg-gradient-to-br ${t.color} ${t.borderColor}`,children:[d.jsx("div",{className:"text-xl font-black text-txt mb-3",children:t.title}),d.jsx("div",{className:"space-y-2",children:t.rewards.map((e,r)=>d.jsxs("div",{className:"text-sm",children:[d.jsx("div",{className:"text-muted text-xs",children:e.type}),d.jsx("div",{className:"text-txt font-semibold",children:e.amount})]},r))})]},t.rank))})]}),d.jsxs("section",{children:[d.jsx("h3",{className:"text-lg font-bold text-txt mb-4",children:"Additional Prizes"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[d.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10",children:[d.jsx("div",{className:"text-sm font-semibold text-txt mb-1",children:"Top 10"}),d.jsx("div",{className:"text-xs text-muted",children:"$1,000 USDC each"})]}),d.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10",children:[d.jsx("div",{className:"text-sm font-semibold text-txt mb-1",children:"Top 25"}),d.jsx("div",{className:"text-xs text-muted",children:"$500 USDC each"})]}),d.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10",children:[d.jsx("div",{className:"text-sm font-semibold text-txt mb-1",children:"Top 50"}),d.jsx("div",{className:"text-xs text-muted",children:"$250 USDC each"})]}),d.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10",children:[d.jsx("div",{className:"text-sm font-semibold text-txt mb-1",children:"Top 100"}),d.jsx("div",{className:"text-xs text-muted",children:"$100 USDC each"})]})]})]}),d.jsxs("section",{children:[d.jsx("h3",{className:"text-lg font-bold text-txt mb-4",children:"Bonus Rewards & Tasks"}),d.jsx("div",{className:"space-y-2",children:N$t.map((t,e)=>d.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/5 border border-white/10",children:[d.jsx("div",{className:"text-sm text-txt font-semibold",children:t.task}),d.jsx("div",{className:"text-xs text-muted",children:t.reward})]},e))})]}),d.jsx("section",{className:"pt-4 border-t border-white/10",children:d.jsxs("div",{className:"text-xs text-muted space-y-1",children:[d.jsxs("p",{children:[d.jsx("span",{className:"font-semibold text-txt",children:"Prize Distribution:"})," Prizes will be distributed within 7 business days after competition ends."]}),d.jsxs("p",{children:[d.jsx("span",{className:"font-semibold text-txt",children:"Eligibility:"})," Participants must maintain a minimum of 10 trades and comply with all competition rules to be eligible for prizes."]})]})})]})}function R$t(){const{isMobile:t}=wo(),{isConnected:e}=Pn(),{theme:r}=Dr(),[n,i]=_5e(),s=n.get("tab"),o=s&&["overview","leaderboard","dashboard","prizes"].includes(s)?s:"overview",a=l=>{i({tab:l})};return d.jsxs("div",{className:`min-h-screen font-mono ${r==="light"?"bg-gradient-to-b from-white to-[#E9E9E9] text-[#323232]":"bg-[#080A0C] text-white"}`,children:[d.jsx("div",{className:"sticky top-0 z-50",children:d.jsx(yk,{})}),d.jsx("div",{className:"px-3 pt-3",children:d.jsx("div",{className:"flex items-center gap-3 mb-3",children:d.jsx(C1,{to:"/",className:`px-3 py-2 rounded-lg text-xs font-semibold border ${r==="light"?"border-[#555] bg-[#FAFAFA] hover:bg-[#f0f0f0] text-[#323232]":"border-white/10 bg-white/5 hover:bg-white/10 text-txt"} transition`,children:" Back to Terminal"})})}),d.jsxs("div",{className:`${t?"px-3":"px-4"} py-4`,children:[d.jsx(K7t,{onViewLeaderboard:()=>a("leaderboard")}),d.jsx("div",{className:"mt-6 border-b border-white/10",children:d.jsx("div",{className:"flex gap-4 overflow-x-auto",children:[{id:"overview",label:"Overview"},{id:"leaderboard",label:"Leaderboard"},{id:"dashboard",label:"My Dashboard"},{id:"prizes",label:"Prizes"}].map(l=>d.jsx("button",{onClick:()=>a(l.id),className:`px-4 py-3 text-sm font-semibold border-b-2 transition-colors whitespace-nowrap ${o===l.id?r==="light"?"border-[#1A996C] text-[#1A996C]":"border-[#2BFFB4] text-[#2BFFB4]":"border-transparent text-muted hover:text-white"}`,children:l.label},l.id))})}),d.jsxs("div",{className:`mt-6 overflow-y-auto [&::-webkit-scrollbar]:w-2\r
                                  [&::-webkit-scrollbar-track]:opacity-0\r
                                  [&::-webkit-scrollbar-thumb]:bg-gray-300\r
                                  dark:[&::-webkit-scrollbar-track]:bg-neutral-700\r
                                  dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500`,style:{height:"calc(100vh - 560px)"},children:[o==="overview"&&d.jsxs("div",{className:"space-y-6",children:[d.jsx(Y7t,{}),d.jsx(tse,{})]}),o==="leaderboard"&&d.jsx(f2e,{}),o==="dashboard"&&d.jsx("div",{children:e?d.jsx(P$t,{}):d.jsx("div",{className:"text-center py-12 text-muted",children:"Please connect your wallet to view your dashboard"})}),o==="prizes"&&d.jsx(tse,{})]})]})]})}function O$t(){const{theme:t}=Dr();return d.jsxs("div",{className:`min-h-screen font-mono ${t==="light"?"bg-gradient-to-b from-white to-[#E9E9E9] text-[#323232]":"bg-[#080A0C] text-white"}`,children:[d.jsx("div",{className:"sticky top-0 z-50",children:d.jsx(yk,{})}),d.jsx("div",{className:"px-3 pt-3",children:d.jsx("div",{className:"flex items-center gap-3 mb-3",children:d.jsx(C1,{to:"/",className:`px-3 py-2 rounded-lg text-xs font-semibold border ${t==="light"?"border-[#555] bg-[#FAFAFA] hover:bg-[#f0f0f0] text-[#323232]":"border-white/10 bg-white/5 hover:bg-white/10 text-txt"} transition`,children:" Back to Terminal"})})}),d.jsx("div",{className:`p-4 overflow-y-auto [&::-webkit-scrollbar]:w-2
                                  [&::-webkit-scrollbar-track]:opacity-0
                                  [&::-webkit-scrollbar-thumb]:${t==="light"?"bg-gray-300":"bg-neutral-500"}
                                  ${t==="light"?"":"dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500"}`,style:{height:"calc(100vh - 129px)"},children:d.jsx(f2e,{})})]})}function j$t(){return d.jsxs("div",{className:"h-screen w-screen font-mono overflow-hidden relative",children:[d.jsx("div",{className:"fixed inset-0 pointer-events-none z-0 opacity-70 animate-drift",style:{backgroundImage:["radial-gradient(1px 1px at 10% 20%, rgba(255,255,255,.10), transparent 55%)","radial-gradient(1px 1px at 80% 40%, rgba(255,255,255,.08), transparent 55%)","radial-gradient(1px 1px at 60% 85%, rgba(255,255,255,.09), transparent 55%)","radial-gradient(1px 1px at 24% 88%, rgba(255,255,255,.10), transparent 55%)"].join(",")}}),d.jsx(jbe,{}),d.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 pointer-events-auto",children:d.jsx(yk,{})}),d.jsx(c7t,{}),d.jsx(KU,{}),d.jsx(P7t,{}),d.jsx(L7t,{}),d.jsx(kTt,{}),d.jsx(Ibe,{})]})}function M$t(){const{isMobile:t}=wo();return d.jsxs(V3e,{children:[d.jsx(C4,{path:"/competition",element:d.jsx(R$t,{})}),d.jsx(C4,{path:"/leaderboard",element:d.jsx(O$t,{})}),d.jsx(C4,{path:"*",element:t?d.jsx(G7t,{}):d.jsx(j$t,{})})]})}function D$t({children:t}){const{theme:e}=Dr();return x.useEffect(()=>{document.body.className=`theme-${e}`,document.documentElement.className=`theme-${e}`},[e]),d.jsx(d.Fragment,{children:t})}const F$t="G-7NK9S3FPVR";function L$t(t){window.gtag&&window.gtag("config",F$t,{page_path:t})}function U$t(){const t=Nh();return x.useEffect(()=>{L$t(t.pathname+t.search)},[t]),null}Yxe.createRoot(document.getElementById("root")).render(d.jsx(x.StrictMode,{children:d.jsx(y5e,{children:d.jsx(WCt,{children:d.jsxs(D$t,{children:[d.jsx(U$t,{}),d.jsx(M$t,{})]})})})}));export{mu as $,PSt as A,et as B,Kkt as C,dp as D,hn as E,mo as F,_k as G,lb as H,Ja as I,pc as J,pd as K,AAt as L,y9t as M,xi as N,bne as O,ho as P,PAt as Q,la as R,MU as S,n4 as T,Fj as U,px as V,h_ as W,jU as X,Zwe as Y,Rwe as Z,bi as _,jCe as a,il as a$,Kwe as a0,Br as a1,i9t as a2,o9t as a3,u9t as a4,f9t as a5,Sn as a6,rbe as a7,Bj as a8,Rkt as a9,a9t as aA,h9t as aB,p9t as aC,g9t as aD,kle as aE,Zb as aF,Iy as aG,dy as aH,pN as aI,Ni as aJ,zw as aK,rg as aL,su as aM,Gpe as aN,utt as aO,htt as aP,ctt as aQ,ltt as aR,yJ as aS,_g as aT,fY as aU,At as aV,Ch as aW,kJe as aX,vWe as aY,VR as aZ,eHe as a_,m9t as aa,ec as ab,vwe as ac,du as ad,kwe as ae,qre as af,cx as ag,LSt as ah,KSt as ai,ms as aj,hAt as ak,Hre as al,JP as am,Vre as an,fSt as ao,hwe as ap,zl as aq,dSt as ar,xwe as as,nbe as at,mn as au,Vi as av,yAt as aw,UAt as ax,RAt as ay,s9t as az,Vl as b,Xa as b$,jat as b0,zOt as b1,BOt as b2,Ket as b3,Fat as b4,Ju as b5,Cg as b6,eL as b7,lc as b8,Yrt as b9,ft as bA,k4e as bB,g4e as bC,tNt as bD,X$t as bE,A1 as bF,Hl as bG,Fx as bH,Ln as bI,oR as bJ,gn as bK,eG as bL,pb as bM,vMe as bN,hRt as bO,Zn as bP,sae as bQ,ps as bR,zt as bS,MN as bT,Zc as bU,jse as bV,Nx as bW,fa as bX,SCe as bY,yN as bZ,Koe as b_,QF as ba,R8 as bb,Z2 as bc,CF as bd,hY as be,zfe as bf,TYe as bg,qf as bh,N8 as bi,Vu as bj,Il as bk,t3 as bl,Hu as bm,hu as bn,cd as bo,Fn as bp,wdt as bq,Mi as br,c4e as bs,gd as bt,oi as bu,Fo as bv,k1 as bw,Gy as bx,Use as by,ioe as bz,gE as c,pp as c0,Gn as c1,va as c2,K9e as c3,Cle as c4,fp as c5,DM as c6,wh as c7,rae as c8,xh as c9,ih as cA,Okt as cB,wbe as cC,$1 as ca,lle as cb,Qoe as cc,eu as cd,BM as ce,U0 as cf,ole as cg,T0 as ch,Ka as ci,aoe as cj,A6e as ck,T1 as cl,OM as cm,Wl as cn,v_ as co,Rae as cp,Mw as cq,ob as cr,Wne as cs,M3 as ct,wAt as cu,VC as cv,ay as cw,mbe as cx,xne as cy,wne as cz,G4e as d,hg as e,Bs as f,TM as g,Ek as h,$x as i,Wwe as j,AHe as k,mE as l,yRt as m,Pre as n,BK as o,G2 as p,xHe as q,Qhe as r,Xi as s,Zhe as t,THe as u,vRt as v,mRt as w,rC as x,bRt as y,wRt as z};
